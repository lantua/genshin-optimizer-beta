{"version":3,"sources":["DataContext.tsx","Data/Artifacts/ArtifactSheet.tsx","ReactHooks/useCharacterReducer.tsx","ReactHooks/useWeapon.tsx","Components/ToggleButton/WeaponToggle.tsx","ReactHooks/useCharSelectionCallback.tsx","Util/CharacterUtil.tsx","Util/SortByFilters.ts","Components/SortByButton.tsx","ReactHooks/useTeamData.tsx","PageCharacter/CharacterCard.tsx","ReactHooks/useCharacter.tsx","Util/CharacterSort.ts","Components/Character/CharacterSelectionModal.tsx","ReactHooks/useCharUIData.tsx","Components/SolidColoredToggleButton.tsx","Components/ToggleButton/ElementToggle.tsx","Components/InfoComponent.tsx","../node_modules/@mui/material/internal/svg-icons/Cancel.js","../node_modules/@mui/material/Chip/chipClasses.js","../node_modules/@mui/material/Chip/Chip.js","../node_modules/@mui/material/CardActionArea/cardActionAreaClasses.js","../node_modules/@mui/material/CardActionArea/CardActionArea.js","PageCharacter/CharacterInventory.tsx","PageCharacter/CharacterDisplay.tsx","PageCharacter/CharacterRouter.tsx"],"names":["DataContext","createContext","artifactSheets","then","imp","default","tr","setKey","strKey","ns","key18","allData","as","mergeData","Object","values","map","s","data","ArtifactSheet","sheet","key","getSlotName","slotKey","getSlotDesc","setEffectDesc","setNum","setEffectDocument","setEffects","document","this","slots","slotIcons","src","name","rarity","allSlotKeys","icons","set","a","undefined","sheets","grouped","entries","forEach","Math","max","push","setToSlots","artifactSetEffect","keys","parseInt","filter","length","useCharacterReducer","characterKey","database","useContext","DatabaseContext","useCallback","action","type","setWeaponLocation","id","character","_getChar","enemyOverride","statKey","value","updateChar","bonusStats","deepClone","team","index","newCharKey","charKey","oldCharKey","oldChar","newChar","t","tChar","c","tind","_","i","useWeapon","weaponID","useState","_getWeapon","weapon","setWeapon","useEffect","followWeapon","WeaponToggle","onChange","props","cb","e","newVal","exclusive","allWeaponTypeKeys","wt","Assets","weaponTypes","size","useCharSelectionCallback","history","useHistory","level","ascension","hitMode","reactionMode","equippedArtifacts","objectKeyMap","equippedWeapon","conditional","buildSettings","initialBuildSettings","talent","auto","skill","burst","infusionAura","constellation","compareData","CharacterSheet","get","characterSheet","defaultInitialWeapon","weaponTypeKey","weaponId","createWeapon","sortFunction","sortby","ascending","configs","Sort","b","config","aV","getValue","bV","localeCompare","filterOption","diff","tieBreaker","filterFunction","filterOptions","filterConfigs","obj","every","optionKey","optionVal","SortByButton","sortKeys","onChangeAsc","useTranslation","title","i18nKey","selected","disabled","onClick","startIcon","icon","faSortAmountDownAlt","faSortAmountUp","className","useTeamData","mainStatAssumptionLevel","useForceUpdate","dbDirty","setDbDirty","usePromise","getTeamData","teamData","teamBundle","t1","t2","t3","t4","followChar","calcData","uiDataForTeam","objectMap","ck","rest","overrideArt","getCharDataBundle","char1DataBundle","Promise","all","databundle","WeaponSheet","weaponSheet","getAllData","artifactSheetsData","artifacts","_getArt","dataObjForArtifact","dataObjForCharacter","dataObjForWeapon","common","CharacterCard","artifactChildren","weaponChildren","characterChildren","onClickHeader","footer","teamDataContext","target","onClickHandler","actionWrapperFunc","children","sx","flexGrow","display","flexDirection","characterDispatch","dataContextObj","fallback","variant","width","height","minHeight","Provider","condition","wrapper","Header","gap","Weapon","ArtifactDisplay","Stats","input","characterEle","charEle","characterLevel","lvl","asc","autoBoost","bonus","skillBoost","burstBoost","tAuto","total","tSkill","tBurst","position","content","left","top","opacity","backgroundImage","bannerImg","backgroundPosition","backgroundSize","flexShrink","maxWidth","xs","lg","alignSelf","zIndex","component","thumbImg","mt","py","pr","label","color","container","spacing","flexWrap","item","textShadow","whiteSpace","ascensionMaxLevel","stars","colored","UIData","useMemo","computeUIData","mainVal","valueString","main","unit","subKey","sub","subVal","levelName","getLevelString","alignContent","img","p","lineHeight","mr","refinement","KeyMap","getAll","k","art","mainStatKey","statkeys","weaponType","stat","val","StatIcon","special","useCharacter","updateCharacter","characterSortKeys","characterSortConfigs","characterSheets","new","characterFilterConfigs","element","elementKey","defaultSortKeys","CharacterSelectionModal","show","onHide","onSelect","newFirst","sortBy","setsortBy","setascending","elementalFilter","setelementalFilter","weaponFilter","setweaponFilter","sortConfigs","characterKeyList","Set","allCharacterKeys","cKey","sort","ModalWrapper","open","onClose","CardDark","CardContent","Grid","ElementToggle","CloseButton","Divider","md","CharacterBtn","UIDataBundle","teammate1","teammate2","teammate3","dataWoArt","useCharUIData","CardActionArea","CardLight","alignItems","Box","pl","Typography","ImgIcon","SqBadge","SolidColoredToggleButton","styled","ToggleButton","shouldForwardProp","prop","theme","baseColor","selectedColor","backgroundColor","palette","contrastText","dark","ToggleButtonGroup","allElements","ele","fontSize","uncoloredEleIcons","InfoComponent","pageKey","text","modalTitle","dbStorage","showInfoModal","setshowInfoModal","Array","isArray","getRandomElementFromArray","displayText","closeModal","infoShown","faQuestionCircle","containerProps","large","createSvgIcon","_jsx","d","getChipUtilityClass","slot","generateUtilityClass","chipClasses","generateUtilityClasses","_excluded","ChipRoot","overridesResolver","styles","ownerState","clickable","onDelete","avatar","capitalize","deleteIcon","root","deletable","deleteIconColor","alpha","primary","_extends","fontFamily","typography","pxToRem","justifyContent","borderRadius","transition","transitions","create","cursor","outline","textDecoration","border","padding","verticalAlign","boxSizing","disabledOpacity","pointerEvents","marginLeft","marginRight","mode","grey","avatarColorPrimary","avatarColorSecondary","secondary","avatarSmall","WebkitTapHighlightColor","margin","focusVisible","selectedOpacity","focusOpacity","userSelect","hoverOpacity","boxShadow","shadows","hover","focus","iconSmall","deleteIconSmall","ChipLabel","overflow","textOverflow","paddingLeft","paddingRight","isDeleteKeyboardEvent","keyboardEvent","Chip","React","inProps","ref","useThemeProps","avatarProp","clickableProp","ComponentProp","deleteIconProp","iconProp","onKeyDown","onKeyUp","other","_objectWithoutPropertiesLoose","chipRef","handleRef","useForkRef","handleDeleteIconClick","event","stopPropagation","small","ButtonBase","classes","composeClasses","useUtilityClasses","moreProps","focusVisibleClassName","disableRipple","customClasses","clsx","CancelIcon","_jsxs","currentTarget","preventDefault","current","blur","getCardActionAreaUtilityClass","cardActionAreaClasses","CardActionAreaRoot","textAlign","focusHighlight","CardActionAreaFocusHighlight","right","bottom","duration","short","initialState","sortType","filterReducer","state","filterInit","initial","CharacterInventory","useReducer","stateDisplatch","newCharacter","setnewCharacter","forceUpdate","ReactGA","pageview","followAnyChar","deleteCharacter","chararcterSheet","i18next","window","confirm","removeChar","editCharacter","charKeyList","_getCharKeys","my","Skeleton","sm","Button","faPlus","px","Link","to","pathname","faCalculator","faLink","faTrash","InfoDisplay","lazy","CharacterDisplayCard","CharacterDisplay","useParams","includes","Suspense","CharDisplayFooter","CharacterRouter","match","useRouteMatch","path"],"mappings":"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","file":"static/js/14.3da417e7.chunk.js","sourcesContent":["import { createContext } from \"react\"\nimport CharacterSheet from \"./Data/Characters/CharacterSheet\"\nimport { UIData } from \"./Formula/uiData\"\nimport { ICachedCharacter } from \"./Types/character_WR\"\nimport { CharacterKey } from \"./Types/consts\"\nimport { ICachedWeapon } from \"./Types/weapon_WR\"\nimport WeaponSheet from \"./Data/Weapons/WeaponSheet\"\nexport type TeamData = Partial<Record<CharacterKey, {\n  target: UIData\n  buffs: Dict<CharacterKey, UIData>\n  character: ICachedCharacter\n  weapon: ICachedWeapon\n  characterSheet: CharacterSheet\n  weaponSheet: WeaponSheet\n}>>\nexport type dataContextObj = {\n  character: ICachedCharacter\n  characterSheet: CharacterSheet\n  data: UIData\n  oldData?: UIData\n  mainStatAssumptionLevel: number\n  teamData: TeamData\n  characterDispatch: (_: any) => void\n}\n\n// If using this context without a Provider, then stuff will crash...\n// In theory, none of the components that uses this context should work without a provider...\nexport const DataContext = createContext({} as dataContextObj)\n","import ImgIcon from \"../../Components/Image/ImgIcon\";\nimport { Translate } from \"../../Components/Translate\";\nimport { mergeData } from \"../../Formula/api\";\nimport { Data } from \"../../Formula/type\";\nimport { allSlotKeys, ArtifactRarity, ArtifactSetKey, SetNum, SlotKey } from \"../../Types/consts\";\nimport { DocumentSection } from \"../../Types/sheet\";\n\n// TODO: remove typecasting once all sheets populated\nconst artifactSheets = import(\".\").then(imp => imp.default)\n\nexport interface IArtifactSheet {\n  name: string, // only to stored the English name for OCR, otherwise, should come from localization pipeline\n  rarity: readonly ArtifactRarity[],\n  icons: Dict<SlotKey, string>,\n  setEffects: Dict<SetNum, SetEffectEntry>\n}\nexport interface SetEffectEntry {\n  document?: DocumentSection[],\n}\n\n\nconst tr = (setKey: string, strKey: string) => <Translate ns={`artifact_${setKey}_gen`} key18={strKey} />\nconst allData = artifactSheets.then(as => mergeData(Object.values(as).map(s => s.data)))\nexport class ArtifactSheet {\n  readonly sheet: IArtifactSheet\n  readonly key: ArtifactSetKey\n  readonly data: Data\n  constructor(setKey: ArtifactSetKey, sheet: IArtifactSheet, data: Data) {\n    this.sheet = sheet\n    this.key = setKey\n    this.data = data\n  }\n\n  get name() { return tr(this.key, \"setName\") }\n  get defIconSrc() {\n    const slotKey = this.slots[0]\n    if (!this.slotIcons[slotKey]) return undefined\n    return this.slotIcons[slotKey]\n  }\n  /**\n   * @deprecated use src directly\n   */\n  get nameWithIcon() {\n    const slotKey = this.slots[0]\n    return <span><ImgIcon src={this.slotIcons[slotKey]} /> {tr(this.key, \"setName\")}</span>\n  }\n\n  //This is only for OCR, because we only scan in english right now.\n  get nameRaw(): string { return this.sheet.name }\n  get rarity(): readonly ArtifactRarity[] { return this.sheet.rarity }\n  get slots(): SlotKey[] {\n    switch (this.key) {\n      // TODO: Prayer sets\n      // case \"PrayersForDestiny\":\n      // case \"PrayersForIllumination\":\n      // case \"PrayersForWisdom\":\n      // case \"PrayersToSpringtime\": return [\"circlet\"]\n      default: return [...allSlotKeys]\n    }\n  }\n  get slotIcons(): Dict<SlotKey, string> { return this.sheet.icons }\n  get setEffects(): Dict<SetNum, SetEffectEntry> { return this.sheet.setEffects }\n  getSlotName = (slotKey: SlotKey) => tr(this.key, `pieces.${slotKey}.name`)\n  getSlotDesc = (slotKey: SlotKey) => tr(this.key, `pieces.${slotKey}.desc`)\n  setEffectDesc = (setNum: SetNum): Displayable => tr(this.key, `setEffects.${setNum}`)\n  setEffectDocument = (setNum: SetNum) => this.sheet.setEffects[setNum]?.document\n\n  static get(set: ArtifactSetKey | undefined): Promise<ArtifactSheet> | undefined { return set ? artifactSheets.then(a => a[set]) : undefined }\n  static get getAll() { return artifactSheets }\n  static get getAllData() { return allData }\n  static setKeysByRarities(sheets: StrictDict<ArtifactSetKey, ArtifactSheet>): Dict<ArtifactRarity, ArtifactSetKey[]> {\n    const grouped: Dict<ArtifactRarity, ArtifactSetKey[]> = {}\n    Object.entries(sheets).forEach(([key, sheet]) => {\n      const rarity = Math.max(...sheet.rarity) as ArtifactRarity\n      if (grouped[rarity]) grouped[rarity]!.push(key)\n      else grouped[rarity] = [key]\n    })\n    return grouped\n  }\n\n  static setEffects(sheets: StrictDict<ArtifactSetKey, ArtifactSheet>, setToSlots: [ArtifactSetKey, number][]) {\n    let artifactSetEffect: [ArtifactSetKey, SetNum[]][] = []\n    setToSlots.forEach(([set, slots]) => {\n      if (!slots) return\n      let setNum = Object.keys(sheets[set]?.setEffects ?? {})\n        .map(setNum => parseInt(setNum) as SetNum)\n        .filter(setNum => setNum <= slots)\n      if (setNum.length)\n        artifactSetEffect.push([set, setNum])\n    })\n    return artifactSetEffect\n  }\n}\n","import { useCallback, useContext } from \"react\";\nimport { DatabaseContext } from \"../Database/Database\";\nimport { ICachedCharacter } from \"../Types/character\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { deepClone } from \"../Util/Util\";\n\ntype characterEquipWeapon = {\n  type: \"weapon\", id: string\n}\ntype characterReducerBonusStatsAction = {\n  type: \"editStats\",\n  statKey: string\n  value: any | undefined\n}\ntype characterReducerenemyOverrideAction = {\n  type: \"enemyOverride\",\n  statKey: string\n  value: any | undefined\n}\ntype characterReducerResetStatsAction = {\n  type: \"resetStats\",\n  statKey: string\n}\ntype characterTeamAction = {\n  type: \"team\",\n  index: number,\n  charKey: CharacterKey | \"\"\n}\nexport type characterReducerAction = characterEquipWeapon | characterReducerBonusStatsAction | characterReducerenemyOverrideAction | characterReducerResetStatsAction | characterTeamAction | Partial<ICachedCharacter>\n\nexport default function useCharacterReducer(characterKey: CharacterKey | \"\") {\n  const database = useContext(DatabaseContext)\n\n  return useCallback((action: characterReducerAction): void => {\n    if (!characterKey) return\n\n    if (\"type\" in action) switch (action.type) {\n      case \"weapon\":\n        database.setWeaponLocation(action.id, characterKey)\n        break\n      case \"enemyOverride\": {\n        const character = database._getChar(characterKey)!\n        const enemyOverride = character.enemyOverride\n        const { statKey, value } = action\n        if (enemyOverride[statKey] === value) break\n        database.updateChar({ ...character, enemyOverride: { ...enemyOverride, [statKey]: value } })\n        break\n      }\n      case \"editStats\": {\n        const character = database._getChar(characterKey)!\n        const { statKey, value } = action\n\n        const bonusStats = deepClone(character.bonusStats)\n\n        if (bonusStats[statKey] === value) break\n        if (!value) delete bonusStats[statKey]\n        else bonusStats[statKey] = value\n\n        database.updateChar({ ...character, bonusStats })\n        break\n      }\n      case \"resetStats\": {\n        const character = database._getChar(characterKey)!\n        const { statKey } = action\n\n        const bonusStats = character.bonusStats\n        delete bonusStats[statKey]\n\n        database.updateChar({ ...character, bonusStats })\n        break\n      }\n      case \"team\": {\n        const character = database._getChar(characterKey)!\n        const { team } = character\n\n        const { index, charKey: newCharKey } = action\n        const oldCharKey = team[index]\n        team[index] = newCharKey\n\n        // move the old char to \"inventory\"\n        if (oldCharKey) {\n          const oldChar = database._getChar(oldCharKey)\n          if (oldChar) database.updateChar({ ...oldChar, team: [\"\", \"\", \"\"] })\n        }\n\n        // unequip new char from its old teammates\n        if (newCharKey) {\n          const newChar = database._getChar(newCharKey)\n          if (newChar) {\n            newChar.team.forEach(t => {\n              if (!t) return\n              const tChar = database._getChar(t)\n              tChar && database.updateChar({ ...tChar, team: tChar.team.map(c => c === newCharKey ? \"\" : c) as ICachedCharacter[\"team\"] })\n            })\n          }\n        }\n\n        // equip new char to new teammates\n        team.forEach((t, tind) => {\n          if (!t) return\n          const newChar = database._getChar(t)\n          if (newChar) database.updateChar({ ...newChar, team: [characterKey, ...team].filter((_, i) => i !== tind + 1) as ICachedCharacter[\"team\"] })\n        })\n\n        // update src character\n        database.updateChar({ ...character, team })\n      }\n    } else\n      database.updateChar({ ...database._getChar(characterKey)!, ...action })\n  }, [characterKey, database])\n\n}\n","import { useContext, useEffect, useState } from \"react\";\nimport { DatabaseContext } from \"../Database/Database\";\n\nexport default function useWeapon(weaponID: string | undefined = \"\") {\n  const database = useContext(DatabaseContext)\n  const [weapon, setWeapon] = useState(database._getWeapon(weaponID))\n  useEffect(() => setWeapon(database._getWeapon(weaponID)), [database, weaponID])\n  useEffect(() =>\n    weaponID ? database.followWeapon(weaponID, setWeapon) : undefined,\n    [weaponID, setWeapon, database])\n  return weapon\n}","import { ToggleButton } from \"@mui/material\";\nimport { useCallback } from \"react\";\nimport Assets from \"../../Assets/Assets\";\nimport { allWeaponTypeKeys, WeaponTypeKey } from \"../../Types/consts\";\nimport ImgIcon from \"../Image/ImgIcon\";\nimport SolidToggleButtonGroup, { SolidToggleButtonGroupProps } from \"../SolidToggleButtonGroup\";\ntype WeaponToggleProps = Omit<SolidToggleButtonGroupProps, \"onChange\" | \"value\"> & {\n  onChange: (value: WeaponTypeKey | \"\") => void\n  value: WeaponTypeKey | \"\"\n}\nexport default function WeaponToggle({ value, onChange, ...props }: WeaponToggleProps) {\n  const cb = useCallback((e, newVal) => onChange(newVal || \"\"), [onChange])\n  return <SolidToggleButtonGroup exclusive onChange={cb} value={value || allWeaponTypeKeys} {...props}>\n    {allWeaponTypeKeys.map(wt => <ToggleButton key={wt} value={wt}>\n      <ImgIcon src={Assets.weaponTypes?.[wt]} size={2} />\n    </ToggleButton>)}\n  </SolidToggleButtonGroup>\n}","import { useCallback, useContext } from \"react\";\nimport { useHistory } from \"react-router\";\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\";\nimport { initialCharacter } from \"../Util/CharacterUtil\";\nimport { DatabaseContext } from \"../Database/Database\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { defaultInitialWeapon } from \"../Util/WeaponUtil\";\n\n/**\n * Basically a history hook to go to the dedicated character page. Will create the character if it doesn't exist.\n * @returns\n */\nexport default function useCharSelectionCallback() {\n  const database = useContext(DatabaseContext)\n  const history = useHistory()\n  const cb = useCallback(\n    async (characterKey: CharacterKey) => {\n      const character = database._getChar(characterKey)\n      // Create a new character + weapon, with linking if char isnt in db.\n      if (!character) {\n        const newChar = initialCharacter(characterKey)\n        database.updateChar(newChar)\n        const characterSheet = await CharacterSheet.get(characterKey)\n        if (!characterSheet) return\n        const weapon = defaultInitialWeapon(characterSheet.weaponTypeKey)\n        const weaponId = database.createWeapon(weapon)\n        database.setWeaponLocation(weaponId, characterKey)\n      }\n      history.push(`/character/${characterKey}`)\n    },\n    [history, database],\n  )\n  return cb\n}\n","import { initialBuildSettings } from \"../PageBuild/BuildSetting\"\nimport { ICachedCharacter } from \"../Types/character_WR\"\nimport { allSlotKeys, CharacterKey } from \"../Types/consts\"\nimport { objectKeyMap } from \"./Util\"\n\nexport function initialCharacter(key: CharacterKey): ICachedCharacter {\n  return {\n    key, // the game character this is based off\n    level: 1,\n    ascension: 0,\n    hitMode: \"avgHit\",\n    reactionMode: \"\",\n    equippedArtifacts: objectKeyMap(allSlotKeys, () => \"\"),\n    equippedWeapon: \"\",\n    conditional: {},\n    bonusStats: {},\n    enemyOverride: {},\n    buildSettings: initialBuildSettings(),\n    talent: {\n      auto: 1,\n      skill: 1,\n      burst: 1,\n    },\n    infusionAura: \"\",\n    constellation: 0,\n    team: [\"\", \"\", \"\"],\n    compareData: false,\n  }\n}\n","type SortConfig<T> = {\n  getValue: (id: T) => number | string\n  tieBreaker?: string\n}\nexport type SortConfigs<Keys extends string, T> = Record<Keys, SortConfig<T>>\n\nexport function sortFunction<Keys extends string, T>(sortby: string, ascending: boolean, configs: SortConfigs<Keys, T>) {\n  function Sort(a: T, b: T, ascending: boolean, config: SortConfig<T>) {\n    const aV = config.getValue(a)\n    const bV = config.getValue(b)\n    let diff = 0\n    if (typeof aV === \"string\" && typeof bV === \"string\")\n      diff = aV.localeCompare(bV)\n    else\n      diff = ((bV as number) - (aV as number))\n    return (ascending ? -1 : 1) * diff\n  }\n  return (a: T, b: T) => {\n    if (!configs[sortby]) return 0\n    const filterOption = configs[sortby]\n    let diff = Sort(a, b, ascending, filterOption)\n    if (!diff && filterOption.tieBreaker && configs[filterOption.tieBreaker])\n      diff = Sort(a, b, ascending, configs[filterOption.tieBreaker])\n    return diff\n  }\n}\n\ntype FilterConfig<T> = (obj: T, filter: any) => boolean\nexport type FilterConfigs<Keys extends string, T> = Record<Keys, FilterConfig<T>>\nexport function filterFunction<Keys extends string, T>(filterOptions: Record<Keys, any>, filterConfigs: FilterConfigs<Keys, T>) {\n  return (obj: T) => Object.entries(filterOptions).every(([optionKey, optionVal]) => filterConfigs[optionKey as any](obj, optionVal))\n}","import { faSortAmountDownAlt, faSortAmountUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Button, ButtonGroup, ButtonGroupProps, MenuItem } from \"@mui/material\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport DropdownButton from \"./DropdownMenu/DropdownButton\";\n\ntype SortByButtonProps = ButtonGroupProps & {\n  sortKeys: string[]\n  value: string\n  onChange: (value: string) => void\n  ascending: boolean\n  onChangeAsc: (value: boolean) => void\n}\n// Assumes that all the sortKeys has corresponding translations in ui.json sortMap\nexport default function SortByButton({ sortKeys, value, onChange, ascending, onChangeAsc, ...props }: SortByButtonProps) {\n  const { t } = useTranslation(\"ui\")\n  return <ButtonGroup {...props} >\n    <DropdownButton title={<Trans t={t} i18nKey=\"sortByFormat\" value={t(`sortMap.${value}`) as any}>Sort By: {{ value: t(`sortMap.${value}`) }}</Trans>}>\n      {sortKeys.map(key =>\n        <MenuItem key={key} selected={value === key} disabled={value === key} onClick={() => onChange(key)}>{t(`sortMap.${key}`) as any}</MenuItem>)}\n    </DropdownButton>\n    <Button onClick={() => onChangeAsc(!ascending)} startIcon={<FontAwesomeIcon icon={ascending ? faSortAmountDownAlt : faSortAmountUp} className=\"fa-fw\" />}>\n      {ascending ? <Trans t={t} i18nKey=\"ascending\" >Ascending</Trans> : <Trans t={t} i18nKey=\"descending\" >Descending</Trans>}\n    </Button>\n  </ButtonGroup>\n}","import { useContext, useEffect } from \"react\";\nimport { ArtifactSheet } from \"../Data/Artifacts/ArtifactSheet\";\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\";\nimport { ArtCharDatabase, DatabaseContext } from \"../Database/Database\";\nimport { TeamData } from \"../DataContext\";\nimport { common } from \"../Formula\";\nimport { dataObjForArtifact, dataObjForCharacter, uiDataForTeam, dataObjForWeapon } from \"../Formula/api\";\nimport { Data } from \"../Formula/type\";\nimport { ICachedArtifact } from \"../Types/artifact_WR\";\nimport { ICachedCharacter } from \"../Types/character_WR\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { ICachedWeapon } from \"../Types/weapon_WR\";\nimport { objectMap } from \"../Util/Util\";\nimport WeaponSheet from \"../Data/Weapons/WeaponSheet\";\nimport useForceUpdate from \"./useForceUpdate\";\nimport usePromise from \"./usePromise\";\n\nexport default function useTeamData(characterKey: CharacterKey | \"\", mainStatAssumptionLevel: number = 0): TeamData | undefined {\n  const database = useContext(DatabaseContext)\n  const [dbDirty, setDbDirty] = useForceUpdate()\n  const { team = [], teamData, teamBundle } = usePromise(getTeamData(database, characterKey, mainStatAssumptionLevel), [dbDirty, characterKey, database]) ?? {}\n  const [t1, t2, t3, t4] = team\n  useEffect(() =>\n    t1 ? database.followChar(t1, setDbDirty) : undefined,\n    [t1, setDbDirty, database])\n  useEffect(() =>\n    t2 ? database.followChar(t2, setDbDirty) : undefined,\n    [t2, setDbDirty, database])\n  useEffect(() =>\n    t3 ? database.followChar(t3, setDbDirty) : undefined,\n    [t3, setDbDirty, database])\n  useEffect(() =>\n    t4 ? database.followChar(t4, setDbDirty) : undefined,\n    [t4, setDbDirty, database])\n  if (!teamData || !teamBundle) return\n  const calcData = uiDataForTeam(teamData, characterKey as CharacterKey)\n  const data = objectMap(calcData, (obj, ck) => {\n    const { data: _, ...rest } = teamBundle[ck]!\n    return { ...obj, ...rest }\n  })\n\n  return data\n}\nexport async function getTeamData(database: ArtCharDatabase, characterKey: CharacterKey | \"\", mainStatAssumptionLevel: number = 0, overrideArt?: ICachedArtifact[]):\n  Promise<{\n    team: CharacterKey[],\n    teamData: Dict<CharacterKey, Data[]>\n    teamBundle: Dict<CharacterKey, CharBundle>\n  } | undefined> {\n  if (!characterKey) return\n  const char1DataBundle = await getCharDataBundle(database, characterKey, mainStatAssumptionLevel, overrideArt)\n  if (!char1DataBundle) return\n  const team: CharacterKey[] = [characterKey]\n  const teamBundle = { [characterKey]: char1DataBundle }\n  const teamData: Dict<CharacterKey, Data[]> = { [characterKey]: char1DataBundle.data }\n\n  await Promise.all(char1DataBundle.character.team.map(async (ck) => {\n    if (!ck) return\n    const databundle = await getCharDataBundle(database, ck)\n    if (!databundle) return\n    team.push(ck)\n    teamBundle[ck] = databundle\n    teamData[ck] = databundle.data\n  }))\n\n  return { team, teamData, teamBundle }\n}\ntype CharBundle = {\n  character: ICachedCharacter,\n  weapon: ICachedWeapon,\n  characterSheet: CharacterSheet,\n  weaponSheet: WeaponSheet,\n  data: Data[]\n}\nasync function getCharDataBundle(database: ArtCharDatabase, characterKey: CharacterKey | \"\", mainStatAssumptionLevel: number = 0, overrideArt?: ICachedArtifact[])\n  : Promise<CharBundle | undefined> {\n  if (!characterKey) return\n  const character = database._getChar(characterKey)\n  if (!character) return\n  const weapon = database._getWeapon(character.equippedWeapon)\n  if (!weapon) return\n  const characterSheet = await CharacterSheet.get(characterKey)\n  const weaponSheet = await WeaponSheet.get(weapon.key)\n  const artifactSheetsData = await ArtifactSheet.getAllData\n  if (!characterSheet || !weaponSheet || !artifactSheetsData) return\n  const artifacts = (overrideArt ?? Object.values(character.equippedArtifacts).map(a => database._getArt(a))).filter(a => a) as ICachedArtifact[]\n  const data = [\n    ...artifacts.map(a => dataObjForArtifact(a, mainStatAssumptionLevel)),\n    dataObjForCharacter(character),\n    characterSheet.data,\n    dataObjForWeapon(weapon),\n    weaponSheet.data,\n    artifactSheetsData,\n    common, // NEED TO PUT THIS AT THE END\n  ]\n  return { character, weapon, characterSheet, weaponSheet, data }\n}\n","import { Box, CardActionArea, CardContent, Chip, Grid, Skeleton, Typography } from '@mui/material';\nimport { Suspense, useCallback, useContext, useMemo } from 'react';\nimport { ArtifactSheet } from '../Data/Artifacts/ArtifactSheet';\nimport CardDark from '../Components/Card/CardDark';\nimport CardLight from '../Components/Card/CardLight';\nimport ConditionalWrapper from '../Components/ConditionalWrapper';\nimport ImgIcon from '../Components/Image/ImgIcon';\nimport SqBadge from '../Components/SqBadge';\nimport { Stars } from '../Components/StarDisplay';\nimport StatIcon from '../Components/StatIcon';\nimport { ascensionMaxLevel } from '../Data/LevelData';\nimport { DatabaseContext } from '../Database/Database';\nimport { DataContext, dataContextObj, TeamData } from '../DataContext';\nimport { uiInput as input } from '../Formula';\nimport { computeUIData, dataObjForWeapon, valueString } from '../Formula/api';\nimport { NumNode } from '../Formula/type';\nimport KeyMap from '../KeyMap';\nimport useCharacterReducer from '../ReactHooks/useCharacterReducer';\nimport usePromise from '../ReactHooks/usePromise';\nimport useTeamData from '../ReactHooks/useTeamData';\nimport { ICachedArtifact } from '../Types/artifact_WR';\nimport { allSlotKeys, CharacterKey, ElementKey, SlotKey } from '../Types/consts';\nimport { ICachedWeapon } from '../Types/weapon_WR';\nimport WeaponSheet from '../Data/Weapons/WeaponSheet';\n\ntype CharacterCardProps = {\n  characterKey: CharacterKey | \"\",\n  onClick?: (characterKey: CharacterKey) => void,\n  onClickHeader?: (characterKey: CharacterKey) => void,\n  artifactChildren?: Displayable,\n  weaponChildren?: Displayable,\n  characterChildren?: Displayable,\n  footer?: Displayable,\n}\nexport default function CharacterCard({ characterKey, artifactChildren, weaponChildren, characterChildren, onClick, onClickHeader, footer }: CharacterCardProps) {\n  const { teamData: teamDataContext } = useContext(DataContext)\n  const teamData = useTeamData(teamDataContext ? \"\" : characterKey) ?? (teamDataContext as TeamData | undefined)\n  const { character, characterSheet, target: data } = teamData?.[characterKey] ?? {}\n  const onClickHandler = useCallback(() => characterKey && onClick?.(characterKey), [characterKey, onClick])\n  const actionWrapperFunc = useCallback(\n    children => <CardActionArea onClick={onClickHandler} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\n    [onClickHandler],\n  )\n  const characterDispatch = useCharacterReducer(characterKey)\n  if (!teamData || !character || !characterSheet || !data) return null;\n  const dataContextObj: dataContextObj = {\n    character,\n    data,\n    characterSheet,\n    mainStatAssumptionLevel: 0,\n    teamData,\n    characterDispatch\n  }\n\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 350 }} />}>\n    <DataContext.Provider value={dataContextObj}>\n      <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\n        <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc} >\n          <Header onClick={!onClick ? onClickHeader : undefined} />\n          <CardContent sx={{ width: \"100%\", display: \"flex\", flexDirection: \"column\", gap: 1, flexGrow: 1 }}>\n            <Weapon weaponId={character.equippedWeapon} />\n            {weaponChildren}\n            {/* will grow to fill the 100% height */}\n            <Box flexGrow={1} display=\"flex\" flexDirection=\"column\" gap={1}>\n              <ArtifactDisplay />\n              {artifactChildren}\n            </Box>\n            <Stats />\n            {characterChildren}\n          </CardContent>\n        </ConditionalWrapper>\n        {footer}\n      </CardLight>\n    </DataContext.Provider>\n  </Suspense>\n}\nfunction Header({ onClick }: { onClick?: (characterKey: CharacterKey) => void }) {\n  const { data, characterSheet } = useContext(DataContext)\n  const characterKey = data.get(input.charKey).value as CharacterKey\n  const characterEle = data.get(input.charEle).value as ElementKey\n  const characterLevel = data.get(input.lvl).value\n  const constellation = data.get(input.constellation).value\n  const ascension = data.get(input.asc).value\n  const autoBoost = data.get(input.bonus.auto).value\n  const skillBoost = data.get(input.bonus.skill).value\n  const burstBoost = data.get(input.bonus.burst).value\n\n  const tAuto = data.get(input.total.auto).value\n  const tSkill = data.get(input.total.skill).value\n  const tBurst = data.get(input.total.burst).value\n\n  const actionWrapperFunc = useCallback(\n    children => <CardActionArea onClick={() => characterKey && onClick?.(characterKey)} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\n    [onClick, characterKey],\n  )\n  return <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc} >\n    <Box display=\"flex\"\n      position=\"relative\"\n      className={`grad-${characterSheet.rarity}star`}\n      sx={{\n        \"&::before\": {\n          content: '\"\"',\n          display: \"block\", position: \"absolute\",\n          left: 0, top: 0,\n          width: \"100%\", height: \"100%\",\n          opacity: 0.7,\n          backgroundImage: `url(${characterSheet.bannerImg})`, backgroundPosition: \"center\", backgroundSize: \"cover\",\n        }\n      }}\n      width=\"100%\" >\n      <Box flexShrink={1} sx={{ maxWidth: { xs: \"40%\", lg: \"40%\" } }} alignSelf=\"flex-end\" display=\"flex\" flexDirection=\"column\" zIndex={1}>\n        <Box\n          component=\"img\"\n          src={characterSheet.thumbImg}\n          width=\"100%\"\n          height=\"auto\"\n          maxWidth={256}\n          sx={{ mt: \"auto\" }}\n        />\n      </Box>\n      <Box flexGrow={1} sx={{ py: 1, pr: 1 }} display=\"flex\" flexDirection=\"column\" zIndex={1}>\n        <Chip label={<Typography variant=\"subtitle1\">{characterSheet.name}</Typography>} size=\"small\" color={characterEle} />\n        <Grid container spacing={1} flexWrap=\"nowrap\">\n          <Grid item sx={{ textShadow: \"0 0 5px gray\" }}>\n            <Typography component=\"span\" variant=\"h6\" whiteSpace=\"nowrap\" >Lv. {characterLevel}</Typography>\n            <Typography component=\"span\" variant=\"h6\" color=\"text.secondary\">/{ascensionMaxLevel[ascension]}</Typography>\n          </Grid>\n          <Grid item>\n            <Typography variant=\"h6\"><SqBadge>C{constellation}</SqBadge></Typography>\n          </Grid>\n        </Grid>\n        <Grid container spacing={1} flexWrap=\"nowrap\">\n          <Grid item>\n            <Chip color={autoBoost ? \"info\" : \"secondary\"} label={<strong >{tAuto}</strong>} />\n          </Grid>\n          <Grid item>\n            <Chip color={skillBoost ? \"info\" : \"secondary\"} label={<strong >{tSkill}</strong>} />\n          </Grid>\n          <Grid item>\n            <Chip color={burstBoost ? \"info\" : \"secondary\"} label={<strong >{tBurst}</strong>} />\n          </Grid>\n        </Grid>\n        <Typography mt={1} ><Stars stars={characterSheet.rarity} colored /></Typography>\n      </Box>\n    </Box>\n  </ConditionalWrapper>\n}\nfunction Weapon({ weaponId }: { weaponId: string }) {\n  const database = useContext(DatabaseContext)\n  const weapon = database._getWeapon(weaponId)\n  const weaponSheet = usePromise(weapon?.key && WeaponSheet.get(weapon.key), [weapon?.key])\n  const UIData = useMemo(() => weaponSheet && weapon && computeUIData([weaponSheet.data, dataObjForWeapon(weapon)]), [weaponSheet, weapon])\n  if (!weapon || !weaponSheet || !UIData) return null;\n  const name = weaponSheet?.name\n  const mainVal = valueString(UIData.get(input.weapon.main).value, UIData.get(input.weapon.main).unit, 0)\n  const subKey = UIData.get(input.weapon.sub).key\n  const subVal = valueString(UIData.get(input.weapon.sub).value, UIData.get(input.weapon.sub).unit, UIData.get(input.weapon.sub).unit === \"flat\" ? 0 : undefined)\n  const levelName = WeaponSheet.getLevelString(weapon as ICachedWeapon)\n  return <CardDark>\n    <Box display=\"flex\" >\n      <Box flexShrink={1} maxWidth=\"35%\" display=\"flex\" flexDirection=\"column\" alignContent=\"flex-end\" className={`grad-${weaponSheet.rarity}star`} >\n        <Box\n          component=\"img\"\n          src={weaponSheet.img}\n          width=\"100%\"\n          height=\"auto\"\n          sx={{ mt: \"auto\" }}\n        />\n      </Box>\n      <Box flexGrow={1} sx={{ p: 1 }}>\n        <Typography variant=\"body2\"><strong>{name}</strong></Typography>\n        <Typography whiteSpace=\"nowrap\" lineHeight={1}>\n          <SqBadge color=\"primary\" sx={{ mr: 1 }}>Lv. {levelName}</SqBadge>\n          {subKey && <SqBadge color=\"info\"> Refinement {weapon.refinement}</SqBadge>}\n        </Typography>\n        <Typography variant=\"subtitle1\">ATK: {mainVal}</Typography>\n        {subKey && <Typography variant=\"subtitle2\" lineHeight={1}>{KeyMap.get(subKey)}: {subVal}</Typography>}\n      </Box>\n    </Box>\n  </CardDark>\n}\nfunction ArtifactDisplay() {\n  const database = useContext(DatabaseContext)\n  const { data } = useContext(DataContext)\n  const artifactSheets = usePromise(ArtifactSheet.getAll, [])\n  const artifacts = useMemo(() =>\n    allSlotKeys.map(k => [k, database._getArt(data.get(input.art[k].id).value ?? \"\")]),\n    [data, database]) as Array<[SlotKey, ICachedArtifact | undefined]>;\n  if (!artifactSheets) return null\n  return <Grid container spacing={1} >\n    {artifacts.map(([key, art]) => {\n      if (!art) return null\n      const { setKey, slotKey, mainStatKey } = art\n      return <Grid item key={key} flexGrow={1}>\n        <Chip color=\"secondary\" sx={{ width: \"100%\" }} icon={<ImgIcon src={artifactSheets?.[setKey].slotIcons[slotKey]} size={2.5} />}\n          label={<span>{KeyMap.get(mainStatKey)}</span>} />\n      </Grid>\n    })}\n  </Grid>\n}\nfunction Stats() {\n  const { data } = useContext(DataContext)\n  const statkeys = [\"hp\", \"atk\", \"def\", \"eleMas\", \"critRate_\", \"critDMG_\", \"enerRech_\",]\n  statkeys.push(`${data.get(input.charEle).value}_dmg_`)\n  if (data.get(input.weaponType).value !== \"catalyst\")\n    statkeys.push(\"physical_dmg_\")\n\n  return <Box sx={{ width: \"100%\" }} >\n    {statkeys.map(statKey => {\n      const stat = data.get(input.total[statKey] as NumNode)\n      const val = valueString(stat.value, stat.unit, stat.unit === \"flat\" ? 0 : undefined)\n      return <Box sx={{ display: \"flex\" }} key={statKey}>\n        <Typography flexGrow={1} color={`${stat.variant}.main`}><strong>{StatIcon[statKey]} {KeyMap.get(stat.key!)}</strong></Typography>\n        <Typography>{val}</Typography>\n      </Box>\n    })}\n    {data.get(input.special).key && <Box sx={{ display: \"flex\" }} >\n      <Typography flexGrow={1}><strong>Specialized:</strong></Typography>\n      <Typography>{KeyMap.get(data.get(input.special).key!)}</Typography>\n    </Box>}\n  </Box>\n}\n","import { useContext, useEffect, useState } from \"react\";\nimport { DatabaseContext } from \"../Database/Database\";\nimport { CharacterKey } from \"../Types/consts\";\n\nexport default function useCharacter(characterKey: CharacterKey | \"\" | undefined = \"\") {\n  const database = useContext(DatabaseContext)\n  const [character, updateCharacter] = useState(database._getChar(characterKey))\n  useEffect(() => updateCharacter(database._getChar(characterKey)), [database, characterKey])\n  useEffect(() =>\n    characterKey ? database.followChar(characterKey, updateCharacter) : undefined,\n    [characterKey, updateCharacter, database])\n  return character\n}","import CharacterSheet from \"../Data/Characters/CharacterSheet\";\nimport { ArtCharDatabase } from \"../Database/Database\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { FilterConfigs, SortConfigs } from \"./SortByFilters\";\nexport const characterSortKeys = [\"level\", \"rarity\", \"name\"]\nexport type CharacterSortKey = typeof characterSortKeys[number]\n\nexport function characterSortConfigs(database: ArtCharDatabase, characterSheets: Record<CharacterKey, CharacterSheet>): SortConfigs<CharacterSortKey, CharacterKey> {\n  return {\n    new: {\n      getValue: (ck) => database._getChar(ck as CharacterKey) ? 0 : 1,\n      tieBreaker: \"name\"\n    },\n    name: {\n      getValue: (ck) => ck,\n    },\n    level: {\n      getValue: (ck) => database._getChar(ck as CharacterKey)?.level ?? 0,\n      tieBreaker: \"rarity\"\n    },\n    rarity: {\n      getValue: (ck) => characterSheets?.[ck]?.rarity,\n      tieBreaker: \"level\"\n    }\n  }\n}\n\nexport function characterFilterConfigs(characterSheets: Record<CharacterKey, CharacterSheet>): FilterConfigs<\"element\" | \"weaponType\", CharacterKey> {\n  return {\n    element: (ck, filter) => !filter || (filter === characterSheets?.[ck]?.elementKey),\n    weaponType: (ck, filter) => !filter || (filter === characterSheets?.[ck]?.weaponTypeKey),\n  }\n}\n","import { Box, CardActionArea, CardContent, Divider, Grid, Typography } from \"@mui/material\";\nimport { useContext, useMemo, useState } from \"react\";\nimport Assets from \"../../Assets/Assets\";\nimport CharacterSheet from \"../../Data/Characters/CharacterSheet\";\nimport { DatabaseContext } from \"../../Database/Database\";\nimport { uiInput as input } from \"../../Formula\";\nimport useCharUIData from \"../../ReactHooks/useCharUIData\";\nimport usePromise from \"../../ReactHooks/usePromise\";\nimport { ICachedCharacter } from \"../../Types/character_WR\";\nimport { allCharacterKeys, CharacterKey, ElementKey, WeaponTypeKey } from \"../../Types/consts\";\nimport { characterFilterConfigs, characterSortConfigs } from \"../../Util/CharacterSort\";\nimport { filterFunction, sortFunction } from \"../../Util/SortByFilters\";\nimport CardDark from \"../Card/CardDark\";\nimport CardLight from \"../Card/CardLight\";\nimport CloseButton from \"../CloseButton\";\nimport ImgIcon from \"../Image/ImgIcon\";\nimport ModalWrapper from \"../ModalWrapper\";\nimport SortByButton from \"../SortByButton\";\nimport SqBadge from \"../SqBadge\";\nimport { Stars } from \"../StarDisplay\";\nimport StatIcon from \"../StatIcon\";\nimport ElementToggle from \"../ToggleButton/ElementToggle\";\nimport WeaponToggle from \"../ToggleButton/WeaponToggle\";\n\nconst defaultSortKeys = [\"level\", \"rarity\", \"name\"]\n\ntype characterFilter = (character: ICachedCharacter | undefined, sheet: CharacterSheet) => boolean\n\ntype CharacterSelectionModalProps = {\n  show: boolean,\n  newFirst?: boolean\n  onHide: () => void,\n  onSelect?: (ckey: CharacterKey) => void,\n  filter?: characterFilter\n}\n\nexport function CharacterSelectionModal({ show, onHide, onSelect, filter = () => true, newFirst = false }: CharacterSelectionModalProps) {\n  const sortKeys = useMemo(() => newFirst ? [\"new\", ...defaultSortKeys] : defaultSortKeys, [newFirst])\n  const database = useContext(DatabaseContext)\n\n  const [sortBy, setsortBy] = useState(sortKeys[0])\n  const [ascending, setascending] = useState(false)\n  const [elementalFilter, setelementalFilter] = useState<ElementKey | \"\">(\"\")\n  const [weaponFilter, setweaponFilter] = useState<WeaponTypeKey | \"\">(\"\")\n\n  const characterSheets = usePromise(CharacterSheet.getAll, [])\n\n  const sortConfigs = useMemo(() => characterSheets && characterSortConfigs(database, characterSheets), [database, characterSheets])\n  const filterConfigs = useMemo(() => characterSheets && characterFilterConfigs(characterSheets), [characterSheets])\n  const characterKeyList = useMemo(() => (characterSheets && sortConfigs && filterConfigs) ?\n    [...new Set(allCharacterKeys)].filter(cKey => filter(database._getChar(cKey), characterSheets[cKey]))\n      .filter(filterFunction({ element: elementalFilter, weaponType: weaponFilter }, filterConfigs))\n      .sort(sortFunction(sortBy, ascending, sortConfigs) as (a: CharacterKey, b: CharacterKey) => number) : [],\n    [database, characterSheets, filter, elementalFilter, weaponFilter, sortBy, ascending, sortConfigs, filterConfigs])\n\n  if (!characterSheets) return null\n  return <ModalWrapper open={show} onClose={onHide} >\n    <CardDark>\n      <CardContent sx={{ py: 1 }}>\n        <Grid container spacing={1} >\n          <Grid item>\n            <WeaponToggle sx={{ height: \"100%\" }} onChange={setweaponFilter} value={weaponFilter} size=\"small\" />\n          </Grid>\n          <Grid item flexGrow={1}>\n            <ElementToggle sx={{ height: \"100%\" }} onChange={setelementalFilter} value={elementalFilter} size=\"small\" />\n          </Grid>\n\n          <Grid item flexGrow={1} />\n\n          <Grid item >\n            <SortByButton sx={{ height: \"100%\" }}\n              sortKeys={sortKeys} value={sortBy} onChange={setsortBy as any}\n              ascending={ascending} onChangeAsc={setascending} />\n          </Grid>\n          <Grid item>\n            <CloseButton onClick={onHide} />\n          </Grid>\n        </Grid>\n      </CardContent>\n      <Divider />\n      <CardContent><Grid container spacing={1}>\n        {characterKeyList.map(characterKey => <Grid item key={characterKey} xs={6} md={4} lg={3} >\n          <CharacterBtn key={characterKey} characterKey={characterKey} onClick={() => { onHide(); onSelect?.(characterKey) }} />\n        </Grid>)}\n      </Grid></CardContent>\n    </CardDark>\n  </ModalWrapper>\n}\n\nfunction CharacterBtn({ onClick, characterKey }: { onClick: () => void, characterKey: CharacterKey }) {\n  const characterSheet = usePromise(CharacterSheet.get(characterKey), [characterKey])\n  const UIDataBundle = useCharUIData(characterKey)\n  if (!characterSheet) return null\n  const rarity = characterSheet.rarity\n  return <CardActionArea onClick={onClick} >\n    <CardLight sx={{ display: \"flex\", alignItems: \"center\" }}  >\n      <Box component=\"img\" src={characterSheet.thumbImg} sx={{ width: 130, height: \"auto\" }} className={`grad-${rarity}star`} />\n      <Box sx={{ pl: 1 }}>\n        <Typography><strong>{characterSheet.name}</strong></Typography>\n        {UIDataBundle ? <>\n          <Typography variant=\"h6\"> {characterSheet.elementKey && StatIcon[characterSheet.elementKey]} <ImgIcon src={Assets.weaponTypes?.[characterSheet.weaponTypeKey]} />{` `}{CharacterSheet.getLevelString(UIDataBundle.data.get(input.lvl).value, UIDataBundle.data.get(input.asc).value)}</Typography>\n          <Typography >\n            <SqBadge color=\"success\">{`C${UIDataBundle.data.get(input.constellation).value}`}</SqBadge>{` `}\n            <SqBadge color={UIDataBundle.data.get(input.bonus.auto).value ? \"info\" : \"secondary\"}><strong >{UIDataBundle.data.get(input.total.auto).value}</strong></SqBadge>{` `}\n            <SqBadge color={UIDataBundle.data.get(input.bonus.skill).value ? \"info\" : \"secondary\"}><strong >{UIDataBundle.data.get(input.total.skill).value}</strong></SqBadge>{` `}\n            <SqBadge color={UIDataBundle.data.get(input.bonus.burst).value ? \"info\" : \"secondary\"}><strong >{UIDataBundle.data.get(input.total.burst).value}</strong></SqBadge>\n          </Typography>\n        </> : <>\n          <Typography variant=\"h6\"><SqBadge color=\"primary\">NEW</SqBadge></Typography>\n        </>}\n        <small><Stars stars={rarity} colored /></small>\n      </Box>\n    </CardLight>\n  </CardActionArea >\n}\n","import { useContext, useEffect, useMemo } from \"react\";\nimport { ArtifactSheet } from \"../Data/Artifacts/ArtifactSheet\";\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\";\nimport { DatabaseContext } from \"../Database/Database\";\nimport { common } from \"../Formula\";\nimport { computeUIData, dataObjForArtifact, dataObjForCharacter, dataObjForWeapon } from \"../Formula/api\";\nimport { ICachedArtifact } from \"../Types/artifact_WR\";\nimport { CharacterKey, SlotKey } from \"../Types/consts\";\nimport { objectMap } from \"../Util/Util\";\nimport WeaponSheet from \"../Data/Weapons/WeaponSheet\";\nimport useCharacter from \"./useCharacter\";\nimport useForceUpdate from \"./useForceUpdate\";\nimport usePromise from \"./usePromise\";\nimport useWeapon from \"./useWeapon\";\n\n/**\n * @deprecated\n * @param characterKey\n * @param mainStatAssumptionLevel\n * @returns\n */\nexport default function useCharUIData(characterKey: CharacterKey | \"\", mainStatAssumptionLevel: number = 0) {\n  const database = useContext(DatabaseContext)\n  const character = useCharacter(characterKey)\n  const weapon = useWeapon(character?.equippedWeapon)\n\n  const characterSheet = usePromise(CharacterSheet.get(characterKey), [characterKey])\n  const artifactSheetsData = usePromise(ArtifactSheet.getAllData, [])\n\n  const weaponSheet = usePromise(weapon && WeaponSheet.get(weapon.key), [weapon])\n  const artifacts = useMemo(() => character && database && objectMap(character.equippedArtifacts, a => database._getArt(a)), [character, database])\n\n  const [dbDirty, setDbDirty] = useForceUpdate()\n  //follow updates from team\n  const [teammate1, teammate2, teammate3] = character?.team ?? []\n  useEffect(() =>\n    teammate1 ? database.followChar(teammate1, setDbDirty) : undefined,\n    [teammate1, setDbDirty, database])\n  useEffect(() =>\n    teammate2 ? database.followChar(teammate2, setDbDirty) : undefined,\n    [teammate2, setDbDirty, database])\n  useEffect(() =>\n    teammate3 ? database.followChar(teammate3, setDbDirty) : undefined,\n    [teammate3, setDbDirty, database])\n\n  const dataWoArt = useMemo(() => dbDirty && character && characterSheet && weapon && weaponSheet && artifacts && artifactSheetsData && [\n    dataObjForCharacter(character),\n    characterSheet.data,\n    dataObjForWeapon(weapon),\n    weaponSheet.data,\n    artifactSheetsData,\n    common, // NEED TO PUT THIS AT THE END\n  ], [dbDirty, character, characterSheet, weapon, weaponSheet, artifacts, artifactSheetsData])\n\n  const data = useMemo(() => dataWoArt && artifacts && computeUIData([\n    ...Object.values(artifacts).filter(a => a).map(a => dataObjForArtifact(a, mainStatAssumptionLevel)),\n    ...dataWoArt,\n  ]),\n    [dataWoArt, artifacts, mainStatAssumptionLevel])\n  if (!data || !character || !characterSheet || !weapon || !weaponSheet || !artifacts || !artifactSheetsData || !database || !dataWoArt)\n    return undefined\n  return { data, character, characterSheet, weapon, weaponSheet, artifacts, artifactSheetsData, database, dataWoArt }\n}\n","import { ButtonProps, ToggleButton, ToggleButtonProps, styled } from \"@mui/material\";\n\ntype SolidColoredToggleButtonPartial = {\n  baseColor?: ButtonProps[\"color\"];\n  selectedColor?: ButtonProps[\"color\"];\n}\nexport type SolidColoredToggleButtonProps = SolidColoredToggleButtonPartial & ToggleButtonProps\n\n\nconst SolidColoredToggleButton = styled(ToggleButton, {\n  shouldForwardProp: (prop) => prop !== \"baseColor\" && prop !== \"selectedColor\"\n})<SolidColoredToggleButtonPartial>(({ theme, baseColor = \"primary\", selectedColor = \"success\" }) => ({\n  '&': {\n    backgroundColor: theme.palette[baseColor].main,\n    color: theme.palette[baseColor].contrastText,\n  },\n  '&:hover': {\n    backgroundColor: theme.palette[baseColor].dark,\n  },\n  '&.Mui-selected': {\n    backgroundColor: theme.palette[selectedColor].main,\n    color: theme.palette[selectedColor].contrastText,\n  },\n  '&.Mui-selected:hover': {\n    backgroundColor: theme.palette[selectedColor].dark,\n  },\n  '&.Mui-disabled': {\n    backgroundColor: theme.palette[baseColor].dark,\n  },\n  '&.Mui-selected.Mui-disabled': {\n    backgroundColor: theme.palette[selectedColor].dark,\n  },\n}));\n\nexport default SolidColoredToggleButton","import { Box, ToggleButtonGroup } from \"@mui/material\";\nimport { useCallback } from \"react\";\nimport { allElements, ElementKey } from \"../../Types/consts\";\nimport SolidColoredToggleButton from \"../SolidColoredToggleButton\";\nimport { SolidToggleButtonGroupProps } from \"../SolidToggleButtonGroup\";\nimport { uncoloredEleIcons } from \"../StatIcon\";\ntype ElementToggleProps = Omit<SolidToggleButtonGroupProps, \"onChange\" | \"value\"> & {\n  onChange: (value: ElementKey | \"\") => void\n  value: ElementKey | \"\"\n}\nexport default function ElementToggle({ value, onChange, ...props }: ElementToggleProps) {\n  const cb = useCallback((e, newVal) => onChange(newVal || \"\"), [onChange])\n  return <ToggleButtonGroup exclusive onChange={cb} value={value || allElements} {...props}>\n    {allElements.map(ele => <SolidColoredToggleButton key={ele} value={ele} selectedColor={ele} >\n      <Box sx={{ fontSize: \"2em\", lineHeight: 1 }}>{uncoloredEleIcons[ele]}</Box>\n    </SolidColoredToggleButton>)}\n  </ToggleButtonGroup>\n}\n","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { Button, CardContent, Divider, Grid, Skeleton, Typography } from \"@mui/material\"\nimport { Suspense, useState } from \"react\"\nimport { dbStorage } from \"../Database/DBStorage\"\nimport { getRandomElementFromArray } from \"../Util/Util\"\nimport CardDark from \"./Card/CardDark\"\nimport CloseButton from \"./CloseButton\"\nimport ModalWrapper from \"./ModalWrapper\"\nimport { Translate } from \"./Translate\"\n\nexport default function InfoComponent({ pageKey = \"\", text = \"\", modalTitle = \"\", children }: { pageKey: string, text: Displayable | Displayable[], modalTitle: Displayable, children: JSX.Element }) {\n  const [showInfoModal, setshowInfoModal] = useState(dbStorage.get(\"infoShown\")?.[pageKey] ?? true)\n  const [displayText,] = useState(Array.isArray(text) ? getRandomElementFromArray(text) : text)\n  const closeModal = () => {\n    const infoShown = dbStorage.get(\"infoShown\") ?? {}\n    infoShown[pageKey] = false\n    dbStorage.set(\"infoShown\", infoShown)\n    setshowInfoModal(false)\n  }\n  return <CardDark >\n    <Grid container>\n      <Grid item flexGrow={1}>\n        <Typography variant=\"caption\" pl={1} >\n          {displayText}\n        </Typography>\n      </Grid>\n      <Grid item xs=\"auto\">\n        <Button size=\"small\" color=\"info\" variant=\"contained\" onClick={() => setshowInfoModal(true)} startIcon={<FontAwesomeIcon icon={faQuestionCircle} />}>\n          <Translate ns=\"ui\" key18=\"info\" />\n        </Button>\n      </Grid>\n    </Grid>\n    <ModalWrapper containerProps={{ maxWidth: \"xl\" }} open={showInfoModal} onClose={() => closeModal()} >\n      <CardDark >\n        <CardContent sx={{ py: 1 }}>\n          <Grid container>\n            <Grid item flexGrow={1}>\n              <Typography variant=\"h6\">{modalTitle}</Typography>\n            </Grid>\n            <Grid item>\n              <CloseButton onClick={closeModal} />\n            </Grid>\n          </Grid>\n        </CardContent>\n        <Divider />\n        <CardContent>\n          <Suspense fallback={<Skeleton variant=\"rectangular\" width=\"100%\" height={500} />}>\n            {children}\n          </Suspense>\n        </CardContent>\n        <Divider />\n        <CardContent sx={{ py: 1 }}>\n          <CloseButton large onClick={closeModal} />\n        </CardContent>\n      </CardDark>\n    </ModalWrapper >\n  </CardDark>\n}","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getChipUtilityClass(slot) {\n  return generateUtilityClass('MuiChip', slot);\n}\nconst chipClasses = generateUtilityClasses('MuiChip', ['root', 'sizeSmall', 'sizeMedium', 'colorPrimary', 'colorSecondary', 'disabled', 'clickable', 'clickableColorPrimary', 'clickableColorSecondary', 'deletable', 'deletableColorPrimary', 'deletableColorSecondary', 'outlined', 'filled', 'outlinedPrimary', 'outlinedSecondary', 'avatar', 'avatarSmall', 'avatarMedium', 'avatarColorPrimary', 'avatarColorSecondary', 'icon', 'iconSmall', 'iconMedium', 'iconColorPrimary', 'iconColorSecondary', 'label', 'labelSmall', 'labelMedium', 'deleteIcon', 'deleteIconSmall', 'deleteIconMedium', 'deleteIconColorPrimary', 'deleteIconColorSecondary', 'deleteIconOutlinedColorPrimary', 'deleteIconOutlinedColorSecondary', 'focusVisible']);\nexport default chipClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"avatar\", \"className\", \"clickable\", \"color\", \"component\", \"deleteIcon\", \"disabled\", \"icon\", \"label\", \"onClick\", \"onDelete\", \"onKeyDown\", \"onKeyUp\", \"size\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { alpha } from '@mui/system';\nimport CancelIcon from '../internal/svg-icons/Cancel';\nimport useForkRef from '../utils/useForkRef';\nimport unsupportedProp from '../utils/unsupportedProp';\nimport capitalize from '../utils/capitalize';\nimport ButtonBase from '../ButtonBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport chipClasses, { getChipUtilityClass } from './chipClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disabled,\n    size,\n    color,\n    onDelete,\n    clickable,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, disabled && 'disabled', `size${capitalize(size)}`, `color${capitalize(color)}`, clickable && 'clickable', clickable && `clickableColor${capitalize(color)}`, onDelete && 'deletable', onDelete && `deletableColor${capitalize(color)}`, `${variant}${capitalize(color)}`],\n    label: ['label', `label${capitalize(size)}`],\n    avatar: ['avatar', `avatar${capitalize(size)}`, `avatarColor${capitalize(color)}`],\n    icon: ['icon', `icon${capitalize(size)}`, `iconColor${capitalize(color)}`],\n    deleteIcon: ['deleteIcon', `deleteIcon${capitalize(size)}`, `deleteIconColor${capitalize(color)}`, `deleteIconOutlinedColor${capitalize(color)}`]\n  };\n  return composeClasses(slots, getChipUtilityClass, classes);\n};\n\nconst ChipRoot = styled('div', {\n  name: 'MuiChip',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      color,\n      clickable,\n      onDelete,\n      size,\n      variant\n    } = ownerState;\n    return [{\n      [`& .${chipClasses.avatar}`]: styles.avatar\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatar${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatarColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles.icon\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`icon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`iconColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles.deleteIcon\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIcon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIconColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIconOutlinedColor${capitalize(color)}`]\n    }, styles.root, styles[`size${capitalize(size)}`], styles[`color${capitalize(color)}`], clickable && styles.clickable, clickable && color !== 'default' && styles[`clickableColor${capitalize(color)})`], onDelete && styles.deletable, onDelete && color !== 'default' && styles[`deletableColor${capitalize(color)}`], styles[variant], variant === 'outlined' && styles[`outlined${capitalize(color)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const deleteIconColor = alpha(theme.palette.text.primary, 0.26);\n  return _extends({\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.typography.pxToRem(13),\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 32,\n    color: theme.palette.text.primary,\n    backgroundColor: theme.palette.action.selected,\n    borderRadius: 32 / 2,\n    whiteSpace: 'nowrap',\n    transition: theme.transitions.create(['background-color', 'box-shadow']),\n    // label will inherit this from root, then `clickable` class overrides this for both\n    cursor: 'default',\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    textDecoration: 'none',\n    border: 0,\n    // Remove `button` border\n    padding: 0,\n    // Remove `button` padding\n    verticalAlign: 'middle',\n    boxSizing: 'border-box',\n    [`&.${chipClasses.disabled}`]: {\n      opacity: theme.palette.action.disabledOpacity,\n      pointerEvents: 'none'\n    },\n    [`& .${chipClasses.avatar}`]: {\n      marginLeft: 5,\n      marginRight: -6,\n      width: 24,\n      height: 24,\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      fontSize: theme.typography.pxToRem(12)\n    },\n    [`& .${chipClasses.avatarColorPrimary}`]: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.dark\n    },\n    [`& .${chipClasses.avatarColorSecondary}`]: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.dark\n    },\n    [`& .${chipClasses.avatarSmall}`]: {\n      marginLeft: 4,\n      marginRight: -4,\n      width: 18,\n      height: 18,\n      fontSize: theme.typography.pxToRem(10)\n    },\n    [`& .${chipClasses.icon}`]: _extends({\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      marginLeft: 5,\n      marginRight: -6\n    }, ownerState.size === 'small' && {\n      fontSize: 18,\n      marginLeft: 4,\n      marginRight: -4\n    }, ownerState.color !== 'default' && {\n      color: 'inherit'\n    }),\n    [`& .${chipClasses.deleteIcon}`]: _extends({\n      WebkitTapHighlightColor: 'transparent',\n      color: deleteIconColor,\n      fontSize: 22,\n      cursor: 'pointer',\n      margin: '0 5px 0 -6px',\n      '&:hover': {\n        color: alpha(deleteIconColor, 0.4)\n      }\n    }, ownerState.size === 'small' && {\n      fontSize: 16,\n      marginRight: 4,\n      marginLeft: -4\n    }, ownerState.color !== 'default' && {\n      color: alpha(theme.palette[ownerState.color].contrastText, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette[ownerState.color].contrastText\n      }\n    })\n  }, ownerState.size === 'small' && {\n    height: 24\n  }, ownerState.color !== 'default' && {\n    backgroundColor: theme.palette[ownerState.color].main,\n    color: theme.palette[ownerState.color].contrastText\n  }, ownerState.onDelete && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  }, ownerState.onDelete && ownerState.color !== 'default' && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: theme.palette[ownerState.color].dark\n    }\n  });\n}, ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.clickable && {\n  userSelect: 'none',\n  WebkitTapHighlightColor: 'transparent',\n  cursor: 'pointer',\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n  },\n  '&:active': {\n    boxShadow: theme.shadows[1]\n  }\n}, ownerState.clickable && ownerState.color !== 'default' && {\n  [`&:hover, &.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.palette[ownerState.color].dark\n  }\n}), ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.variant === 'outlined' && {\n  backgroundColor: 'transparent',\n  border: `1px solid ${theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[700]}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: theme.palette.action.hover\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.palette.action.focus\n  },\n  [`& .${chipClasses.avatar}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.avatarSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.icon}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.iconSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    marginRight: 5\n  },\n  [`& .${chipClasses.deleteIconSmall}`]: {\n    marginRight: 3\n  }\n}, ownerState.variant === 'outlined' && ownerState.color !== 'default' && {\n  color: theme.palette[ownerState.color].main,\n  border: `1px solid ${alpha(theme.palette[ownerState.color].main, 0.7)}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.focusOpacity)\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    color: alpha(theme.palette[ownerState.color].main, 0.7),\n    '&:hover, &:active': {\n      color: theme.palette[ownerState.color].main\n    }\n  }\n}));\nconst ChipLabel = styled('span', {\n  name: 'MuiChip',\n  slot: 'Label',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      size\n    } = ownerState;\n    return [styles.label, styles[`label${capitalize(size)}`]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  paddingLeft: 12,\n  paddingRight: 12,\n  whiteSpace: 'nowrap'\n}, ownerState.size === 'small' && {\n  paddingLeft: 8,\n  paddingRight: 8\n}));\n\nfunction isDeleteKeyboardEvent(keyboardEvent) {\n  return keyboardEvent.key === 'Backspace' || keyboardEvent.key === 'Delete';\n}\n/**\n * Chips represent complex entities in small blocks, such as a contact.\n */\n\n\nconst Chip = /*#__PURE__*/React.forwardRef(function Chip(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiChip'\n  });\n\n  const {\n    avatar: avatarProp,\n    className,\n    clickable: clickableProp,\n    color = 'default',\n    component: ComponentProp,\n    deleteIcon: deleteIconProp,\n    disabled = false,\n    icon: iconProp,\n    label,\n    onClick,\n    onDelete,\n    onKeyDown,\n    onKeyUp,\n    size = 'medium',\n    variant = 'filled'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const chipRef = React.useRef(null);\n  const handleRef = useForkRef(chipRef, ref);\n\n  const handleDeleteIconClick = event => {\n    // Stop the event from bubbling up to the `Chip`\n    event.stopPropagation();\n\n    if (onDelete) {\n      onDelete(event);\n    }\n  };\n\n  const handleKeyDown = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target && isDeleteKeyboardEvent(event)) {\n      // Will be handled in keyUp, otherwise some browsers\n      // might init navigation\n      event.preventDefault();\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  const handleKeyUp = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target) {\n      if (onDelete && isDeleteKeyboardEvent(event)) {\n        onDelete(event);\n      } else if (event.key === 'Escape' && chipRef.current) {\n        chipRef.current.blur();\n      }\n    }\n\n    if (onKeyUp) {\n      onKeyUp(event);\n    }\n  };\n\n  const clickable = clickableProp !== false && onClick ? true : clickableProp;\n  const small = size === 'small';\n  const component = clickable || onDelete ? ButtonBase : ComponentProp || 'div';\n\n  const ownerState = _extends({}, props, {\n    component,\n    disabled,\n    size,\n    color,\n    onDelete: !!onDelete,\n    clickable,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const moreProps = component === ButtonBase ? _extends({\n    component: ComponentProp || 'div',\n    focusVisibleClassName: classes.focusVisible\n  }, onDelete && {\n    disableRipple: true\n  }) : {};\n  let deleteIcon = null;\n\n  if (onDelete) {\n    const customClasses = clsx(color !== 'default' && (variant === 'outlined' ? classes[`deleteIconOutlinedColor${capitalize(color)}`] : classes[`deleteIconColor${capitalize(color)}`]), small && classes.deleteIconSmall);\n    deleteIcon = deleteIconProp && /*#__PURE__*/React.isValidElement(deleteIconProp) ? /*#__PURE__*/React.cloneElement(deleteIconProp, {\n      className: clsx(deleteIconProp.props.className, classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    }) : /*#__PURE__*/_jsx(CancelIcon, {\n      className: clsx(classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    });\n  }\n\n  let avatar = null;\n\n  if (avatarProp && /*#__PURE__*/React.isValidElement(avatarProp)) {\n    avatar = /*#__PURE__*/React.cloneElement(avatarProp, {\n      className: clsx(classes.avatar, avatarProp.props.className)\n    });\n  }\n\n  let icon = null;\n\n  if (iconProp && /*#__PURE__*/React.isValidElement(iconProp)) {\n    icon = /*#__PURE__*/React.cloneElement(iconProp, {\n      className: clsx(classes.icon, iconProp.props.className)\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (avatar && icon) {\n      console.error('MUI: The Chip component can not handle the avatar ' + 'and the icon prop at the same time. Pick one.');\n    }\n  }\n\n  return /*#__PURE__*/_jsxs(ChipRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    disabled: clickable && disabled ? true : undefined,\n    onClick: onClick,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    ref: handleRef,\n    ownerState: ownerState\n  }, moreProps, other, {\n    children: [avatar || icon, /*#__PURE__*/_jsx(ChipLabel, {\n      className: clsx(classes.label),\n      ownerState: ownerState,\n      children: label\n    }), deleteIcon]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Chip.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The Avatar element to display.\n   */\n  avatar: PropTypes.element,\n\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the chip will appear clickable, and will raise when pressed,\n   * even if the onClick prop is not defined.\n   * If `false`, the chip will not appear clickable, even if onClick prop is defined.\n   * This can be used, for example,\n   * along with the component prop to indicate an anchor Chip is clickable.\n   * Note: this controls the UI and does not affect the onClick event.\n   */\n  clickable: PropTypes.bool,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'default'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Override the default delete icon element. Shown only if `onDelete` is set.\n   */\n  deleteIcon: PropTypes.element,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Icon element.\n   */\n  icon: PropTypes.element,\n\n  /**\n   * The content of the component.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Callback fired when the delete icon is clicked.\n   * If set, the delete icon will be shown.\n   */\n  onDelete: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyUp: PropTypes.func,\n\n  /**\n   * The size of the component.\n   * @default 'medium'\n   */\n  size: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.string]),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The variant to use.\n   * @default 'filled'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string])\n} : void 0;\nexport default Chip;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardActionAreaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActionArea', slot);\n}\nconst cardActionAreaClasses = generateUtilityClasses('MuiCardActionArea', ['root', 'focusVisible', 'focusHighlight']);\nexport default cardActionAreaClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"focusVisibleClassName\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport cardActionAreaClasses, { getCardActionAreaUtilityClass } from './cardActionAreaClasses';\nimport ButtonBase from '../ButtonBase';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    focusHighlight: ['focusHighlight']\n  };\n  return composeClasses(slots, getCardActionAreaUtilityClass, classes);\n};\n\nconst CardActionAreaRoot = styled(ButtonBase, {\n  name: 'MuiCardActionArea',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  display: 'block',\n  textAlign: 'inherit',\n  width: '100%',\n  [`&:hover .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.hoverOpacity,\n    '@media (hover: none)': {\n      opacity: 0\n    }\n  },\n  [`&.${cardActionAreaClasses.focusVisible} .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.focusOpacity\n  }\n}));\nconst CardActionAreaFocusHighlight = styled('span', {\n  name: 'MuiCardActionArea',\n  slot: 'FocusHighlight',\n  overridesResolver: (props, styles) => styles.focusHighlight\n})(({\n  theme\n}) => ({\n  overflow: 'hidden',\n  pointerEvents: 'none',\n  position: 'absolute',\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  borderRadius: 'inherit',\n  opacity: 0,\n  backgroundColor: 'currentcolor',\n  transition: theme.transitions.create('opacity', {\n    duration: theme.transitions.duration.short\n  })\n}));\nconst CardActionArea = /*#__PURE__*/React.forwardRef(function CardActionArea(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardActionArea'\n  });\n\n  const {\n    children,\n    className,\n    focusVisibleClassName\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(CardActionAreaRoot, _extends({\n    className: clsx(classes.root, className),\n    focusVisibleClassName: clsx(focusVisibleClassName, classes.focusVisible),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [children, /*#__PURE__*/_jsx(CardActionAreaFocusHighlight, {\n      className: classes.focusHighlight,\n      ownerState: ownerState\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActionArea.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardActionArea;","import { faCalculator, faLink, faPlus, faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Box, Button, CardContent, Divider, Grid, Skeleton, Typography } from '@mui/material';\nimport i18next from 'i18next';\nimport React, { Suspense, useCallback, useContext, useEffect, useMemo, useReducer, useState } from 'react';\nimport ReactGA from 'react-ga';\nimport { Link } from 'react-router-dom';\nimport CardDark from '../Components/Card/CardDark';\nimport { CharacterSelectionModal } from '../Components/Character/CharacterSelectionModal';\nimport SortByButton from '../Components/SortByButton';\nimport ElementToggle from '../Components/ToggleButton/ElementToggle';\nimport WeaponToggle from '../Components/ToggleButton/WeaponToggle';\nimport { DatabaseContext } from '../Database/Database';\nimport { dbStorage } from '../Database/DBStorage';\nimport useCharSelectionCallback from '../ReactHooks/useCharSelectionCallback';\nimport useForceUpdate from '../ReactHooks/useForceUpdate';\nimport usePromise from '../ReactHooks/usePromise';\nimport { CharacterKey, ElementKey, WeaponTypeKey } from '../Types/consts';\nimport { characterFilterConfigs, characterSortConfigs, characterSortKeys } from '../Util/CharacterSort';\nimport { filterFunction, sortFunction } from '../Util/SortByFilters';\nimport CharacterCard from './CharacterCard';\nimport CharacterSheet from '../Data/Characters/CharacterSheet';\n\nconst initialState = () => ({\n  sortType: characterSortKeys[0],\n  ascending: false,\n  weaponType: \"\" as WeaponTypeKey | \"\",\n  element: \"\" as ElementKey | \"\",\n})\nexport type stateType = ReturnType<typeof initialState>\n\nfunction filterReducer(state: stateType, action): stateType {\n  return { ...state, ...action }\n}\nfunction filterInit(initial = initialState()): stateType {\n  return { ...initial, ...(dbStorage.get(\"CharacterDisplay.state\") ?? {}) }\n}\n\nexport default function CharacterInventory(props) {\n  const database = useContext(DatabaseContext)\n  const [state, stateDisplatch] = useReducer(filterReducer, initialState(), filterInit)\n  const [newCharacter, setnewCharacter] = useState(false)\n  const [dbDirty, forceUpdate] = useForceUpdate()\n  //set follow, should run only once\n  useEffect(() => {\n    ReactGA.pageview('/character')\n    return database.followAnyChar(forceUpdate)\n  }, [forceUpdate, database])\n\n  const characterSheets = usePromise(CharacterSheet.getAll, [])\n  //save to db\n  useEffect(() => {\n    dbStorage.set(\"CharacterDisplay.state\", state)\n  }, [state])\n\n  const deleteCharacter = useCallback(async (cKey: CharacterKey) => {\n    const chararcterSheet = await CharacterSheet.get(cKey)\n    let name = chararcterSheet?.name\n    //use translated string\n    if (typeof name === \"object\")\n      name = i18next.t(`char_${cKey}_gen:name`)\n\n    if (!window.confirm(`Are you sure you want to remove ${name}?`)) return\n    database.removeChar(cKey)\n  }, [database])\n\n  const editCharacter = useCharSelectionCallback()\n\n  const { element, weaponType } = state\n  const sortConfigs = useMemo(() => characterSheets && characterSortConfigs(database, characterSheets), [database, characterSheets])\n  const filterConfigs = useMemo(() => characterSheets && characterFilterConfigs(characterSheets), [characterSheets])\n  const charKeyList = useMemo(() => sortConfigs && filterConfigs && dbDirty &&\n    database._getCharKeys().filter(filterFunction({ element, weaponType }, filterConfigs))\n      .sort(sortFunction(state.sortType, state.ascending, sortConfigs)),\n    [dbDirty, database, sortConfigs, state.sortType, state.ascending, element, filterConfigs, weaponType])\n  return <Box my={1} display=\"flex\" flexDirection=\"column\" gap={1}>\n    <CardDark sx={{ p: 2 }}>\n      <Grid container spacing={1}>\n        <Grid item>\n          <WeaponToggle sx={{ height: \"100%\" }} onChange={weaponType => stateDisplatch({ weaponType })} value={state.weaponType} size=\"small\" />\n        </Grid>\n        <Grid item flexGrow={1}>\n          <ElementToggle sx={{ height: \"100%\" }} onChange={element => stateDisplatch({ element })} value={state.element} size=\"small\" />\n        </Grid>\n        <Grid item >\n          <SortByButton sx={{ height: \"100%\" }}\n            sortKeys={characterSortKeys} value={state.sortType} onChange={sortType => stateDisplatch({ sortType })}\n            ascending={state.ascending} onChangeAsc={ascending => stateDisplatch({ ascending })} />\n        </Grid>\n      </Grid>\n    </CardDark>\n    <Grid container spacing={1}>\n      <Suspense fallback={<Grid item xs={12}><Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 5000 }} /></Grid>}>\n        <Grid item xs={12} sm={6} md={4} lg={3} >\n          <CardDark sx={{ height: \"100%\", minHeight: 400, width: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\n            <CardContent>\n              <Typography sx={{ textAlign: \"center\" }}>Add New Character</Typography>\n            </CardContent>\n            <CharacterSelectionModal newFirst show={newCharacter} onHide={() => setnewCharacter(false)} onSelect={editCharacter} />\n            <Box sx={{\n              flexGrow: 1,\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\"\n            }}\n            >\n              <Button onClick={() => setnewCharacter(true)} sx={{\n                borderRadius: \"1em\"\n              }}>\n                <Typography variant=\"h1\"><FontAwesomeIcon icon={faPlus} className=\"fa-fw\" /></Typography>\n              </Button>\n            </Box>\n          </CardDark>\n        </Grid>\n        {!!charKeyList && charKeyList.map(charKey =>\n          <Grid item key={charKey} xs={12} sm={6} md={4} lg={3} >\n            <CharacterCard\n              characterKey={charKey}\n              onClick={editCharacter}\n              footer={<><Divider /><Grid container spacing={1} sx={{ py: 1, px: 2 }}>\n                <Grid item>\n                  <Button size=\"small\" component={Link} to={{\n                    pathname: \"/build\",\n                    characterKey: charKey\n                  } as any} startIcon={<FontAwesomeIcon icon={faCalculator} />}>Build</Button>\n                </Grid>\n                <Grid item flexGrow={1}>\n                  <Button size=\"small\" color=\"info\" component={Link} to={{ pathname: \"/flex\", characterKey: charKey } as any}\n                    startIcon={<FontAwesomeIcon icon={faLink} />}>Share</Button>\n                </Grid>\n                <Grid item>\n                  <Button size=\"small\" color=\"error\" startIcon={<FontAwesomeIcon icon={faTrash} />} onClick={() => deleteCharacter(charKey)}>Delete</Button>\n                </Grid>\n              </Grid></>}\n            />\n          </Grid>)}\n      </Suspense>\n    </Grid>\n  </Box>\n}\n","import { faCalculator, faLink } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Box, Button, Grid, Skeleton } from '@mui/material';\nimport React, { lazy } from 'react';\nimport { Redirect, useHistory, useParams } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport CloseButton from '../Components/CloseButton';\nimport InfoComponent from '../Components/InfoComponent';\nimport { allCharacterKeys, CharacterKey } from '../Types/consts';\nconst InfoDisplay = React.lazy(() => import('./InfoDisplay'));\nconst CharacterDisplayCard = lazy(() => import('./CharacterDisplayCard'))\nexport default function CharacterDisplay() {\n  const history = useHistory()\n  let { characterKey } = useParams<{ characterKey?: CharacterKey }>();\n  const invalidKey = !allCharacterKeys.includes(characterKey as any ?? \"\")\n  if (invalidKey)\n    return <Redirect to=\"/character\" />\n  return <Box my={1} display=\"flex\" flexDirection=\"column\" gap={1}>\n    <InfoComponent\n      pageKey=\"characterPage\"\n      modalTitle=\"Character Page Guide\"\n      text={[\"Every character will be tested with in-game numbers for maximum accuracy.\",\n        \"You can see the details of the calculations of every number.\",\n        \"You need to manually enable auto infusion for characters like Choungyun or Noelle.\",\n        \"You can change character constellations in both \\\"Character\\\" tab and in \\\"Talents\\\" tab.\",\n        \"Modified character Stats are bolded.\"]}\n    >\n      <InfoDisplay />\n    </InfoComponent>\n    {characterKey && <React.Suspense fallback={<Skeleton variant=\"rectangular\" width=\"100%\" height={1000} />}>\n      <CharacterDisplayCard characterKey={characterKey} onClose={() => history.push(\"/character\")}\n        footer={<CharDisplayFooter onClose={() => history.push(\"/character\")} characterKey={characterKey} />}\n      />\n    </React.Suspense>}\n  </Box>\n}\nfunction CharDisplayFooter({ onClose, characterKey }) {\n  return <Grid container spacing={1}>\n    <Grid item>\n      <Button component={Link} to={{\n        pathname: \"/build\",\n        characterKey\n      } as any}\n        startIcon={<FontAwesomeIcon icon={faCalculator} />}\n      >Generate Builds</Button>\n    </Grid>\n    <Grid item flexGrow={1}>\n      <Button color=\"info\" component={Link} to={{ pathname: \"/flex\", characterKey } as any}\n        startIcon={<FontAwesomeIcon icon={faLink} />}\n      >Share Character</Button>\n    </Grid>\n    <Grid item xs=\"auto\">\n      <CloseButton large onClick={onClose} />\n    </Grid>\n  </Grid>\n}\n","import { Route, Switch, useRouteMatch } from \"react-router\";\nimport CharacterInventory from \"./CharacterInventory\";\nimport CharacterDisplay from \"./CharacterDisplay\";\n\nexport default function CharacterRouter() {\n  let match = useRouteMatch();\n  return < Switch >\n    <Route path={`${match.path}/:characterKey`}>\n      <CharacterDisplay />\n    </Route>\n    <Route path={match.path}>\n      <CharacterInventory />\n    </Route>\n  </Switch >\n}"],"sourceRoot":""}