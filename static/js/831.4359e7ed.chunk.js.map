{"version":3,"file":"static/js/831.4359e7ed.chunk.js","mappings":"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","sources":["Components/ConditionalWrapper.tsx","Data/Artifacts/ArtifactSheet.tsx","Data/Weapons/WeaponSheet.tsx","DataContext.tsx","PageCharacter/CharacterCard.tsx","ReactHooks/useCharSelectionCallback.tsx","Util/CharacterUtil.tsx","ReactHooks/useCharacterReducer.tsx","ReactHooks/useTeamData.tsx"],"sourcesContent":["import { ReactNode } from \"react\";\n\ntype Prop = {\n  condition: boolean,\n  wrapper: (children: ReactNode) => ReactNode\n  falseWrapper?: (children: ReactNode) => ReactNode\n  children: ReactNode\n}\n// Wrap children with element provided by wrapper func when condition is true.\nexport default function ConditionalWrapper({ condition, wrapper, falseWrapper, children }: Prop) {\n  return (condition ? wrapper(children) : (falseWrapper ? falseWrapper(children) : children)) as JSX.Element;\n}","import ImgIcon from \"../../Components/Image/ImgIcon\";\nimport { Translate } from \"../../Components/Translate\";\nimport { mergeData } from \"../../Formula/api\";\nimport { Data } from \"../../Formula/type\";\nimport { allSlotKeys, ArtifactRarity, ArtifactSetKey, SetNum, SlotKey } from \"../../Types/consts\";\nimport { DocumentSection } from \"../../Types/sheet\";\nimport { UIData } from \"../../Formula/uiData\"\nimport { input } from \"../../Formula\"\nimport SqBadge from \"../../Components/SqBadge\";\nimport IConditional from \"../../Types/IConditional_WR\";\n\n// TODO: remove typecasting once all sheets populated\nconst artifactSheets = import(\".\").then(imp => imp.default)\n\nexport interface IArtifactSheet {\n  name: string, // only to stored the English name for OCR, otherwise, should come from localization pipeline\n  rarity: readonly ArtifactRarity[],\n  icons: Dict<SlotKey, string>,\n  setEffects: Dict<SetNum, SetEffectEntry>\n}\nexport interface SetEffectEntry {\n  document?: DocumentSection[],\n}\n\n\nconst tr = (setKey: string, strKey: string) => <Translate ns={`artifact_${setKey}_gen`} key18={strKey} />\nconst allData = artifactSheets.then(as => mergeData(Object.values(as).map(s => s.data)))\nexport class ArtifactSheet {\n  readonly sheet: IArtifactSheet\n  readonly key: ArtifactSetKey\n  readonly data: Data\n  constructor(setKey: ArtifactSetKey, sheet: IArtifactSheet, data: Data) {\n    this.sheet = sheet\n    this.key = setKey\n    this.data = data\n  }\n\n  get name() { return tr(this.key, \"setName\") }\n  get defIconSrc() {\n    const slotKey = this.slots[0]\n    if (!this.slotIcons[slotKey]) return undefined\n    return this.slotIcons[slotKey]\n  }\n  get defIcon() { return <ImgIcon src={this.defIconSrc} sx={{ fontSize: \"1.5em\" }} /> }\n  /**\n   * @deprecated use src directly\n   */\n  get nameWithIcon() {\n    const slotKey = this.slots[0]\n    return <span><ImgIcon src={this.slotIcons[slotKey]} /> {tr(this.key, \"setName\")}</span>\n  }\n\n  //This is only for OCR, because we only scan in english right now.\n  get nameRaw(): string { return this.sheet.name }\n  get rarity(): readonly ArtifactRarity[] { return this.sheet.rarity }\n  get slots(): SlotKey[] {\n    switch (this.key) {\n      case \"PrayersForDestiny\":\n      case \"PrayersForIllumination\":\n      case \"PrayersForWisdom\":\n      case \"PrayersToSpringtime\": return [\"circlet\"]\n      default: return [...allSlotKeys]\n    }\n  }\n  get slotIcons(): Dict<SlotKey, string> { return this.sheet.icons }\n  get setEffects(): Dict<SetNum, SetEffectEntry> { return this.sheet.setEffects }\n  getSlotName = (slotKey: SlotKey) => tr(this.key, `pieces.${slotKey}.name`)\n  getSlotDesc = (slotKey: SlotKey) => tr(this.key, `pieces.${slotKey}.desc`)\n  setEffectDesc = (setNum: SetNum): Displayable => tr(this.key, `setEffects.${setNum}`)\n  setEffectDocument = (setNum: SetNum) => this.sheet.setEffects[setNum]?.document\n\n  static get(set: ArtifactSetKey | undefined): Promise<ArtifactSheet> | undefined { return set ? artifactSheets.then(a => a[set]) : undefined }\n  static get getAll() { return artifactSheets }\n  static get getAllData() { return allData }\n  static setKeysByRarities(sheets: StrictDict<ArtifactSetKey, ArtifactSheet>): Dict<ArtifactRarity, ArtifactSetKey[]> {\n    const grouped: Dict<ArtifactRarity, ArtifactSetKey[]> = {}\n    Object.entries(sheets).forEach(([key, sheet]) => {\n      const rarity = Math.max(...sheet.rarity) as ArtifactRarity\n      if (grouped[rarity]) grouped[rarity]!.push(key)\n      else grouped[rarity] = [key]\n    })\n    return grouped\n  }\n\n  static setEffects(sheets: StrictDict<ArtifactSetKey, ArtifactSheet>, data: UIData) {\n    const artifactSetEffect: Partial<Record<ArtifactSetKey, SetNum[]>> = {}\n    Object.entries(sheets).forEach(([setKey, sheet]) => {\n      const setNums = (Object.keys(sheet.setEffects).map(k => parseInt(k)) as SetNum[]).filter(sn => sheet.hasEnough(sn, data))\n      if (setNums.length) artifactSetEffect[setKey] = setNums\n    })\n    return artifactSetEffect\n  }\n  hasEnough = (setNum: SetNum, data: UIData) => (data.get(input.artSet[this.key]).value ?? 0) >= setNum\n}\nexport const conditionalHeader = (tr: (string) => Displayable, img: string): IConditional[\"header\"] => {\n  return {\n    title: tr(\"setName\"),\n    icon: <ImgIcon size={2} sx={{ m: -1 }} src={img} />,\n    action: <SqBadge color=\"success\">4-set</SqBadge>\n  }\n}\n","import { Translate } from '../../Components/Translate';\nimport { Data } from '../../Formula/type';\nimport { Rarity, WeaponKey, WeaponTypeKey } from '../../Types/consts';\nimport { DocumentSection } from '../../Types/sheet';\nimport { ICachedWeapon } from '../../Types/weapon_WR';\nimport { ascensionMaxLevel } from '../LevelData';\nimport type { WeaponData } from 'pipeline';\nimport IConditional from '../../Types/IConditional_WR';\nimport ImgIcon from '../../Components/Image/ImgIcon';\nimport { input } from '../../Formula';\nconst weaponSheets = import('.').then(imp => imp.default)\n\nexport interface IWeaponSheet {\n  icon: string,\n  iconAwaken: string,\n  document: DocumentSection[],\n}\n\nexport default class WeaponSheet {\n  readonly key: WeaponKey;\n  readonly sheet: IWeaponSheet;\n  readonly data: Data;\n  readonly rarity: Rarity;\n  readonly weaponType: WeaponTypeKey;\n  constructor(key: WeaponKey, weaponSheet: IWeaponSheet, weaponData: WeaponData, data: Data) {\n    this.rarity = weaponData.rarity\n    this.weaponType = weaponData.weaponType\n    this.key = key\n    this.sheet = weaponSheet\n    this.data = data\n  }\n  static get = (weaponKey: WeaponKey | \"\"): Promise<WeaponSheet> | undefined => weaponKey ? weaponSheets.then(w => w[weaponKey]) : undefined\n  static get getAll() { return weaponSheets }\n  static getWeaponsOfType = (sheets: StrictDict<WeaponKey, WeaponSheet>, weaponType: string): Dict<WeaponKey, WeaponSheet> => Object.fromEntries(Object.entries(sheets).filter(([key, sheet]) => (sheet as WeaponSheet).weaponType === weaponType))\n  static getLevelString = (weapon: ICachedWeapon): string => `${weapon.level}/${ascensionMaxLevel[weapon.ascension]}`\n  tr = (strKey: string) => <Translate ns={`weapon_${this.key}_gen`} key18={strKey} />\n  get name() { return this.tr(\"name\") }\n  //when there is no substat, assume there is no passive.\n  get passiveName() { return this.rarity > 2 ? this.tr(\"passiveName\") : \"\" }\n  get description() { return this.tr(\"description\") }\n  passiveDescription = (refineIndex: number) => this.rarity > 2 ? this.tr(`passiveDescription.${refineIndex}`) : \"\"\n  get img() { return this.sheet.icon }\n  get imgAwaken() { return this.sheet.iconAwaken }\n  get document() { return this.sheet.document }\n}\nexport const conditionalHeader = (tr: (string) => Displayable, img: string, imgAwaken: string): IConditional[\"header\"] => ({\n  title: tr(`passiveName`),\n  icon: data => <ImgIcon size={2} sx={{ m: -1 }} src={data.get(input.weapon.asc).value < 2 ? img : imgAwaken} />,\n})\n\nexport const conditionaldesc = (tr: (string) => Displayable) =>\n  data => tr(`passiveDescription.${data.get(input.weapon.refineIndex).value}`)\n","import { createContext } from \"react\"\nimport CharacterSheet from \"./Data/Characters/CharacterSheet\"\nimport { UIData } from \"./Formula/uiData\"\nimport { ICachedCharacter } from \"./Types/character_WR\"\nimport { CharacterKey } from \"./Types/consts\"\nimport { ICachedWeapon } from \"./Types/weapon_WR\"\nimport WeaponSheet from \"./Data/Weapons/WeaponSheet\"\nexport type TeamData = Partial<Record<CharacterKey, {\n  target: UIData\n  buffs: Dict<CharacterKey, UIData>\n  character: ICachedCharacter\n  weapon: ICachedWeapon\n  characterSheet: CharacterSheet\n  weaponSheet: WeaponSheet\n}>>\nexport type dataContextObj = {\n  character: ICachedCharacter\n  characterSheet: CharacterSheet\n  data: UIData\n  oldData?: UIData\n  mainStatAssumptionLevel: number\n  teamData: TeamData\n  characterDispatch: (_: any) => void\n}\n\n// If using this context without a Provider, then stuff will crash...\n// In theory, none of the components that uses this context should work without a provider...\nexport const DataContext = createContext({} as dataContextObj)\n","import { Box, CardActionArea, CardContent, Chip, Grid, Skeleton, Typography } from '@mui/material';\nimport { Suspense, useCallback, useContext, useMemo } from 'react';\nimport { ArtifactSheet } from '../Data/Artifacts/ArtifactSheet';\nimport CardDark from '../Components/Card/CardDark';\nimport CardLight from '../Components/Card/CardLight';\nimport ConditionalWrapper from '../Components/ConditionalWrapper';\nimport ImgIcon from '../Components/Image/ImgIcon';\nimport SqBadge from '../Components/SqBadge';\nimport { Stars } from '../Components/StarDisplay';\nimport StatIcon from '../Components/StatIcon';\nimport { ascensionMaxLevel } from '../Data/LevelData';\nimport { DatabaseContext } from '../Database/Database';\nimport { DataContext, dataContextObj, TeamData } from '../DataContext';\nimport { uiInput as input } from '../Formula';\nimport { computeUIData, dataObjForWeapon } from '../Formula/api';\nimport { NumNode } from '../Formula/type';\nimport KeyMap, { valueString } from '../KeyMap';\nimport useCharacterReducer from '../ReactHooks/useCharacterReducer';\nimport usePromise from '../ReactHooks/usePromise';\nimport useTeamData from '../ReactHooks/useTeamData';\nimport { ICachedArtifact } from '../Types/artifact_WR';\nimport { allSlotKeys, CharacterKey, ElementKey, SlotKey } from '../Types/consts';\nimport { ICachedWeapon } from '../Types/weapon_WR';\nimport WeaponSheet from '../Data/Weapons/WeaponSheet';\n\ntype CharacterCardProps = {\n  characterKey: CharacterKey | \"\",\n  onClick?: (characterKey: CharacterKey) => void,\n  onClickHeader?: (characterKey: CharacterKey) => void,\n  artifactChildren?: Displayable,\n  weaponChildren?: Displayable,\n  characterChildren?: Displayable,\n  footer?: Displayable,\n}\nexport default function CharacterCard({ characterKey, artifactChildren, weaponChildren, characterChildren, onClick, onClickHeader, footer }: CharacterCardProps) {\n  const { teamData: teamDataContext } = useContext(DataContext)\n  const teamData = useTeamData(teamDataContext ? \"\" : characterKey) ?? (teamDataContext as TeamData | undefined)\n  const { character, characterSheet, target: data } = teamData?.[characterKey] ?? {}\n  const onClickHandler = useCallback(() => characterKey && onClick?.(characterKey), [characterKey, onClick])\n  const actionWrapperFunc = useCallback(\n    children => <CardActionArea onClick={onClickHandler} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\n    [onClickHandler],\n  )\n  const characterDispatch = useCharacterReducer(characterKey)\n  if (!teamData || !character || !characterSheet || !data) return null;\n  const dataContextObj: dataContextObj = {\n    character,\n    data,\n    characterSheet,\n    mainStatAssumptionLevel: 0,\n    teamData,\n    characterDispatch\n  }\n\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 350 }} />}>\n    <DataContext.Provider value={dataContextObj}>\n      <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\n        <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc} >\n          <Header onClick={!onClick ? onClickHeader : undefined} />\n          <CardContent sx={{ width: \"100%\", display: \"flex\", flexDirection: \"column\", gap: 1, flexGrow: 1 }}>\n            <Weapon weaponId={character.equippedWeapon} />\n            {weaponChildren}\n            {/* will grow to fill the 100% height */}\n            <Box flexGrow={1} display=\"flex\" flexDirection=\"column\" gap={1}>\n              <ArtifactDisplay />\n              {artifactChildren}\n            </Box>\n            <Stats />\n            {characterChildren}\n          </CardContent>\n        </ConditionalWrapper>\n        {footer}\n      </CardLight>\n    </DataContext.Provider>\n  </Suspense>\n}\nfunction Header({ onClick }: { onClick?: (characterKey: CharacterKey) => void }) {\n  const { data, characterSheet } = useContext(DataContext)\n  const characterKey = data.get(input.charKey).value as CharacterKey\n  const characterEle = data.get(input.charEle).value as ElementKey\n  const characterLevel = data.get(input.lvl).value\n  const constellation = data.get(input.constellation).value\n  const ascension = data.get(input.asc).value\n  const autoBoost = data.get(input.bonus.auto).value\n  const skillBoost = data.get(input.bonus.skill).value\n  const burstBoost = data.get(input.bonus.burst).value\n\n  const tAuto = data.get(input.total.auto).value\n  const tSkill = data.get(input.total.skill).value\n  const tBurst = data.get(input.total.burst).value\n\n  const actionWrapperFunc = useCallback(\n    children => <CardActionArea onClick={() => characterKey && onClick?.(characterKey)} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\n    [onClick, characterKey],\n  )\n  return <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc} >\n    <Box display=\"flex\"\n      position=\"relative\"\n      className={`grad-${characterSheet.rarity}star`}\n      sx={{\n        \"&::before\": {\n          content: '\"\"',\n          display: \"block\", position: \"absolute\",\n          left: 0, top: 0,\n          width: \"100%\", height: \"100%\",\n          opacity: 0.7,\n          backgroundImage: `url(${characterSheet.bannerImg})`, backgroundPosition: \"center\", backgroundSize: \"cover\",\n        }\n      }}\n      width=\"100%\" >\n      <Box flexShrink={1} sx={{ maxWidth: { xs: \"40%\", lg: \"40%\" } }} alignSelf=\"flex-end\" display=\"flex\" flexDirection=\"column\" zIndex={1}>\n        <Box\n          component=\"img\"\n          src={characterSheet.thumbImg}\n          width=\"100%\"\n          height=\"auto\"\n          maxWidth={256}\n          sx={{ mt: \"auto\" }}\n        />\n      </Box>\n      <Box flexGrow={1} sx={{ py: 1, pr: 1 }} display=\"flex\" flexDirection=\"column\" zIndex={1}>\n        <Chip label={<Typography variant=\"subtitle1\">{characterSheet.name}</Typography>} size=\"small\" color={characterEle} />\n        <Grid container spacing={1} flexWrap=\"nowrap\">\n          <Grid item sx={{ textShadow: \"0 0 5px gray\" }}>\n            <Typography component=\"span\" variant=\"h6\" whiteSpace=\"nowrap\" >Lv. {characterLevel}</Typography>\n            <Typography component=\"span\" variant=\"h6\" color=\"text.secondary\">/{ascensionMaxLevel[ascension]}</Typography>\n          </Grid>\n          <Grid item>\n            <Typography variant=\"h6\"><SqBadge>C{constellation}</SqBadge></Typography>\n          </Grid>\n        </Grid>\n        <Grid container spacing={1} flexWrap=\"nowrap\">\n          <Grid item>\n            <Chip color={autoBoost ? \"info\" : \"secondary\"} label={<strong >{tAuto}</strong>} />\n          </Grid>\n          <Grid item>\n            <Chip color={skillBoost ? \"info\" : \"secondary\"} label={<strong >{tSkill}</strong>} />\n          </Grid>\n          <Grid item>\n            <Chip color={burstBoost ? \"info\" : \"secondary\"} label={<strong >{tBurst}</strong>} />\n          </Grid>\n        </Grid>\n        <Typography mt={1} ><Stars stars={characterSheet.rarity} colored /></Typography>\n      </Box>\n    </Box>\n  </ConditionalWrapper>\n}\nfunction Weapon({ weaponId }: { weaponId: string }) {\n  const database = useContext(DatabaseContext)\n  const weapon = database._getWeapon(weaponId)\n  const weaponSheet = usePromise(weapon?.key && WeaponSheet.get(weapon.key), [weapon?.key])\n  const UIData = useMemo(() => weaponSheet && weapon && computeUIData([weaponSheet.data, dataObjForWeapon(weapon)]), [weaponSheet, weapon])\n  if (!weapon || !weaponSheet || !UIData) return null;\n  const name = weaponSheet?.name\n  const mainVal = valueString(UIData.get(input.weapon.main).value, UIData.get(input.weapon.main).unit, 0)\n  const subKey = UIData.get(input.weapon.sub).key\n  const subVal = valueString(UIData.get(input.weapon.sub).value, UIData.get(input.weapon.sub).unit, UIData.get(input.weapon.sub).unit === \"flat\" ? 0 : undefined)\n  const levelName = WeaponSheet.getLevelString(weapon as ICachedWeapon)\n  return <CardDark>\n    <Box display=\"flex\" >\n      <Box flexShrink={1} maxWidth=\"35%\" display=\"flex\" flexDirection=\"column\" alignContent=\"flex-end\" className={`grad-${weaponSheet.rarity}star`} >\n        <Box\n          component=\"img\"\n          src={weaponSheet.img}\n          width=\"100%\"\n          height=\"auto\"\n          sx={{ mt: \"auto\" }}\n        />\n      </Box>\n      <Box flexGrow={1} sx={{ p: 1 }}>\n        <Typography variant=\"body2\"><strong>{name}</strong></Typography>\n        <Typography whiteSpace=\"nowrap\" lineHeight={1}>\n          <SqBadge color=\"primary\" sx={{ mr: 1 }}>Lv. {levelName}</SqBadge>\n          {subKey && <SqBadge color=\"info\"> Refinement {weapon.refinement}</SqBadge>}\n        </Typography>\n        <Typography variant=\"subtitle1\">ATK: {mainVal}</Typography>\n        {subKey && <Typography variant=\"subtitle2\" lineHeight={1}>{KeyMap.get(subKey)}: {subVal}</Typography>}\n      </Box>\n    </Box>\n  </CardDark>\n}\nfunction ArtifactDisplay() {\n  const database = useContext(DatabaseContext)\n  const { data } = useContext(DataContext)\n  const artifactSheets = usePromise(ArtifactSheet.getAll, [])\n  const artifacts = useMemo(() =>\n    allSlotKeys.map(k => [k, database._getArt(data.get(input.art[k].id).value ?? \"\")]),\n    [data, database]) as Array<[SlotKey, ICachedArtifact | undefined]>;\n  if (!artifactSheets) return null\n  return <Grid container spacing={1} >\n    {artifacts.map(([key, art]) => {\n      if (!art) return null\n      const { setKey, slotKey, mainStatKey } = art\n      return <Grid item key={key} flexGrow={1}>\n        <Chip color=\"secondary\" sx={{ width: \"100%\" }} icon={<ImgIcon src={artifactSheets?.[setKey].slotIcons[slotKey]} size={2.5} />}\n          label={<span>{KeyMap.get(mainStatKey)}</span>} />\n      </Grid>\n    })}\n  </Grid>\n}\nfunction Stats() {\n  const { data } = useContext(DataContext)\n  const statkeys = [\"hp\", \"atk\", \"def\", \"eleMas\", \"critRate_\", \"critDMG_\", \"enerRech_\",]\n  statkeys.push(`${data.get(input.charEle).value}_dmg_`)\n  if (data.get(input.weaponType).value !== \"catalyst\")\n    statkeys.push(\"physical_dmg_\")\n\n  return <Box sx={{ width: \"100%\" }} >\n    {statkeys.map(statKey => {\n      const stat = data.get(input.total[statKey] as NumNode)\n      const val = valueString(stat.value, stat.unit, stat.unit === \"flat\" ? 0 : undefined)\n      return <Box sx={{ display: \"flex\" }} key={statKey}>\n        <Typography flexGrow={1} color={`${stat.variant}.main`}><strong>{StatIcon[statKey]} {KeyMap.get(stat.key!)}</strong></Typography>\n        <Typography>{val}</Typography>\n      </Box>\n    })}\n    {data.get(input.special).key && <Box sx={{ display: \"flex\" }} >\n      <Typography flexGrow={1}><strong>Specialized:</strong></Typography>\n      <Typography>{KeyMap.get(data.get(input.special).key!)}</Typography>\n    </Box>}\n  </Box>\n}\n","import { useCallback, useContext } from \"react\";\nimport { useHistory } from \"react-router\";\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\";\nimport { initialCharacter } from \"../Util/CharacterUtil\";\nimport { DatabaseContext } from \"../Database/Database\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { defaultInitialWeapon } from \"../Util/WeaponUtil\";\n\n/**\n * Basically a history hook to go to the dedicated character page. Will create the character if it doesn't exist.\n * @returns\n */\nexport default function useCharSelectionCallback() {\n  const database = useContext(DatabaseContext)\n  const history = useHistory()\n  const cb = useCallback(\n    async (characterKey: CharacterKey) => {\n      const character = database._getChar(characterKey)\n      // Create a new character + weapon, with linking if char isnt in db.\n      if (!character) {\n        const newChar = initialCharacter(characterKey)\n        database.updateChar(newChar)\n        const characterSheet = await CharacterSheet.get(characterKey)\n        if (!characterSheet) return\n        const weapon = defaultInitialWeapon(characterSheet.weaponTypeKey)\n        const weaponId = database.createWeapon(weapon)\n        database.setWeaponLocation(weaponId, characterKey)\n      }\n      history.push(`/character/${characterKey}`)\n    },\n    [history, database],\n  )\n  return cb\n}\n","import { initialBuildSettings } from \"../PageBuild/BuildSetting\"\nimport { ICachedCharacter } from \"../Types/character_WR\"\nimport { allSlotKeys, CharacterKey } from \"../Types/consts\"\nimport { objectKeyMap } from \"./Util\"\n\nexport function initialCharacter(key: CharacterKey): ICachedCharacter {\n  return {\n    key, // the game character this is based off\n    level: 1,\n    ascension: 0,\n    hitMode: \"avgHit\",\n    reactionMode: \"\",\n    equippedArtifacts: objectKeyMap(allSlotKeys, () => \"\"),\n    equippedWeapon: \"\",\n    conditional: {},\n    bonusStats: {},\n    enemyOverride: {},\n    buildSettings: initialBuildSettings(),\n    talent: {\n      auto: 1,\n      skill: 1,\n      burst: 1,\n    },\n    infusionAura: \"\",\n    constellation: 0,\n    team: [\"\", \"\", \"\"],\n    compareData: false,\n  }\n}\n","import { useCallback, useContext } from \"react\";\nimport { DatabaseContext } from \"../Database/Database\";\nimport { ICachedCharacter } from \"../Types/character\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { deepClone } from \"../Util/Util\";\n\ntype characterEquipWeapon = {\n  type: \"weapon\", id: string\n}\ntype characterReducerBonusStatsAction = {\n  type: \"editStats\",\n  statKey: string\n  value: any | undefined\n}\ntype characterReducerenemyOverrideAction = {\n  type: \"enemyOverride\",\n  statKey: string\n  value: any | undefined\n}\ntype characterReducerResetStatsAction = {\n  type: \"resetStats\",\n  statKey: string\n}\ntype characterTeamAction = {\n  type: \"team\",\n  index: number,\n  charKey: CharacterKey | \"\"\n}\nexport type characterReducerAction = characterEquipWeapon | characterReducerBonusStatsAction | characterReducerenemyOverrideAction | characterReducerResetStatsAction | characterTeamAction | Partial<ICachedCharacter>\n\nexport default function useCharacterReducer(characterKey: CharacterKey | \"\") {\n  const database = useContext(DatabaseContext)\n\n  return useCallback((action: characterReducerAction): void => {\n    if (!characterKey) return\n\n    if (\"type\" in action) switch (action.type) {\n      case \"weapon\":\n        database.setWeaponLocation(action.id, characterKey)\n        break\n      case \"enemyOverride\": {\n        const character = database._getChar(characterKey)!\n        const enemyOverride = character.enemyOverride\n        const { statKey, value } = action\n        if (enemyOverride[statKey] === value) break\n        database.updateChar({ ...character, enemyOverride: { ...enemyOverride, [statKey]: value } })\n        break\n      }\n      case \"editStats\": {\n        const character = database._getChar(characterKey)!\n        const { statKey, value } = action\n\n        const bonusStats = deepClone(character.bonusStats)\n\n        if (bonusStats[statKey] === value) break\n        if (!value) delete bonusStats[statKey]\n        else bonusStats[statKey] = value\n\n        database.updateChar({ ...character, bonusStats })\n        break\n      }\n      case \"resetStats\": {\n        const character = database._getChar(characterKey)!\n        const { statKey } = action\n\n        const bonusStats = character.bonusStats\n        delete bonusStats[statKey]\n\n        database.updateChar({ ...character, bonusStats })\n        break\n      }\n      case \"team\": {\n        const character = database._getChar(characterKey)!\n        const { team } = character\n\n        const { index, charKey: newCharKey } = action\n        const oldCharKey = team[index]\n        team[index] = newCharKey\n\n        // move the old char to \"inventory\"\n        if (oldCharKey) {\n          const oldChar = database._getChar(oldCharKey)\n          if (oldChar) database.updateChar({ ...oldChar, team: [\"\", \"\", \"\"] })\n        }\n\n        // unequip new char from its old teammates\n        if (newCharKey) {\n          const newChar = database._getChar(newCharKey)\n          if (newChar) {\n            newChar.team.forEach(t => {\n              if (!t) return\n              const tChar = database._getChar(t)\n              tChar && database.updateChar({ ...tChar, team: tChar.team.map(c => c === newCharKey ? \"\" : c) as ICachedCharacter[\"team\"] })\n            })\n          }\n        }\n\n        // equip new char to new teammates\n        team.forEach((t, tind) => {\n          if (!t) return\n          const newChar = database._getChar(t)\n          if (newChar) database.updateChar({ ...newChar, team: [characterKey, ...team].filter((_, i) => i !== tind + 1) as ICachedCharacter[\"team\"] })\n        })\n\n        // update src character\n        database.updateChar({ ...character, team })\n      }\n    } else\n      database.updateChar({ ...database._getChar(characterKey)!, ...action })\n  }, [characterKey, database])\n\n}\n","import { useContext, useEffect, useState } from \"react\";\nimport { ArtifactSheet } from \"../Data/Artifacts/ArtifactSheet\";\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\";\nimport { ArtCharDatabase, DatabaseContext } from \"../Database/Database\";\nimport { TeamData } from \"../DataContext\";\nimport { common } from \"../Formula\";\nimport { dataObjForArtifact, dataObjForCharacter, uiDataForTeam, dataObjForWeapon } from \"../Formula/api\";\nimport { Data } from \"../Formula/type\";\nimport { ICachedArtifact } from \"../Types/artifact_WR\";\nimport { ICachedCharacter } from \"../Types/character_WR\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { ICachedWeapon } from \"../Types/weapon_WR\";\nimport { objectMap } from \"../Util/Util\";\nimport WeaponSheet from \"../Data/Weapons/WeaponSheet\";\nimport useForceUpdate from \"./useForceUpdate\";\n\ntype TeamDataBundle = {\n  team: CharacterKey[],\n  teamData: Dict<CharacterKey, Data[]>\n  teamBundle: Dict<CharacterKey, CharBundle>\n}\n\nexport default function useTeamData(characterKey: CharacterKey | \"\", mainStatAssumptionLevel: number = 0): TeamData | undefined {\n  const database = useContext(DatabaseContext)\n  const [dbDirty, setDbDirty] = useForceUpdate()\n  const [teamDataBundle, setTeamdataBundle] = useState(undefined as TeamDataBundle | undefined)\n  useEffect(() => {\n    getTeamData(database, characterKey, mainStatAssumptionLevel).then(r => setTeamdataBundle(r))\n  }, [dbDirty, characterKey, database, mainStatAssumptionLevel])\n\n  const { team = [], teamData, teamBundle } = teamDataBundle ?? {}\n\n  const [t1, t2, t3, t4] = team\n  useEffect(() =>\n    t1 ? database.followChar(t1, setDbDirty) : undefined,\n    [t1, setDbDirty, database])\n  useEffect(() =>\n    t2 ? database.followChar(t2, setDbDirty) : undefined,\n    [t2, setDbDirty, database])\n  useEffect(() =>\n    t3 ? database.followChar(t3, setDbDirty) : undefined,\n    [t3, setDbDirty, database])\n  useEffect(() =>\n    t4 ? database.followChar(t4, setDbDirty) : undefined,\n    [t4, setDbDirty, database])\n  if (!teamData || !teamBundle) return\n  const calcData = uiDataForTeam(teamData, characterKey as CharacterKey)\n  const data = objectMap(calcData, (obj, ck) => {\n    const { data: _, ...rest } = teamBundle[ck]!\n    return { ...obj, ...rest }\n  })\n\n  return data\n}\n\nexport async function getTeamData(database: ArtCharDatabase, characterKey: CharacterKey | \"\", mainStatAssumptionLevel: number = 0, overrideArt?: ICachedArtifact[]):\n  Promise<TeamDataBundle | undefined> {\n  if (!characterKey) return\n  const char1DataBundle = await getCharDataBundle(database, characterKey, mainStatAssumptionLevel, overrideArt)\n  if (!char1DataBundle) return\n  const team: CharacterKey[] = [characterKey]\n  const teamBundle = { [characterKey]: char1DataBundle }\n  const teamData: Dict<CharacterKey, Data[]> = { [characterKey]: char1DataBundle.data }\n\n  await Promise.all(char1DataBundle.character.team.map(async (ck) => {\n    if (!ck) return\n    const databundle = await getCharDataBundle(database, ck)\n    if (!databundle) return\n    team.push(ck)\n    teamBundle[ck] = databundle\n    teamData[ck] = databundle.data\n  }))\n\n  return { team, teamData, teamBundle }\n}\ntype CharBundle = {\n  character: ICachedCharacter,\n  weapon: ICachedWeapon,\n  characterSheet: CharacterSheet,\n  weaponSheet: WeaponSheet,\n  data: Data[]\n}\nasync function getCharDataBundle(database: ArtCharDatabase, characterKey: CharacterKey | \"\", mainStatAssumptionLevel: number = 0, overrideArt?: ICachedArtifact[])\n  : Promise<CharBundle | undefined> {\n  if (!characterKey) return\n  const character = database._getChar(characterKey)\n  if (!character) return\n  const weapon = database._getWeapon(character.equippedWeapon)\n  if (!weapon) return\n  const characterSheet = await CharacterSheet.get(characterKey)\n  const weaponSheet = await WeaponSheet.get(weapon.key)\n  const artifactSheetsData = await ArtifactSheet.getAllData\n  if (!characterSheet || !weaponSheet || !artifactSheetsData) return\n  const artifacts = (overrideArt ?? Object.values(character.equippedArtifacts).map(a => database._getArt(a))).filter(a => a) as ICachedArtifact[]\n  const data = [\n    ...artifacts.map(a => dataObjForArtifact(a, mainStatAssumptionLevel)),\n    dataObjForCharacter(character),\n    characterSheet.data,\n    dataObjForWeapon(weapon),\n    weaponSheet.data,\n    artifactSheetsData,\n    common, // NEED TO PUT THIS AT THE END\n  ]\n  return { character, weapon, characterSheet, weaponSheet, data }\n}\n"],"names":["ConditionalWrapper","condition","wrapper","falseWrapper","children","artifactSheets","then","imp","default","tr","setKey","strKey","ns","key18","allData","as","mergeData","Object","values","map","s","data","ArtifactSheet","sheet","key","getSlotName","slotKey","getSlotDesc","setEffectDesc","setNum","setEffectDocument","setEffects","document","hasEnough","get","input","value","this","slots","slotIcons","src","defIconSrc","sx","fontSize","name","rarity","allSlotKeys","icons","set","a","undefined","sheets","grouped","entries","forEach","Math","max","push","artifactSetEffect","setNums","keys","k","parseInt","filter","sn","length","conditionalHeader","img","title","icon","size","m","action","color","weaponSheets","WeaponSheet","weaponSheet","weaponData","weaponType","passiveDescription","refineIndex","iconAwaken","weaponKey","w","getWeaponsOfType","fromEntries","getLevelString","weapon","level","ascensionMaxLevel","ascension","imgAwaken","conditionaldesc","DataContext","createContext","CharacterCard","characterKey","artifactChildren","weaponChildren","characterChildren","onClick","onClickHeader","footer","teamDataContext","useContext","teamData","useTeamData","character","characterSheet","target","onClickHandler","useCallback","actionWrapperFunc","flexGrow","display","flexDirection","characterDispatch","useCharacterReducer","dataContextObj","mainStatAssumptionLevel","Suspense","fallback","variant","width","height","minHeight","Header","gap","Weapon","weaponId","equippedWeapon","ArtifactDisplay","Stats","characterEle","characterLevel","constellation","autoBoost","skillBoost","burstBoost","tAuto","tSkill","tBurst","position","className","content","left","top","opacity","backgroundImage","bannerImg","backgroundPosition","backgroundSize","flexShrink","maxWidth","xs","lg","alignSelf","zIndex","component","thumbImg","mt","py","pr","label","container","spacing","flexWrap","item","textShadow","whiteSpace","stars","colored","DatabaseContext","_getWeapon","usePromise","UIData","useMemo","computeUIData","dataObjForWeapon","mainVal","valueString","unit","subKey","subVal","levelName","alignContent","p","lineHeight","mr","refinement","KeyMap","database","artifacts","_getArt","id","art","mainStatKey","statkeys","statKey","stat","val","StatIcon","useCharSelectionCallback","history","useHistory","cb","_getChar","newChar","hitMode","reactionMode","equippedArtifacts","objectKeyMap","conditional","bonusStats","enemyOverride","buildSettings","initialBuildSettings","talent","auto","skill","burst","infusionAura","team","compareData","updateChar","CharacterSheet","defaultInitialWeapon","weaponTypeKey","createWeapon","setWeaponLocation","type","deepClone","index","newCharKey","charKey","oldCharKey","oldChar","t","tChar","c","tind","_","i","useForceUpdate","dbDirty","setDbDirty","useState","teamDataBundle","setTeamdataBundle","useEffect","getTeamData","r","teamBundle","t1","t2","t3","t4","followChar","calcData","uiDataForTeam","objectMap","obj","ck","rest","overrideArt","getCharDataBundle","char1DataBundle","Promise","all","databundle","artifactSheetsData","dataObjForArtifact","dataObjForCharacter","common"],"sourceRoot":""}