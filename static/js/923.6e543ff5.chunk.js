"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[923],{74476:function(e,n,i){i.r(n),i.d(n,{default:function(){return E}});var s=i(29439),t=i(40117),o=i(62002),r=i(39504),a=i(61889),l=i(68870),c=i(20890),d=i(2199),x=i(24518),u=i(9585),p=i(94721),h=i(15021),Z=i(72791),f=i(3992),j=i(71310),m=i(30066),v=i(68198),y=i(37503),g=i(88034),w=i(29371),k=i(9321),C=i(6805),P=i(10157),b=i(44361),W=i(13746),T=i(947),R=i(2139),D=i(66218),I=i(31096),L=i(26138),B=i(73036),K=i(24711),N=i(42320),S=i(74480),z=i(80184);function E(e){var n,i=e.weaponId,E=e.footer,F=void 0!==E&&E,G=e.onClose,M=e.extraButtons,_=(0,Z.useContext)(W.R).data,q=(0,Z.useContext)(I.t).database,H=(0,S.Z)(i),J=null!==H&&void 0!==H?H:{},U=J.key,A=void 0===U?"":U,O=J.level,Q=void 0===O?0:O,V=J.refinement,X=void 0===V?1:V,Y=J.ascension,$=void 0===Y?0:Y,ee=J.lock,ne=J.location,ie=void 0===ne?"":ne,se=J.id,te=(0,N.Z)((function(){return D.Z.get(A)}),[A]),oe=(0,Z.useCallback)((function(e){q.weapons.set(i,e)}),[i,q]),re=(0,N.Z)((function(){return ie?T.Z.get(q.chars.LocationToCharacterKey(ie)):void 0}),[q,ie]),ae=re&&re.weaponTypeKey,le=(0,Z.useCallback)((function(e){return se&&q.weapons.set(se,{location:e})}),[q,se]),ce=(0,Z.useCallback)((function(e){return e.weaponTypeKey===(null===te||void 0===te?void 0:te.weaponType)}),[te]),de=(0,K.Z)(),xe=(0,s.Z)(de,3),ue=xe[0],pe=xe[1],he=xe[2],Ze=null===te||void 0===te?void 0:te.getImg($);(0,Z.useEffect)((function(){if(te&&oe&&te.key===(null===H||void 0===H?void 0:H.key)&&te.rarity<=2&&(Q>70||$>4)){var e=(0,s.Z)(R.vF[0],2),n=e[0],i=e[1];oe({level:n,ascension:i})}}),[te,H,oe,Q,$]);var fe=(0,Z.useMemo)((function(){return te&&H&&(0,B.mP)([te.data,(0,B.v0)(H)])}),[te,H]);return(0,z.jsx)(k.Z,{open:!!i,onClose:G,containerProps:{maxWidth:"md"},children:(0,z.jsxs)(j.Z,{children:[(0,z.jsx)(b.Z,{ascension:$,show:ue,onHide:he,onSelect:function(e){return oe({key:e})},weaponTypeFilter:ae}),(0,z.jsx)(r.Z,{children:te&&fe&&(0,z.jsxs)(a.ZP,{container:!0,spacing:1.5,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:3,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:1.5,children:[(0,z.jsx)(a.ZP,{item:!0,xs:6,sm:12,children:(0,z.jsx)(l.Z,{component:"img",src:Ze,className:"grad-".concat(te.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,z.jsx)(a.ZP,{item:!0,xs:6,sm:12,children:(0,z.jsx)(c.Z,{children:(0,z.jsx)("small",{children:te.description})})})]})}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,z.jsx)(l.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:(0,z.jsxs)(d.Z,{children:[(0,z.jsx)(x.Z,{color:"info",onClick:pe,children:null!==(n=null===te||void 0===te?void 0:te.name)&&void 0!==n?n:"Select a Weapon"}),(null===te||void 0===te?void 0:te.hasRefinement)&&(0,z.jsx)(C.Z,{refinement:X,setRefinement:function(e){return oe({refinement:e})}}),M]})}),(0,z.jsxs)(l.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[te&&(0,z.jsx)(w.Z,{level:Q,ascension:$,setBoth:oe,useLow:!te.hasRefinement}),(0,z.jsx)(x.Z,{color:"error",onClick:function(){return se&&q.weapons.set(se,{lock:!ee})},startIcon:ee?(0,z.jsx)(t.Z,{}):(0,z.jsx)(o.Z,{}),children:ee?"Locked":"Unlocked"})]}),(0,z.jsx)(c.Z,{children:(0,z.jsx)(P.q,{stars:te.rarity})}),(0,z.jsx)(c.Z,{variant:"subtitle1",children:(0,z.jsx)("strong",{children:te.passiveName})}),(0,z.jsx)(c.Z,{gutterBottom:!0,children:te.passiveName&&te.passiveDescription(fe.get(L.ri.weapon.refineIndex).value)}),(0,z.jsxs)(l.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,z.jsxs)(f.Z,{children:[(0,z.jsx)(u.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,z.jsx)(p.Z,{}),(0,z.jsx)(g.lD,{children:[L.ri.weapon.main,L.ri.weapon.sub,L.ri.weapon.sub2].map((function(e,n){var i=fe.get(e);return i.isEmpty||!i.value?null:(0,z.jsx)(g.JW,{node:i,component:h.ZP},i.info.key)}))})]}),_&&te.document&&(0,z.jsx)(y.Z,{sections:te.document})]})]})]})}),F&&se&&(0,z.jsx)(r.Z,{sx:{py:1},children:(0,z.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,z.jsx)(a.ZP,{item:!0,flexGrow:1,children:(0,z.jsx)(m.W,{location:ie,setLocation:le,filter:ce})}),(0,z.jsx)(a.ZP,{item:!0,flexGrow:2}),!!G&&(0,z.jsx)(a.ZP,{item:!0,children:(0,z.jsx)(v.Z,{sx:{height:"100%"},large:!0,onClick:G})})]})})]})})}}}]);
//# sourceMappingURL=923.6e543ff5.chunk.js.map