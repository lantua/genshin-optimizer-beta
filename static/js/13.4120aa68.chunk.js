(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[13],{277:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var a=n(53),c=n(52),r=n(232),i=n(70),l=n(9),s=n(255),o=n(0),j=n(264),u=n(273),d=n(102),b=n(25),O=n(289),x=n(54),h=n(275),f=n(268),v=n(1);function p(e){var t=e.field,n=e.fieldContext,a=Object(o.useContext)(j.a),c=a.data,r=a.oldData;if(!Object(o.useMemo)((function(){var e,n;return null===(e=null===t||void 0===t||null===(n=t.canShow)||void 0===n?void 0:n.call(t,c))||void 0===e||e}),[t,c]))return null;if("node"in t){var i=n?c.get(Object(f.d)(t.node,{target:n.data.data[0]})):c.get(t.node);if(i.isEmpty)return null;if(r){var l=n?r.get(Object(f.d)(t.node,{target:n.oldData.data[0]})):r.get(t.node),s=l.isEmpty?0:l.value;return Object(v.jsx)(g,{node:i,oldValue:s,suffix:t.textSuffix})}return Object(v.jsx)(g,{node:i,suffix:t.textSuffix})}return Object(v.jsx)(m,{field:t})}function m(e){var t,n=e.field,a=Object(o.useContext)(j.a).data,c=Object(b.f)(n.value,a),l=Object(b.f)(n.variant,a);return Object(v.jsxs)(r.a,{width:"100%",sx:{display:"flex",justifyContent:"space-between"},children:[Object(v.jsx)(x.a,{color:l,children:Object(v.jsx)("b",{children:n.text})}),Object(v.jsxs)(i.a,{children:["number"===typeof c?null===(t=c.toFixed)||void 0===t?void 0:t.call(c,n.fixed):c,n.unit]})]})}function g(e){var t=e.node,n=e.oldValue,l=e.suffix;if(t.isEmpty)return null;l=l&&Object(v.jsxs)("span",{children:[" ",l]});var s=t.key?d.b.get(t.key):"",o=t.formula,j="";if(n){var b=t.value-n;j=Object(v.jsxs)("span",{children:[Object(u.h)(n,t.unit),b?Object(v.jsxs)(x.a,{color:b>0?"success":"error",children:[" ",b>0?"+":"",Object(u.h)(b,t.unit)]}):""]})}else j=Object(u.h)(t.value,t.unit);var f=!!t.formula&&Object(v.jsx)(O.a,{placement:"top",title:Object(v.jsx)(i.a,{children:o}),children:Object(v.jsx)(r.a,{component:"span",sx:{cursor:"help",ml:1},children:Object(v.jsx)(c.a,{icon:a.v})})});return Object(v.jsxs)(r.a,{width:"100%",sx:{display:"flex",justifyContent:"space-between"},children:[Object(v.jsxs)(x.a,{color:t.variant,children:[t.key&&Object(v.jsxs)("span",{children:[h.a[t.key]," "]}),Object(v.jsx)("b",{children:s}),l,f]}),Object(v.jsx)(i.a,{children:j})]})}var y=Object(l.a)(s.a)((function(e){var t=e.theme;return{borderRadius:t.shape.borderRadius,overflow:"hidden",margin:0,"> .MuiListItem-root:nth-of-type(even)":{backgroundColor:t.palette.contentDark.main},"> .MuiListItem-root:nth-of-type(odd)":{backgroundColor:t.palette.contentDarker.main}}}))},280:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return h}));var a=n(8),c=n(10),r=n(125),i=n(9),l=n(443),s=n(257),o=n(0),j=n(1),u=["children","disableRipple","disableFocusRipple","disableTouchRipple"],d=["value","onChange","disabled","float"],b=Object(i.a)(l.c)((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,transition:"all 0.5s ease","&:hover":{backgroundColor:t.palette.primary.dark},"&.Mui-focused":{backgroundColor:t.palette.primary.dark},"&.Mui-disabled":{backgroundColor:t.palette.primary.dark}}})),O=Object(i.a)(s.a)((function(e){return{backgroundColor:e.theme.palette.primary.main,padding:0,overflow:"hidden",div:{width:"100%",height:"100%"}}}));function x(e){var t=e.children,n=(e.disableRipple,e.disableFocusRipple,e.disableTouchRipple,Object(r.a)(e,u));return Object(j.jsx)(O,Object(c.a)(Object(c.a)({disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0},n),{},{children:t}))}function h(e){var t=e.value,n=void 0===t?0:t,i=e.onChange,l=e.disabled,s=void 0!==l&&l,u=e.float,O=void 0!==u&&u,x=Object(r.a)(e,d),h=Object(o.useState)(n),f=Object(a.a)(h,2),v=f[0],p=f[1],m=Object(o.useState)(!1),g=Object(a.a)(m,2),y=g[0],k=g[1],C=Object(o.useMemo)((function(){return O?parseFloat:parseInt}),[O]),w=Object(o.useCallback)((function(){i(v),k(!1)}),[i,v,k]),S=Object(o.useCallback)((function(){k(!0)}),[k]);Object(o.useEffect)((function(){return p(n)}),[n,p]);var _=Object(o.useCallback)((function(e){return p(C(e.target.value)||0)}),[p,C]),D=Object(o.useCallback)((function(e){return"Enter"===e.key&&w()}),[w]);return Object(j.jsx)(b,Object(c.a)({value:y&&!v?"":v,"aria-label":"custom-input",type:"number",onChange:_,onBlur:w,onFocus:S,disabled:s,onKeyDown:D},x))}},289:function(e,t,n){"use strict";var a=n(6),c=n(10),r=n(125),i=n(9),l=n(757),s=n(526),o=n(1),j=["className"],u=Object(i.a)((function(e){var t=e.className,n=Object(r.a)(e,j);return Object(o.jsx)(l.a,Object(c.a)(Object(c.a)({},n),{},{arrow:!0,classes:{popper:t}}))}))((function(e){var t,n=e.theme;return t={},Object(a.a)(t,"& .".concat(s.a.arrow),{color:n.palette.common.black}),Object(a.a)(t,"& .".concat(s.a.tooltip),{backgroundColor:n.palette.common.black}),t}));t.a=u},290:function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return S}));var a,c,r,i,l=n(10),s=n(38),o=n(125),j=n(363),u=n(364),d=n(774),b=n(238),O=n(70),x=n(239),h=n(0),f=n(124),v=n(270),p=n(158),m=n(263),g=n(269),y=n(292),k=n(1),C=["value","onChange","unSelectText","unSelectIcon","inventory","noUnselect","filter"];function w(e){var t,n=e.value,w=e.onChange,_=e.unSelectText,D=e.unSelectIcon,A=e.inventory,E=void 0!==A&&A,I=e.noUnselect,T=void 0!==I&&I,K=e.filter,M=void 0===K?function(){return!0}:K,R=Object(o.a)(e,C),L=Object(f.a)("ui").t,N=Object(h.useContext)(p.b),W=Object(m.a)(v.b.getAll,[]),z=Object(m.a)(v.b.get(n),[n]),G=N._getCharKeys().filter((function(e){return(null===W||void 0===W?void 0:W[e])&&M(W[e],e)})).sort();return Object(k.jsxs)(g.a,Object(l.a)(Object(l.a)({},R),{},{title:null!==(t=null===z||void 0===z?void 0:z.name)&&void 0!==t?t:E?L(a||(a=Object(s.a)(["inventory"]))):null!==_&&void 0!==_?_:L(c||(c=Object(s.a)(["unselect"]))),color:n?"success":"primary",startIcon:null!==z&&void 0!==z&&z.thumbImg?Object(k.jsx)(y.a,{src:z.thumbImgSide}):E?Object(k.jsx)(j.a,{}):null!==D&&void 0!==D?D:Object(k.jsx)(u.a,{}),children:[!T&&(E?Object(k.jsxs)(d.a,{onClick:function(){return w("")},selected:""===n,disabled:""===n,children:[Object(k.jsx)(b.a,{children:Object(k.jsx)(j.a,{})}),Object(k.jsx)(O.a,{variant:"inherit",noWrap:!0,children:L(r||(r=Object(s.a)(["inventory"])))})]}):Object(k.jsxs)(d.a,{onClick:function(){return w("")},selected:""===n,disabled:""===n,children:[Object(k.jsx)(b.a,{children:Object(k.jsx)(u.a,{})}),Object(k.jsx)(O.a,{variant:"inherit",noWrap:!0,children:L(i||(i=Object(s.a)(["unselect"])))})]})),!T&&Object(k.jsx)(x.a,{},"div"),!!W&&S(W,G,w,n)]}))}function S(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return t.map((function(t){var c,r;return Object(k.jsxs)(d.a,{onClick:function(){return n(t)},selected:a===t,disabled:a===t,children:[Object(k.jsx)(b.a,{children:Object(k.jsx)(y.a,{src:null===(c=e[t])||void 0===c?void 0:c.thumbImgSide})}),Object(k.jsx)(O.a,{variant:"inherit",noWrap:!0,children:null===e||void 0===e||null===(r=e[t])||void 0===r?void 0:r.name})]},t)}))}},292:function(e,t,n){"use strict";var a=n(362),c=Object(a.a)("img")((function(e){var t=e.theme;return{display:"inline-block",width:"auto",height:"2.3em",lineHeight:1,verticalAlign:"text-bottom",marginTop:t.spacing(-3),marginLeft:t.spacing(-1.25),marginRight:t.spacing(-1),marginBottom:t.spacing(-1)}}));t.a=c},295:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(232),c=n(403),r=n(0),i=n(264),l=n(25),s=n(303),o=n(277),j=n(1);function u(e){var t=e.sections,n=Object(r.useContext)(i.a).data,u=null===t||void 0===t?void 0:t.map((function(e,t){var r,i;if(e.canShow&&!e.canShow(n))return null;var u=Object(l.f)(e.text,n),d=null!==(r=e.fields)&&void 0!==r?r:[];return Object(j.jsxs)(a.a,{display:"flex",flexDirection:"column",gap:1,children:[u&&Object(j.jsx)("div",{children:u}),d.length>0&&Object(j.jsx)(o.a,{children:null===d||void 0===d||null===(i=d.map)||void 0===i?void 0:i.call(d,(function(e,t){return Object(j.jsx)(c.a,{children:Object(j.jsx)(o.c,{field:e})},t)}))}),!!e.conditional&&Object(j.jsx)(s.a,{conditional:e.conditional,hideDesc:!0})]},"section"+t)})).filter((function(e){return e}));return u.length?Object(j.jsx)(a.a,{display:"flex",flexDirection:"column",gap:1,children:u}):null}},296:function(e,t,n){"use strict";var a=n(10),c=n(125),r=n(9),i=n(258),l=n(1),s=["expand"],o=Object(r.a)((function(e){e.expand;var t=Object(c.a)(e,s);return Object(l.jsx)(i.a,Object(a.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));t.a=o},298:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(38),r=n(363),i=n(70),l=n(124),s=n(270),o=n(263),j=n(1);function u(e){var t=e.location,n=Object(l.a)("ui").t,u=Object(o.a)(s.b.get(null!==t&&void 0!==t?t:""),[t]);return Object(j.jsx)(i.a,{component:"span",children:null!==u&&void 0!==u&&u.name?u.nameWIthIcon:Object(j.jsxs)("span",{children:[Object(j.jsx)(r.a,{sx:{verticalAlign:"text-bottom"}})," ",n(a||(a=Object(c.a)(["inventory"])))]})})}},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(354),c=n(239),r=n(445),i=n(232),l=n(403),s=n(0),o=n(8),j=n(367),u=n(368),d=n(257),b=n(774),O=n(269),x=n(267),h=n(264),f=n(25),v=n(1);function p(e){var t=e.conditional,n=e.conditionalValue,a=e.disabled,r=void 0!==a&&a,i=Object(s.useContext)(h.a),l=i.character,p=i.characterDispatch,m=Object(s.useCallback)((function(e){var n=Object(f.e)(l.conditional);Object(f.k)(n,t.path,e),p({conditional:n})}),[t,l,p]);if(1===Object.keys(t.states).length){var g=Object(o.a)(Object.entries(t.states)[0],2),y=g[0],k=g[1],C=k.name&&Object(v.jsx)(x.a,{color:"success",children:k.name});return Object(v.jsxs)(d.a,{fullWidth:!0,size:"small",onClick:function(){return m(n?void 0:y)},disabled:r,startIcon:n?Object(v.jsx)(j.a,{}):Object(v.jsx)(u.a,{}),children:[t.name," ",C]})}var w=n?t.states[n]:void 0,S=(null===w||void 0===w?void 0:w.name)&&Object(v.jsx)(x.a,{color:w?"success":"secondary",children:w?w.name:"Not Active"});return Object(v.jsxs)(O.a,{fullWidth:!0,size:"small",title:Object(v.jsxs)("span",{children:[t.name," ",S]}),disabled:r,children:[Object(v.jsx)(b.a,{onClick:function(){return m()},selected:!w,disabled:!w,children:Object(v.jsx)("span",{children:"Not Active"})}),Object(v.jsx)(c.a,{}),Object.entries(t.states).map((function(e){var t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(v.jsx)(b.a,{onClick:function(){return m(a)},selected:n===a,disabled:n===a,children:c.name},a)}))]})}var m=n(265),g=n(277),y=n(268);function k(e){var t,n,o=e.conditional,j=e.hideHeader,u=void 0!==j&&j,d=e.hideDesc,b=void 0!==d&&d,O=e.fieldContext,x=Object(s.useContext)(h.a).data;if(!(!o.canShow||!(O?x.get(Object(y.d)(o.canShow,{target:O.data.data[0]})).isEmpty:x.get(o.canShow).isEmpty)))return null;var k=x.get(o.value).value,C=!b&&Object(f.f)(o.description,x),w=null!==(t=o.header)&&void 0!==t?t:{},S=w.icon,_=w.title,D=w.action;S=Object(f.f)(S,x);var A=k&&(null===(n=o.states[k])||void 0===n?void 0:n.fields);return Object(v.jsxs)(m.a,{children:[!u&&o.header&&Object(v.jsx)(a.a,{avatar:S,title:_,action:D,titleTypographyProps:{variant:"subtitle2"}}),!u&&o.header&&Object(v.jsx)(c.a,{}),!!o.name&&Object(v.jsxs)(r.a,{children:[C&&Object(v.jsx)(i.a,{mb:1,children:C}),Object(v.jsx)(p,{conditional:o,conditionalValue:k})]}),A&&Object(v.jsx)(g.a,{sx:{m:0},children:A.map((function(e,t){return Object(v.jsx)(l.a,{children:Object(v.jsx)(g.c,{field:e,fieldContext:O})},t)}))})]})}},308:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return y}));var a=n(14),c=n(8),r=n(291),i=n(10),l=n(103),s=n.n(l),o=n(70),j=n(262),u=n(271),d=n(270),b=n(54),O=n(267),x=n(25),h=n(276),f=n(1),v={title:Object(f.jsx)(b.a,{color:"warning",children:"ERROR"})},p=Object(i.a)({normal:"Normal Atk.",charged:"Charged Atk.",plunging:"Plunging Atk.",skill:"Ele. Skill",burst:"Ele. Burst",passive:"Passive",passive1:"1st Asc. Pass.",passive2:"4th Asc. Pass.",passive3:"Util. Pass."},Object.fromEntries(Object(x.p)(1,6).map((function(e){return["constellation".concat(e),"Const. ".concat(e)]}))));function m(e,t){return g.apply(this,arguments)}function g(){return(g=Object(r.a)(s.a.mark((function e(t,n){var a,r,i,l,b,x,m,g,y,k,C,w,S;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",v);case 2:if("basic"!==n){e.next=6;break}return e.abrupt("return",{title:"Basic Stats"});case 6:if("reaction"!==n){e.next=10;break}return e.abrupt("return",{title:"Transformative Reactions"});case 10:if(!n.includes(":")){e.next=31;break}if(a=n.split(":"),r=Object(c.a)(a,2),i=r[0],l=r[1],"artifact"!==i){e.next=21;break}return e.next=15,u.a.get(l);case 15:if(b=e.sent){e.next=18;break}return e.abrupt("return",v);case 18:return e.abrupt("return",{title:b.name,icon:b.defIconSrc});case 21:if("weapon"!==i){e.next=29;break}return e.next=24,h.a.get(l);case 24:if(x=e.sent){e.next=27;break}return e.abrupt("return",v);case 27:return m=t.get(j.b.weapon.asc).value,e.abrupt("return",{title:x.name,icon:m<2?x.img:x.imgAwaken});case 29:e.next=44;break;case 31:if(g=t.get(j.b.charKey).value,y=t.get(j.b.charEle).value,g&&y){e.next=35;break}return e.abrupt("return",v);case 35:return e.next=37,d.b.get(g);case 37:if(k=e.sent,C=["normal","charged","plunging"].includes(n)?"auto":n,w=null===k||void 0===k?void 0:k.getTalentOfKey(C,y)){e.next=42;break}return e.abrupt("return",v);case 42:return S=p[n],e.abrupt("return",{icon:w.img,title:w.name,action:S?Object(f.jsx)(O.a,{children:Object(f.jsx)(o.a,{variant:"subtitle2",children:S})}):void 0});case 44:return e.abrupt("return",v);case 45:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){var t=e.getDisplay(),n=Object.entries(t),r=n.filter((function(e){return"basic"===Object(c.a)(e,1)[0]})),i=n.filter((function(e){return"reaction"===Object(c.a)(e,1)[0]})),l=n.filter((function(e){return Object(c.a)(e,1)[0].startsWith("weapon")})),s=n.filter((function(e){return Object(c.a)(e,1)[0].startsWith("artifact")})),o=n.filter((function(e){var t=Object(c.a)(e,1)[0];return"basic"!==t&&"reaction"!==t&&!t.startsWith("weapon")&&!t.startsWith("artifact")}));return[].concat(Object(a.a)(r),Object(a.a)(o),Object(a.a)(l),Object(a.a)(s),Object(a.a)(i))}},309:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(6),n(10),n(38),n(14),n(272),n(105),n(266),n(267);var a=n(126),c=n(18),r=n(17),i=n(1),l=Object(c.a)((function e(){if(Object(r.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}));l.printStat=function(e,t){return Object(i.jsx)(i.Fragment,{})};var s=function(e){return Object(i.jsx)(a.a,{ns:"sheet_gen",key18:e})}},310:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(8),c=n(16),r=n(6),i=n(10),l=n(14),s=n(25),o=n(60),j=n(106),u=[3,4,6],d={hp:6,atk:6,def:6,hp_:4,atk_:4,def_:4,eleMas:4,enerRech_:4,critRate_:3,critDMG_:3},b={};function O(e,t,n,a){if(5!==e.length)for(var c=0,o=u;c<o.length;c++){var j=o[c];t[j]>0&&O([].concat(Object(l.a)(e),[j]),Object(i.a)(Object(i.a)({},t),{},Object(r.a)({},j,t[j]-j)),n-j,a*t[j]/n)}else Object(s.k)(b,e,a)}O([0],{3:6,4:20,6:18},44,1),O([3],{3:3,4:20,6:18},41,1),O([4],{3:6,4:16,6:18},40,1),O([6],{3:6,4:20,6:12},38,1);for(var x=Array(6).fill(0).map((function(e,t){for(var n=[1],a=0,c=1;++a<=t;)c*=t-a+1,c/=a,n.push(c);return n})),h=[[1]],f=function(){var e=h[h.length-1],t=Array(e.length+3).fill(0);e.forEach((function(e,n){for(var a=0,c=[0,1,2,3];a<c.length;a++){t[n+c[a]]+=e}})),h.push(t.map((function(e){return e/4})))};h.length<6;)f();for(var v=function(){var e=m[p],t=e.reduce((function(e,t){return e+t}));e.forEach((function(e,n,a){a[n]=t,t-=e}))},p=0,m=h;p<m.length;p++)v();function g(e,t){if(e.rarity<=2)return NaN;var n=e.rarity,l=e.level,O=e.substats,f=Object(i.a)({},t),v=new Set(Object.keys(f)),p=0,m=e.mainStatKey;if(m in f){var g=4*n;if(j[n][m][g]<f[m])return 0;delete f[m],v.delete(m)}var y,k=Object(c.a)(O);try{for(k.s();!(y=k.n()).done;){var C=y.value,w=C.key,S=C.value;w?v.has(w)&&(v.delete(w),f[w]>S?f[w]-=S:delete f[w]):p+=1}}catch(N){k.e(N)}finally{k.f()}if(p+=4-O.length,v.size>p||Object.keys(f).length>4)return 0;for(var _=o.a.rollsRemaining(l,n)-p,D=0,A=Object.entries(f);D<A.length;D++){var E=Object(a.a)(A[D],2),I=E[0],T=E[1];f[I]=Math.max(Math.ceil(10*T/o.a.maxSubstatValues(I,n)),1)}var K=0,M=Object.entries(f).map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1],r=v.has(n)?1:0,i=Math.ceil(c/10)-r;return K+=i,{target:c,filler:r,minUpgrade:i}})).reverse();if(K>_)return 0;var R=Object(r.a)({},_,1),L=_-K;return M.forEach((function(e,t){for(var n,c,r,i=e.target,l=e.filler,s=e.minUpgrade,o={},j=s;j<=s+L;j++)for(var u=i-7*(j+l),d=u>0?h[j+l][u]:1,b=0,O=Object.entries(R);b<O.length;b++){var f,v=Object(a.a)(O[b],2),p=v[0],m=v[1],g=parseInt(p);if(!(g<j)){var y=(c=j,r=4-t,x[n=g][c]*Math.pow(r-1,n-c)/Math.pow(r,n)),k=g-j;o[k]=(null!==(f=o[k])&&void 0!==f?f:0)+m*d*y}}R=o})),function(e,t,n){var a,r,i=null!==(a=d[e])&&void 0!==a?a:0,l=0,o={3:2,4:5,6:3},j=b[i],O=Object(c.a)(t);try{for(O.s();!(r=O.n()).done;){var h=r.value.key;if(h){var f=d[h];j=j[f],o[f]-=1}}}catch(N){O.e(N)}finally{O.f()}i&&(o[i]-=1);var v,p={3:0,4:0,6:0},m=Object(c.a)(n);try{for(m.s();!(v=m.n()).done;){var g=v.value;p[d[g]]+=1}}catch(N){m.e(N)}finally{m.f()}var y=0;Object(s.d)(j,[],(function(e){return"number"===typeof e}),(function(e,t){y+=e;var n,a={3:0,4:0,6:0},r=Object(c.a)(t);try{for(r.s();!(n=r.n()).done;){a[n.value]+=1}}catch(N){r.e(N)}finally{r.f()}var i,s=e,o=Object(c.a)(u);try{for(o.s();!(i=o.n()).done;){var j=i.value,d=a[j],b=p[j];if(d<b)return;s*=x[d][b]}}catch(N){o.e(N)}finally{o.f()}l+=s}));var k,C=Object(c.a)(u);try{for(C.s();!(k=C.n()).done;){var w=k.value;l/=x[o[w]][p[w]]}}catch(N){C.e(N)}finally{C.f()}return l/y}(e.mainStatKey,O,v)*Object.values(R).reduce((function(e,t){return e+t}))}},313:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(8),c=n(267),r=n(25),i=n(1);function l(e){var t=e.value,n=e.valid,l="number"===typeof t?["roll".concat(Object(r.b)(Math.floor(.05*t)+1,1,6)),t.toFixed(2)+"%"]:["secondary",t],s=Object(a.a)(l,2),o=s[0],j=s[1];return n||(o="error"),Object(i.jsx)(c.a,{color:o,children:j})}},314:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(10),c=n(125),r=n(9),i=n(257),l=n(1),s=["children","disabled"],o=Object(r.a)(i.a)((function(e){var t=e.theme;return{"&.Mui-disabled":{backgroundColor:t.palette.primary.dark,color:t.palette.text.secondary}}}));function j(e){var t=e.children,n=(e.disabled,Object(c.a)(e,s));return Object(l.jsx)(o,Object(a.a)(Object(a.a)({},n),{},{disabled:!0,children:t}))}},315:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(10),c=n(125),r=n(364),i=n(9),l=n(724),s=n(257),o=n(280),j=n(314),u=n(1),d=["name","children","value","placeholder","defaultValue","onValueChange","percent","disabled","onReset"],b=Object(i.a)(l.a)({display:"flex"});function O(e){var t=e.name,n=e.children,i=e.value,l=e.placeholder,O=e.defaultValue,x=void 0===O?0:O,h=e.onValueChange,f=e.percent,v=void 0!==f&&f,p=e.disabled,m=void 0!==p&&p,g=e.onReset,y=Object(c.a)(e,d);return Object(u.jsxs)(b,Object(a.a)(Object(a.a)({},y),{},{children:[n,Object(u.jsx)(j.a,{sx:{whiteSpace:"nowrap"},children:t}),Object(u.jsx)(o.a,{sx:{flexBasis:30,flexGrow:1},children:Object(u.jsx)(o.c,{sx:{px:1},inputProps:{sx:{textAlign:"right"}},float:v,placeholder:l,value:i,onChange:h,disabled:m,endAdornment:v?"%":void 0})}),Object(u.jsx)(s.a,{onClick:function(){return g?g():h(x)},disabled:m||i===x,children:Object(u.jsx)(r.a,{})})]}))}},320:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(14),c=n(8),r=n(445),i=n(250),l=n(239),s=n(407),o=n(232),j=n(70),u=n(0),d=n(272),b=n(263),O=n(19),x=n(276),h=n(265),f=n(261),v=n(278),p=n(266),m=n(281),g=n(274),y=n(299),k=n(1);function C(e){var t=e.show,n=e.onHide,C=e.onSelect,w=e.filter,S=void 0===w?function(){return!0}:w,_=e.weaponFilter,D=Object(b.a)(x.a.getAll,[]),A=Object(u.useState)(null!==_&&void 0!==_?_:""),E=Object(c.a)(A,2),I=E[0],T=E[1];Object(u.useEffect)((function(){return _&&T(_)}),[_]);var K=D?Object(a.a)(new Set(O.k)).filter((function(e){return S(D[e])})).filter((function(e){var t;return!I||I===(null===D||void 0===D||null===(t=D[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var n,a,c,r;return(null!==(n=null===D||void 0===D||null===(a=D[t])||void 0===a?void 0:a.rarity)&&void 0!==n?n:0)-(null!==(c=null===D||void 0===D||null===(r=D[e])||void 0===r?void 0:r.rarity)&&void 0!==c?c:0)})):[];return D?Object(k.jsx)(m.a,{open:t,onClose:n,children:Object(k.jsxs)(h.a,{children:[Object(k.jsx)(r.a,{sx:{py:1},children:Object(k.jsxs)(i.a,{container:!0,children:[Object(k.jsx)(i.a,{item:!0,flexGrow:1,children:Object(k.jsx)(y.a,{value:I,onChange:T,disabled:!!_,size:"small"})}),Object(k.jsx)(i.a,{item:!0,children:Object(k.jsx)(v.a,{onClick:n})})]})}),Object(k.jsx)(l.a,{}),Object(k.jsx)(r.a,{children:Object(k.jsx)(i.a,{container:!0,spacing:1,children:K.map((function(e){var t,a=D[e];return Object(k.jsx)(i.a,{item:!0,lg:3,md:4,children:Object(k.jsx)(f.a,{sx:{height:"100%"},children:Object(k.jsxs)(s.a,{onClick:function(){n(),C(e)},sx:{display:"flex"},children:[Object(k.jsx)(o.a,{component:"img",src:a.img,sx:{width:100,height:"auto"},className:" grad-".concat(a.rarity,"star")}),Object(k.jsxs)(o.a,{sx:{flexGrow:1,px:1},children:[Object(k.jsx)(j.a,{variant:"subtitle1",children:a.name}),Object(k.jsxs)(j.a,{children:[Object(k.jsx)(p.a,{src:null===(t=d.a.weaponTypes)||void 0===t?void 0:t[a.weaponType]})," ",Object(k.jsx)(g.a,{stars:a.rarity,colored:!0})]})]})]})})},e)}))})}),Object(k.jsx)(l.a,{}),Object(k.jsx)(r.a,{sx:{py:1},children:Object(k.jsx)(v.a,{large:!0,onClick:n})})]})}):null}},321:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var a=n(38),c=n(53),r=n(52),i=n(382),l=n(383),s=n(70),o=n(156),j=n(445),u=n(232),d=n(404),b=n(258),O=n(250),x=n(405),h=n(446),f=n(724),v=n(257),p=n(757),m=n(0),g=n(124),y=n(289),k=n(261),C=n(290),w=n(298),S=n(54),_=n(267),D=n(274),A=n(158),E=n(8);var I,T,K,M=n(263),R=n(61),L=n(127),N=n(25),W=n(60),z=n(271),G=n(128),P=n(313),V=n(310),F=n(102),B=n(1),U=new Set(R.b);function H(e){var t,n,R,H,q=e.artifactId,J=e.artifactObj,X=e.onEdit,Q=e.onDelete,Y=e.mainStatAssumptionLevel,Z=void 0===Y?0:Y,$=e.effFilter,ee=void 0===$?U:$,te=e.probabilityFilter,ne=Object(g.a)(["artifact"]).t,ae=Object(m.useContext)(A.b),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(m.useContext)(A.b),n=Object(m.useState)(t._getArt(e)),a=Object(E.a)(n,2),c=a[0],r=a[1];return Object(m.useEffect)((function(){return r(t._getArt(e))}),[t,e]),Object(m.useEffect)((function(){return e?t.followArt(e,r):void 0}),[e,r,t]),c}(q),re=Object(M.a)(z.a.get(null===(t=null!==J&&void 0!==J?J:ce)||void 0===t?void 0:t.setKey),[J,ce]),ie=!J&&ae===A.c,le=null!==J&&void 0!==J?J:ce;if(!le)return null;var se=le.id,oe=le.lock,je=le.slotKey,ue=le.rarity,de=le.level,be=le.mainStatKey,Oe=le.substats,xe=le.exclude,he=le.location,fe=void 0===he?"":he,ve=Math.max(Math.min(Z,4*ue),de),pe="roll"+(Math.floor(Math.max(de,0)/4)+1),me=Object(B.jsx)(S.a,{color:ve!==de?"warning":void 0,children:Object(L.b)(null!==(n=W.a.mainStatValue(be,ue,ve))&&void 0!==n?n:0,F.b.unit(be))}),ge=W.a.getArtifactEfficiency(le,ee),ye=ge.currentEfficiency,ke=ge.maxEfficiency,Ce=0!==ke,we=(null===re||void 0===re?void 0:re.getSlotName(je))||"Unknown Piece Name",Se=null===re||void 0===re?void 0:re.getSlotDesc(je),_e=Se&&Object(B.jsx)(y.a,{placement:"top",title:Object(B.jsx)(s.a,{children:Se}),children:Object(B.jsx)("span",{children:Object(B.jsx)(r.a,{icon:c.s})})}),De=null===re||void 0===re?void 0:re.setEffects,Ae=re&&De&&Object(B.jsx)(y.a,{placement:"top",title:Object(B.jsx)("span",{children:Object.keys(De).map((function(e){return Object(B.jsxs)("span",{children:[Object(B.jsx)(s.a,{variant:"h6",children:Object(B.jsx)(_.a,{color:"success",children:ne("setEffectNum",{setNum:e})})}),Object(B.jsx)(s.a,{children:re.setEffectDesc(e)})]},e)}))}),children:Object(B.jsx)("span",{children:Object(B.jsx)(r.a,{icon:c.s})})});return Object(B.jsx)(m.Suspense,{fallback:Object(B.jsx)(o.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:Object(B.jsxs)(k.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(B.jsxs)(j.a,{className:"grad-".concat(ue,"star"),sx:{pt:1,pb:0,pr:0},children:[Object(B.jsxs)(u.a,{component:"div",sx:{display:"flex",alignItems:"center",pr:1},children:[Object(B.jsx)(d.a,{size:"small",label:Object(B.jsx)("strong",{children:" +".concat(de)}),color:pe}),Object(B.jsxs)(s.a,{sx:{pl:1,flexGrow:1},children:[we," ",_e]}),Object(B.jsx)(b.a,{color:"primary",disabled:!ie,onClick:function(){return ae.updateArt({lock:!oe},se)},children:oe?Object(B.jsx)(i.a,{}):Object(B.jsx)(l.a,{})})]}),Object(B.jsxs)(O.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(B.jsxs)(O.a,{item:!0,flexGrow:1,children:[Object(B.jsx)(s.a,{color:"text.secondary",variant:"body2",children:Object(B.jsx)(G.c,{slotKey:je})}),Object(B.jsx)(s.a,{variant:"h6",children:F.b.get(be)}),Object(B.jsx)(s.a,{variant:"h5",children:Object(B.jsx)("strong",{children:me})}),Object(B.jsx)(D.a,{stars:ue,colored:!0})]}),Object(B.jsx)(O.a,{item:!0,maxWidth:"40%",sx:{mt:-3,mb:-1,pl:-2},alignSelf:"flex-end",children:Object(B.jsx)(x.a,{component:"img",image:null!==(R=null===re||void 0===re?void 0:re.slotIcons[je])&&void 0!==R?R:"",width:"100%",height:"auto"})})]})]}),Object(B.jsxs)(j.a,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:0},children:[Oe.map((function(e,t){var n,a,c;if(!e.value)return null;var r=null!==(n=null===(a=e.rolls)||void 0===a?void 0:a.length)&&void 0!==n?n:0,i="roll".concat(Object(N.b)(r,1,6)),l=null!==(c=e.efficiency)&&void 0!==c?c:0,o=.3+l/100*.7,j=F.b.get(e.key);return Object(B.jsxs)(u.a,{sx:{display:"flex"},children:[Object(B.jsxs)(u.a,{sx:{flexGrow:1},children:[Object(B.jsx)(_.a,{color:r?i:"error",sx:{mr:1},children:Object(B.jsx)("strong",{children:r||"?"})}),Object(B.jsxs)(s.a,{color:r?"".concat(i,".main"):"error.main",component:"span",children:[j,"+".concat(Object(L.b)(e.value,F.b.unit(e.key)))]})]}),Object(B.jsx)(s.a,{sx:{opacity:o},children:e.key&&ee.has(e.key)?Object(L.b)(l,"eff"):"-"})]},t)})),Object(B.jsxs)(u.a,{sx:{display:"flex",my:1},children:[Object(B.jsx)(s.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ne(I||(I=Object(a.a)(["editor.curSubEff"])))}),Object(B.jsx)(P.a,{value:ye,valid:Ce})]}),ye!==ke&&Object(B.jsxs)(u.a,{sx:{display:"flex",mb:1},children:[Object(B.jsx)(s.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ne(T||(T=Object(a.a)(["editor.maxSubEff"])))}),Object(B.jsx)(P.a,{value:ke,valid:Ce})]}),Object(B.jsx)(u.a,{flexGrow:1}),te&&Object(B.jsxs)("strong",{children:["Probability: ",(100*Object(V.a)(le,te)).toFixed(2),"%"]}),Object(B.jsxs)(s.a,{color:"success.main",children:[null!==(H=null===re||void 0===re?void 0:re.name)&&void 0!==H?H:"Artifact Set"," ",Ae]})]}),Object(B.jsx)(h.a,{children:Object(B.jsxs)(O.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(B.jsx)(O.a,{item:!0,xs:"auto",flexShrink:1,children:ie?Object(B.jsx)(C.b,{size:"small",inventory:!0,value:fe,onChange:function(e){return ae.setArtLocation(q,e)}}):Object(B.jsx)(w.a,{location:fe})}),Object(B.jsx)(O.a,{item:!0,flexGrow:1,sx:{mr:1}}),ie&&Object(B.jsx)(O.a,{item:!0,xs:"auto",children:Object(B.jsxs)(f.a,{sx:{height:"100%"},children:[!!X&&Object(B.jsx)(v.a,{color:"info",onClick:function(){return X(se)},size:"small",children:Object(B.jsx)(r.a,{icon:c.m,className:"fa-fw"})}),Object(B.jsx)(p.a,{title:Object(B.jsx)(s.a,{children:ne(K||(K=Object(a.a)(["excludeArtifactTip"])))}),placement:"top",arrow:!0,children:Object(B.jsx)(v.a,{onClick:function(){return ae.updateArt({exclude:!xe},se)},color:xe?"error":"success",size:"small",children:Object(B.jsx)(r.a,{icon:xe?c.b:c.e,className:"fa-fw"})})}),!!Q&&Object(B.jsx)(v.a,{color:"error",size:"small",onClick:function(){return Q(se)},disabled:oe,children:Object(B.jsx)(r.a,{icon:c.D,className:"fa-fw"})})]})})]})})]})})}},322:function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var a,c,r,i,l=n(53),s=n(52),o=n(382),j=n(383),u=n(407),d=n(156),b=n(354),O=n(258),x=n(250),h=n(70),f=n(232),v=n(445),p=n(724),m=n(257),g=n(0),y=n(272),k=n(261),C=n(10),w=n(38),S=n(125),_=n(363),D=n(364),A=n(774),E=n(238),I=n(239),T=n(124),K=n(270),M=n(158),R=n(263),L=n(269),N=n(292),W=n(1),z=["value","onChange","unSelectText","unSelectIcon","inventory","noUnselect","filter"];function G(e){var t,n=e.value,l=e.onChange,s=e.unSelectText,o=e.unSelectIcon,j=e.inventory,u=void 0!==j&&j,d=e.noUnselect,b=void 0!==d&&d,O=e.filter,x=void 0===O?function(){return!0}:O,f=Object(S.a)(e,z),v=Object(T.a)("ui").t,p=Object(g.useContext)(M.b),m=Object(R.a)(K.b.getAll,[]),y=Object(R.a)(K.b.get(n),[n]),k=p._getCharKeys().filter((function(e){return(null===m||void 0===m?void 0:m[e])&&x(m[e],e)})).sort();return Object(W.jsxs)(L.a,Object(C.a)(Object(C.a)({},f),{},{title:null!==(t=null===y||void 0===y?void 0:y.name)&&void 0!==t?t:u?v(a||(a=Object(w.a)(["inventory"]))):null!==s&&void 0!==s?s:v(c||(c=Object(w.a)(["unselect"]))),color:n?"success":"primary",startIcon:null!==y&&void 0!==y&&y.thumbImg?Object(W.jsx)(N.a,{src:y.thumbImgSide}):u?Object(W.jsx)(_.a,{}):null!==o&&void 0!==o?o:Object(W.jsx)(D.a,{}),children:[!b&&(u?Object(W.jsxs)(A.a,{onClick:function(){return l("")},selected:""===n,disabled:""===n,children:[Object(W.jsx)(E.a,{children:Object(W.jsx)(_.a,{})}),Object(W.jsx)(h.a,{variant:"inherit",noWrap:!0,children:v(r||(r=Object(w.a)(["inventory"])))})]}):Object(W.jsxs)(A.a,{onClick:function(){return l("")},selected:""===n,disabled:""===n,children:[Object(W.jsx)(E.a,{children:Object(W.jsx)(D.a,{})}),Object(W.jsx)(h.a,{variant:"inherit",noWrap:!0,children:v(i||(i=Object(w.a)(["unselect"])))})]})),!b&&Object(W.jsx)(I.a,{},"div"),!!m&&P(m,k,l,n)]}))}function P(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return t.map((function(t){var c;return Object(W.jsxs)(A.a,{onClick:function(){return n(t)},selected:a===t,disabled:a===t,children:[Object(W.jsx)(E.a,{children:Object(W.jsx)(N.a,{src:e[t].thumbImgSide})}),Object(W.jsx)(h.a,{variant:"inherit",noWrap:!0,children:null===e||void 0===e||null===(c=e[t])||void 0===c?void 0:c.name})]},t)}))}var V=n(298),F=n(297),B=n(266),U=n(274),H=n(275),q=n(45),J=n(262),X=n(273),Q=n(294),Y=n(102),Z=n(276);function $(e){var t,n=e.weaponId,a=e.onClick,c=e.onEdit,r=e.onDelete,i=e.canEquip,C=void 0!==i&&i,w=Object(g.useContext)(M.b),S=Object(Q.a)(n),_=Object(R.a)(null!==S&&void 0!==S&&S.key?Z.a.get(S.key):void 0,[null===S||void 0===S?void 0:S.key]),D=Object(g.useCallback)((function(e){return e.weaponTypeKey===(null===_||void 0===_?void 0:_.weaponType)}),[_]),A=Object(g.useCallback)((function(e){return Object(W.jsx)(u.a,{onClick:function(){return null===a||void 0===a?void 0:a(n)},sx:{height:"100%"},children:e})}),[a,n]),E=Object(g.useCallback)((function(e){return w.setWeaponLocation(n,e)}),[w,n]),I=Object(g.useMemo)((function(){return _&&S&&Object(X.a)([_.data,Object(X.d)(S)])}),[_,S]);if(!S||!_||!I)return null;var T=S.level,K=S.ascension,L=S.refinement,N=S.id,z=S.location,P=void 0===z?"":z,$=S.lock,ee=I.get(J.d.weapon.type).value,te=[J.d.weapon.main,J.d.weapon.sub,J.d.weapon.sub2].map((function(e){return I.get(e)})),ne=K<2?null===_||void 0===_?void 0:_.img:null===_||void 0===_?void 0:_.imgAwaken;return Object(W.jsx)(g.Suspense,{fallback:Object(W.jsx)(d.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:Object(W.jsx)(F.a,{condition:!!a,wrapper:A,children:Object(W.jsxs)(k.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(W.jsxs)("div",{className:"grad-".concat(_.rarity,"star"),children:[Object(W.jsx)(b.a,{title:_.name,avatar:Object(W.jsx)(B.a,{sx:{fontSize:"2em"},src:null===(t=y.a.weaponTypes)||void 0===t?void 0:t[ee]}),titleTypographyProps:{variant:"h6"},action:!a&&Object(W.jsx)(O.a,{color:"primary",onClick:function(){return w.updateWeapon({lock:!$},N)},children:$?Object(W.jsx)(o.a,{}):Object(W.jsx)(j.a,{})})}),Object(W.jsxs)(x.a,{container:!0,sx:{flexWrap:"nowrap",pl:2},children:[Object(W.jsxs)(x.a,{item:!0,flexGrow:1,children:[Object(W.jsxs)(h.a,{component:"span",variant:"h4",children:["Lv. ",T]}),Object(W.jsxs)(h.a,{component:"span",variant:"h4",color:"text.secondary",children:["/",q.b[K]]}),Object(W.jsxs)(h.a,{variant:"h6",children:["Refinement ",Object(W.jsx)("strong",{children:L})]}),Object(W.jsx)(h.a,{children:Object(W.jsx)(U.a,{stars:_.rarity,colored:!0})})]}),Object(W.jsx)(x.a,{item:!0,container:!0,maxWidth:"40%",alignContent:"flex-end",sx:{mt:-3},children:Object(W.jsx)(f.a,{component:"img",src:ne,width:"100%",height:"auto"})})]})]}),Object(W.jsx)(v.a,{children:te.map((function(e){if(!e.key)return null;var t=Object(X.h)(e.value,e.unit,"flat"===e.unit?0:void 0);return Object(W.jsxs)(f.a,{sx:{display:"flex"},children:[Object(W.jsxs)(h.a,{flexGrow:1,children:[H.a[e.key]," ",Y.b.get(e.key)]}),Object(W.jsx)(h.a,{children:t})]},e.key)}))}),Object(W.jsx)(f.a,{flexGrow:1}),Object(W.jsx)(v.a,{sx:{py:1},children:Object(W.jsxs)(x.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(W.jsx)(x.a,{item:!0,xs:"auto",flexShrink:1,children:C?Object(W.jsx)(G,{size:"small",noUnselect:!0,inventory:!0,value:P,onChange:E,filter:D}):Object(W.jsx)(V.a,{location:P})}),Object(W.jsx)(x.a,{item:!0,flexGrow:1,sx:{mr:1}}),Object(W.jsx)(x.a,{item:!0,xs:"auto",children:Object(W.jsxs)(p.a,{sx:{height:"100%"},children:[!!c&&Object(W.jsx)(m.a,{color:"info",size:"small",onClick:function(){return c(N)},children:Object(W.jsx)(s.a,{icon:l.m,className:"fa-fw"})}),!!r&&Object(W.jsx)(m.a,{color:"error",size:"small",onClick:function(){return r(N)},disabled:!!P||$,children:Object(W.jsx)(s.a,{icon:l.D,className:"fa-fw"})})]})})]})})]})})})}},329:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(232),c=n(445),r=n(70),i=n(265),l=n(295),s=n(267),o=n(263),j=n(271),u=n(1);function d(e){var t=e.setKey,n=e.setNumKey,d=Object(o.a)(j.a.get(t),[t]);if(!d)return null;var b=d.setEffectDesc(n),O=d.setEffectDocument(n);return Object(u.jsxs)(a.a,{display:"flex",flexDirection:"column",gap:1,children:[Object(u.jsx)(i.a,{children:Object(u.jsx)(c.a,{children:Object(u.jsxs)(r.a,{children:[Object(u.jsxs)(s.a,{color:"success",children:[n,"-Set"]})," ",b]})})}),O?Object(u.jsx)(l.a,{sections:O}):null]})}},340:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(8),c=n(447),r=n(354),i=n(239),l=n(445),s=n(438),o=n(0),j=n(265),u=n(277),d=n(266),b=n(264),O=n(308),x=n(268),h=n(263),f=n(25),v=n(1);function p(){var e=Object(o.useContext)(b.a).data,t=Object(O.b)(e);return Object(v.jsx)(s.a,{sx:{mr:-1,mb:-1},children:Object(v.jsx)(c.a,{columns:{xs:1,sm:2,md:3},spacing:1,children:t.map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];return Object(v.jsx)(m,{displayNs:c,sectionKey:n},n)}))})})}function m(e){var t=e.displayNs,n=e.sectionKey,c=Object(o.useContext)(b.a),s=c.data,p=c.oldData,m=Object(h.a)(Object(O.a)(s,n),[s,n]),g=Object(o.useMemo)((function(){return Object(f.o)(t,(function(e,t){return Object(x.b)(["display",n,t])}))}),[t,n]);if(!m||Object.values(t).every((function(e){return e.isEmpty})))return null;var y=m.title,k=m.icon,C=m.action;return Object(v.jsxs)(j.a,{children:[Object(v.jsx)(r.a,{avatar:k&&Object(v.jsx)(d.a,{size:2,sx:{m:-1},src:k}),title:y,action:C,titleTypographyProps:{variant:"subtitle1"}}),Object(v.jsx)(i.a,{}),Object(v.jsx)(l.a,{children:Object.entries(t).map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];return Object(v.jsx)(u.b,{node:c,oldValue:p?p.get(g[n]).value:void 0},n)}))})]})}},341:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return D}));var a=n(10),c=n(8),r=n(53),i=n(52),l=n(357),s=n(445),o=n(250),j=n(404),u=n(70),d=n(378),b=n(257),O=n(0),x=n(315),h=n(264),f=n(262),v=n(279),p=n(102),m=n(19),g=n(261),y=n(54),k=n(296),C=n(275),w=n(1);function S(){var e=Object(O.useContext)(h.a).data,t=Object(O.useState)(!1),n=Object(c.a)(t,2),a=n[0],r=n[1],i=Object(O.useCallback)((function(){return r(!a)}),[r,a]),b=e.get(f.d.enemy.level),x=e.get(f.d.enemy.defRed),y=e.get(f.d.enemy.defIgn);return Object(w.jsxs)(g.a,{children:[Object(w.jsx)(s.a,{children:Object(w.jsxs)(o.a,{container:!0,children:[Object(w.jsx)(o.a,{item:!0,flexGrow:1,alignItems:"center",children:Object(w.jsxs)(o.a,{container:!0,spacing:1,children:[Object(w.jsx)(o.a,{item:!0,children:Object(w.jsx)(j.a,{size:"small",color:"success",label:Object(w.jsxs)("span",{children:[p.b.get(b.key)," ",Object(w.jsx)("strong",{children:b.value})]})})}),m.e.map((function(e){return Object(w.jsx)(o.a,{item:!0,children:Object(w.jsx)(u.a,{children:Object(w.jsx)(_,{element:e})},e)},e)})),Object(w.jsx)(o.a,{item:!0,children:Object(w.jsxs)(u.a,{children:["DEF Reduction ",Object(v.b)(x.value,x.unit)]})}),Object(w.jsx)(o.a,{item:!0,children:Object(w.jsxs)(u.a,{children:["DEF Ignore ",Object(v.b)(y.value,y.unit)]})})]})}),Object(w.jsx)(o.a,{item:!0,children:Object(w.jsx)(k.a,{expand:a,onClick:i,"aria-expanded":a,"aria-label":"show more",size:"small",sx:{p:0},children:Object(w.jsx)(l.a,{})})})]})}),Object(w.jsx)(d.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(w.jsx)(s.a,{sx:{pt:0},children:Object(w.jsx)(D,{})})})]})}function _(e){var t=e.element,n=Object(O.useContext)(h.a).data.get(f.d.enemy["".concat(t,"_res_")]),a=!isFinite(n.value)?Object(w.jsxs)("span",{children:[C.b[t]," IMMUNE"]}):Object(w.jsxs)("span",{children:[C.b[t],"RES ",Object(w.jsx)("strong",{children:Object(v.b)(n.value,n.unit)})]});return Object(w.jsx)(y.a,{color:t,children:a})}function D(e){var t=e.bsProps,n=void 0===t?{xs:12,md:6}:t,c=Object(O.useContext)(h.a),l=c.data,s=c.characterDispatch,j=l.get(f.d.enemy.level),u=l.get(f.d.enemy.defRed),d=l.get(f.d.enemy.defIgn);return Object(w.jsxs)(o.a,{container:!0,spacing:1,children:[Object(w.jsx)(o.a,Object(a.a)(Object(a.a)({item:!0},n),{},{children:Object(w.jsx)(b.a,{fullWidth:!0,sx:{height:"100%"},size:"small",component:"a",color:"warning",href:"https://genshin-impact.fandom.com/wiki/Resistance#Base_Enemy_Resistances",target:"_blank",rel:"noreferrer",children:"To get the specific resistance values of enemies, please visit the wiki."})})),Object(w.jsx)(o.a,Object(a.a)(Object(a.a)({item:!0},n),{},{children:Object(w.jsx)(x.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(w.jsx)("b",{children:p.b.get(j.key)}),value:j.value,placeholder:p.b.getStr(j.key),defaultValue:l.get(f.d.lvl).value,onValueChange:function(e){return s({type:"enemyOverride",statKey:"enemyLevel",value:e})},onReset:function(){return s({type:"enemyOverride",statKey:"enemyLevel",value:void 0})}})})),m.e.map((function(e){var t="".concat(e,"_enemyRes_"),c=l.get(f.d.enemy["".concat(e,"_res_")]),j=!isFinite(c.value);return Object(w.jsx)(o.a,Object(a.a)(Object(a.a)({item:!0},n),{},{children:Object(w.jsx)(x.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(w.jsx)("b",{children:p.b.get(c.key)}),value:100*c.value,placeholder:p.b.getStr(c.key),defaultValue:10,onValueChange:function(e){return s({type:"enemyOverride",statKey:t,value:e})},disabled:j,percent:!0,children:Object(w.jsxs)(b.a,{color:e,onClick:function(){return s({type:"enemyOverride",statKey:t,value:j?10:Number.MAX_VALUE})},children:[Object(w.jsx)(i.a,{icon:j?r.f:r.z,className:"fa-fw"})," Immunity"]})})}),e)})),Object(w.jsx)(o.a,Object(a.a)(Object(a.a)({item:!0},n),{},{children:Object(w.jsx)(x.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(w.jsx)("b",{children:p.b.get(u.key)}),value:u.value,placeholder:p.b.getStr(u.key),defaultValue:0,onValueChange:function(e){return s({type:"enemyOverride",statKey:"enemyDefRed_",value:e})},percent:!0})})),Object(w.jsx)(o.a,Object(a.a)(Object(a.a)({item:!0},n),{},{children:Object(w.jsx)(x.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(w.jsx)("b",{children:p.b.get(d.key)}),value:d.value,placeholder:p.b.getStr(d.key),defaultValue:0,onValueChange:function(e){return s({type:"enemyOverride",statKey:"enemyDefIgn_",value:e})},percent:!0})})),Object(w.jsx)(o.a,{item:!0,xs:12,children:Object(w.jsx)("small",{children:"Note: Genshin Impact halves resistance shred values below 0%. For the sake of calculations enter the RAW value and GO will do the rest. (e.g. 10% - 20% = -10%)"})})]})}},342:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var a=n(10),c=n(8),r=n(774),i=n(775),l=n(445),s=n(250),o=n(0),j=n(264),u=n(262),d=n(261),b=n(54),O=n(269),x=n(288),h=n(275),f=n(1),v={"":Object(f.jsx)("span",{children:"No External Infusion"}),pyro:Object(f.jsxs)("span",{children:[h.b.pyro," Pyro Infusion"]}),cryo:Object(f.jsxs)("span",{children:[h.b.cryo," Cryo Infusion"]})};function p(e){var t=Object(o.useContext)(j.a),n=t.characterSheet,i=t.character.infusionAura,l=t.characterDispatch;return null!==n&&void 0!==n&&n.isMelee()?Object(f.jsx)(O.a,Object(a.a)(Object(a.a)({title:v[i],color:i||"secondary"},e),{},{children:Object.entries(v).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(f.jsx)(r.a,{sx:n?{color:"".concat(n,".main")}:void 0,selected:n===i,disabled:n===i,onClick:function(){return l({infusionAura:n})},children:a},n)}))})):null}function m(e){var t=Object(o.useContext)(j.a),n=t.data,c=t.character,r=c.reactionMode,l=c.infusionAura,s=t.characterDispatch,d=n.get(u.d.charEle).value;return["pyro","hydro","cryo"].includes(d)||["pyro","hydro","cryo"].includes(l)?Object(f.jsxs)(x.a,Object(a.a)(Object(a.a)({exclusive:!0,baseColor:"secondary",value:r,onChange:function(e,t){return s({reactionMode:t})}},e),{},{children:[Object(f.jsx)(i.a,{value:"",children:"No Reactions"}),("pyro"===d||"pyro"===l)&&Object(f.jsx)(i.a,{value:"pyro_vaporize",children:Object(f.jsxs)(b.a,{color:"vaporize",children:["Vaporize(Pyro)",h.a.hydro,"+",h.a.pyro]})}),("pyro"===d||"pyro"===l)&&Object(f.jsx)(i.a,{value:"pyro_melt",children:Object(f.jsxs)(b.a,{color:"melt",children:["Melt(Pyro) ",h.a.cryo,"+",h.a.pyro]})}),("hydro"===d||"hydro"===l)&&Object(f.jsx)(i.a,{value:"hydro_vaporize",children:Object(f.jsxs)(b.a,{color:"vaporize",children:["Vaporize(Hydro) ",h.a.pyro,"+",h.a.hydro]})}),("cryo"===d||"cryo"===l)&&Object(f.jsx)(i.a,{value:"cryo_melt",children:Object(f.jsxs)(b.a,{color:"melt",children:["Melt(Cryo) ",h.a.pyro,"+",h.a.cryo]})})]})):null}function g(e){var t=Object(o.useContext)(j.a),n=t.character.hitMode,c=t.characterDispatch;return Object(f.jsxs)(x.a,Object(a.a)(Object(a.a)({exclusive:!0,baseColor:"secondary",value:n,onChange:function(e,t){return c({hitMode:t})}},e),{},{children:[Object(f.jsx)(i.a,{value:"avgHit",children:"Avg. DMG"}),Object(f.jsx)(i.a,{value:"hit",children:"Non Crit DMG"}),Object(f.jsx)(i.a,{value:"critHit",children:"Crit Hit DMG"})]}))}function y(){return Object(f.jsx)(d.a,{children:Object(f.jsx)(l.a,{children:Object(f.jsxs)(s.a,{container:!0,spacing:1,children:[Object(f.jsx)(s.a,{item:!0,children:Object(f.jsx)(g,{size:"small"})}),Object(f.jsx)(s.a,{item:!0,children:Object(f.jsx)(p,{})}),Object(f.jsx)(s.a,{item:!0,children:Object(f.jsx)(m,{size:"small"})})]})})})}},344:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return B}));var a=n(14),c=n(8),r=n(382),i=n(383),l=n(439),s=n(445),o=n(250),j=n(724),u=n(257),d=n(774),b=n(239),O=n(232),x=n(70),h=n(403),f=n(0),v=n(272),p=n(270),m=n(265),g=n(261),y=n(290),k=n(278),C=(n(54),n(280)),w=n(295),S=n(269),_=n(277),D=n(266),A=n(281),E=n(267),I=n(274),T=n(320),K=n(45),M=n(158),R=n(262),L=n(273),N=n(263),W=n(294),z=n(25),G=n(322),P=n(276),V=n(264),F=n(1);function B(e){var t,n=e.weaponId,l=e.footer,v=void 0!==l&&l,D=e.onClose,A=Object(f.useContext)(V.a).data,G=Object(f.useContext)(M.b),B=Object(W.a)(n),H=null!==B&&void 0!==B?B:{},q=H.key,J=void 0===q?"":q,X=H.level,Q=H.refinement,Y=void 0===Q?0:Q,Z=H.ascension,$=void 0===Z?0:Z,ee=H.lock,te=H.location,ne=void 0===te?"":te,ae=H.id,ce=Object(N.a)(P.a.get(J),[J]),re=null===ce||void 0===ce?void 0:ce.weaponType,ie=Object(f.useCallback)((function(e){G.updateWeapon(e,n)}),[n,G]),le=Object(f.useCallback)((function(e){e=Object(z.b)(e,1,90);var t=K.b.findIndex((function(t){return e<=t}));ie({level:e,ascension:t})}),[ie]),se=Object(f.useCallback)((function(){var e=K.b.findIndex((function(e){return 90!==X&&X===e}));ie($===e?{ascension:$+1}:{ascension:e})}),[ie,$,X]),oe=Object(N.a)(ne?p.b.get(ne):void 0,[ne]),je=oe?function(e){return e.weaponType===oe.weaponTypeKey}:void 0,ue=oe&&oe.weaponTypeKey,de=Object(f.useCallback)((function(e){return ae&&G.setWeaponLocation(ae,e)}),[G,ae]),be=Object(f.useCallback)((function(e){return e.weaponTypeKey===(null===ce||void 0===ce?void 0:ce.weaponType)}),[ce]),Oe=Object(f.useState)(!1),xe=Object(c.a)(Oe,2),he=xe[0],fe=xe[1],ve=$<2?null===ce||void 0===ce?void 0:ce.img:null===ce||void 0===ce?void 0:ce.imgAwaken,pe=Object(f.useMemo)((function(){return ce&&B&&Object(L.a)([ce.data,Object(L.d)(B)])}),[ce,B]);return Object(F.jsxs)(g.a,{children:[Object(F.jsx)(s.a,{sx:{py:1},children:Object(F.jsxs)(o.a,{container:!0,spacing:1,children:[Object(F.jsx)(o.a,{item:!0,flexGrow:1,children:Object(F.jsxs)(o.a,{container:!0,spacing:1,children:[Object(F.jsxs)(o.a,{item:!0,children:[Object(F.jsx)(T.a,{show:he,onHide:function(){return fe(!1)},onSelect:function(e){return ie({key:e})},filter:je,weaponFilter:ue}),Object(F.jsxs)(j.a,{children:[Object(F.jsx)(u.a,{onClick:function(){return fe(!0)},children:null!==(t=null===ce||void 0===ce?void 0:ce.name)&&void 0!==t?t:"Select a Weapon"}),Object(F.jsxs)(S.a,{title:"Refinement ".concat(Y),children:[Object(F.jsx)(d.a,{children:"Select Weapon Refinement"}),Object(F.jsx)(b.a,{}),Object(a.a)(Array(5).keys()).map((function(e){return Object(F.jsx)(d.a,{onClick:function(){return ie({refinement:e+1})},selected:Y===e+1,disabled:Y===e+1,children:"Refinement ".concat(e+1)},e)}))]})]})]}),Object(F.jsx)(o.a,{item:!0,children:Object(F.jsxs)(j.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[Object(F.jsx)(C.a,{children:Object(F.jsx)(C.c,{onChange:le,value:X,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),Object(F.jsx)(u.a,{sx:{pl:1},disabled:!Object(K.a)(X),onClick:se,children:Object(F.jsxs)("strong",{children:["/ ",K.b[$]]})}),Object(F.jsx)(S.a,{title:"Select Level",children:K.c.map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1],r=n===K.b[a]?"Lv. ".concat(n):"Lv. ".concat(n,"/").concat(K.b[a]),i=n===X&&a===$;return Object(F.jsx)(d.a,{selected:i,disabled:i,onClick:function(){return ie({level:n,ascension:a})},children:r},"".concat(n,"/").concat(a))}))})]})}),Object(F.jsx)(o.a,{item:!0,children:Object(F.jsx)(u.a,{color:"error",onClick:function(){return ae&&G.updateWeapon({lock:!ee},ae)},startIcon:ee?Object(F.jsx)(r.a,{}):Object(F.jsx)(i.a,{}),children:ee?"Locked":"Unlocked"})})]})}),!!D&&Object(F.jsx)(o.a,{item:!0,children:Object(F.jsx)(k.a,{onClick:D})}),G===M.c&&Object(F.jsx)(o.a,{item:!0,children:Object(F.jsx)(U,{weaponTypeKey:re,onChangeId:function(e){return G.setWeaponLocation(e,A.get(R.d.charKey).value)}})})]})}),Object(F.jsx)(b.a,{}),Object(F.jsx)(s.a,{children:ce&&pe&&Object(F.jsxs)(O.a,{display:"flex",gap:{xs:1,md:1.5,lg:2},children:[Object(F.jsxs)(O.a,{sx:{maxWidth:256},flexShrink:1,minWidth:"25%",children:[Object(F.jsx)(O.a,{component:"img",src:ve,className:"grad-".concat(ce.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}}),Object(F.jsx)(x.a,{children:Object(F.jsx)("small",{children:ce.description})})]}),Object(F.jsxs)(O.a,{sx:{mb:-1},flexGrow:1,children:[Object(F.jsxs)(x.a,{variant:"h6",children:[!1,ce.name," Lv. ",B&&P.a.getLevelString(B)," ",ce.rarity>2&&Object(F.jsxs)(E.a,{color:"info",children:["Refinement ",Y]})]}),Object(F.jsx)(x.a,{children:Object(F.jsx)(I.a,{stars:ce.rarity})}),Object(F.jsx)(x.a,{variant:"subtitle1",children:ce.passiveName}),Object(F.jsx)(x.a,{gutterBottom:!0,children:ce.passiveName&&ce.passiveDescription(pe.get(R.d.weapon.refineIndex).value)}),Object(F.jsxs)(O.a,{display:"flex",flexDirection:"column",gap:1,children:[Object(F.jsxs)(m.a,{children:[Object(F.jsx)(s.a,{children:Object(F.jsx)(x.a,{children:"Main Stats"})}),Object(F.jsx)(_.a,{children:[R.d.weapon.main,R.d.weapon.sub,R.d.weapon.sub2].map((function(e,t){var n=pe.get(e);return n.isEmpty||!n.value?null:Object(F.jsx)(h.a,{children:Object(F.jsx)(_.b,{node:n})},t)}))})]}),A&&ce.document&&Object(F.jsx)(w.a,{sections:ce.document})]})]})]})}),v&&ae&&Object(F.jsx)(s.a,{sx:{py:1},children:Object(F.jsxs)(o.a,{container:!0,children:[Object(F.jsx)(o.a,{item:!0,flexGrow:1,children:Object(F.jsx)(y.b,{noUnselect:!0,inventory:!0,value:ne,onChange:de,filter:be})}),!!D&&Object(F.jsx)(o.a,{item:!0,children:Object(F.jsx)(k.a,{large:!0,onClick:D})})]})})]})}function U(e){var t=e.onChangeId,n=e.weaponTypeKey,a=Object(f.useContext)(M.b),r=Object(f.useState)(!1),i=Object(c.a)(r,2),j=i[0],d=i[1],O=function(){return d(!1)},h=function(e){t(e),O()},p=Object(N.a)(P.a.getAll,[]),g=a.weapons.keys.filter((function(e){var t,c=a._getWeapon(e);return!!c&&(!n||n===(null===p||void 0===p||null===(t=p[c.key])||void 0===t?void 0:t.weaponType))}));return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(u.a,{color:"info",onClick:function(){return d(!0)},startIcon:Object(F.jsx)(l.a,{}),children:"SWAP WEAPON"}),Object(F.jsx)(A.a,{open:j,onClose:O,children:Object(F.jsxs)(m.a,{children:[Object(F.jsx)(s.a,{sx:{py:1},children:Object(F.jsxs)(o.a,{container:!0,children:[Object(F.jsx)(o.a,{item:!0,flexGrow:1,children:Object(F.jsxs)(x.a,{variant:"h6",children:[n?Object(F.jsx)(D.a,{src:v.a.weaponTypes[n]}):null," Swap Weapon"]})}),Object(F.jsx)(o.a,{item:!0,children:Object(F.jsx)(k.a,{onClick:O})})]})}),Object(F.jsx)(b.a,{}),Object(F.jsx)(s.a,{children:Object(F.jsx)(o.a,{container:!0,spacing:1,children:g.map((function(e){return Object(F.jsx)(o.a,{item:!0,xs:6,sm:6,md:4,lg:3,children:Object(F.jsx)(G.a,{weaponId:e,onClick:h})},e)}))})})]})})]})}},377:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return lt}));var a=n(8),c=n(10),r=n(125),i=n(156),l=n(445),s=n(250),o=n(775),j=n(444),u=n(70),d=n(248),b=n(254),O=n(239),x=n(257),h=n(724),f=n(774),v=n(0),p=n(265),m=n(261),g=n(345),y=n(292),k=n(278),C=n(54),w=n(280),S=n(269),_=n(341),D=n(357),A=n(378),E=n(232),I=n(354),T=n(510),K=n(511),M=n(512),R=n(264),L=n(308),N=n(279),W=n(102),z=n(263),G=n(296),P=n(266),V=n(1);function F(){var e=Object(v.useState)(!1),t=Object(a.a)(e,2),n=t[0],c=t[1],r=Object(v.useCallback)((function(){return c(!n)}),[c,n]);return Object(V.jsxs)(m.a,{children:[Object(V.jsx)(l.a,{children:Object(V.jsxs)(s.a,{container:!0,children:[Object(V.jsxs)(s.a,{item:!0,flexGrow:1,children:[Object(V.jsxs)(u.a,{children:["Formulas ","&"," Calculations"]}),Object(V.jsx)(u.a,{variant:"caption",color:"text.secondary",children:"Expand to see every formula and all their calculations."})]}),Object(V.jsx)(s.a,{item:!0,children:Object(V.jsx)(G.a,{expand:n,onClick:r,"aria-expanded":n,"aria-label":"show more",children:Object(V.jsx)(D.a,{})})})]})}),Object(V.jsx)(A.a,{in:n,timeout:"auto",unmountOnExit:!0,children:Object(V.jsx)(l.a,{sx:{pt:0},children:Object(V.jsx)(B,{})})})]})}function B(){var e=Object(v.useContext)(R.a).data,t=Object(L.b)(e);return Object(V.jsx)(v.Suspense,{fallback:Object(V.jsx)(i.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object(V.jsx)(E.a,{sx:{mr:-1,mb:-1},children:t.map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];return Object(V.jsx)(U,{displayNs:c,sectionKey:n},n)}))})})}function U(e){var t=e.sectionKey,n=e.displayNs,c=Object(v.useContext)(R.a).data,r=Object(z.a)(Object(L.a)(c,t),[c,t]);if(!r)return null;var i=r.title,s=r.icon,o=r.action;return Object(V.jsxs)(p.a,{sx:{mb:1},children:[Object(V.jsx)(I.a,{avatar:s&&Object(V.jsx)(P.a,{size:2,sx:{m:-1},src:s}),title:i,action:o,titleTypographyProps:{variant:"subtitle1"}}),Object(V.jsx)(O.a,{}),Object(V.jsx)(l.a,{children:Object.entries(n).map((function(e){var t,n=Object(a.a)(e,2),c=n[0],r=n[1];return!r.isEmpty&&Object(V.jsxs)(T.a,{sx:{bgcolor:"contentLight.main"},children:[Object(V.jsx)(K.a,{expandIcon:Object(V.jsx)(D.a,{}),children:Object(V.jsxs)(u.a,{children:[Object(V.jsx)(C.a,{color:r.variant,children:W.b.get(null!==(t=r.key)&&void 0!==t?t:"")})," ",Object(V.jsx)("strong",{children:Object(N.b)(r.value,r.unit)})]})}),Object(V.jsx)(M.a,{children:r.formulas.map((function(e,t){return Object(V.jsx)(u.a,{children:e},t)}))})]},c)}))})]})}var H=n(342),q=n(288),J=n(309),X=n(45),Q=n(284),Y=n(302),Z=n(306),$=n(25),ee=n(20),te=n(321),ne=n(271),ae=n(329),ce=n(158),re=n(262),ie=n(286),le=n(19),se=n(340);var oe=function(e){var t=e.newBuild,n=void 0!==t&&t,c=Object(v.useContext)(R.a),r=c.data,i=c.oldData,o=c.character,d=c.mainStatAssumptionLevel,b=Object(v.useContext)(ce.b),h=Object(ee.g)(),f=Object(v.useCallback)((function(e){return h.push({pathname:"/artifact",artToEditId:e})}),[h]),p=Object(z.a)(ne.a.getAll,[]),g=Object(ie.a)(),y=Object(a.a)(g,2)[1];Object(v.useEffect)((function(){return b.followAnyArt(y)}));var k=Object(v.useCallback)((function(){if(window.confirm("Do you want to equip this artifact build to this character?")&&i){var e=Object.fromEntries(le.j.map((function(e){return[e,r.get(re.d.art[e].id).value]})));b.equipArtifacts(o.key,e)}}),[o,r,i,b]),C=Object(v.useCallback)((function(){o&&window.confirm("Do you want to move all currently equipped artifacts to inventory?")&&b.equipArtifacts(o.key,Object($.m)(le.j,(function(e){return""})))}),[o,b]),w=le.j.map((function(e){return r.get(re.d.art[e].id).value})),S=Object.entries(re.d.artSet).map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];return[n,r.get(c).value]}));return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(m.a,{sx:{mb:1},children:[Object(V.jsx)(l.a,{children:Object(V.jsx)(se.a,{})}),Object(V.jsx)(O.a,{}),Object(V.jsx)(l.a,{sx:{py:1},children:Object(V.jsxs)(s.a,{container:!0,spacing:1,children:[Object(V.jsx)(s.a,{item:!0,children:n?Object(V.jsx)(x.a,{onClick:k,className:"mr-2",children:"Equip artifacts"}):b===ce.c&&Object(V.jsx)(x.a,{color:"error",onClick:C,children:"Unequip all artifacts"})}),Object(V.jsx)(s.a,{item:!0,flexGrow:1}),Object(V.jsx)(s.a,{item:!0,children:!!d&&Object(V.jsx)(j.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(V.jsx)(u.a,{children:Object(V.jsxs)("strong",{children:["Assume Main Stats are Level ",d]})})})})]})})]}),Object(V.jsxs)(s.a,{container:!0,spacing:1,children:[Object(V.jsx)(s.a,{item:!0,xs:12,sm:6,md:4,display:"flex",flexDirection:"column",gap:1,children:p&&ne.a.setEffects(p,S).map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];return Object(V.jsxs)(m.a,{sx:{flexGrow:1},children:[Object(V.jsx)(I.a,{avatar:Object(V.jsx)(P.a,{size:2,sx:{m:-1},src:p[n].defIconSrc}),title:p[n].name,titleTypographyProps:{variant:"subtitle1"}}),Object(V.jsx)(O.a,{}),Object(V.jsx)(l.a,{children:Object(V.jsx)(s.a,{container:!0,spacing:1,flexDirection:"column",height:"100%",children:Object(V.jsx)(s.a,{item:!0,display:"flex",flexDirection:"column",gap:1,children:c.map((function(e){return Object(V.jsx)(ae.a,{setKey:n,setNumKey:e},n+e)}))})})})]},n)}))}),w.map((function(e,t){return!!e&&Object(V.jsx)(s.a,{item:!0,xs:6,md:4,children:Object(V.jsx)(te.a,{artifactId:e,mainStatAssumptionLevel:d,onEdit:function(){return f(e)}})},t)}))]})]})},je=n(14),ue=n(53),de=n(52),be=n(405),Oe=n(509),xe=n(272),he=n(277),fe=n(274),ve=n(275),pe=n(273),me=n(39),ge=n(344),ye=n(270),ke=n(315),Ce=n(506),we=n(438),Se=n(290),_e=n(303),De=n(326);function Ae(){return Object(V.jsxs)(we.a,{display:"flex",flexDirection:"column",gap:1,alignItems:"stretch",children:[Object(V.jsx)(Ie,{}),Object(V.jsx)(s.a,{container:!0,spacing:1,children:Object($.p)(0,2).map((function(e){return Object(V.jsx)(s.a,{item:!0,xs:12,md:6,lg:4,children:Object(V.jsx)(Te,{index:e})},e)}))})]})}var Ee={xs:12,sm:6,md:6,lg:4};function Ie(){var e,t,n,r=Object(v.useContext)(R.a),i=r.data,o=r.oldData,j=i.getTeamBuff(),u=[];return Object.entries(null!==(e=j.total)&&void 0!==e?e:{}).forEach((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];return u.push([["total",n],c])})),Object.entries(null!==(t=j.premod)&&void 0!==t?t:{}).forEach((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];return u.push([["premod",n],c])})),Object.entries(null!==(n=j.enemy)&&void 0!==n?n:{}).forEach((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];return u.push([["enemy",n],c])})),u.length?Object(V.jsxs)(m.a,{children:[Object(V.jsx)(l.a,{children:"Team Buffs"}),Object(V.jsx)(O.a,{}),Object(V.jsx)(l.a,{children:Object(V.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:u.map((function(e,t){var n,r=Object(a.a)(e,2),i=r[0],l=r[1];return l&&!l.isEmpty&&Object(v.createElement)(s.a,Object(c.a)(Object(c.a)({item:!0},Ee),{},{key:l.key}),Object(V.jsx)(he.b,{node:l,oldValue:null===(n=Object($.l)(null===o||void 0===o?void 0:o.getTeamBuff(),i))||void 0===n?void 0:n.value}))}))})})]}):null}function Te(e){var t=e.index,n=Object(v.useContext)(R.a),a=n.character,c=n.teamData,r=n.characterDispatch,i=a.key,s=a.team[t],o=Object(Q.a)(s),j=Object(Y.a)(),u=c[s],d=u&&o&&{character:u.character,characterSheet:u.characterSheet,data:u.target,teamData:c,mainStatAssumptionLevel:0,characterDispatch:o};return Object(V.jsxs)(m.a,{children:[Object(V.jsx)(l.a,{children:Object(V.jsx)(Se.b,{fullWidth:!0,value:s,onChange:function(e){return r({type:"team",index:t,charKey:e})},filter:function(e,t){return t!==i&&!a.team.includes(t)},unSelectText:"Teammate ".concat(t+1),unSelectIcon:Object(V.jsx)(Ce.a,{})})}),d&&Object(V.jsx)(R.a.Provider,{value:d,children:Object(V.jsx)(De.a,{characterKey:s,onClickHeader:j,artifactChildren:Object(V.jsx)(Ke,{dataContext:n}),weaponChildren:Object(V.jsx)(Me,{dataContext:n}),characterChildren:Object(V.jsx)(Re,{dataContext:n})})})]})}function Ke(e){var t=e.dataContext,n=Object(z.a)(ne.a.getAll,[]);if(!n)return null;var a=Object.values(n).flatMap((function(e){return Object.values(e.setEffects).flatMap((function(e){return null===e||void 0===e?void 0:e.document}))})).filter((function(e){return e}));return Object(V.jsx)(Le,{sections:a,dataContext:t})}function Me(e){var t=e.dataContext,n=Object(v.useContext)(R.a),a=(n.data,n.teamData[n.character.key].weaponSheet);return Object(V.jsx)(Le,{sections:a.document,dataContext:t})}function Re(e){var t=e.dataContext,n=Object(v.useContext)(R.a),a=n.data,c=n.teamData[n.character.key].characterSheet.getTalent(a.get(re.d.charEle).value),r=Object.values(c.sheets).flatMap((function(e){return e.sections}));return Object(V.jsx)(Le,{sections:r,dataContext:t})}function Le(e){var t=e.sections,n=e.dataContext;return Object(V.jsx)(we.a,{display:"flex",flexDirection:"column",gap:1,pt:0,children:t.map((function(e){var t;return(null===(t=e.conditional)||void 0===t?void 0:t.teamBuff)&&Object(V.jsx)(_e.a,{conditional:e.conditional,fieldContext:n})}))})}function Ne(){var e,t=Object(v.useContext)(R.a),n=t.data,a=t.characterSheet,r=t.character,i=t.character.key,o=Object(Q.a)(i),j=n.get(re.d.charEle).value,d=a.weaponTypeKey,b=n.get(re.d.lvl).value,O=n.get(re.d.asc).value,x=n.get(re.d.constellation).value,h={auto:n.get(re.d.total.auto).value,skill:n.get(re.d.total.skill).value,burst:n.get(re.d.total.burst).value},f={auto:n.get(re.d.bonus.auto).value,skill:n.get(re.d.bonus.skill).value,burst:n.get(re.d.bonus.burst).value};return Object(V.jsxs)(s.a,{container:!0,spacing:1,children:[Object(V.jsx)(s.a,{item:!0,xs:12,md:3,children:Object(V.jsxs)(m.a,{children:[Object(V.jsx)(be.a,{src:a.cardImg,component:"img",width:"100%",height:"auto"}),Object(V.jsxs)(l.a,{children:[Object(V.jsxs)(u.a,{variant:"h4",children:[a.name," ",Object(V.jsx)(P.a,{src:null===(e=xe.a.weaponTypes)||void 0===e?void 0:e[d]})," ",ve.a[j]," "]}),Object(V.jsx)(u.a,{variant:"h6",children:Object(V.jsx)(fe.a,{stars:a.rarity,colored:!0})}),Object(V.jsxs)(u.a,{variant:"h5",children:["Lvl. ",ye.b.getLevelString(b,O)]}),Object(V.jsx)(s.a,{container:!0,spacing:1,mt:1,children:["auto","skill","burst"].map((function(e){var t;return Object(V.jsx)(s.a,{item:!0,xs:4,children:Object(V.jsx)(Oe.a,{badgeContent:h[e],color:f[e]?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{width:"100%",height:"100%","& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:Object(V.jsx)(E.a,{component:"img",src:null===(t=a.getTalentOfKey(e,j))||void 0===t?void 0:t.img,width:"100%",height:"auto"})})},e)}))}),Object(V.jsx)(u.a,{sx:{textAlign:"center",mt:1},variant:"h6",children:a.constellationName}),Object(V.jsx)(s.a,{container:!0,spacing:1,children:Object(je.a)(Array(6).keys()).map((function(e){var t;return Object(V.jsx)(s.a,{item:!0,xs:4,children:Object(V.jsx)(E.a,{component:"img",src:null===(t=a.getTalentOfKey("constellation".concat(e+1),j))||void 0===t?void 0:t.img,sx:Object(c.a)({cursor:"pointer"},x>e?{}:{filter:"brightness(50%)"}),width:"100%",height:"auto",onClick:function(){return o({constellation:e+1===x?e:e+1})}})},e)}))})]})]})}),Object(V.jsxs)(s.a,{item:!0,xs:12,md:9,sx:{"> div:not(:last-child)":{mb:1}},children:[Object(V.jsx)(ge.default,{weaponId:r.equippedWeapon}),Object(V.jsx)(qe,{})]})]})}var We=["eleMas","critRate_","critDMG_","enerRech_","heal_"],ze=[].concat(["atk","hp","def"],We).map((function(e){return re.d.total[e]})),Ge=["atk_","atk","hp_","hp","def_","def"].concat(We),Pe=[].concat(Object(je.a)(le.e.map((function(e){return re.d.total["".concat(e,"_dmg_")]}))),Object(je.a)(le.e.map((function(e){return re.d.total["".concat(e,"_res_")]}))),Object(je.a)(["stamina","incHeal_","shield_","cdRed_"].map((function(e){return re.d.total[e]})))),Ve=Pe.map((function(e){return e.info.key})),Fe=[re.d.total.all_dmg_].concat(Object(je.a)(le.e.map((function(e){return re.d.total["".concat(e,"_enemyRes_")]}))),[re.d.total.normal_dmg_,re.d.total.normal_critRate_,re.d.total.charged_dmg_,re.d.total.charged_critRate_,re.d.total.plunging_dmg_,re.d.total.plunging_critRate_,re.d.total.skill_dmg_,re.d.total.skill_critRate_,re.d.total.burst_dmg_,re.d.total.burst_critRate_],Object(je.a)(Object.keys(me.e).map((function(e){return re.d.total["".concat(e,"_dmg_")]}))),Object(je.a)(Object.keys(me.a).map((function(e){return re.d.total["".concat(e,"_dmg_")]}))),Object(je.a)(["moveSPD_","atkSPD_","weakspotDMG_"].map((function(e){return re.d.total[e]})))),Be=Fe.map((function(e){return e.info.key})),Ue={xs:12,sm:6,md:6,lg:4};function He(e){var t=e.nodes,n=e.statBreakpoint,a=e.extra,r=Object(v.useContext)(R.a),i=r.data,l=r.oldData;return Object(V.jsxs)(s.a,{container:!0,columnSpacing:{xs:2,lg:3},rowSpacing:1,children:[t.map((function(e,t){var a;return Object(V.jsx)(s.a,Object(c.a)(Object(c.a)({item:!0},n),{},{children:Object(V.jsx)(he.b,{node:i.get(e),oldValue:null===l||void 0===l||null===(a=l.get(e))||void 0===a?void 0:a.value})}),t)})),a]})}function qe(){var e=Object(v.useContext)(R.a),t=e.data,n=e.character,a=e.character.key,r=Object(Q.a)(a),i=t.get(re.d.special);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Ie,{}),Object(V.jsx)(Je,{title:"Main Stats",content:Object(V.jsx)(He,{statBreakpoint:Ue,nodes:ze,extra:i&&Object(V.jsxs)(s.a,Object(c.a)(Object(c.a)({item:!0},Ue),{},{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(V.jsxs)("span",{children:[Object(V.jsx)("b",{children:"Special:"})," ",Object(V.jsxs)(C.a,{color:i.variant,children:[i.key&&ve.a[i.key]," ",i.key&&W.b.get(i.key)]})]}),Object(V.jsx)("span",{children:Object(pe.h)(i.value,i.unit)})]}))}),editContent:Object(V.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Ge.map((function(e){var t,a=W.b.get(e);return Object(V.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(V.jsx)(ke.a,{name:Object(V.jsxs)("span",{children:[ve.a[e]," ",a]}),placeholder:W.b.getStr(e),value:null!==(t=n.bonusStats[e])&&void 0!==t?t:0,percent:"%"===W.b.unit(e),onValueChange:function(t){return r({type:"editStats",statKey:e,value:t})}})},e)}))})}),Object(V.jsx)(Je,{title:"Other Stats",content:Object(V.jsx)(He,{statBreakpoint:Ue,nodes:Pe}),editContent:Object(V.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Ve.map((function(e){var t,a=W.b.get(e);return Object(V.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(V.jsx)(ke.a,{name:Object(V.jsxs)("span",{children:[ve.a[e]," ",a]}),placeholder:W.b.getStr(e),value:null!==(t=n.bonusStats[e])&&void 0!==t?t:0,percent:"%"===W.b.unit(e),defaultValue:void 0,onValueChange:function(t){return r({type:"editStats",statKey:e,value:t})}})},e)}))})}),Object(V.jsx)(Je,{title:"Misc Stats",content:Object(V.jsx)(He,{statBreakpoint:{xs:12,sm:6,md:6},nodes:Fe}),editContent:Object(V.jsx)(s.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Be.map((function(e){var t,a=W.b.get(e);return Object(V.jsx)(s.a,{item:!0,xs:12,lg:6,children:Object(V.jsx)(ke.a,{name:Object(V.jsxs)("span",{children:[ve.a[e]," ",a]}),placeholder:W.b.getStr(e),value:null!==(t=n.bonusStats[e])&&void 0!==t?t:0,percent:"%"===W.b.unit(e),onValueChange:function(t){return r({type:"editStats",statKey:e,value:t})}})},e)}))})})]})}function Je(e){var t=e.title,n=e.content,c=e.editContent,r=Object(v.useState)(!1),i=Object(a.a)(r,2),s=i[0],o=i[1];return Object(V.jsxs)(m.a,{children:[Object(V.jsx)(l.a,{sx:{py:1},children:Object(V.jsxs)(E.a,{display:"flex",justifyContent:"space-between",children:[Object(V.jsx)(u.a,{variant:"subtitle1",children:t}),Object(V.jsx)(x.a,{size:"small",color:s?"error":"info",onClick:function(){return o(!s)},children:Object(V.jsxs)("span",{children:[Object(V.jsx)(de.a,{icon:s?ue.w:ue.m})," ",s?"EXIT":"Edit Stats"]})})]})}),Object(V.jsx)(O.a,{}),Object(V.jsx)(l.a,{children:s?c:n})]})}var Xe=n(407),Qe=n(289),Ye=n(297),Ze=n(295);function $e(){var e=Object(v.useContext)(R.a),t=e.data,n=e.character,c=e.characterSheet,r=Object(Q.a)(n.key),i=t.get(re.d.charEle).value,l=t.get(re.d.asc).value,o=t.get(re.d.constellation).value;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(tt,{}),Object(V.jsxs)(s.a,{container:!0,spacing:1,sx:{mb:1},children:[[["auto","Normal/Charged Attack"],["skill","Elemental Skill"],["burst","Elemental Burst"]].map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];return Object(V.jsx)(s.a,{item:!0,xs:12,md:6,lg:4,children:Object(V.jsx)(ct,{talentKey:n,subtitle:c})},n)})),!!c.getTalentOfKey("sprint",i)&&Object(V.jsx)(s.a,{item:!0,xs:12,md:6,lg:4,children:Object(V.jsx)(ct,{talentKey:"sprint",subtitle:"Alternative Sprint"})}),!!c.getTalentOfKey("passive",i)&&Object(V.jsx)(s.a,{item:!0,xs:12,md:6,lg:4,children:Object(V.jsx)(ct,{talentKey:"passive",subtitle:"Passive"})})]}),Object(V.jsx)(s.a,{container:!0,spacing:1,children:[["passive1","Unlocked at Ascension 1",1],["passive2","Unlocked at Ascension 4",4],["passive3","Unlocked by Default",0]].map((function(e){var t=Object(a.a)(e,3),n=t[0],r=t[1],o=t[2],j=l>=o;return c.getTalentOfKey(n,i)?Object(V.jsx)(s.a,{item:!0,style:{opacity:j?1:.5},xs:12,md:4,children:Object(V.jsx)(ct,{talentKey:n,subtitle:r})},n):null}))}),Object(V.jsxs)(u.a,{variant:"h6",sx:{textAlign:"center"},children:["Constellation Lv. ",o]}),Object(V.jsx)(s.a,{container:!0,spacing:1,children:Object(je.a)(Array(6).keys()).map((function(e){var t="constellation".concat(e+1);return Object(V.jsx)(s.a,{item:!0,xs:12,md:4,sx:{opacity:o>e?1:.5},children:Object(V.jsx)(ct,{talentKey:t,subtitle:"Contellation Lv. ".concat(e+1),onClickTitle:function(){return r({constellation:e+1===o?e:e+1})}})},e)}))})]})}var et={superconduct:function(e){var t=e.node;return Object(V.jsx)(p.a,{children:Object(V.jsx)(l.a,{sx:{p:1},children:Object(V.jsxs)(u.a,{color:"superconduct.main",children:[W.b.get(t.key)," ",ve.a.electro,"+",ve.a.cryo," ",Object(V.jsx)("strong",{children:Object(N.b)(t.value,t.unit)})]})})})},electrocharged:function(e){var t=e.node;return Object(V.jsx)(p.a,{children:Object(V.jsx)(l.a,{sx:{p:1},children:Object(V.jsxs)(u.a,{color:"electrocharged.main",children:[W.b.get(t.key)," ",ve.a.electro,"+",ve.a.hydro," ",Object(V.jsx)("strong",{children:Object(N.b)(t.value,t.unit)})]})})})},overloaded:function(e){var t=e.node;return Object(V.jsx)(p.a,{children:Object(V.jsx)(l.a,{sx:{p:1},children:Object(V.jsxs)(u.a,{color:"overloaded.main",children:[W.b.get(t.key)," ",ve.a.electro,"+",ve.a.pyro," ",Object(V.jsx)("strong",{children:Object(N.b)(t.value,t.unit)})]})})})},pyroSwirl:function(){var e=Object(v.useState)(Object.keys(nt)[0]),t=Object(a.a)(e,2),n=t[0],c=t[1],r=Object(v.useContext)(R.a).data.getDisplay().reaction["".concat(n,"Swirl")];return Object(V.jsxs)(p.a,{sx:{display:"flex"},children:[Object(V.jsx)(S.a,{size:"small",title:nt[n],color:"success",children:Object.entries(nt).map((function(e){var t=Object(a.a)(e,2),r=t[0],i=t[1];return Object(V.jsx)(f.a,{selected:n===r,disabled:n===r,onClick:function(){return c(r)},children:i},r)}))}),Object(V.jsx)(E.a,{sx:{color:"".concat(n,".main"),p:1},children:Object(V.jsx)("strong",{children:Object(N.b)(r.value,r.unit)})})]})},shattered:function(e){var t=e.node,n=Object(V.jsx)(Qe.a,{placement:"top",title:Object(V.jsxs)(u.a,{children:["Claymores, Plunging Attacks and ",Object(V.jsx)(C.a,{color:"geo",children:"Geo DMG"})]}),children:Object(V.jsx)(E.a,{component:"span",sx:{cursor:"help"},children:Object(V.jsx)(de.a,{icon:ue.v})})});return Object(V.jsx)(p.a,{children:Object(V.jsx)(l.a,{sx:{p:1},children:Object(V.jsxs)(C.a,{color:"shattered",children:[W.b.get(t.key)," ",ve.a.hydro,"+",ve.a.cryo,"+ ",Object(V.jsx)(C.a,{color:"physical",children:Object(V.jsxs)("small",{children:["Heavy Attack",n," "]})})," ",Object(V.jsx)("strong",{children:Object(N.b)(t.value,t.unit)})]})})})}};function tt(){var e=Object(v.useContext)(R.a).data.getDisplay().reaction;return Object(V.jsx)(m.a,{sx:{mb:1},children:Object(V.jsx)(l.a,{children:Object(V.jsx)(s.a,{container:!0,spacing:1,children:Object.entries(e).map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1],r=et[n];return r?Object(V.jsx)(s.a,{item:!0,children:Object(V.jsx)(r,{node:c})},n):null}))})})})}var nt={pyro:Object(V.jsxs)("span",{children:[Object(V.jsx)(C.a,{color:"pyro",children:W.b.get("pyro_swirl_hit")})," ",ve.a.pyro," + ",ve.a.anemo]}),electro:Object(V.jsxs)("span",{children:[Object(V.jsx)(C.a,{color:"electro",children:W.b.get("electro_swirl_hit")})," ",ve.a.electro,"+",ve.a.anemo]}),cryo:Object(V.jsxs)("span",{children:[Object(V.jsx)(C.a,{color:"cryo",children:W.b.get("cryo_swirl_hit")})," ",ve.a.cryo," + ",ve.a.anemo]}),hydro:Object(V.jsxs)("span",{children:[Object(V.jsx)(C.a,{color:"hydro",children:W.b.get("hydro_swirl_hit")})," ",ve.a.hydro," + ",ve.a.anemo]})};C.a,W.b.get("crystalize_hit"),ve.a.electro,ve.a.hydro,ve.a.pyro,ve.a.cryo,ve.a.geo,W.b.get("pyro_crystalize_hit"),ve.a.pyro,ve.a.geo,W.b.get("electro_crystalize_hit"),ve.a.electro,ve.a.geo,W.b.get("cryo_crystalize_hit"),ve.a.cryo,ve.a.geo,W.b.get("hydro_crystalize_hit"),ve.a.hydro,ve.a.geo;var at=[1,1,2,4,6,8,10];function ct(e){var t=e.talentKey,n=e.subtitle,a=e.onClickTitle,c=Object(v.useContext)(R.a),r=c.data,i=c.character.talent,o=c.characterSheet,j=c.characterDispatch,d=Object(v.useCallback)((function(e){return Object(V.jsx)(Xe.a,{onClick:a,children:e})}),[a]),b=null;if(t in i){var x=r.get(re.d.bonus[t]).value,h=r.get(re.d.total[t]).value,p=r.get(re.d.asc).value;b=Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(l.a,{sx:{py:1},children:Object(V.jsx)(S.a,{fullWidth:!0,title:"Talent Lv. ".concat(h),color:x?"info":"primary",children:Object(je.a)(Array(at[p]).keys()).map((function(e){return Object(V.jsxs)(f.a,{selected:i[t]===e+1,disabled:i[t]===e+1,onClick:function(){return n=e+1,i[t]=n,void j({talent:i});var n},children:["Talent Lv. ",e+x+1]},e)}))})}),Object(V.jsx)(O.a,{})]})}var g=o.getTalentOfKey(t,r.get(re.d.charEle).value);return Object(V.jsxs)(m.a,{sx:{height:"100%"},children:[b,Object(V.jsxs)(l.a,{children:[Object(V.jsx)(Ye.a,{condition:!!a,wrapper:d,children:Object(V.jsxs)(s.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(V.jsx)(s.a,{item:!0,children:Object(V.jsx)(E.a,{component:"img",src:null===g||void 0===g?void 0:g.img,sx:{width:60,height:"auto"}})}),Object(V.jsxs)(s.a,{item:!0,flexGrow:1,sx:{pl:1},children:[Object(V.jsx)(u.a,{variant:"h6",children:null===g||void 0===g?void 0:g.name}),Object(V.jsx)(u.a,{variant:"subtitle1",children:n})]})]})}),null!==g&&void 0!==g&&g.sections?Object(V.jsx)(Ze.a,{sections:g.sections}):null]})]})}var rt=["children","current","value"];function it(e){var t=e.children,n=e.current,a=e.value,l=Object(r.a)(e,rt);return a!==n?null:Object(V.jsx)(v.Suspense,{fallback:Object(V.jsx)(i.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object(V.jsx)("div",Object(c.a)(Object(c.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},l),{},{children:t}))})}function lt(e){var t,n,r=e.characterKey,i=e.footer,x=e.newteamData,h=e.mainStatAssumptionLevel,f=void 0===h?0:h,g=e.onClose,y=e.tabName,C=e.isFlex,w=Object(Z.a)(r,f),S=null!==(t=null===w||void 0===w?void 0:w[r])&&void 0!==t?t:{},D=S.character,A=S.characterSheet,E=S.target,I=Object(v.useState)(y||(x?"newartifacts":"character")),T=Object(a.a)(I,2),K=T[0],M=T[1],L=Object(v.useCallback)((function(e,t){return M(t)}),[M]),N=Object(Q.a)(null!==(n=null===D||void 0===D?void 0:D.key)&&void 0!==n?n:"");if(!w||!D||!A||!E)return Object(V.jsx)(V.Fragment,{});var W=D.compareData,z={character:D,characterSheet:A,mainStatAssumptionLevel:f,data:x?x[r].target:E,teamData:x||w,oldData:W&&x?E:void 0,characterDispatch:N};return Object(V.jsx)(p.a,{children:Object(V.jsxs)(R.a.Provider,{value:z,children:[Object(V.jsxs)(l.a,{sx:{"> div:not(:last-child)":{mb:1}},children:[Object(V.jsxs)(s.a,{container:!0,spacing:1,children:[Object(V.jsx)(s.a,{item:!0,children:Object(V.jsx)(st,{})}),Object(V.jsx)(s.a,{item:!0,children:!!x&&Object(V.jsxs)(q.a,{exclusive:!0,value:W,onChange:function(e,t){return N({compareData:t})},size:"small",children:[Object(V.jsx)(o.a,{value:!1,disabled:!W,children:Object(V.jsx)("small",{children:"Show New artifact Stats"})}),Object(V.jsx)(o.a,{value:!0,disabled:W,children:Object(V.jsx)("small",{children:"Compare against equipped artifacts"})})]})}),Object(V.jsx)(s.a,{item:!0,flexGrow:1}),!!f&&Object(V.jsx)(s.a,{item:!0,children:Object(V.jsx)(j.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(V.jsx)(u.a,{children:Object(V.jsxs)("strong",{children:["Assume Main Stats are Level ",f]})})})}),!!g&&Object(V.jsx)(s.a,{item:!0,children:Object(V.jsx)(k.a,{onClick:g})})]}),Object(V.jsx)(m.a,{children:Object(V.jsxs)(d.a,{onChange:L,value:K,variant:"fullWidth",children:[Object(V.jsx)(b.a,{value:"character",label:"Character"}),!!x&&Object(V.jsx)(b.a,{value:"newartifacts",label:"New Artifacts"}),Object(V.jsx)(b.a,{value:"artifacts",label:x?"Current Artifacts":"Artifacts"}),!C&&Object(V.jsx)(b.a,{value:"buffs",label:"Team Buffs"}),Object(V.jsx)(b.a,{value:"talent",label:"Talents"})]})}),Object(V.jsx)(H.a,{}),Object(V.jsx)(F,{}),Object(V.jsx)(_.b,{}),Object(V.jsx)(it,{value:"character",current:K,children:Object(V.jsx)(Ne,{})}),Object(V.jsx)(R.a.Provider,{value:Object(c.a)(Object(c.a)({},z),{},{data:E,oldData:void 0}),children:Object(V.jsx)(it,{value:"artifacts",current:K,children:Object(V.jsx)(oe,{})})}),Object(V.jsx)(it,{value:"newartifacts",current:K,children:Object(V.jsx)(oe,{newBuild:!0})}),Object(V.jsx)(it,{value:"buffs",current:K,children:Object(V.jsx)(Ae,{})}),Object(V.jsx)(it,{value:"talent",current:K,children:Object(V.jsx)($e,{})})]}),!!i&&Object(V.jsx)(O.a,{}),i&&Object(V.jsx)(l.a,{children:i})]})})}function st(){var e,t=Object(v.useContext)(R.a),n=t.character,c=t.characterSheet,r=t.characterDispatch,i=Object(v.useState)(!1),l=Object(a.a)(i,2),o=l[0],j=l[1],u=Object(Y.a)(),d=Object(v.useCallback)((function(e){e=Object($.b)(e,1,90);var t=X.b.findIndex((function(t){return e<=t}));r({level:e,ascension:t})}),[r]),b=Object(v.useCallback)((function(){if(n){var e=n.level,t=void 0===e?1:e,a=n.ascension,c=void 0===a?0:a,i=X.b.findIndex((function(e){return 90!==t&&t===e}));r(c===i?{ascension:c+1}:{ascension:i})}}),[r,n]),O=n.elementKey,p=void 0===O?"anemo":O,m=n.level,k=void 0===m?1:m,_=n.ascension,D=void 0===_?0:_;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(g.a,{show:o,onHide:function(){return j(!1)},onSelect:u}),Object(V.jsxs)(s.a,{container:!0,spacing:1,children:[Object(V.jsx)(s.a,{item:!0,children:Object(V.jsx)(x.a,{onClick:function(){return j(!0)},startIcon:Object(V.jsx)(y.a,{src:null===c||void 0===c?void 0:c.thumbImgSide}),children:null!==(e=null===c||void 0===c?void 0:c.name)&&void 0!==e?e:"Select a Character"})}),Object(V.jsx)(s.a,{item:!0,children:Object(V.jsxs)(h.a,{sx:{bgcolor:function(e){return e.palette.contentDark.main}},children:[(null===c||void 0===c?void 0:c.sheet)&&"talents"in(null===c||void 0===c?void 0:c.sheet)&&Object(V.jsx)(S.a,{title:Object(V.jsx)("strong",{children:Object(V.jsx)(C.a,{color:p,children:Object(J.a)("element.".concat(p))})}),children:Object.keys(c.sheet.talents).map((function(e){return Object(V.jsx)(f.a,{selected:p===e,disabled:p===e,onClick:function(){return r({elementKey:e})},children:Object(V.jsx)("strong",{children:Object(V.jsx)(C.a,{color:e,children:Object(J.a)("element.".concat(e))})})},e)}))}),Object(V.jsx)(w.a,{children:Object(V.jsx)(w.c,{onChange:d,value:k,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2},disabled:!c})}),Object(V.jsx)(x.a,{sx:{pl:1},disabled:!Object(X.a)(k)||!c,onClick:b,children:Object(V.jsxs)("strong",{children:["/ ",X.b[D]]})}),Object(V.jsx)(S.a,{title:"Select Level",disabled:!c,children:X.c.map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1],i=n===X.b[c]?"Lv. ".concat(n):"Lv. ".concat(n,"/").concat(X.b[c]),l=n===k&&c===D;return Object(V.jsx)(f.a,{selected:l,disabled:l,onClick:function(){return r({level:n,ascension:c})},children:i},"".concat(n,"/").concat(c))}))})]})})]})]})}}}]);
//# sourceMappingURL=13.4120aa68.chunk.js.map