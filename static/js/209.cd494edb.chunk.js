"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[209],{21977:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(29439),i=t(57621),a=t(10889),s=t(72791),l=t(60393),c=t(10600),o=t(80184);function u(e){var n=e.levelLow,t=e.levelHigh,u=e.setLow,d=e.setHigh,f=e.setBoth,h=e.dark,x=void 0!==h&&h,m=(0,s.useState)(n),v=(0,r.Z)(m,2),p=v[0],Z=v[1],j=(0,s.useState)(t),g=(0,r.Z)(j,2),y=g[0],b=g[1],k=(0,s.useCallback)((function(e,n){var t=(0,r.Z)(n,2),i=t[0],a=t[1];Z(i),b(a)}),[Z,b]);return(0,s.useEffect)((function(){return Z(n)}),[Z,n]),(0,s.useEffect)((function(){return b(t)}),[b,t]),(0,o.jsxs)(i.Z,{sx:{width:"100%",display:"flex",alignItems:"center",bgcolor:x?"contentDark.main":"contentLight.main"},children:[(0,o.jsx)(c.ZP,{value:p,onChange:function(e){return u((0,l.uZ)(e,0,t))},sx:{pl:2,width:100},inputProps:{sx:{textAlign:"center"}},startAdornment:"Level: "}),(0,o.jsx)(a.ZP,{sx:{width:100,flexGrow:1,mx:2},getAriaLabel:function(){return"Arifact Level Range"},value:[p,y],onChange:k,onChangeCommitted:function(e,n){return f(n[0],n[1])},valueLabelDisplay:"auto",min:0,max:20,step:1,marks:!0}),(0,o.jsx)(c.ZP,{value:y,onChange:function(e){return d((0,l.uZ)(e,n,20))},sx:{px:1,width:50},inputProps:{sx:{textAlign:"center"}}})]})}},8375:function(e,n,t){t.d(n,{Z:function(){return C}});var r,i=t(1413),a=t(93433),s=t(29439),l=t(30168),c=t(45987),o=t(49670),u=t(23786),d=t(57064),f=t(49900),h=t(94721),x=t(20890),m=t(72791),v=t(22020),p=t(76899),Z=t(31148),j=t(42320),g=t(33890),y=t(55942),b=t(10157),k=t(80184),w=["selectedSetKey","onChange","artifactSetsByRarity","hasUnselect"];function C(e){var n,t=e.selectedSetKey,C=void 0===t?"":t,S=e.onChange,P=e.artifactSetsByRarity,D=e.hasUnselect,O=void 0!==D&&D,K=(0,c.Z)(e,w),E=(0,v.$)("artifact").t,M=(0,j.Z)(Z.y.getAll,[]),A=null===M||void 0===M?void 0:M[C],B=(0,m.useMemo)((function(){return P||(M?Z.y.setKeysByRarities(M):{})}),[M,P]);return(0,k.jsxs)(g.Z,(0,i.Z)((0,i.Z)({},K),{},{title:null!==(n=null===A||void 0===A?void 0:A.name)&&void 0!==n?n:E(r||(r=(0,l.Z)(["editor.set.artifactSet"]))),startIcon:(null===A||void 0===A?void 0:A.defIconSrc)&&(0,k.jsx)(y.Z,{src:null===A||void 0===A?void 0:A.defIconSrc}),color:A?"success":"primary",children:[O&&(0,k.jsxs)(u.Z,{onClick:function(){return S("")},selected:""===C,disabled:""===C,children:[(0,k.jsx)(d.Z,{children:(0,k.jsx)(o.Z,{})}),(0,k.jsx)(f.Z,{children:(0,k.jsx)(p.c,{t:E,i18nKey:"ui:unselect",children:"Unselect"})})]}),!!Object.keys(B).length&&Object.entries(B).reverse().flatMap((function(e,n){var t=(0,s.Z)(e,2),r=t[0],i=t[1];return[].concat((0,a.Z)((n>0||O)&&i.length?[(0,k.jsx)(h.Z,{},"".concat(r,"divi"))]:[]),(0,a.Z)(i.length?[(0,k.jsx)(u.Z,{children:(0,k.jsx)(x.Z,{children:(0,k.jsxs)(p.c,{t:E,i18nKey:"editor.set.maxRarity",children:["Max Rarity ",(0,k.jsx)(b.t,{stars:parseInt(r)})]})})},"".concat(r,"header"))]:[]),(0,a.Z)(i.map((function(e){var n,t;return(0,k.jsxs)(u.Z,{onClick:function(){return S(e)},selected:C===e,disabled:C===e,children:[(0,k.jsx)(d.Z,{children:(0,k.jsx)(y.Z,{src:null===M||void 0===M||null===(n=M[e])||void 0===n?void 0:n.defIconSrc,sx:{fontSize:"1.5em"}})}),(0,k.jsx)(f.Z,{children:null===M||void 0===M||null===(t=M[e])||void 0===t?void 0:t.name})]},e)}))))}))]}))}},43568:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(29439),i=t(53174),a=t(54483),s=t(61889),l=t(20890),c=t(24518),o=t(39504),u=t(94721),d=t(47047),f=t(72791),h=t(23741),x=t(60393),m=t(3992),v=t(68198),p=t(9321),Z=t(66624),j=t(80184);function g(e){var n,t,g=e.pageKey,y=void 0===g?"":g,b=e.text,k=void 0===b?"":b,w=e.modalTitle,C=void 0===w?"":w,S=e.children,P=(0,f.useState)(null===(n=null===(t=h.Hk.get("infoShown"))||void 0===t?void 0:t[y])||void 0===n||n),D=(0,r.Z)(P,2),O=D[0],K=D[1],E=(0,f.useState)(Array.isArray(k)?(0,x.F_)(k):k),M=(0,r.Z)(E,1)[0],A=function(){var e,n=null!==(e=h.Hk.get("infoShown"))&&void 0!==e?e:{};n[y]=!1,h.Hk.set("infoShown",n),K(!1)};return(0,j.jsxs)(m.Z,{children:[(0,j.jsxs)(s.ZP,{container:!0,children:[(0,j.jsx)(s.ZP,{item:!0,flexGrow:1,children:(0,j.jsx)(l.Z,{variant:"caption",pl:1,children:M})}),(0,j.jsx)(s.ZP,{item:!0,xs:"auto",children:(0,j.jsx)(c.Z,{size:"small",color:"info",variant:"contained",onClick:function(){return K(!0)},startIcon:(0,j.jsx)(a.G,{icon:i.sph}),children:(0,j.jsx)(Z.v,{ns:"ui",key18:"info"})})})]}),(0,j.jsx)(p.Z,{containerProps:{maxWidth:"xl"},open:O,onClose:function(){return A()},children:(0,j.jsxs)(m.Z,{children:[(0,j.jsx)(o.Z,{sx:{py:1},children:(0,j.jsxs)(s.ZP,{container:!0,children:[(0,j.jsx)(s.ZP,{item:!0,flexGrow:1,children:(0,j.jsx)(l.Z,{variant:"h6",children:C})}),(0,j.jsx)(s.ZP,{item:!0,children:(0,j.jsx)(v.Z,{onClick:A})})]})}),(0,j.jsx)(u.Z,{}),(0,j.jsx)(o.Z,{children:(0,j.jsx)(f.Suspense,{fallback:(0,j.jsx)(d.Z,{variant:"rectangular",width:"100%",height:500}),children:S})}),(0,j.jsx)(u.Z,{}),(0,j.jsx)(o.Z,{sx:{py:1},children:(0,j.jsx)(v.Z,{large:!0,onClick:A})})]})})]})}},14525:function(e,n,t){t.d(n,{Z:function(){return k},b:function(){return w}});var r=t(29439),i=t(4942),a=t(1413),s=t(53174),l=t(54483),c=t(39504),o=t(20890),u=t(94721),d=t(61889),f=t(2199),h=t(23786),x=t(24518),m=t(72791),v=t(71310),p=t(10600),Z=t(33890),j=t(2693),g=t(26138),y=t(44297),b=t(80184);function k(e){var n=e.statFilters,t=void 0===n?{}:n,s=e.setStatFilters,l=e.disabled,f=void 0!==l&&l,h=(0,m.useContext)(j.R).data,x=["atk","hp","def","eleMas","critRate_","critDMG_","heal_","enerRech_"];"catalyst"!==h.get(g.ri.weaponType).value&&x.push("physical_dmg_");var p=h.get(g.ri.charEle).value;x.push("".concat(p,"_dmg_"));var Z=x.filter((function(e){return!Object.keys(t).some((function(n){return n===e}))})),y=(0,m.useCallback)((function(e,n){return s((0,a.Z)((0,a.Z)({},t),{},(0,i.Z)({},e,n)))}),[t,s]);return(0,b.jsxs)(v.Z,{children:[(0,b.jsx)(c.Z,{sx:{py:1},children:(0,b.jsx)(o.Z,{children:"Minimum Final Stat Filter"})}),(0,b.jsx)(u.Z,{}),(0,b.jsx)(c.Z,{children:(0,b.jsxs)(d.ZP,{container:!0,spacing:1,children:[Object.entries(t).map((function(e){var n=(0,r.Z)(e,2),i=n[0],l=n[1];return(0,b.jsx)(d.ZP,{item:!0,xs:12,children:(0,b.jsx)(w,{statKey:i,statKeys:Z,setFilter:y,disabled:f,value:l,close:function(){delete t[i],s((0,a.Z)({},t))}})},i)})),(0,b.jsx)(d.ZP,{item:!0,xs:12,children:(0,b.jsx)(w,{value:void 0,close:void 0,statKeys:Z,setFilter:y,disabled:f})})]})})]})}function w(e){var n=e.statKey,t=e.statKeys,r=void 0===t?[]:t,i=e.value,a=void 0===i?0:i,c=e.close,o=e.setFilter,u=e.disabled,d=void 0!==u&&u,v="%"===y.ZP.unit(n),j=(0,m.useCallback)((function(e){return n&&o(n,e)}),[o,n]);return(0,b.jsxs)(f.Z,{sx:{width:"100%"},children:[(0,b.jsx)(Z.Z,{title:n?y.ZP.get(n):"New Stat",disabled:d,children:r.map((function(e){return(0,b.jsx)(h.Z,{onClick:function(){null===c||void 0===c||c(),o(e,a)},children:y.ZP.get(e)},e)}))}),(0,b.jsx)(p.CC,{sx:{flexBasis:30,flexGrow:1},children:(0,b.jsx)(p.ZP,{disabled:!n,float:v,value:a,placeholder:"Min Value",onChange:j,sx:{px:2}})}),!!c&&(0,b.jsx)(x.Z,{color:"error",onClick:c,disabled:d,children:(0,b.jsx)(l.G,{icon:s.I7k})})]})}},82209:function(e,n,t){t.r(n),t.d(n,{default:function(){return Un}});var r=t(45987),i=t(15861),a=t(29439),s=t(93433),l=t(1413),c=t(87757),o=t.n(c),u=t(53174),d=t(54483),f=t(72247),h=t(9912),x=t(96739),m=t(68870),v=t(19658),p=t(23060),Z=t(39504),j=t(20890),g=t(94721),y=t(61889),b=t(24518),k=t(2199),w=t(23786),C=t(90388),S=t(47047),P=t(72791),D=t(16129),O=t(91523);function K(){return new Worker(t.p+"static/js/BackgroundWorker.2fba713f.worker.js")}var E=t(21977),M=t(3992),A=t(71310),B=t(36944),T=t(68198),F=t(33890),R=t(43568),I=t(9321),z=t(91839),G=t(14525),L=t(3997),_=t(23741),H=t(2693),V=t(73036),N=t(26138),q=t(69292),W=t(20323),U=t(16134),Y=t(13434),J=t(50920),Q=t(53561),$=t(68544),X=t(47639),ee=t(60393),ne=t(77474),te=t(39738),re=t(37762),ie=t(94294),ae=t(72456),se=t(18455),le=t(56125),ce=t(66934),oe=t(19913),ue=t(37389),de=t(82839),fe=t(90466),he=t(12891),xe=t(42633),me=t(27281),ve=t(64694),pe=t(62066),Ze=t(44297),je=t(80184);function ge(e){var n=e.plotData,t=e.plotBase,r=e.setPlotBase,i=e.disabled,s=void 0!==i&&i,l=(0,P.useState)(!1),c=(0,a.Z)(l,2),o=c[0],u=c[1],d=(0,P.useState)(!0),x=(0,a.Z)(d,2),m=x[0],v=x[1],p=(0,P.useContext)(H.R).data,k=["atk","hp","def","eleMas","critRate_","critDMG_","heal_","enerRech_"];"catalyst"!==p.get(N.ri.weaponType).value&&k.push("physical_dmg_"),k.push("".concat(p.get(N.ri.charEle).value,"_dmg_"));var C=(0,P.useMemo)((function(){if(null===n||void 0===n||!n.length)return{displayData:null,downloadData:null};var e,t=n.map((function(e){return{x:e.plotBase,y:e.optimizationTarget}})).sort((function(e,n){return e.x-n.x})),r=[],i=(0,re.Z)(t);try{for(i.s();!(e=i.n()).done;){for(var a=e.value,s=void 0;s=r.pop();)if(s.y>a.y){r.push(s);break}r.push(a)}}catch(c){i.e(c)}finally{i.f()}r[0].x!==t[0].x&&(t[0].min=r[0].y),r.forEach((function(e){e.min=e.y}));var l={minimum:r.map((function(e){return[e.x,e.y]})),allData:t.map((function(e){return[e.x,e.y]}))};return{displayData:t,downloadData:l}}),[n]),S=C.displayData,D=C.downloadData;return(0,je.jsxs)(A.Z,{children:[(0,je.jsx)(Z.Z,{children:(0,je.jsxs)(y.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsx)(j.Z,{variant:"h6",children:"Optimization Target vs"})}),(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsxs)(F.Z,{title:t?Ze.ZP.get(t):"Not Selected",color:t?"success":"primary",disabled:s,children:[(0,je.jsx)(w.Z,{onClick:function(){r("")},children:"Unselect"}),(0,je.jsx)(g.Z,{}),k.map((function(e){return(0,je.jsx)(w.Z,{onClick:function(){r(e)},children:Ze.ZP.get(e)},e)}))]})}),(0,je.jsx)(y.ZP,{item:!0,flexGrow:1,children:(0,je.jsx)(se.Z,{placement:"top",title:"Using data from the builder, this will generate a graph to visualize Optimization Target vs. a selected stat. The graph will show the maximum Optimization Target value per 0.01 of the selected stat.",children:(0,je.jsx)(ie.Z,{})})}),!!D&&(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsx)(b.Z,{startIcon:m?(0,je.jsx)(f.Z,{}):(0,je.jsx)(h.Z,{}),color:m?"success":"secondary",onClick:function(){return v(!m)},children:"Show Min Stat Threshold"})}),!!D&&(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsx)(b.Z,{color:"info",startIcon:(0,je.jsx)(ae.Z,{}),onClick:function(){return u(!o)},children:"Download Data"})})]})}),!!S&&(0,je.jsx)(g.Z,{}),!!S&&(0,je.jsxs)(Z.Z,{children:[(0,je.jsx)(le.Z,{in:!!D&&o,children:(0,je.jsx)(M.Z,{sx:{mb:2},children:(0,je.jsxs)(Z.Z,{children:[(0,je.jsx)(j.Z,{children:"Min Data"}),(0,je.jsx)(be,{data:null===D||void 0===D?void 0:D.minimum}),(0,je.jsx)(j.Z,{children:"All Data"}),(0,je.jsx)(be,{data:null===D||void 0===D?void 0:D.allData})]})})}),(0,je.jsx)(ke,{displayData:S,plotBase:t,showMin:m})]})]})}var ye=(0,ce.ZP)("textarea")({width:"100%",fontFamily:"monospace",resize:"vertical",minHeight:"5em"});function be(e){var n=e.data;return(0,je.jsx)(ye,{readOnly:!0,value:JSON.stringify(n),onClick:function(e){var n=e.target;n.selectionStart=0,n.selectionEnd=n.value.length}})}function ke(e){var n=e.displayData,t=e.plotBase,r=e.showMin;return(0,je.jsx)(oe.h,{width:"100%",height:600,children:(0,je.jsxs)(ue.c,{data:n,children:[(0,je.jsx)(de.q,{strokeDasharray:"3 3"}),(0,je.jsx)(fe.K,{dataKey:"x",scale:"linear",unit:Ze.ZP.unit(t),domain:["auto","auto"],tick:{fill:"white"},type:"number",tickFormatter:function(e){return e>1e4?e.toFixed():e.toFixed(1)}}),(0,je.jsx)(he.B,{name:"DMG",domain:["auto","auto"],allowDecimals:!1,tick:{fill:"white"},type:"number"}),(0,je.jsx)(xe.d,{dataKey:"y",range:[3,25]}),(0,je.jsx)(me.D,{}),(0,je.jsx)(ve.b,{name:"Optimization Target",dataKey:"y",fill:"#8884d8",line:!0,lineType:"fitting",isAnimationActive:!1}),r&&(0,je.jsx)(pe.x,{name:"Minimum Stat Requirement Threshold",dataKey:"min",stroke:"#ff7300",type:"stepBefore",connectNulls:!0,strokeWidth:2,isAnimationActive:!1})]})})}var we=t(64737),Ce=t(78661),Se=t(24351);function Pe(e,n){var t=new Set,r=new Set;function i(e,n){n?t.add(e):e.operands.forEach((function(e){var n=e;t.has(n)&&r.add(n)}))}var c=new Set;(0,we.aD)(e,(function(e){}),(function(e){var n=e.operation;switch(n){case"read":if("number"!==e.type||"dyn"!==e.path[0]||"add"!==e.accu)throw new Error("Found unsupported ".concat(n," node at path ").concat(e.path," when computing affine nodes"));c.add(e.path[1]),i(e,!0);break;case"add":i(e,e.operands.every((function(e){return t.has(e)})));break;case"mul":var r=e.operands.filter((function(e){return"const"!==e.operation}));i(e,0===r.length||1===r.length&&t.has(r[0]));break;case"const":if("string"===typeof e.value||void 0===e.value)throw new Error("Found constant ".concat(e.value," while compacting"));i(e,!0);break;case"res":case"threshold":case"sum_frac":case"max":case"min":i(e,!1);break;case"data":case"subscript":case"lookup":case"match":case"prio":throw new Error("Found unsupported ".concat(n," node when computing affine nodes"));default:(0,ee.UT)(n)}}));var o=-1;function u(){for(;c.has("".concat(++o)););return"".concat(o)}e.forEach((function(e){return t.has(e)&&r.add(e)}));var d=(0,s.Z)(r).filter((function(e){return"const"!==e.operation})),f=new Map(d.map((function(e){return[e,(0,l.Z)((0,l.Z)({},(0,Ce.UF)(["dyn","".concat(u())])),{},{accu:"add"})]})));function h(e){var n=(0,q.CG)((0,s.Z)(f.keys()),{dyn:(0,ee.xh)(e,(function(e){return(0,Ce.a9)(e)}))},(function(e){return!0}));return Object.fromEntries((0,s.Z)(f.values()).map((function(e,t){return[e.path[1],n[t].value]})))}for(var x={nodes:e=(0,we.uW)(e,(function(e){var n;return null!==(n=f.get(e))&&void 0!==n?n:e}),(function(e){return e})),arts:{base:h(n.base),values:(0,ee.O)(Se.eV,(function(e){return n.values[e].map((function(e){return{id:e.id,set:e.set,values:h(e.values)}}))}))}},m=Object.entries(h({})),v=0,p=Object.values(x.arts.values);v<p.length;v++){var Z,j=p[v],g=(0,re.Z)(j);try{for(g.s();!(Z=g.n()).done;){var y,b=Z.value.values,k=(0,re.Z)(m);try{for(k.s();!(y=k.n()).done;){var w=(0,a.Z)(y.value,2),C=w[0],S=w[1];b[C]-=S}}catch(P){k.e(P)}finally{k.f()}}}catch(P){g.e(P)}finally{g.f()}}return x}function De(e,n){var t=!1,r=(0,ee.O)(Se.eV,(function(r){var i=e.values[r],s=i.filter((function(e){var t=0;return i.every((function(r){var i=Object.entries(r.values).every((function(n){var t=(0,a.Z)(n,2),r=t[0];return t[1]>=e.values[r]})),s=Object.entries(r.values).some((function(n){var t=(0,a.Z)(n,2),r=t[0];return t[1]>e.values[r]}));return i&&(s||r.id>e.id)&&t++,t<n}))}));return s.length!==i.length&&(t=!0),s}));return t?{base:e.base,values:r}:e}function Oe(e,n,t,r){for(var i={nodes:e,arts:n},l={anyProgress:r},c=Object.fromEntries(Object.entries(i.arts.base).map((function(e){var n=(0,a.Z)(e,2),t=n[0],r=n[1];return[t,{min:r,max:r}]}))),o=function(){var e=(0,ee.O)(Se.eV,(function(e){return Ee(i.arts.values[e])})),n=(0,ee.O)(Se.eV,(function(n){return Ke(Object.entries(e).map((function(e){return e[0]===n?c:e[1]})).filter((function(e){return e})))})),r=!1,a=(0,ee.O)(Se.eV,(function(e){var a=i.arts.values[e].filter((function(r){var a=Ke([Ee([r]),n[e]]),s=Me(i.nodes,a);return i.nodes.every((function(e,n){var r;return s.get(e).min>=(null!==(r=t[n])&&void 0!==r?r:-1/0)}))}));return a.length!==i.arts.values[e].length&&(l.anyProgress=!0,r=!0),a}));if(!r)return"break";i.arts={base:i.arts.base,values:a}};;){if("break"===o())break}if(!l.anyProgress)return{nodes:e,arts:n};var u=Ke([c].concat((0,s.Z)(Object.values(n.values).map((function(e){return Ee(e)}))))),d=Me(i.nodes,u);return i.nodes=(0,we.uW)(i.nodes,(function(e){var n=e.operation,t=e.operands.map((function(e){return d.get(e)}));switch(n){case"threshold":var r=(0,a.Z)(t,4),i=r[0],l=r[1],c=r[2],o=r[3];if(i.min>=l.max)return e.operands[2];if(i.max<l.min)return(0,Ce.a9)(0);if(c.max===c.min&&o.max===o.min&&c.min===o.min&&isFinite(c.min))return(0,Ce.a9)(c.max);break;case"min":var u=e.operands.filter((function(e,n){var r=t[n];return t.every((function(e,n){return r.min<=e.max}))}));if(u.length<t.length)return Ce.VV.apply(void 0,(0,s.Z)(u));break;case"max":var f=e.operands.filter((function(e,n){var r=t[n];return t.every((function(e){return r.max>=e.min}))}));if(f.length<t.length)return Ce.Fp.apply(void 0,(0,s.Z)(f))}return e}),(function(e){return e})),i}function Ke(e){var n={};return e.forEach((function(e){Object.entries(e).forEach((function(e){var t=(0,a.Z)(e,2),r=t[0],i=t[1];n[r]?(n[r].min+=i.min,n[r].max+=i.max):n[r]=(0,l.Z)({},i)}))})),n}function Ee(e){var n={};return e.forEach((function(e){var t=e.values;Object.entries(t).forEach((function(e){var t=(0,a.Z)(e,2),r=t[0],i=t[1];n[r]?(n[r].max<i&&(n[r].max=i),n[r].min>i&&(n[r].min=i)):n[r]={min:i,max:i}}))})),n}function Me(e,n){var t=new Map;return(0,we.aD)(e,(function(e){}),(function(e){var r,i=e,s=i.operation,l=i.operands.map((function(e){return t.get(e)}));switch(s){case"read":if("dyn"!==i.path[0])throw new Error("Found non-dyn path ".concat(i.path," while computing range"));r=n[i.path[1]];break;case"const":r=Ae([i.value]);break;case"subscript":r=Ae(i.list);break;case"add":case"min":case"max":r={min:q.aj[s](l.map((function(e){return e.min}))),max:q.aj[s](l.map((function(e){return e.max})))};break;case"res":r={min:q.aj[s]([l[0].max]),max:q.aj[s]([l[0].min])};break;case"mul":r=l.reduce((function(e,n){return Ae([e.min*n.min,e.min*n.max,e.max*n.min,e.max*n.max])}));break;case"threshold":r=l[0].min>=l[1].max?l[2]:l[0].max<l[1].min?Ae([0]):Ae([0],[l[2]]);break;case"sum_frac":var c=(0,a.Z)(l,2),o=c[0],u=c[1],d={min:o.min+u.min,max:o.max+u.max};r=d.min<=0&&d.max>=0?o.min<=0&&o.max>=0?{min:NaN,max:NaN}:{min:-1/0,max:1/0}:Ae([o.min/d.min,o.min/d.max,o.max/d.min,o.max/d.max]);break;case"data":case"lookup":case"match":throw new Error("Unsupported ".concat(s," node"));default:(0,ee.UT)(s)}t.set(i,r)})),t}function Ae(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Math.max.apply(Math,(0,s.Z)(e).concat((0,s.Z)(n.map((function(e){return e.max}))))),r=Math.min.apply(Math,(0,s.Z)(e).concat((0,s.Z)(n.map((function(e){return e.min})))));return{min:r,max:t}}function Be(e,n){return{base:e.base,values:(0,ee.O)(Se.eV,(function(t){var r=n[t];switch(r.kind){case"id":return e.values[t].filter((function(e){return r.ids.has(e.id)}));case"exclude":return e.values[t].filter((function(e){return!r.sets.has(e.set)}));case"required":return e.values[t].filter((function(e){return r.sets.has(e.set)}))}}))}}function Te(e,n){return e.flatMap((function(e){return e})).sort((function(e,n){return n.value-e.value})).slice(0,n)}function Fe(e){for(var n={scale:.01},t=new Set(e.flatMap((function(e){return Object.values(e).map((function(e){return Math.round(e.value/n.scale)}))})));t.size>1500;)n.scale*=2,t=new Set((0,s.Z)(t).map((function(e){return Math.round(e/2)})));var r,i={},a=(0,re.Z)(e);try{for(a.s();!(r=a.n()).done;)for(var l=r.value,c=0,o=Object.values(l);c<o.length;c++){var u=o[c],d=Math.round(u.value/n.scale)*n.scale;(!i[d]||i[d].value<u.value)&&(i[d]=u)}}catch(f){a.e(f)}finally{a.f()}return i}function Re(e){return Se.eV.reduce((function(n,t){return n*e.values[t].length}),1)}var Ie=t(66647),ze=t(31148),Ge=t(25617),Le=t(42320),_e=t(95614),He=t(71946);function Ve(e){var n=e.index,t=e.onClick,r=e.compareBuild,i=e.disabled,s=(0,P.useContext)(H.R),c=s.character,o=s.data,u=s.oldData,d=(0,Le.Z)(ze.y.getAll,[]);if(!c||!d||!u)return null;var f=Se.eV.every((function(e){return o.get(N.ri.art[e].id).value===u.get(N.ri.art[e].id).value})),h=(0,l.Z)({},s);r||(h.oldData=void 0);var x={};return Se.eV.forEach((function(e){var n=o.get(N.ri.art[e].set).value;n&&(x[n]?x[n].push(e):x[n]=[e])})),(0,je.jsx)(A.Z,{children:(0,je.jsx)(P.Suspense,{fallback:(0,je.jsx)(S.Z,{variant:"rectangular",width:"100%",height:600}),children:(0,je.jsx)(Ie.Z,{onClick:t,disabled:i,children:(0,je.jsxs)(Z.Z,{children:[(0,je.jsxs)(y.ZP,{container:!0,spacing:1,sx:{pb:1},children:[(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsx)(j.Z,{variant:"h6",children:(0,je.jsx)(Ge.Z,{color:"info",children:(0,je.jsxs)("strong",{children:["#",n+1,f?" (Equipped)":""]})})})}),Object.entries(x).sort((function(e,n){var t=(0,a.Z)(e,2),r=(t[0],t[1]),i=(0,a.Z)(n,2);i[0];return i[1].length-r.length})).map((function(e){var n,t=(0,a.Z)(e,2),r=t[0],i=t[1];return(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsx)(j.Z,{variant:"h6",children:(0,je.jsxs)(Ge.Z,{color:f?"success":"primary",children:[i.map((function(e){return(0,_e.Ir)(e)}))," ",null!==(n=null===d||void 0===d?void 0:d[r].name)&&void 0!==n?n:""]})})},r)}))]}),(0,je.jsx)(H.R.Provider,{value:h,children:(0,je.jsx)(He.Z,{})})]})})})})}var Ne=t(49670),qe=t(10157),We=t(31284);function Ue(e){var n=e.disabled,t=(0,P.useContext)(H.R).character,r=(0,P.useState)(!1),i=(0,a.Z)(r,2),s=i[0],l=i[1],c=(0,P.useCallback)((function(){return l(!0)}),[l]),o=(0,P.useCallback)((function(){return l(!1)}),[l]),u=(0,P.useMemo)((function(){return Object.keys(t.conditional).filter((function(e){return Se.q2.includes(e)})).length}),[t]);return(0,je.jsx)(A.Z,{children:(0,je.jsxs)(Z.Z,{children:[(0,je.jsx)(b.Z,{fullWidth:!0,onClick:c,disabled:n,children:(0,je.jsxs)("span",{children:["Default Artifact Set Effects Conditionals ",!!u&&(0,je.jsxs)(Ge.Z,{color:"success",children:[u," Selected"]})]})}),(0,je.jsx)(Ye,{open:s,onClose:o,artifactCondCount:u})]})})}function Ye(e){var n=e.open,t=e.onClose,r=e.artifactCondCount,i=(0,P.useContext)(H.R),s=i.character,l=i.characterDispatch,c=(0,Le.Z)(ze.y.getAll,[]),o=(0,P.useCallback)((function(){var e=Object.fromEntries(Object.entries(s.conditional).filter((function(e){var n=(0,a.Z)(e,2),t=n[0];n[1];return!Se.q2.includes(t)})));l({conditional:e})}),[s,l]);if(!c)return null;var u=Object.entries(ze.y.setKeysByRarities(c)).reverse().flatMap((function(e){return(0,a.Z)(e,2)[1]}));return(0,je.jsx)(I.Z,{open:n,onClose:t,children:(0,je.jsxs)(M.Z,{children:[(0,je.jsx)(Z.Z,{children:(0,je.jsxs)(y.ZP,{container:!0,spacing:1,children:[(0,je.jsx)(y.ZP,{item:!0,flexGrow:1,children:(0,je.jsxs)(j.Z,{variant:"h6",children:["Default Artifact Set Effects ",!!r&&(0,je.jsxs)(Ge.Z,{color:"success",children:[r," Selected"]})]})}),(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsx)(b.Z,{onClick:o,startIcon:(0,je.jsx)(Ne.Z,{}),children:"Reset All"})}),(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsx)(T.Z,{onClick:t})})]})}),(0,je.jsx)(g.Z,{}),(0,je.jsxs)(Z.Z,{children:[(0,je.jsx)(A.Z,{sx:{mb:1},children:(0,je.jsx)(Z.Z,{children:(0,je.jsx)(j.Z,{children:"Some artifacts provide conditional stats. This windows allows you to select those stats, so they can take effect during build calculation, when artifact sets are not specified."})})}),(0,je.jsx)(y.ZP,{container:!0,spacing:1,children:u.map((function(e){var n,t=c[e];return Object.values(t.setEffects).some((function(e){return e.document&&e.document.some((function(e){return e.conditional}))}))?(0,je.jsx)(y.ZP,{item:!0,xs:6,lg:4,children:(0,je.jsxs)(A.Z,{sx:{height:"100%"},children:[(0,je.jsxs)(m.Z,{className:"grad-".concat(t.rarity[0],"star"),width:"100%",sx:{display:"flex"},children:[(0,je.jsx)(m.Z,{component:"img",src:t.defIconSrc,sx:{height:100,width:"auto"}}),(0,je.jsxs)(m.Z,{sx:{flexGrow:1,px:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,je.jsx)(j.Z,{variant:"h6",children:null!==(n=null===c||void 0===c?void 0:c[e].name)&&void 0!==n?n:""}),(0,je.jsx)(j.Z,{variant:"subtitle1",children:t.rarity.map((function(e,n){return(0,je.jsxs)("span",{children:[e,(0,je.jsx)(qe.t,{stars:1})," ",n<t.rarity.length-1?"/ ":null]},e)}))})]})]}),(0,je.jsx)(Z.Z,{children:(0,je.jsx)(y.ZP,{item:!0,display:"flex",flexDirection:"column",gap:1,children:Object.keys(t.setEffects).map((function(n){return(0,je.jsx)(We.Z,{setKey:e,setNumKey:parseInt(n)},n)}))})})]})},e):null}))})]}),(0,je.jsx)(g.Z,{}),(0,je.jsx)(Z.Z,{sx:{py:1},children:(0,je.jsx)(T.Z,{large:!0,onClick:t})})]})})}var Je=t(8375);function Qe(e){var n,t,r,i=e.index,s=e.setFilters,l=e.onChange,c=e.disabled,o=void 0!==c&&c,u=s[i],d=u.key,f=u.num,h=(0,Le.Z)(ze.y.getAll,[]),x=(0,P.useMemo)((function(){if(h){var e=Object.fromEntries(Object.entries(ze.y.setKeysByRarities(h)).map((function(e){var n=(0,a.Z)(e,2);return[n[0],n[1].filter((function(e){var n,t;if(s.some((function(n){return n.key===e})))return!1;var r=Object.keys(null!==(n=null===h||void 0===h||null===(t=h[e])||void 0===t?void 0:t.setEffects)&&void 0!==n?n:{}),a=s.reduce((function(e,n,t){return n.key&&t!==i?e+n.num:e}),0);return!r.every((function(e){return parseInt(e)+a>5}))}))]})));return e}}),[h,s,i]),m=s.reduce((function(e,n){return n.key?e+n.num:e}),0);return(0,je.jsxs)(A.Z,{children:[(0,je.jsx)(Z.Z,{children:(0,je.jsxs)(k.Z,{children:[h&&(0,je.jsx)(Je.Z,{hasUnselect:!0,selectedSetKey:d,artifactSetsByRarity:x,disabled:o,onChange:function(e){var n,t,r;return l(i,e,null!==(n=parseInt(Object.keys(null!==(t=null===(r=h[e])||void 0===r?void 0:r.setEffects)&&void 0!==t?t:{})[0]))&&void 0!==n?n:0)}}),(0,je.jsx)(F.Z,{title:"".concat(f,"-set"),disabled:o||!d||m>=5,children:Object.keys(null!==(n=null===h||void 0===h||null===(t=h[d])||void 0===t?void 0:t.setEffects)&&void 0!==n?n:{}).map((function(e){var n=s.reduce((function(e,n){return n.key&&n.key!==d?e+n.num:e}),0);return parseInt(e)+n<=5&&(0,je.jsx)(w.Z,{onClick:function(){var n;return l(i,s[i].key,null!==(n=parseInt(e))&&void 0!==n?n:0)},children:"".concat(e,"-set")},e)}))})]})}),!!d&&(0,je.jsx)(g.Z,{}),!!d&&(0,je.jsx)(Z.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:Object.keys(null!==(r=null===h||void 0===h?void 0:h[d].setEffects)&&void 0!==r?r:{}).map((function(e){return parseInt(e)})).filter((function(e){return e<=f})).map((function(e){return(0,je.jsx)(We.Z,{setKey:d,setNumKey:e},d+e)}))})]},i)}var $e=t(15021),Xe=t(14763);function en(){var e=(0,P.useContext)(H.R),n=e.data,t=e.character,r=Object.keys(null===t||void 0===t?void 0:t.bonusStats);if(!r.length)return null;var i=r.map((function(e){return n.get(N.ri.total[e])}));return(0,je.jsxs)(A.Z,{children:[(0,je.jsx)(Z.Z,{sx:{py:1},children:(0,je.jsx)(j.Z,{children:"Bonus Stats"})}),(0,je.jsx)(g.Z,{}),(0,je.jsx)(Z.Z,{children:(0,je.jsx)(Xe.lD,{sx:{my:0},children:i.map((function(e,n){return(0,je.jsx)($e.ZP,{children:(0,je.jsx)(Xe.JW,{node:e})},n)}))})})]})}var nn=t(57482),tn=t(52771),rn=1e7,an=(0,ce.ZP)("strong")({fontFamily:"monospace"}),sn=(0,ce.ZP)(nn.Z)((function(e){e.theme;return{height:10,borderRadius:5}}));function ln(e){var n,t,r,i,a=e.totBuildNumber,s=e.generatingBuilds,l=e.generationSkipped,c=e.generationProgress,o=e.generationDuration,u=e.characterName,d=e.maxBuildsToShow,f=null!==(n=null===a||void 0===a?void 0:a.toLocaleString())&&void 0!==n?n:a,h=a-l,x=null!==(t=null===c||void 0===c?void 0:c.toLocaleString())&&void 0!==t?t:c,m=null!==(r=null===l||void 0===l?void 0:l.toLocaleString())&&void 0!==r?r:l,p=null!==(i=null===h||void 0===h?void 0:h.toLocaleString())&&void 0!==i?i:h,Z=!!l&&(0,je.jsxs)("span",{children:["(",(0,je.jsx)("b",{children:m})," skipped)"]}),g="success",b="",k="",w=void 0;return s?(w=100*c/h,b=(0,je.jsxs)(j.Z,{children:["Generating and testing ",(0,je.jsxs)(an,{children:[x,"/",p]})," build configurations against the criteria for ",(0,je.jsx)("b",{children:u}),". ",Z]}),k=(0,je.jsxs)(j.Z,{children:["Time elapsed: ",(0,je.jsx)(an,{children:(0,tn.e6)(Math.round(o))})]})):!s&&c?(w=100,b=(0,je.jsxs)(j.Z,{children:["Generated and tested ",(0,je.jsx)(an,{children:p})," Build configurations against the criteria for ",(0,je.jsx)("b",{children:u}),". ",Z]}),k=(0,je.jsxs)(j.Z,{children:["Total duration: ",(0,je.jsx)(an,{children:(0,tn.e6)(Math.round(o))})]})):0===a?(b=(0,je.jsxs)(j.Z,{children:["Current configuration will not generate any builds for ",(0,je.jsx)("b",{children:u}),". Please change your Artifact configurations, or add/include more Artifacts."]}),g="error"):a>rn?(b=(0,je.jsxs)(j.Z,{children:["Current configuration will generate ",(0,je.jsx)(an,{children:f})," potential builds for ",(0,je.jsx)("b",{children:u}),". This might take quite a while to generate..."]}),g="warning"):b=(0,je.jsxs)(j.Z,{children:["Current configuration ",a<=d?"generated":"will generate"," ",(0,je.jsx)(an,{children:f})," builds for ",(0,je.jsx)("b",{children:u}),"."]}),(0,je.jsxs)(v.Z,{severity:g,variant:"filled",sx:{"& .MuiAlert-message":{flexGrow:1}},children:[b&&b,k&&k,void 0!==w&&(0,je.jsxs)(y.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsx)(j.Z,{children:"".concat(w.toFixed(1),"%")})}),(0,je.jsx)(y.ZP,{item:!0,flexGrow:1,children:(0,je.jsx)(sn,{variant:"determinate",value:w,color:"primary"})})]})]})}var cn=t(37355),on=t(9585),un=t(66887),dn=t(91732),fn=t(18327);function hn(){var e=(0,P.useState)(!1),n=(0,a.Z)(e,2),t=n[0],r=n[1],i=(0,P.useContext)(H.R).data,s=i.get(N.ri.enemy.level),l=i.get(N.ri.enemy.defRed),c=i.get(N.ri.enemy.defIgn);return(0,je.jsxs)(A.Z,{children:[(0,je.jsx)(on.Z,{action:(0,je.jsx)(dn.Z,{expand:t,onClick:function(){return r(!t)},"aria-expanded":t,"aria-label":"show more",size:"small",children:(0,je.jsx)(cn.Z,{})}),title:(0,je.jsxs)(j.Z,{children:[Ze.ZP.get(s.key)," ",(0,je.jsx)("strong",{children:(0,fn.E)(s.value,s.unit,0)})]})}),(0,je.jsx)(g.Z,{}),(0,je.jsx)(Z.Z,{children:(0,je.jsxs)(y.ZP,{container:!0,spacing:1,children:[Se.Kj.map((function(e){return(0,je.jsx)(y.ZP,{item:!0,xs:3,children:(0,je.jsx)(un.Q2,{element:e})},e)})),(0,je.jsx)(y.ZP,{item:!0,xs:4,children:(0,je.jsxs)(j.Z,{children:["DEF Reduction ",(0,fn.E)(l.value,l.unit)]})}),(0,je.jsx)(y.ZP,{item:!0,xs:4,children:(0,je.jsxs)(j.Z,{children:["DEF Reduction ",(0,fn.E)(c.value,c.unit)]})})]})}),(0,je.jsx)(le.Z,{in:t,timeout:"auto",unmountOnExit:!0,children:(0,je.jsx)(Z.Z,{sx:{pt:0},children:(0,je.jsx)(un.$r,{bsProps:{xs:12}})})})]})}var xn=t(32490);function mn(e){var n=e.disabled;return(0,je.jsxs)(A.Z,{children:[(0,je.jsx)(Z.Z,{sx:{py:1},children:(0,je.jsxs)(y.ZP,{container:!0,children:[(0,je.jsx)(y.ZP,{item:!0,flexGrow:1,children:(0,je.jsx)(j.Z,{children:"Hit Mode Options"})}),(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsx)(xn.pg,{size:"small",disabled:n})})]})}),(0,je.jsx)(g.Z,{}),(0,je.jsxs)(Z.Z,{children:[(0,je.jsx)(xn.Hn,{fullWidth:!0,size:"small",disabled:n}),(0,je.jsx)(xn.oX,{fullWidth:!0,size:"small",disabled:n,sx:{mt:1}})]})]})}var vn=t(96106),pn=t(75545),Zn=t(19272),jn=["sands","goblet","circlet"];function gn(e){var n=e.mainStatAssumptionLevel,t=e.mainStatKeys,r=e.onChangeMainStatKey,i=e.onChangeAssLevel,a=e.disabled,s=void 0!==a&&a;return(0,je.jsxs)(A.Z,{children:[(0,je.jsx)(Z.Z,{sx:{py:1},children:(0,je.jsxs)(y.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,je.jsx)(y.ZP,{item:!0,flexGrow:1,children:(0,je.jsx)(j.Z,{children:"Artifact Main Stat"})}),(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsx)(vn.Z,{placement:"top",title:(0,je.jsxs)(j.Z,{children:[(0,je.jsx)("strong",{children:"Level Assumption"})," changes mainstat value to be at least a specific level. Does not change substats."]}),children:(0,je.jsx)(ie.Z,{})})}),(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsx)(bn,{mainStatAssumptionLevel:n,setmainStatAssumptionLevel:function(e){return i(e)},disabled:s})})]})}),(0,je.jsx)(g.Z,{}),(0,je.jsx)(Z.Z,{sx:{"> div:nth-last-of-type(n+2)":{mb:1}},children:jn.map((function(e){var n=t[e].length;return(0,je.jsxs)(M.Z,{children:[(0,je.jsx)(Z.Z,{sx:{py:1},children:(0,je.jsxs)(y.ZP,{container:!0,spacing:1,children:[(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsx)(_e.ZP,{slotKey:e})}),(0,je.jsx)(y.ZP,{item:!0,flexGrow:1,children:(0,je.jsx)(Ge.Z,{color:"info",children:n?"".concat(n," Selected"):"Any"})}),(0,je.jsx)(y.ZP,{item:!0,children:(0,je.jsx)(b.Z,{color:"error",size:"small",disabled:!t[e].length||s,onClick:function(){return r(e)},children:(0,je.jsx)(Ne.Z,{})})})]})}),(0,je.jsx)(g.Z,{}),(0,je.jsx)(Z.Z,{children:(0,je.jsx)(y.ZP,{container:!0,spacing:1,children:Zn.Z.slotMainStats(e).map((function(n,i){var a=t[e].includes(n);return(0,je.jsx)(y.ZP,{item:!0,xs:i<3?4:6,children:(0,je.jsx)(b.Z,{fullWidth:!0,size:"small",color:a?"success":"secondary",disabled:s,sx:{height:"100%"},onClick:function(){return r(e,n)},startIcon:pn.ZP[n],children:Ze.ZP.get(n)})},n)}))})})]},e)}))})]})}var yn={0:(0,je.jsx)("span",{children:"No level assumption"}),4:(0,je.jsx)("span",{children:"Assume at least level 4"}),8:(0,je.jsx)("span",{children:"Assume at least level 8"}),12:(0,je.jsx)("span",{children:"Assume at least level 12"}),16:(0,je.jsx)("span",{children:"Assume at least level 16"}),20:(0,je.jsx)("span",{children:"Assume at least level 20"})};function bn(e){var n=e.mainStatAssumptionLevel,t=void 0===n?0:n,r=e.setmainStatAssumptionLevel,i=e.disabled;return(0,je.jsx)(F.Z,{color:t?"warning":"primary",disabled:i,title:yn[t],children:Object.entries(yn).map((function(e){var n=(0,a.Z)(e,2),t=n[0],i=n[1];return(0,je.jsx)(w.Z,{onClick:function(){return r(parseInt(t))},children:i},t)}))})}var kn=t(78593),wn=t(25028),Cn=t(91702),Sn=t(55942),Pn=t(8430),Dn=(0,ce.ZP)(b.Z)({color:"black",backgroundColor:"white","&:hover":{backgroundColor:"#e1e1e1"}});function On(e){var n=e.optimizationTarget,t=e.setTarget,r=e.disabled,i=void 0!==r&&r,s=(0,P.useState)(!1),l=(0,a.Z)(s,2),c=l[0],o=l[1],u=(0,P.useCallback)((function(){return!i&&o(!0)}),[o,i]),d=(0,P.useCallback)((function(){return o(!1)}),[o]),f=(0,P.useCallback)((function(e){d(),t(e)}),[d,t]),h=(0,P.useContext)(H.R).data,x=(0,Pn.U)(h);return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(Dn,{onClick:u,disabled:i,children:(0,je.jsx)(Mn,{optimizationTarget:n})}),(0,je.jsx)(I.Z,{open:c,onClose:d,children:(0,je.jsx)(M.Z,{children:(0,je.jsx)(Z.Z,{children:(0,je.jsx)(kn.ZP,{columns:{xs:1,sm:2,md:3},spacing:1,children:x.map((function(e){var n=(0,a.Z)(e,2),t=n[0],r=n[1];return(0,je.jsx)(Kn,{displayNs:r,sectionKey:t,setTarget:f},t)}))})})})})]})}function Kn(e){var n=e.displayNs,t=e.sectionKey,r=e.setTarget,i=(0,P.useContext)(H.R).data,s=(0,Le.Z)((0,Pn.f)(i,t),[i,t]);return s?(0,je.jsxs)(A.Z,{children:[(0,je.jsx)(on.Z,{avatar:s.icon&&(0,je.jsx)(Sn.Z,{size:2,sx:{m:-1},src:s.icon}),title:s.title,action:s.action,titleTypographyProps:{variant:"subtitle1"}}),(0,je.jsx)(g.Z,{}),(0,je.jsx)(wn.Z,{children:Object.entries(n).map((function(e){var n=(0,a.Z)(e,2),i=n[0],s=n[1];return(0,je.jsx)(An,{node:s,onClick:function(){return r([t,i])}},i)}))})]},t):null}function En(){return(0,je.jsx)("b",{children:"Please select an Optimization Target"})}function Mn(e){var n=e.optimizationTarget,t=(0,P.useContext)(H.R).data,r=(0,Le.Z)(n&&(0,Pn.f)(t,n[0]),[t,n]);if(!n||!r)return(0,je.jsx)(En,{});var i=(0,ee.Hm)(t.getDisplay(),n);return i?(0,je.jsxs)("b",{children:[r.title," : ",(0,je.jsx)(Cn.Z,{color:i.variant,children:Ze.ZP.get(i.key)})]}):(0,je.jsx)(En,{})}function An(e){var n=e.node,t=e.onClick;return n.isEmpty?null:(0,je.jsx)(w.Z,{onClick:t,style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,je.jsx)(Cn.Z,{color:n.variant,children:Ze.ZP.get(n.key)})})}function Bn(){var e,n,t,r=(0,P.useContext)(H.R).data.getTeamBuff(),i=[];return Object.values(null!==(e=r.total)&&void 0!==e?e:{}).forEach((function(e){return i.push(e)})),Object.values(null!==(n=r.premod)&&void 0!==n?n:{}).forEach((function(e){return i.push(e)})),Object.values(null!==(t=r.enemy)&&void 0!==t?t:{}).forEach((function(e){return i.push(e)})),i.length?(0,je.jsxs)(A.Z,{children:[(0,je.jsx)(Z.Z,{sx:{py:1},children:(0,je.jsx)(j.Z,{children:"Team buff Stats"})}),(0,je.jsx)(g.Z,{}),(0,je.jsx)(Z.Z,{children:(0,je.jsx)(Xe.lD,{sx:{my:0},children:i.map((function(e){return e&&!e.isEmpty&&(0,je.jsx)($e.ZP,{children:(0,je.jsx)(Xe.JW,{node:e})},e.key)}))})})]}):null}var Tn=t(4942),Fn=t(19801),Rn=o().mark(Ln),In=o().mark(_n),zn=(0,Ce.yY)((0,ee.I8)({dyn:(0,l.Z)((0,l.Z)({},N.qH.art),N.qH.artSet)})),Gn={art:(0,ee.O)([].concat((0,s.Z)(Fn.r),(0,s.Z)(Fn.L)),(function(e){return zn.dyn[e]})),artSet:(0,ee.xh)(N.qH.artSet,(function(e,n){return zn.dyn[n]}))};function Ln(e){var n,t;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=function(e,r,i){var a,s,c,u,d,f,h;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.length){n.next=2;break}return n.abrupt("return");case 2:if(!r.some((function(e){return!Object.keys(e).length}))){n.next=6;break}return n.next=5,e;case 5:return n.abrupt("return");case 6:a=Se.eV[i-1],s=new Set(r.flatMap((function(e){return Object.keys(e)}))),c=(0,re.Z)(s),n.prev=9,d=o().mark((function n(){var s,c,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=u.value,c=(0,l.Z)((0,l.Z)({},e),{},(0,Tn.Z)({},a,{kind:"required",sets:new Set([s])})),d=r.filter((function(e){return e[s]})).map((function(e){var n=(0,l.Z)({},e);return n[s]-=1,n[s]||delete n[s],n})),n.delegateYield(t(c,d,i-1),"t0",4);case 4:case"end":return n.stop()}}),n)})),c.s();case 12:if((u=c.n()).done){n.next=16;break}return n.delegateYield(d(),"t0",14);case 14:n.next=12;break;case 16:n.next=21;break;case 18:n.prev=18,n.t1=n.catch(9),c.e(n.t1);case 21:return n.prev=21,c.f(),n.finish(21);case 24:return f=(0,l.Z)((0,l.Z)({},e),{},(0,Tn.Z)({},a,{kind:"exclude",sets:s})),h=r.filter((function(e){return Object.values(e).reduce((function(e,n){return e+n}),0)<i})),n.delegateYield(t(f,h,i-1),"t2",27);case 27:case"end":return n.stop()}}),n,null,[[9,18,21,24]])},n=o().mark(t),r.delegateYield(t((0,ee.O)(Se.eV,(function(e){return Hn})),e.map((function(e){var n={};return e.forEach((function(e){var t,r=e.key,i=e.num;return r&&i&&(n[r]=(null!==(t=n[r])&&void 0!==t?t:0)+i)})),n})),5),"t0",3);case 3:case"end":return r.stop()}}),Rn)}function _n(e,n,t){var r,i,a,c,u;return o().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:t<100&&(t=100),r=(0,re.Z)(n),d.prev=2,r.s();case 4:if((i=r.n()).done){d.next=17;break}a=i.value,c=[a],u=o().mark((function n(){var r,i,a,u,d,f,h,x,m,v,p;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=c.pop(),i=Be(e,r),!((a=Re(i))<=t)){n.next=8;break}if(!a){n.next=7;break}return n.next=7,r;case 7:return n.abrupt("return","continue");case 8:if(u=Se.eV.map((function(e){return{slot:e,sets:new Set(i.values[e].map((function(e){return e.set})))}})).filter((function(e){return e.sets.size>1})).sort((function(e,n){return e.sets.size-n.sets.size}))[0],!u){n.next=13;break}return d=u.sets,f=u.slot,c.push.apply(c,(0,s.Z)((0,s.Z)(d).map((function(e){return(0,l.Z)((0,l.Z)({},r),{},(0,Tn.Z)({},f,{kind:"required",sets:new Set([e])}))})))),n.abrupt("return","continue");case 13:h=Se.eV.map((function(e){return{slot:e,length:i.values[e].length}})).filter((function(e){return e.length>1})),x=h.reduce((function(e,n){return e.length<n.length?e:n})),m=Math.max(Math.floor(t*x.length/a),1),v=i.values[x.slot].map((function(e){return e.id})),p=Array(Math.ceil(v.length/m)).fill(0).map((function(e){return new Set})),v.forEach((function(e,n){return p[Math.floor(n/m)].add(e)})),c.push.apply(c,(0,s.Z)(p.map((function(e){return(0,l.Z)((0,l.Z)({},r),{},(0,Tn.Z)({},x.slot,{kind:"id",ids:e}))}))));case 20:case"end":return n.stop()}}),n)}));case 8:if(!c.length){d.next=15;break}return d.delegateYield(u(),"t0",10);case 10:if("continue"!==d.t0){d.next=13;break}return d.abrupt("continue",8);case 13:d.next=8;break;case 15:d.next=4;break;case 17:d.next=22;break;case 19:d.prev=19,d.t1=d.catch(2),r.e(d.t1);case 22:return d.prev=22,r.f(),d.finish(22);case 25:case"end":return d.stop()}}),In,null,[[2,19,22,25]])}var Hn={kind:"exclude",sets:new Set},Vn=["data"],Nn=P.lazy((function(){return t.e(557).then(t.bind(t,98557))})),qn=(0,P.lazy)((function(){return Promise.all([t.e(187),t.e(246),t.e(11),t.e(158)]).then(t.bind(t,1011))}));function Wn(e,n){switch(n.type){case"mainStatKey":var t=n.slotKey,r=n.mainStatKey,i=(0,l.Z)({},e.mainStatKeys);return e.mainStatKeys[t].includes(r)?i[t]=i[t].filter((function(e){return e!==r})):i[t].push(r),(0,l.Z)((0,l.Z)({},e),{},{mainStatKeys:i});case"mainStatKeyReset":var a=n.slotKey,c=(0,l.Z)({},e.mainStatKeys);return c[a]=[],(0,l.Z)((0,l.Z)({},e),{},{mainStatKeys:c});case"setFilter":var o=n.index,u=n.key,d=n.num,f=void 0===d?0:d;return e.setFilters[o]={key:u,num:f},(0,l.Z)((0,l.Z)({},e),{},{setFilters:(0,s.Z)(e.setFilters)})}return(0,l.Z)((0,l.Z)({},e),n)}function Un(e){var n,t,c,T,I=e.location.characterKey,ie=(0,P.useContext)(W.l).globalSettings.tcMode,ae=(0,P.useContext)(L.t4),se=(0,P.useState)((function(){var e,n=(null!==(e=_.Hk.get("BuildsDisplay.state"))&&void 0!==e?e:{}).characterKey,t=void 0===n?"":n;return(t=null!==I&&void 0!==I?I:t)&&!ae._getChar(t)&&(t=""),t})),le=(0,a.Z)(se,2),ce=le[0],oe=le[1],ue=(0,P.useState)(-1),de=(0,a.Z)(ue,2),fe=de[0],he=de[1],xe=(0,P.useState)(!1),me=(0,a.Z)(xe,2),ve=me[0],pe=me[1],Ze=(0,P.useState)(0),ye=(0,a.Z)(Ze,2),be=ye[0],ke=ye[1],we=(0,P.useState)(0),Ce=(0,a.Z)(we,2),Se=Ce[0],Ke=Ce[1],Ee=(0,P.useState)(0),Me=(0,a.Z)(Ee,2),Ae=Me[0],Ie=Me[1],ze=(0,P.useState)(void 0),Ge=(0,a.Z)(ze,2),Le=Ge[0],_e=Ge[1],He=(0,$.Z)(),Ne=(0,a.Z)(He,2),qe=Ne[0],We=Ne[1],Ye=(0,Q.Z)(),Je=(0,J.Z)(ce),$e=(0,Y.Z)(ce),Xe=null!==(n=null===$e||void 0===$e?void 0:$e.buildSettings)&&void 0!==n?n:(0,te.$)(),nn=Xe.plotBase,tn=Xe.setFilters,an=Xe.statFilters,sn=Xe.mainStatKeys,cn=Xe.optimizationTarget,on=Xe.mainStatAssumptionLevel,un=Xe.useExcludedArts,dn=Xe.useEquippedArts,fn=(Xe.builds,Xe.buildDate),xn=Xe.maxBuildsToShow,vn=Xe.levelLow,pn=Xe.levelHigh,jn=(0,X.Z)(ce,on),yn=null!==(t=null===jn||void 0===jn?void 0:jn[ce])&&void 0!==t?t:{},bn=yn.characterSheet,kn=yn.target,wn=(0,P.useState)([]),Cn=(0,a.Z)(wn,2),Sn=Cn[0],Pn=Cn[1],Dn=null!==(c=null===$e||void 0===$e?void 0:$e.compareData)&&void 0!==c&&c,Kn=(0,P.useMemo)((function(){return!ae._getCharKeys().length}),[ae]),En=(0,P.useMemo)((function(){return!ae._getArts().length}),[ae]),Mn=(0,P.useCallback)((function(e){return Je&&Je({buildSettings:Wn(Xe,e)})}),[Je,Xe]);(0,P.useEffect)((function(){return D.ZP.pageview("/build")}),[]);var An=(0,P.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";ce!==e&&(oe(e),_e(void 0))}),[oe,ce]);(0,P.useEffect)((function(){return ae.followAnyArt(We)}),[We,ae]),(0,P.useEffect)((function(){_.Hk.set("BuildsDisplay.state",{characterKey:ce})}),[ce]);var Fn=(0,P.useMemo)((function(){if(!ce)return{totBuildNumber:0};var e=function(e,n){var t,r={base:{},values:{flower:[],plume:[],goblet:[],circlet:[],sands:[]}},i=new Set,a=(0,re.Z)(e);try{for(a.s();!(t=a.n()).done;){var c,o=t.value,u=Zn.Z.mainStatValue(o.mainStatKey,o.rarity,Math.max(Math.min(n,4*o.rarity),o.level)),d={id:o.id,set:o.setKey,values:(0,l.Z)((c={},(0,Tn.Z)(c,o.setKey,1),(0,Tn.Z)(c,o.mainStatKey,o.mainStatKey.endsWith("_")?u/100:u),c),Object.fromEntries(o.substats.map((function(e){return[e.key,e.key.endsWith("_")?e.value/100:e.value]}))))};delete d.values[""],r.values[o.slotKey].push(d),Object.keys(d.values).forEach((function(e){return i.add(e)}))}}catch(f){a.e(f)}finally{a.f()}return r.base=(0,ee.O)((0,s.Z)(i),(function(e){return 0})),r}(ae._getArts().filter((function(e){if(e.level<vn)return!1;if(e.level>pn)return!1;if(e.location===ce)return!0;if(e.exclude&&!un)return!1;if(e.location&&!dn)return!1;var n=sn[e.slotKey];return!(null!==n&&void 0!==n&&n.length&&!n.includes(e.mainStatKey))})),on),n=(0,s.Z)(Ln([tn])),t=(0,s.Z)(n).map((function(n){return Re(Be(e,n))})).reduce((function(e,n){return e+n}),0);return qe&&{split:e,setPerms:n,totBuildNumber:t}}),[ce,un,dn,sn,tn,vn,pn,qe,ae,on]),Rn=Fn.split,In=Fn.setPerms,zn=Fn.totBuildNumber;(0,P.useEffect)((function(){ke(0)}),[zn]);var Hn=(0,P.useRef)((function(){}));(0,P.useEffect)((function(){return function(){return Hn.current()}}),[]);var qn=(0,P.useCallback)((0,i.Z)(o().mark((function e(){var n,t,c,u,d,f,h,x,m,v,p,Z,j,g,y,b,k,w,C,S,P,O,E,M,A,B,T,F;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S=function(){var e=C.next(),n=e.done,t=e.value;return n?void 0:{command:"request",threshold:k.buildValues[xn-1],filter:t}},cn&&Rn&&In){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,X.V)(ae,ce,on,[]);case 5:if(c=e.sent){e.next=8;break}return e.abrupt("return");case 8:if(u=null===(n=(0,V.Qo)(c.teamData,ce)[ce])||void 0===n?void 0:n.target.data[0]){e.next=11;break}return e.abrupt("return");case 11:if(Object.assign(u,(0,V.b3)([u,Gn])),d=(0,ee.Hm)(null!==(t=u.display)&&void 0!==t?t:{},cn)){e.next=15;break}return e.abrupt("return");case 15:for(f=[],h=performance.now(),pe(!0),_e(void 0),Ke(0),ke(0),Ie(0),x=new Promise((function(e){return Hn.current=e})),m=[].concat((0,s.Z)(f.map((function(e){return e.value}))),[d]),v=Rn,p=zn,Z=[].concat((0,s.Z)(f.map((function(e){return e.minimum}))),[-1/0]),nn&&(m.push(N.ri.total[nn]),Z.push(-1/0)),m=(0,q.tL)(m,u,(function(e){return"dyn"!==(0,a.Z)(e.path,1)[0]})),j=Pe(m,v),m=j.nodes,v=j.arts,g=Oe(m,v,Z,!0),m=g.nodes,v=g.arts,y=Pe(m,v),m=y.nodes,v=De(v=y.arts,xn),b=nn?m.pop():void 0,d=m.pop(),k={buildCount:0,failedCount:0,skippedCount:p,buildValues:Array(xn).fill(0).map((function(e){return-1/0}))},In.forEach((function(e){return k.skippedCount-=Re(Be(v,e))})),w=navigator.hardwareConcurrency||4,C=_n(v,In,1===w?1/0:Math.min(p/w/4,1e6))[Symbol.iterator](),P=[],O=function(e){var n=new K,t={command:"setup",id:"".concat(e),arts:v,optimizationTarget:d,plotBase:b,maxBuilds:xn,filters:m.map((function(e,n){return{value:e,min:Z[n]}})).filter((function(e){return e.min>-1/0}))};n.postMessage(t,void 0);var r=void 0,a=new Promise((function(e){return r=e}));n.onmessage=function(){var e=(0,i.Z)(o().mark((function e(t){var i,a,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.data,e.t0=i.command,e.next="interim"===e.t0?4:"request"===e.t0?9:"finalize"===e.t0?12:14;break;case 4:return k.buildCount+=i.buildCount,k.failedCount+=i.failedCount,k.skippedCount+=i.skippedCount,i.buildValues&&((a=k.buildValues).push.apply(a,(0,s.Z)(i.buildValues)),k.buildValues.sort((function(e,n){return n-e})).splice(xn)),e.abrupt("break",15);case 9:return(l=S())?n.postMessage(l):(c={command:"finalize"},n.postMessage(c)),e.abrupt("break",15);case 12:return r(i),e.abrupt("break",15);case 14:console.log("DEBUG",i);case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x.then((function(){return n.terminate()})),P.push(a)},E=0;E<w;E++)O(E);return M=setInterval((function(){ke(k.buildCount),Ie(k.skippedCount),Ke(performance.now()-h)}),100),e.next=49,Promise.any([Promise.all(P),x]);case 49:if(A=e.sent,clearInterval(M),Hn.current=function(){},A){e.next=58;break}Ke(0),ke(0),Ie(0),e.next=71;break;case 58:return nn&&(B=Fe(A.map((function(e){return e.plotData}))),_e(B)),T=Te(A.map((function(e){return e.builds})),xn),e.t0=Pn,e.next=63,Promise.all(T.map(function(){var e=(0,i.Z)(o().mark((function e(n){var t,i,a,s,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.artifactIds,e.next=3,(0,X.V)(ae,ce,on,t.filter((function(e){return e})).map((function(e){return ae._getArt(e)})));case 3:return i=e.sent,a=i.teamData,s=i.teamBundle,c=(0,V.Qo)(a,ce),u=(0,ee.xh)(c,(function(e,n){var t=s[n],i=(t.data,(0,r.Z)(t,Vn));return(0,l.Z)((0,l.Z)({},e),i)})),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 63:e.t1=e.sent,(0,e.t0)(e.t1),Mn({builds:T.map((function(e){return e.artifactIds})),buildDate:Date.now()}),F=performance.now()-h,ke(k.buildCount),Ie(k.skippedCount),Ke(F),D.ZP.timing({category:"Build Generation",variable:"timing",value:F,label:zn.toString()});case 71:pe(!1);case 72:case"end":return e.stop()}}),e)}))),[ce,ae,zn,on,xn,cn,nn,In,Rn,Mn]),Un=null!==(T=null===bn||void 0===bn?void 0:bn.name)&&void 0!==T?T:"Character Name",Jn=(0,P.useCallback)((function(){return he(-1)}),[he]),Qn=(0,P.useCallback)((function(e){Mn({plotBase:e}),_e(void 0)}),[Mn]),$n=kn&&bn&&$e&&jn&&{data:kn,characterSheet:bn,character:$e,mainStatAssumptionLevel:on,teamData:jn,characterDispatch:Je};return(0,je.jsxs)(m.Z,{display:"flex",flexDirection:"column",gap:1,sx:{my:1},children:[(0,je.jsx)(R.Z,{pageKey:"buildPage",modalTitle:"Character Management Page Guide",text:["For self-infused attacks, like Noelle's Sweeping Time, enable the skill in the character talent page.","You can compare the difference between equipped artifacts and generated builds.",'Rainbow builds can sometimes be "optimal". Good substat combinations can sometimes surpass set effects.',"The more complex the formula, the longer the generation time."],children:(0,je.jsx)(Nn,{})}),(0,je.jsx)(Yn,{teamData:Sn[fe],characterKey:ce,onClose:Jn}),Kn&&(0,je.jsxs)(v.Z,{severity:"error",variant:"filled",children:[" Opps! It looks like you haven't added a character to GO yet! You should go to the ",(0,je.jsx)(p.Z,{component:O.rU,to:"/character",children:"Characters"})," page and add some!"]}),En&&(0,je.jsxs)(v.Z,{severity:"warning",variant:"filled",children:[" Opps! It looks like you haven't added any artifacts to GO yet! You should go to the ",(0,je.jsx)(p.Z,{component:O.rU,to:"/artifact",children:"Artifacts"})," page and add some!"]}),!$n&&(0,je.jsxs)(M.Z,{children:[(0,je.jsx)(Z.Z,{sx:{py:1},children:(0,je.jsx)(j.Z,{variant:"h6",children:"Build Generator"})}),(0,je.jsx)(g.Z,{}),(0,je.jsx)(Z.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:(0,je.jsx)(A.Z,{children:(0,je.jsx)(Z.Z,{children:(0,je.jsx)(B.Z,{fullWidth:!0,value:ce,onChange:An,disabled:ve})})})})]}),$n&&(0,je.jsxs)(H.R.Provider,{value:$n,children:[(0,je.jsxs)(M.Z,{children:[(0,je.jsx)(Z.Z,{sx:{py:1},children:(0,je.jsx)(j.Z,{variant:"h6",children:"Build Generator"})}),(0,je.jsx)(g.Z,{}),(0,je.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,je.jsxs)(y.ZP,{container:!0,spacing:1,children:[(0,je.jsxs)(y.ZP,{item:!0,xs:12,md:6,lg:5,display:"flex",flexDirection:"column",gap:1,children:[(0,je.jsx)(A.Z,{children:(0,je.jsx)(Z.Z,{children:(0,je.jsx)(B.Z,{fullWidth:!0,value:ce,onChange:An,disabled:ve})})}),(0,je.jsx)(m.Z,{children:(0,je.jsx)(U.Z,{characterKey:ce,onClick:ve?void 0:Ye})}),(0,je.jsx)(en,{}),(0,je.jsx)(Bn,{}),(0,je.jsx)(hn,{}),(0,je.jsx)(G.Z,{statFilters:an,setStatFilters:function(e){return Mn({statFilters:e})},disabled:ve}),(0,je.jsx)(mn,{disabled:ve})]}),(0,je.jsxs)(y.ZP,{item:!0,xs:12,md:6,lg:7,display:"flex",flexDirection:"column",gap:1,children:[(0,je.jsx)(Ue,{disabled:ve}),tn.map((function(e,n){return n<=tn.filter((function(e){return e.key})).length&&(0,je.jsx)(Qe,{index:n,setFilters:tn,disabled:ve,onChange:function(e,n,t){return Mn({type:"setFilter",index:e,key:n,num:t})}},n)})),ce&&(0,je.jsx)(A.Z,{children:(0,je.jsx)(Z.Z,{children:(0,je.jsxs)(y.ZP,{container:!0,spacing:1,children:[(0,je.jsx)(y.ZP,{item:!0,flexGrow:1,children:(0,je.jsx)(b.Z,{fullWidth:!0,onClick:function(){return Mn({useEquippedArts:!dn})},disabled:ve,startIcon:dn?(0,je.jsx)(f.Z,{}):(0,je.jsx)(h.Z,{}),children:"Use Equipped Artifacts"})}),(0,je.jsx)(y.ZP,{item:!0,flexGrow:1,children:(0,je.jsx)(b.Z,{fullWidth:!0,onClick:function(){return Mn({useExcludedArts:!un})},disabled:ve,startIcon:un?(0,je.jsx)(f.Z,{}):(0,je.jsx)(h.Z,{}),children:"Use Excluded Artifacts"})})]})})}),ce&&(0,je.jsxs)(A.Z,{children:[(0,je.jsx)(Z.Z,{sx:{py:1},children:"Artifact Level Filter"}),(0,je.jsx)(g.Z,{}),(0,je.jsx)(Z.Z,{children:(0,je.jsx)(E.Z,{levelLow:vn,levelHigh:pn,dark:!0,setLow:function(e){return Mn({levelLow:e})},setHigh:function(e){return Mn({levelHigh:e})},setBoth:function(e,n){return Mn({levelLow:e,levelHigh:n})}})})]}),ce&&(0,je.jsx)(gn,{mainStatAssumptionLevel:on,mainStatKeys:sn,onChangeMainStatKey:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;Mn(void 0===n?{type:"mainStatKeyReset",slotKey:e}:{type:"mainStatKey",slotKey:e,mainStatKey:n})},onChangeAssLevel:function(e){return Mn({mainStatAssumptionLevel:e})},disabled:ve})]})]}),(0,je.jsxs)(y.ZP,{container:!0,spacing:1,children:[(0,je.jsx)(y.ZP,{item:!0,flexGrow:1,children:(0,je.jsxs)(k.Z,{children:[(0,je.jsx)(b.Z,{disabled:!ce||ve||!cn||!zn||!(0,ee.Hm)(null===kn||void 0===kn?void 0:kn.getDisplay(),cn),color:ce&&zn<=rn?"success":"warning",onClick:qn,startIcon:(0,je.jsx)(d.G,{icon:u.lTt}),children:"Generate"}),(0,je.jsxs)(F.Z,{disabled:ve||!ce,title:(0,je.jsxs)("span",{children:[(0,je.jsx)("b",{children:xn})," ",1===xn?"Build":"Builds"]}),children:[(0,je.jsx)(w.Z,{children:(0,je.jsx)(j.Z,{variant:"caption",color:"info.main",children:"Decreasing the number of generated build will decrease build calculation time for large number of builds."})}),(0,je.jsx)(g.Z,{}),ne.sY.map((function(e){return(0,je.jsxs)(w.Z,{onClick:function(){return Mn({maxBuildsToShow:e})},children:[e," ",1===e?"Build":"Builds"]},e)}))]}),(0,je.jsx)(b.Z,{disabled:!ve,color:"error",onClick:function(){return Hn.current()},startIcon:(0,je.jsx)(x.Z,{}),children:"Cancel"})]})}),(0,je.jsxs)(y.ZP,{item:!0,children:[(0,je.jsx)("span",{children:"Optimization Target: "}),(0,je.jsx)(On,{optimizationTarget:cn,setTarget:function(e){return Mn({optimizationTarget:e})},disabled:!!ve})]})]}),!!ce&&(0,je.jsx)(m.Z,{children:(0,je.jsx)(ln,{totBuildNumber:zn,generatingBuilds:ve,generationSkipped:Ae,generationProgress:be,generationDuration:Se,characterName:Un,maxBuildsToShow:xn})}),ie&&(0,je.jsx)(m.Z,{children:(0,je.jsx)(ge,{disabled:ve,plotData:Le,plotBase:nn,setPlotBase:Qn})})]})]}),(0,je.jsx)(M.Z,{children:(0,je.jsx)(Z.Z,{children:(0,je.jsxs)(m.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,je.jsx)(j.Z,{children:Sn?(0,je.jsxs)("span",{children:["Showing ",(0,je.jsx)("strong",{children:Sn.length})," Builds generated for ",Un,". ",!!fn&&(0,je.jsxs)("span",{children:["Build generated on: ",(0,je.jsx)("strong",{children:new Date(fn).toLocaleString()})]})]}):(0,je.jsx)("span",{children:"Select a character to generate builds."})}),(0,je.jsxs)(z.Z,{exclusive:!0,value:Dn,onChange:function(e,n){return Je({compareData:n})},size:"small",children:[(0,je.jsx)(C.Z,{value:!1,disabled:!Dn,children:(0,je.jsx)("small",{children:"Show New artifact Stats"})}),(0,je.jsx)(C.Z,{value:!0,disabled:Dn,children:(0,je.jsx)("small",{children:"Compare against equipped artifacts"})})]})]})})}),(0,je.jsx)(P.Suspense,{fallback:(0,je.jsx)(S.Z,{variant:"rectangular",width:"100%",height:600}),children:null===Sn||void 0===Sn?void 0:Sn.map((function(e,n){return(0,je.jsx)(H.R.Provider,{value:(0,l.Z)((0,l.Z)({},$n),{},{data:e[ce].target,teamData:e,oldData:kn}),children:(0,je.jsx)(Ve,{index:n,onClick:function(){return he(n)},compareBuild:Dn,disabled:!!ve},n)},n)}))})]})]})}function Yn(e){var n=e.teamData,t=e.characterKey,r=e.onClose;return(0,je.jsx)(I.Z,{open:!!n,onClose:r,containerProps:{maxWidth:"xl"},children:(0,je.jsx)(qn,{characterKey:t,newteamData:n,onClose:r,footer:(0,je.jsx)(T.Z,{large:!0,onClick:r})})})}},52771:function(e,n,t){t.d(n,{vL:function(){return i},g4:function(){return a},yJ:function(){return s},mf:function(){return l},JR:function(){return o},e6:function(){return u}});var r=t(60393),i=1e3,a=60*i,s=60*a,l=24*s;function c(e){var n=e%1e3,t=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60);return{hours:Math.floor(e/36e5),minutes:r,seconds:t,milliseconds:n}}function o(e){var n=c(e),t=n.hours,i=n.minutes,a=n.seconds,s="Minutes";return t&&(s="Hours"),"".concat(t?"".concat(t,":"):"").concat((0,r.H_)(i,"0",2),":").concat((0,r.H_)(a,"0",2)," ").concat(s)}function u(e){var n=c(e),t=n.hours,i=n.minutes,a=n.seconds,s=n.milliseconds,l="Minutes";return t&&(l="Hours"),"".concat(t?"".concat(t,":"):"").concat((0,r.H_)(i,"0",2),":").concat((0,r.H_)(a,"0",2),".").concat((0,r.H_)(s,"0",3)," ").concat(l)}}}]);
//# sourceMappingURL=209.cd494edb.chunk.js.map