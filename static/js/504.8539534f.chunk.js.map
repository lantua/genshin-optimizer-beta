{"version":3,"file":"static/js/504.8539534f.chunk.js","mappings":"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","sources":["Data/Characters/dataUtil.tsx","Data/Characters/Albedo/index.tsx","Data/Characters/Aloy/index.tsx","Data/Characters/Amber/index.tsx","Data/Characters/AratakiItto/index.tsx","Data/Characters/Beidou/index.tsx","Data/Characters/Bennett/index.tsx","Data/Characters/Diluc/index.tsx","Data/Characters/Diona/index.tsx","Data/Characters/Eula/index.tsx","Data/Characters/Fischl/index.tsx","Data/Characters/Ganyu/index.tsx","Data/Characters/Gorou/index.tsx","Data/Characters/HuTao/index.tsx","Data/Characters/Jean/index.tsx","Data/Characters/KaedeharaKazuha/index.tsx","Data/Characters/KamisatoAyaka/index.tsx","Data/Characters/Keqing/index.tsx","Data/Characters/Klee/index.tsx","Data/Characters/KujouSara/index.tsx","Data/Characters/Mona/index.tsx","Data/Characters/Ningguang/index.tsx","Data/Characters/Noelle/index.tsx","Data/Characters/RaidenShogun/index.tsx","Data/Characters/Razor/index.tsx","Data/Characters/Rosaria/index.tsx","Data/Characters/SangonomiyaKokomi/index.tsx","Data/Characters/Sayu/index.tsx","Data/Characters/Shenhe/index.tsx","Data/Characters/Sucrose/index.tsx","Data/Characters/Tartaglia/index.tsx","Data/Characters/Traveler/anemo/index.tsx","Data/Characters/Traveler/geo/index.tsx","Data/Characters/Traveler/electro/index.tsx","Data/Characters/Traveler/index.tsx","Data/Characters/Venti/index.tsx","Data/Characters/Xiangling/index.tsx","Data/Characters/Xiao/index.tsx","Data/Characters/Xingqiu/index.tsx","Data/Characters/YaeMiko/index.tsx","Data/Characters/Yoimiya/index.tsx","Data/Characters/YunJin/index.tsx","Data/Characters/Zhongli/index.tsx","Data/Characters/index.ts","Data/SheetUtil.tsx","Formula/reaction.ts"],"sourcesContent":["import { SubstatKey } from \"pipeline\";\r\nimport { input } from \"../../Formula\";\r\nimport { inferInfoMut, mergeData } from \"../../Formula/api\";\r\nimport { reactions } from \"../../Formula/reaction\";\r\nimport { Data, DisplaySub, NumNode } from \"../../Formula/type\";\r\nimport { constant, data, equalStr, infoMut, percent, prod, stringPrio, subscript, sum, unit } from \"../../Formula/utils\";\r\nimport { allMainStatKeys, MainStatKey } from \"../../Types/artifact\";\r\nimport { CharacterKey, ElementKey, Region } from \"../../Types/consts\";\r\nimport { layeredAssignment, objectKeyMap, objectMap } from \"../../Util/Util\";\r\nimport _charCurves from \"./expCurve_gen.json\";\r\n\r\n// TODO: Remove this conversion after changing the file format\r\nconst charCurves = objectMap(_charCurves, value => [0, ...Object.values(value)])\r\n\r\nconst commonBasic = objectKeyMap([\"hp\", \"atk\", \"def\", \"eleMas\", \"enerRech_\", \"critRate_\", \"critDMG_\", \"heal_\"], key => input.total[key])\r\ncommonBasic.critRate_ = input.total.cappedCritRate\r\n\r\nconst inferredHitEle = stringPrio(\r\n  // Inferred Element\r\n  equalStr(input.weaponType, \"catalyst\", input.charEle),\r\n  equalStr(input.hit.move, \"skill\", input.charEle),\r\n  equalStr(input.hit.move, \"burst\", input.charEle),\r\n  input.infusion,\r\n  input.team.infusion,\r\n  \"physical\",\r\n)\r\n\r\nfunction getTalentType(move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\") {\r\n  switch (move) {\r\n    case \"normal\": case \"charged\": case \"plunging\": return \"auto\";\r\n    case \"skill\": return \"skill\";\r\n    case \"burst\": return \"burst\";\r\n  }\r\n}\r\n\r\n/** Note: `additional` applies only to this formula */\r\nexport function customDmgNode(base: NumNode, move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\" | \"elemental\", additional: Data = {}): NumNode {\r\n  return data(input.hit.dmg, mergeData([{\r\n    hit: { base, move: constant(move), ele: additional?.hit?.ele ? undefined : inferredHitEle },\r\n  }, additional]))\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function customShieldNode(base: NumNode, additional?: Data): NumNode {\r\n  const shieldNode = prod(base, sum(unit, input.total.shield_))\r\n  return additional ? data(shieldNode, additional) : shieldNode\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function customHealNode(base: NumNode, additional?: Data): NumNode {\r\n  const healNode = prod(base, sum(unit, input.total.heal_))\r\n  return additional ? data(healNode, additional) : healNode\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function dmgNode(base: MainStatKey | SubstatKey, lvlMultiplier: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional: Data = {}): NumNode {\r\n  const talentType = getTalentType(move)\r\n  return customDmgNode(prod(subscript(input.total[`${talentType}Index`], lvlMultiplier, { key: '_' }), input.total[base]), move, additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function shieldNode(base: MainStatKey | SubstatKey, percent: NumNode | number, flat: NumNode | number, additional?: Data): NumNode {\r\n  return customShieldNode(sum(prod(percent, input.total[base]), flat), additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function healNode(base: MainStatKey | SubstatKey, percent: NumNode | number, flat: NumNode | number, additional?: Data): NumNode {\r\n  return customHealNode(sum(prod(percent, input.total[base]), flat), additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function shieldNodeTalent(base: MainStatKey | SubstatKey, baseMultiplier: number[], flat: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional?: Data): NumNode {\r\n  const talentType = getTalentType(move)\r\n  const talentIndex = input.total[`${talentType}Index`]\r\n  return customShieldNode(sum(\r\n    prod(subscript(talentIndex, baseMultiplier, { key: '_' }), input.total[base]),\r\n    subscript(talentIndex, flat)\r\n  ), additional)\r\n}\r\nexport function shieldElement(element: \"electro\" | \"cryo\" | \"hydro\" | \"pyro\" | \"geo\", shieldNode: NumNode) {\r\n  return infoMut(prod(percent(element === \"geo\" ? 1.5 : 2.5), shieldNode), { variant: element })\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function healNodeTalent(base: MainStatKey | SubstatKey, baseMultiplier: number[], flat: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional?: Data): NumNode {\r\n  const talentType = getTalentType(move)\r\n  const talentIndex = input.total[`${talentType}Index`]\r\n  return customHealNode(sum(\r\n    prod(subscript(talentIndex, baseMultiplier, { key: '_' }), input.total[base]),\r\n    subscript(talentIndex, flat)\r\n  ), additional)\r\n}\r\nexport function dataObjForCharacterSheet(\r\n  key: CharacterKey,\r\n  element: ElementKey | undefined,\r\n  region: Region | undefined,\r\n  gen: {\r\n    weaponTypeKey: string,\r\n    base: { hp: number, atk: number, def: number },\r\n    curves: { [key in string]?: string },\r\n    ascensions: { props: { [key in string]?: number } }[]\r\n  },\r\n  display: { [key: string]: DisplaySub },\r\n  additional: Data = {},\r\n): Data {\r\n  function curve(base: number, lvlCurve: string): NumNode {\r\n    return prod(base, subscript(input.lvl, charCurves[lvlCurve]))\r\n  }\r\n  display.basic = { ...commonBasic }\r\n  const data: Data = {\r\n    charKey: constant(key),\r\n    base: {},\r\n    weaponType: constant(gen.weaponTypeKey),\r\n    premod: {},\r\n    display,\r\n  }\r\n  if (element) {\r\n    data.charEle = constant(element)\r\n    data.teamBuff = { tally: { [element]: constant(1) } }\r\n    data.display!.basic[`${element}_dmg_`] = input.total[`${element}_dmg_`]\r\n    data.display!.reaction = reactions[element]\r\n  }\r\n  if (region)\r\n    layeredAssignment(data, [\"teamBuff\", \"tally\", region], constant(1))\r\n  if (gen.weaponTypeKey !== \"catalyst\") {\r\n    if (!data.display!.basic) data.display!.basic = {}\r\n    data.display!.basic!.physical_dmg_ = input.total.physical_dmg_\r\n  }\r\n\r\n  let foundSpecial: boolean | undefined\r\n  for (const stat of [...allMainStatKeys, \"def\" as const]) {\r\n    const list: NumNode[] = []\r\n    if (gen.curves[stat])\r\n      list.push(curve(gen.base[stat], gen.curves[stat]!))\r\n    const asc = gen.ascensions.some(x => x.props[stat])\r\n    if (asc)\r\n      list.push(subscript(input.asc, gen.ascensions.map(x => x.props[stat] ?? NaN)))\r\n\r\n    if (!list.length) continue\r\n\r\n    const result = infoMut(list.length === 1 ? list[0] : sum(...list), { key: stat, prefix: \"char\", asConst: true })\r\n    if (stat.endsWith(\"_dmg_\")) result.info!.variant = stat.slice(0, -5) as any\r\n    if (stat === \"atk\" || stat === \"def\" || stat === \"hp\")\r\n      data.base![stat] = result\r\n    else {\r\n      if (foundSpecial) throw new Error(\"Duplicated Char Special\")\r\n      foundSpecial = true\r\n      data.special = result\r\n      data.premod![stat] = input.special\r\n    }\r\n  }\r\n\r\n  return mergeData([data, inferInfoMut(additional)])\r\n}\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { infoMut, lookup, equal, prod, greaterEq, naught } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Albedo\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    dmg2: skillParam_gen.auto[a++], // 2\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    blossomDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    blossomCd: 2,\r\n  },\r\n  burst: {\r\n    burstDmg: skillParam_gen.burst[b++],\r\n    blossomDmg: skillParam_gen.burst[b++],\r\n    blossomAmt: 7,\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    blossomDmgInc: 0.25,\r\n    hpThresh: 50,\r\n  },\r\n  passive2: {\r\n    eleMasInc: skillParam_gen.passive2[0][0],\r\n    duration: skillParam_gen.passive2[1][0]\r\n  },\r\n  constellation1: {\r\n    blossomEner: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    blossomDmgInc: 0.30,\r\n    maxStacks: 4,\r\n    stackDuration: 30\r\n  },\r\n  constellation4: {\r\n    plunging_dmg_: 0.3,\r\n  },\r\n  constellation6: {\r\n    bonus_dmg_: 0.17\r\n  }\r\n} as const\r\n\r\nconst [condBurstBlossomPath, condBurstBlossom] = cond(key, \"burstBlossom\")\r\nconst [condBurstUsedPath, condBurstUsed] = cond(key, \"burstUsed\")\r\nconst p2Burst_eleMas = equal(condBurstUsed, \"burstUsed\", greaterEq(input.asc, 4, datamine.passive2.eleMasInc))\r\n\r\nconst [condP1EnemyHpPath, condP1EnemyHp] = cond(key, \"p1EnemyHp\")\r\nconst p1_blossom_dmg_ = equal(condP1EnemyHp, \"belowHp\", greaterEq(input.asc, 1, datamine.passive1.blossomDmgInc))\r\n\r\nconst [condC2StacksPath, condC2Stacks] = cond(key, \"c2Stacks\")\r\nconst c2_burst_dmgInc = greaterEq(input.constellation, 2,\r\n  prod(\r\n    lookup(\r\n      condC2Stacks,\r\n      Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(i => \r\n        [i,\r\n        prod(i, datamine.constellation2.blossomDmgInc)]\r\n        )\r\n      ),\r\n      naught\r\n    ),\r\n    input.total.def\r\n  )\r\n)\r\n\r\nconst [condSkillInFieldPath, condSkillInField] = cond(key, \"skillInField\")\r\nconst c4_plunging_dmg_disp = greaterEq(input.constellation, 4,\r\n  equal(condSkillInField, \"skillInField\", datamine.constellation4.plunging_dmg_)\r\n)\r\nconst c4_plunging_dmg_ = equal(input.activeCharKey, target.charKey, c4_plunging_dmg_disp)\r\n\r\n// Maybe we should just have a single conditional for \"in field AND crystallize shield\"?\r\n// This is technically a nested conditional\r\nconst [condC6CrystallizePath, condC6Crystallize] = cond(key, \"c6Crystallize\")\r\nconst c6_Crystal_all_dmg_disp = greaterEq(input.constellation, 6,\r\n  equal(condSkillInField, \"skillInField\",\r\n    equal(condC6Crystallize, \"c6Crystallize\", datamine.constellation6.bonus_dmg_)\r\n  )\r\n)\r\nconst c6_Crystal_all_dmg_ = equal(input.activeCharKey, target.charKey, c6_Crystal_all_dmg_disp)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.skillDmg, \"skill\"),\r\n    blossom: dmgNode(\"def\", datamine.skill.blossomDmg, \"skill\", { total: { skill_dmg_: p1_blossom_dmg_ } }),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.burstDmg, \"burst\"),\r\n    blossom: equal(\"isoOnField\", condBurstBlossom, dmgNode(\"atk\", datamine.burst.blossomDmg, \"burst\")),\r\n  },\r\n}\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      eleMas: p2Burst_eleMas,\r\n      plunging_dmg_: c4_plunging_dmg_,\r\n      all_dmg_: c6_Crystal_all_dmg_,\r\n    }\r\n  },\r\n  premod: {\r\n    burst_dmgInc: c2_burst_dmgInc,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto, \r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.blossom, { key: `char_${key}_gen:skill.skillParams.1` })\r\n      }, {\r\n        text: trm(\"blossomCD\"),\r\n        value: datamine.skill.blossomCd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }], undefined, [\r\n        sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n          value: condP1EnemyHp,\r\n          path: condP1EnemyHpPath,\r\n          name: st(\"enemyLessPercentHP\", { percent: datamine.passive1.hpThresh }),\r\n          canShow: greaterEq(input.asc, 1, 1),\r\n          states: {\r\n            belowHp: {\r\n              fields: [{\r\n                node: infoMut(p1_blossom_dmg_, { key: `char_${key}:blossomDmg_` })\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation1\", tr, c1, [{\r\n          text: trm(\"enerPerBlossom\"),\r\n          value: datamine.constellation1.blossomEner,\r\n          fixed: 1,\r\n        }], undefined, data => data.get(input.constellation).value >= 1, false, true),\r\n        sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n          value: condSkillInField,\r\n          path: condSkillInFieldPath,\r\n          name: st(\"activeCharField\"),\r\n          canShow: greaterEq(input.constellation, 4, 1),\r\n          teamBuff: true,\r\n          states: {\r\n            skillInField: {\r\n              fields: [{\r\n                node: infoMut(c4_plunging_dmg_disp, { key: \"plunging_dmg_\" })\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n          value: condC6Crystallize,\r\n          path: condC6CrystallizePath,\r\n          name: st(\"protectedByShieldCrystal\"),\r\n          canShow: greaterEq(input.constellation, 6, equal(condSkillInField, \"skillInField\", 1)),\r\n          teamBuff: true,\r\n          states: {\r\n            c6Crystallize: {\r\n              fields: [{\r\n                node: infoMut(c6_Crystal_all_dmg_disp, { key: \"all_dmg_\"}),\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condBurstBlossom,\r\n        path: condBurstBlossomPath,\r\n        name: trm(\"isotomaOnField\"),\r\n        states: {\r\n          isoOnField: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.burst.blossom, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n              textSuffix: st(\"brHits\", { count: datamine.burst.blossomAmt })\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"passive2\", tr, passive2, undefined, {\r\n          value: condBurstUsed,\r\n          path: condBurstUsedPath,\r\n          name: st(\"afterUse.burst\"),\r\n          canShow: greaterEq(input.asc, 4, 1),\r\n          teamBuff: true,\r\n          states: {\r\n            burstUsed: {\r\n              fields: [{\r\n                node: p2Burst_eleMas\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.passive2.duration,\r\n                unit: \"s\"\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation2\", tr, c2, undefined, {\r\n          value: condC2Stacks,\r\n          path: condC2StacksPath,\r\n          name: trm(\"c2Stacks\"),\r\n          canShow: greaterEq(input.constellation, 2, 1),\r\n          states: Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(i => \r\n            [i, {\r\n              name: st(\"stack\", { count: i }),\r\n              fields: [{\r\n                node: c2_burst_dmgInc\r\n              }]\r\n            }]\r\n          ))\r\n        }),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: skillC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: burstC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, naught, percent, subscript, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Aloy\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1.1\r\n      skillParam_gen.auto[a++], // 1.2\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    freezeBombDmg: skillParam_gen.skill[s++],\r\n    chillWaterBomblets: skillParam_gen.skill[s++],\r\n    atkDecrease: skillParam_gen.skill[s++],\r\n    atkDecreaseDuration: skillParam_gen.skill[s++][0],\r\n    coilNormalDmgBonus1: skillParam_gen.skill[s++],\r\n    coilNormalDmgBonus2: skillParam_gen.skill[s++],\r\n    coilNormalDmgBonus3: skillParam_gen.skill[s++],\r\n    rushingNormalDmgBonus: skillParam_gen.skill[s++],\r\n    rushingDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    atkInc: 0.16,\r\n    teamAtkInc: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    cryoDmgBonus: skillParam_gen.passive2[p2++][0]\r\n  }\r\n} as const\r\n\r\nconst [condCoilPath, condCoil] = cond(key, \"coil\")\r\nconst normal_dmg_ = lookup(condCoil, {\r\n  \"coil1\": subscript(input.total.skillIndex, datamine.skill.coilNormalDmgBonus1, { key: \"_\" }),\r\n  \"coil2\": subscript(input.total.skillIndex, datamine.skill.coilNormalDmgBonus2, { key: \"_\" }),\r\n  \"coil3\": subscript(input.total.skillIndex, datamine.skill.coilNormalDmgBonus3, { key: \"_\" }),\r\n  \"rush\": subscript(input.total.skillIndex, datamine.skill.rushingNormalDmgBonus, { key: \"_\" })\r\n}, naught)\r\nconst atk_ = greaterEq(input.asc, 1, unequal(condCoil, undefined, percent(datamine.passive1.atkInc)))\r\nconst afterRushingIce = equalStr(\"rush\", condCoil, elementKey)\r\n\r\nconst [condA1Path, condA1] = cond(key, \"A1\")\r\nconst teamAtk_ = greaterEq(input.asc, 1, equal(condA1, \"on\",\r\n  unequal(input.activeCharKey, key, percent(datamine.passive1.teamAtkInc))))\r\n\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst cryo_dmg_ = greaterEq(input.asc, 4,\r\n  lookup(condA4, Object.fromEntries(range(1, 10).map(i => [i, percent(datamine.passive2.cryoDmgBonus * i)])), naught))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('cryo') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    freezeBombDmg: dmgNode(\"atk\", datamine.skill.freezeBombDmg, \"skill\"),\r\n    chillWaterBomblets: dmgNode(\"atk\", datamine.skill.chillWaterBomblets, \"skill\"),\r\n    atkDecrease: subscript(input.total.skillIndex, datamine.skill.atkDecrease, { key: \"_\" })\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n}\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  premod: {\r\n    normal_dmg_,\r\n    atk_,\r\n    cryo_dmg_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: teamAtk_\r\n    }\r\n  },\r\n  infusion: afterRushingIce,\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey),\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i === 0 ? 0 : -1)}` }),\r\n            textSuffix: i === 0 ? \"(1)\" : i === 1 ? \"(2)\" : \"\"\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.freezeBombDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.chillWaterBomblets, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: (data) => (datamine.skill.atkDecrease[data.get(input.total.skillIndex).value] * 100).toFixed(1),\r\n        unit: \"%\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: `${datamine.skill.atkDecreaseDuration}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.7\"),\r\n        value: `${datamine.skill.cd}`,\r\n        unit: \"s\"\r\n      }], {\r\n        value: condCoil,\r\n        path: condCoilPath,\r\n        name: trm(\"skill.coil\"),\r\n        states: {\r\n          \"coil1\": {\r\n            name: trm(\"skill.coil1\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }]\r\n          },\r\n          \"coil2\": {\r\n            name: trm(\"skill.coil2\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }]\r\n          },\r\n          \"coil3\": {\r\n            name: trm(\"skill.coil3\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }]\r\n          },\r\n          \"rush\": {\r\n            name: trm(\"skill.rush\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }, {\r\n              text: <ColorText color=\"cryo\">{st(\"infusion.cryo\")}</ColorText>\r\n            }, {\r\n              text: tr(\"skill.skillParams.6\"),\r\n              value: datamine.skill.rushingDuration,\r\n              unit: \"s\"\r\n            }]\r\n          },\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.enerCost,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        node: atk_\r\n      }, {\r\n        canShow: (data) => data.get(condCoil).value !== undefined && data.get(input.asc).value >= 1,\r\n        text: sgt(\"duration\"),\r\n        value: datamine.passive1.duration,\r\n        unit: \"s\"\r\n      }], {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        canShow: greaterEq(input.asc, 1, unequal(input.activeCharKey, key, 1)),\r\n        teamBuff: true,\r\n        name: trm(\"a1CondName\"),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: infoMut(teamAtk_, { key: \"atk_\" })\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        canShow: greaterEq(input.asc, 4, equal(\"rush\", condCoil, 1)),\r\n        name: trm(\"skill.rushState\"),\r\n        states: Object.fromEntries(range(1, 10).map(i => [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [{ node: cryo_dmg_ }]\r\n        }]))\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Amber\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst region: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++]\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++]\r\n  },\r\n  skill: {\r\n    inheritedHp: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    unknown: skillParam_gen.skill[s++], // what is this??\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmgPerWave: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    rainDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    critRateInc: skillParam_gen.passive1[p1++][0],\r\n    aoeInc: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    atkInc: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    secArrowDmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    manualDetionationDmg: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    moveSpdInc: skillParam_gen.constellation6[0],\r\n    atkInc: skillParam_gen.constellation6[1],\r\n    duration: skillParam_gen.constellation6[2]\r\n  }\r\n} as const\r\n\r\nconst burst_critRate_ = greaterEq(input.asc, 1, percent(datamine.passive1.critRateInc))\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst atk_ = equal(\"on\", condA4, percent(datamine.passive2.atkInc))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"C6\")\r\nconst moveSPD_ = equal(\"on\", condC6, percent(datamine.constellation6.moveSpdInc))\r\nconst teamAtk_ = equal(\"on\", condC6, percent(datamine.constellation6.atkInc))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('pyro') } }),\r\n    secondAimed: greaterEq(input.constellation, 1, prod(percent(datamine.constellation1.secArrowDmg), dmgNode(\"atk\", datamine.charged.aimed, \"charged\"))),\r\n    secondAimedCharged: greaterEq(input.constellation, 1, prod(dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\",\r\n      { hit: { ele: constant('pyro') } }), percent(datamine.constellation1.secArrowDmg))),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    inheritedHp: prod(subscript(input.total.skillIndex, datamine.skill.inheritedHp), input.total.hp),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    rainDmg: dmgNode(\"atk\", datamine.burst.rainDmg, \"burst\"),\r\n    dmgPerWave: dmgNode(\"atk\", datamine.burst.dmgPerWave, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    manualDetonationDmg: customDmgNode(prod(sum(subscript(input.total.skillIndex, datamine.skill.dmg, { key: \"_\" }),\r\n      percent(datamine.constellation2.manualDetionationDmg)), input.total.atk), \"skill\")\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    atk_,\r\n    burst_critRate_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      moveSPD_,\r\n      atk_: teamAtk_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey),\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.secondAimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: trm(\"secondArrow\")\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.secondAimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n          textSuffix: trm(\"secondArrow\")\r\n        },]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.inheritedHp, { key: `char_${key}_gen:skill.skillParams.0`, variant: \"success\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.constellation2.manualDetonationDmg, { key: `char_${key}:manualDetonationDmg` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: (data) => data.get(input.constellation).value >= 4 ? datamine.skill.cd - datamine.skill.cd * 0.2 : datamine.skill.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 4,\r\n        text: st(\"charges\"),\r\n        value: 2,\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmgPerWave, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.rainDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }], undefined, [sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"c6CondName\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: teamAtk_\r\n            }, {\r\n              node: moveSPD_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        canShow: (data) => data.get(input.asc).value >= 1,\r\n        text: trm(\"critRateBonus\"),\r\n        value: datamine.passive1.critRateInc * 100,\r\n        unit: \"%\"\r\n      }, {\r\n        canShow: (data) => data.get(input.asc).value >= 1,\r\n        text: trm(\"aoeRangeBonus\"),\r\n        value: datamine.passive1.aoeInc * 100,\r\n        unit: \"%\"\r\n      }, {\r\n        node: burst_critRate_\r\n      },]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        name: trm(\"a4CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: atk_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\n\r\nconst key: CharacterKey = \"AratakiItto\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0],\r\n      skillParam_gen.auto[1],\r\n      skillParam_gen.auto[2],\r\n      skillParam_gen.auto[3],\r\n    ]\r\n  },\r\n  charged: {\r\n    sSlash: skillParam_gen.auto[4],\r\n    akSlash: skillParam_gen.auto[5],\r\n    akFinal: skillParam_gen.auto[6],\r\n    stam: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  ss: { //Superlative Superstrength\r\n    duration: skillParam_gen.auto[11][0],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[0],\r\n    hp: skillParam_gen.skill[1],\r\n    duration: skillParam_gen.skill[2][0],\r\n    ss_cd: skillParam_gen.skill[3][0],\r\n    cd: skillParam_gen.skill[4][0],\r\n  },\r\n  burst: {\r\n    atkSpd: skillParam_gen.burst[0][0],\r\n    defConv: skillParam_gen.burst[1],\r\n    resDec: skillParam_gen.burst[2][0],\r\n    duration: skillParam_gen.burst[3][0],\r\n    cd: skillParam_gen.burst[4][0],\r\n    cost: skillParam_gen.burst[5][0],\r\n  },\r\n  passive1: {\r\n    maxStacks: 3,\r\n    atkSPD_: 0.10\r\n  },\r\n  passive2: {\r\n    def_: skillParam_gen.passive2[0][0],\r\n  },\r\n  constellation4: {\r\n    def_: skillParam_gen.constellation4[0],\r\n    atk_: skillParam_gen.constellation4[1],\r\n    duration: skillParam_gen.constellation4[2],\r\n  },\r\n  constellation6: {\r\n    charged_critDMG_: skillParam_gen.constellation6[0],\r\n  }\r\n}\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst [condP1Path, condP1] = cond(key, \"passive1\")\r\nconst [condC4Path, condC4] = cond(key, \"constellation4\")\r\n\r\nconst nodeSkillHP = prod(subscript(input.total.skillIndex, datamine.skill.hp, { key: 'hp_' }), input.total.hp)\r\nconst nodeBurstAtk = equal(condBurst, \"on\", prod(subscript(input.total.burstIndex, datamine.burst.defConv, { key: 'def_' }), input.total.def))\r\nconst nodeBurstAtkSpd = equal(condBurst, \"on\", datamine.burst.atkSpd, { key: 'atkSPD_' })\r\nconst allNodeBurstRes = Object.fromEntries(allElementsWithPhy.map(ele => [`${ele}_res_`, equal(condBurst, \"on\", -datamine.burst.resDec)]))\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"geo\")\r\nconst nodeA4Bonus = greaterEq(input.asc, 4, prod(percent(datamine.passive2.def_), input.premod.def))\r\nconst nodeP1AtkSpd = greaterEq(input.asc, 4, lookup(condP1, Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i => [i, constant(datamine.passive1.atkSPD_ * i)])), 0, { key: 'atkSPD_' }))\r\nconst nodeC4Atk = equal(condC4, \"on\", greaterEq(input.constellation, 4, datamine.constellation4.atk_))\r\nconst nodeC4Def = equal(condC4, \"on\", greaterEq(input.constellation, 4, datamine.constellation4.def_))\r\nconst nodeC6CritDMG = greaterEq(input.constellation, 6, datamine.constellation6.charged_critDMG_)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    sSlash: dmgNode(\"atk\", datamine.charged.sSlash, \"charged\"),\r\n    akSlash: dmgNode(\"atk\", datamine.charged.akSlash, \"charged\", { total: { charged_dmgInc: nodeA4Bonus } }),\r\n    akFinal: dmgNode(\"atk\", datamine.charged.akFinal, \"charged\", { total: { charged_dmgInc: nodeA4Bonus } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    hp: nodeSkillHP\r\n  },\r\n  burst: {\r\n    defConv: nodeBurstAtk,\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: nodeC4Atk,\r\n      def_: nodeC4Def,\r\n    }\r\n  },\r\n  premod: {\r\n    charged_critDMG_: nodeC6CritDMG,\r\n    atk: nodeBurstAtk,\r\n    atkSPD_: sum(nodeBurstAtkSpd, nodeP1AtkSpd),\r\n    ...allNodeBurstRes\r\n  },\r\n  infusion: nodeBurstInfusion\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"geo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        },\r\n        {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.akSlash, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.akFinal, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.ss.duration,\r\n            unit: \"s\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.sSlash, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.8\"),\r\n            value: datamine.charged.stam,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }\r\n        ],\r\n      },\r\n      skill: {\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [\r\n            {\r\n              node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.skill.hp, { key: `char_${key}_gen:skill.skillParams.1`, variant: \"success\" }),\r\n            }, {\r\n              text: tr(\"skill.skillParams.2\"),\r\n              value: datamine.skill.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: tr(\"skill.skillParams.3\"),\r\n              value: datamine.skill.cd,\r\n              unit: \"s\"\r\n            }\r\n          ],\r\n        }],\r\n      },\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cost,\r\n      }], {\r\n        name: tr(\"burst.name\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"infusion.geo\"),\r\n              variant: \"geo\",\r\n            }, {\r\n              node: nodeBurstAtkSpd,\r\n            },\r\n            ...Object.values(allNodeBurstRes).map(node => ({ node })),\r\n            {\r\n              node: infoMut(nodeBurstAtk, { key: `char_${key}_gen:burst.skillParams.0` })\r\n            }, {\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        name: trm(\"a1.name\"),\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        value: condP1,\r\n        path: condP1Path,\r\n        states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i =>\r\n          [i, {\r\n            name: st(\"stack_one\", { count: i }),\r\n            fields: [\r\n              {\r\n                node: nodeP1AtkSpd\r\n              },\r\n            ]\r\n          }]))\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{ node: infoMut(nodeA4Bonus, { key: `char_${key}:a4:dmgInc` }) }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        header: conditionalHeader(\"constellation4\", tr, c4),\r\n        description: tr(\"constellation4.description\"),\r\n        name: trm(\"c4.name\"),\r\n        teamBuff: true,\r\n        value: condC4,\r\n        path: condC4Path,\r\n        states: {\r\n          on: {\r\n            fields: [\r\n              {\r\n                node: nodeC4Atk\r\n              }, {\r\n                node: nodeC4Def\r\n              },\r\n              {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.constellation4.duration,\r\n                unit: \"s\"\r\n              }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, [{ node: nodeC6CritDMG }])\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode, shieldElement, shieldNode, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Beidou\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shieldHp_: skillParam_gen.skill[s++],\r\n    shieldFlat: skillParam_gen.skill[s++],\r\n    dmgBase: skillParam_gen.skill[s++],\r\n    onHitDmgBonus: skillParam_gen.skill[s++], //DMG bonus on hit taken\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    burstDmg: skillParam_gen.burst[b++],\r\n    lightningDmg: skillParam_gen.burst[b++],\r\n    damageReduction: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    energyCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  //pasive 1: 2, //additional targets for lightning arc\r\n  ascension4: {\r\n    normalDmg_: skillParam_gen.passive2[0][0], //Same value for all 3\r\n    chargeDmg_: skillParam_gen.passive2[0][0],\r\n    attackSpeed: skillParam_gen.passive2[0][0],\r\n  },\r\n  constellation1: {\r\n    shieldHp_: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation4: {\r\n    skillDmg: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    electroResShred_: -1 * skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\n//Toggable stuff:\r\n// A4: Unleashing <b>Tidecaller</b> with its maximum DMG Bonus\r\n// C6: During the duration of <b>Stormbreaker</b>\r\n\r\nconst [condC6Path, condC6] = cond(key, \"Constellation6\")\r\nconst [condA4Path, condA4] = cond(key, \"Ascension4\")\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst skillDmgOneHit = datamine.skill.dmgBase.map((dmg, i) => dmg + datamine.skill.onHitDmgBonus[i])\r\nconst skillDmgTwoHits = datamine.skill.dmgBase.map((dmg, i) => dmg + 2 * datamine.skill.onHitDmgBonus[i])\r\n\r\nconst nodeBurstElectroResRed_ = equal(condC6, \"on\", percent(datamine.constellation6.electroResShred_), { key: `char_${key}:baneOfEvil_` })\r\nconst nodeSkillNormalDmg_ = equal(condA4, \"on\", percent(datamine.ascension4.normalDmg_), { key: `char_${key}:a4normalDmg_` })\r\nconst nodeSkillChargeDmg_ = equal(condA4, \"on\", percent(datamine.ascension4.chargeDmg_), { key: `char_${key}:a4chargeDmg_` })\r\nconst nodeSkillAttackSpeed_ = equal(condA4, \"on\", percent(datamine.ascension4.attackSpeed), { key: `char_${key}:a4atkSpeed_` })\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    electroShield: shieldElement(\"electro\", shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\")),\r\n    shield: shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\"),\r\n    baseDmg: dmgNode(\"atk\", datamine.skill.dmgBase, \"skill\"),\r\n    dmgOneHit: dmgNode(\"atk\", skillDmgOneHit, \"skill\"),\r\n    dmgTwoHits: dmgNode(\"atk\", skillDmgTwoHits, \"skill\"),\r\n  },\r\n  burst: {\r\n    burstDmg: dmgNode(\"atk\", datamine.burst.burstDmg, \"burst\"),\r\n    lightningDmg: dmgNode(\"atk\", datamine.burst.lightningDmg, \"burst\"),\r\n  },\r\n  constellation1: {\r\n    electroShield: greaterEq(input.constellation, 1, shieldElement(\"electro\", shieldNode(\"hp\", percent(datamine.constellation1.shieldHp_), 0))),\r\n    shield: greaterEq(input.constellation, 1, shieldNode(\"hp\", percent(datamine.constellation1.shieldHp_), 0)),\r\n  },\r\n  constellation4: {\r\n    skillDmg: greaterEq(input.constellation, 4, customDmgNode(prod(input.total.atk, percent(datamine.constellation4.skillDmg)), \"elemental\", { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  }, customBonus: {\r\n    normal_dmg_: nodeSkillNormalDmg_,\r\n    charged_dmg_: nodeSkillChargeDmg_,\r\n    atkSPD_: nodeSkillAttackSpeed_,\r\n  }, teamBuff: {\r\n    premod: {\r\n      electro_enemyRes_: nodeBurstElectroResRed_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        },\r\n        {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.7\"),\r\n            value: datamine.charged.stamina,\r\n            unit: '/s'\r\n          }, {\r\n            text: tr(\"auto.skillParams.8\"),\r\n            value: datamine.charged.duration,\r\n            unit: 's'\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [\r\n        { node: infoMut(dmgFormulas.skill.electroShield, { key: `char_${key}_gen:skill.skillParams.0`, \"variant\": \"electro\" }), },\r\n        { node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.0` }), },\r\n        { node: infoMut(dmgFormulas.skill.baseDmg, { key: `char_${key}_gen:skill.skillParams.1` }), },\r\n        { node: infoMut(dmgFormulas.skill.dmgOneHit, { key: `char_${key}:skillOneHit` }), },\r\n        { node: infoMut(dmgFormulas.skill.dmgTwoHits, { key: `char_${key}:skillTwoHit` }), },\r\n        {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }\r\n      ], {\r\n        teamBuff: false,\r\n        value: condA4,\r\n        path: condA4Path,\r\n        name: trm(\"tidecallerMaxDmg\"),\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        header: conditionalHeader(\"passive2\", tr, passive2), description: tr(`constellation6.description`),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeSkillNormalDmg_,\r\n            }, {\r\n              node: nodeSkillChargeDmg_,\r\n            }, {\r\n              node: nodeSkillAttackSpeed_,\r\n            }, {\r\n              text: trm(\"a4duration\"),\r\n              value: 10,\r\n              unit: \"s\"\r\n            }, {\r\n              text: trm(\"a4charge\"),\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [\r\n        { node: infoMut(dmgFormulas.burst.burstDmg, { key: `char_${key}_gen:burst.skillParams.0` }), },\r\n        { node: infoMut(dmgFormulas.burst.lightningDmg, { key: `char_${key}_gen:burst.skillParams.1` }), },\r\n        { node: infoMut(subscript(input.total.burstIndex, datamine.burst.damageReduction), { key: `char_${key}:burstDmgRed_` }) },\r\n        {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.energyCost,\r\n        },\r\n      ], {\r\n        teamBuff: true,\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"duringBurst\"),\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        header: conditionalHeader(\"constellation6\", tr, c6), description: tr(`constellation6.description`),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeBurstElectroResRed_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, []),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, []),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3, []),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [\r\n        { node: infoMut(dmgFormulas.constellation1.electroShield, { key: `char_${key}_gen:skill.skillParams.0`, \"variant\": \"electro\" }) },\r\n        { node: infoMut(dmgFormulas.constellation1.shield, { key: `char_${key}_gen:skill.skillParams.0` }) },\r\n      ]),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, []),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, [{\r\n        node: infoMut(dmgFormulas.constellation4.skillDmg, { key: `char_${key}:c4dmg` }),\r\n      }]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, []),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from '../../../Formula'\r\nimport { UIData } from '../../../Formula/uiData'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Bennett\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold1_1: skillParam_gen.skill[s++],\r\n    hold1_2: skillParam_gen.skill[s++],\r\n    hold2_1: skillParam_gen.skill[s++],\r\n    hold2_2: skillParam_gen.skill[s++],\r\n    explosion: skillParam_gen.skill[s++],\r\n    cd_press: skillParam_gen.skill[s++][0],\r\n    cd_hold1: skillParam_gen.skill[s++][0],\r\n    cd_hold2: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    regen_: skillParam_gen.burst[b++],\r\n    regenFlat: skillParam_gen.burst[b++],\r\n    atkBonus: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    cd_red: 20, // Not in the datamine for some reason\r\n  },\r\n  passive2: {\r\n    cd_red: 50, // Not in the datamine for some reason\r\n  },\r\n  constellation1: {\r\n    atk_inc: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    hp_thresh: skillParam_gen.constellation2[0],\r\n    er_inc: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    dmg: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    pyro_dmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst c1Atk = greaterEq(input.constellation, 1, datamine.constellation1.atk_inc, { key: `char_${key}:additionalATKRatio_`})\r\n\r\nconst atkIncRatio = sum(subscript(input.total.burstIndex, datamine.burst.atkBonus, { key: \"_\" }), c1Atk)\r\nconst [condInAreaPath, condInArea] = cond(key, \"activeInArea\")\r\nconst activeInArea = equal(\"activeInArea\", condInArea, equal(input.activeCharKey, target.charKey, 1))\r\nconst c1AddlAtk = greaterEq(input.constellation, 1, prod(c1Atk, input.base.atk))\r\nconst activeInAreaAtkDisp = prod(atkIncRatio, input.base.atk)\r\nconst activeInAreaAtk = equal(activeInArea, 1, activeInAreaAtkDisp)\r\n\r\nconst activeInAreaA4 = greaterEq(input.asc, 4,\r\n  equal(activeInArea, 1, datamine.passive2.cd_red)\r\n)\r\n\r\nconst c6AndCorrectWep = greaterEq(input.constellation, 6,\r\n  lookup(target.weaponType,\r\n    { \"sword\": constant(1), \"claymore\": constant(1), \"polearm\": constant(1) }, constant(0)))\r\nconst activeInAreaC6PyroDmgDisp = equal(c6AndCorrectWep, 1, datamine.constellation6.pyro_dmg)\r\nconst activeInAreaC6PyroDmg = equal(activeInArea, 1, activeInAreaC6PyroDmgDisp)\r\nconst activeInAreaC6Infusion = equalStr(c6AndCorrectWep, 1, elementKey)\r\n\r\nconst [condUnderHPPath, condUnderHP] = cond(key, \"underHP\")\r\nconst underHP = greaterEq(input.constellation, 2,\r\n  equal(\"underHP\", condUnderHP, datamine.constellation2.er_inc))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold1_1: dmgNode(\"atk\", datamine.skill.hold1_1, \"skill\"),\r\n    hold1_2: dmgNode(\"atk\", datamine.skill.hold1_2, \"skill\"),\r\n    hold2_1: dmgNode(\"atk\", datamine.skill.hold2_1, \"skill\"),\r\n    hold2_2: dmgNode(\"atk\", datamine.skill.hold2_2, \"skill\"),\r\n    explosion: dmgNode(\"atk\", datamine.skill.explosion, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    regen: healNodeTalent(\"hp\", datamine.burst.regen_, datamine.burst.regenFlat, \"burst\"),\r\n    atkInc: activeInAreaAtk,\r\n  },\r\n  constellation4: {\r\n    dmg: greaterEq(input.constellation, 4, prod(dmgNode(\"atk\", datamine.skill.hold1_2, \"skill\"), datamine.constellation4.dmg))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      pyro_dmg_: activeInAreaC6PyroDmg,\r\n      atk: activeInAreaAtk,\r\n    },\r\n    team: {\r\n      infusion: activeInAreaC6Infusion,\r\n    },\r\n  },\r\n  premod: {\r\n    enerRech_: underHP,\r\n\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto, \r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        // Press\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}:skill.pressDMG` }),\r\n      }, {\r\n        text: sgt(\"press.cd\"),\r\n        unit: \"s\",\r\n        value: data => calculateSkillCD(data, datamine.skill.cd_press),\r\n      }, {\r\n        // Lvl 1\r\n        node: infoMut(dmgFormulas.skill.hold1_1, { key: `char_${key}:skill.lvl1_1DMG` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold1_2, { key: `char_${key}:skill.lvl1_2DMG` }),\r\n      }, {\r\n        text: trm(\"skill.lvl1CD\"),\r\n        unit: \"s\",\r\n        value: data => calculateSkillCD(data, datamine.skill.cd_hold1),\r\n      }, {\r\n        // Lvl 2\r\n        node: infoMut(dmgFormulas.skill.hold2_1, { key: `char_${key}:skill.lvl2_1DMG` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold2_2, { key: `char_${key}:skill.lvl2_2DMG` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.explosion, { key: `char_${key}:skill.explDMG` }),\r\n      }, {\r\n        text: trm(\"skill.lvl2CD\"),\r\n        unit: \"s\",\r\n        value: data => calculateSkillCD(data, datamine.skill.cd_hold2),\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.1`, variant: \"success\" })\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condInArea,\r\n        path: condInAreaPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        states: {\r\n          activeInArea: {\r\n            fields: [{\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: data => data.get(atkIncRatio).value * 100,\r\n              unit: \"%\",\r\n            }, {\r\n              node: infoMut(activeInAreaAtkDisp, { key: `sheet:increase.atk` })\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"passive2\", tr, passive2, undefined, {\r\n          canShow: greaterEq(input.asc, 4, 4),\r\n          value: condInArea,\r\n          path: condInAreaPath,\r\n          name: st(\"activeCharField\"),\r\n          states: {\r\n            activeInArea: {\r\n              fields: [{ // Node will not show CD reduction, have to use value instead\r\n                text: st(\"skillCDRed\"),\r\n                value: datamine.passive2.cd_red,\r\n                unit: \"%\",\r\n              }]\r\n            }\r\n          }\r\n        }), sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n          canShow: c6AndCorrectWep,\r\n          value: condInArea,\r\n          path: condInAreaPath,\r\n          name: st(\"activeCharField\"),\r\n          teamBuff: true,\r\n          states: {\r\n            activeInArea: {\r\n              fields: [{\r\n                node: infoMut(activeInAreaC6PyroDmgDisp, { key: \"pyro_dmg_\", variant: \"pyro\" })\r\n              }, {\r\n                text: <ColorText color={elementKey}>{st(\"infusion.pyro\")}</ColorText>\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        canShow: data => data.get(input.asc).value > 1,\r\n        text: st(\"skillCDRed\"),\r\n        value: datamine.passive1.cd_red,\r\n        unit: \"%\"\r\n      }]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [{\r\n        text: trm(\"additionalATKRatio\"),\r\n        node: c1Atk\r\n      }, {\r\n        node: infoMut(c1AddlAtk, { key: `char_${key}:additionalATK` })\r\n      }]),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        value: condUnderHP,\r\n        path: condUnderHPPath,\r\n        name: st(\"lessPercentHP\", { percent: datamine.constellation2.hp_thresh * 100 }),\r\n        states: {\r\n          underHP: {\r\n            fields: [{\r\n              node: underHP\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, [{\r\n        node: infoMut(dmgFormulas.constellation4.dmg, { key: `char_${key}:c4DMG` })\r\n      }]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined),\r\n    }\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n\r\nfunction calculateSkillCD(data: UIData, skillCD: number): string {\r\n  let cdFactor: number = 1.00;\r\n  let result: string = skillCD + \"s\"\r\n  if (data.get(input.asc).value >= 1) {\r\n    cdFactor = 0.80;\r\n  }\r\n  cdFactor *= (1 - data.get(activeInAreaA4).value / 100);\r\n  if (cdFactor !== 1.00) {\r\n    result += \" - \" + (100 - cdFactor * 100) + \"% = \" + skillCD * cdFactor;\r\n  }\r\n  return result;\r\n}\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { Data } from '../../../Formula/type'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Diluc\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0, c2i = 0, c6i = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    firstHit: skillParam_gen.skill[s++],\r\n    secondHit: skillParam_gen.skill[s++],\r\n    thridHit: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    slashDmg: skillParam_gen.burst[b++],\r\n    dotDmg: skillParam_gen.burst[b++],\r\n    explosionDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    stamReduction: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0]\r\n  },\r\n  passive2: {\r\n    durationInc: skillParam_gen.passive2[p2++][0],\r\n    pyroInc: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    dmgInc: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    atkInc: skillParam_gen.constellation2[c2i++],\r\n    atkSpdInc: skillParam_gen.constellation2[c2i++],\r\n    duration: skillParam_gen.constellation2[c2i++],\r\n    maxStack: skillParam_gen.constellation2[c2i++],\r\n    cd: skillParam_gen.constellation2[c2i++],\r\n  },\r\n  constellation4: {\r\n    dmgInc: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    duration: skillParam_gen.constellation6[c6i++],\r\n    dmgInc: skillParam_gen.constellation6[c6i++],\r\n    atkSpdInc: skillParam_gen.constellation6[c6i++],\r\n  },\r\n} as const\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"Burst\")\r\nconst [condC1Path, condC1] = cond(key, \"DilucC1\")\r\nconst [condC2Path, condC2] = cond(key, \"DilucC2\")\r\nconst [condC6Path, condC6] = cond(key, \"DilucC6\")\r\n\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"pyro\")\r\nconst nodeA4Bonus = greaterEq(input.asc, 4, datamine.passive2.pyroInc)\r\n\r\nconst nodeC1Bonus = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.dmgInc))\r\nconst nodeC2AtkBonus = greaterEq(input.constellation, 2,\r\n  lookup(condC2, Object.fromEntries(range(1, datamine.constellation2.maxStack).map(i => [i, constant(datamine.constellation2.atkInc * i)])), 0, { key: \"atk_\" }))\r\nconst nodeC2SpdBonus = greaterEq(input.constellation, 2,\r\n  lookup(condC2, Object.fromEntries(range(1, datamine.constellation2.maxStack).map(i => [i, constant(datamine.constellation2.atkSpdInc * i)])), 0, { key: \"atkSPD_\" }))\r\nconst nodeC6DmgBonus = equal(condC6, \"on\", greaterEq(input.constellation, 6, datamine.constellation6.dmgInc))\r\nconst nodeC6SpdBonus = equal(condC6, \"on\", greaterEq(input.constellation, 6, datamine.constellation6.atkSpdInc), { key: \"atkSPD_\" })\r\n\r\nconst skillAdditional: Data = {\r\n  premod: { skill_dmg_: constant(datamine.constellation4.dmgInc) },\r\n  hit: { ele: constant(\"pyro\") }\r\n}\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    firstHit: dmgNode(\"atk\", datamine.skill.firstHit, \"skill\"),\r\n    secondHit: dmgNode(\"atk\", datamine.skill.secondHit, \"skill\"),\r\n    thirdHit: dmgNode(\"atk\", datamine.skill.thridHit, \"skill\"),\r\n    secondHitBoost: dmgNode(\"atk\", datamine.skill.secondHit, \"skill\", skillAdditional),\r\n    thirdHitBoost: dmgNode(\"atk\", datamine.skill.thridHit, \"skill\", skillAdditional)\r\n  },\r\n  burst: {\r\n    slashDmg: dmgNode(\"atk\", datamine.burst.slashDmg, \"burst\"),\r\n    dotDmg: dmgNode(\"atk\", datamine.burst.dotDmg, \"burst\"),\r\n    explosionDmg: dmgNode(\"atk\", datamine.burst.explosionDmg, \"burst\"),\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    pyro_dmg_: nodeA4Bonus,\r\n    atk_: nodeC2AtkBonus,\r\n    atkSPD_: sum(nodeC6SpdBonus, nodeC2SpdBonus),\r\n    all_dmg_: nodeC1Bonus,\r\n    normal_dmg_: nodeC6DmgBonus,\r\n  },\r\n  infusion: nodeBurstInfusion\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: data => data.get(input.asc).value >= 1 ? `${datamine.charged.stamina}/s - ${datamine.passive1.stamReduction * 100}%` : `${datamine.charged.stamina}/s`,\r\n          }, {\r\n            text: tr(\"auto.skillParams.7\"),\r\n            value: data => data.get(input.asc).value >= 1 ? `${datamine.charged.duration}s + ${datamine.passive1.duration}` : datamine.charged.duration,\r\n            unit: 's'\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: {\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.firstHit, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          },\r\n          {\r\n            node: infoMut(dmgFormulas.skill.secondHit, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n          },\r\n          {\r\n            node: infoMut(dmgFormulas.skill.thirdHit, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n          },\r\n          {\r\n            canShow: data => data.get(input.constellation).value >= 4,\r\n            node: infoMut(dmgFormulas.skill.secondHitBoost, { key: `char_${key}:skillB.0` }),\r\n          },\r\n          {\r\n            canShow: data => data.get(input.constellation).value >= 4,\r\n            node: infoMut(dmgFormulas.skill.thirdHitBoost, { key: `char_${key}:skillB.1` }),\r\n          },\r\n          {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: datamine.skill.cd,\r\n          },],\r\n          conditional: {\r\n            value: condC6,\r\n            path: condC6Path,\r\n            name: trm(\"c6C.name\"),\r\n            canShow: greaterEq(input.constellation, 6, 1),\r\n            states: {\r\n              on: {\r\n                fields: [{\r\n                  node: nodeC6DmgBonus,\r\n                }, {\r\n                  node: nodeC6SpdBonus\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }],\r\n      },\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.slashDmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dotDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.explosionDmg, { key: `char_${key}_gen:burst.skillParams.2` })\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.cost,\r\n      }], {\r\n        name: tr(\"burst.name\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"infusion.pyro\"),\r\n              variant: \"pyro\",\r\n            }, {\r\n              node: nodeA4Bonus\r\n            }, {\r\n              text: tr(\"burst.skillParams.4\"),\r\n              value: data => data.get(input.asc).value >= 4 ? `${datamine.burst.duration} + ${datamine.passive2.durationInc}` : datamine.burst.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: trm(\"c1C.name\"),\r\n        header: conditionalHeader(\"constellation1\", tr, c1),\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC1Bonus,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: trm(\"c2C.name\"),\r\n        header: conditionalHeader(\"constellation2\", tr, c2),\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        states: Object.fromEntries(range(1, datamine.constellation2.maxStack).map(i =>\r\n          [i, {\r\n            name: st(\"stack_one\", { count: i }),\r\n            fields: [{\r\n              node: nodeC2AtkBonus\r\n            }, {\r\n              node: nodeC2SpdBonus\r\n            }]\r\n          }\r\n          ]))\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Diona\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    icyPawDmg: skillParam_gen.skill[s++],\r\n    shieldHp_: skillParam_gen.skill[s++],\r\n    shieldFlat: skillParam_gen.skill[s++],\r\n    cdPress: skillParam_gen.skill[s++][0],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++],\r\n  },\r\n  burst: {\r\n    skillDmg: skillParam_gen.burst[b++],\r\n    fieldDmg: skillParam_gen.burst[b++],\r\n    healHp_: skillParam_gen.burst[b++],\r\n    healBase: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    moveSpeed_: skillParam_gen.passive1[p1++][0], //+10% move speed\r\n    stamRed_: skillParam_gen.passive1[p1++][0], //Stamina consumption reduced by 10%\r\n  },\r\n  passive2: {\r\n    atkRed_: skillParam_gen.passive1[p2++][0], //Opponents inside burst -10% attack\r\n    duration: skillParam_gen.passive1[p2++][0],\r\n  },\r\n  constellation1: {\r\n    energyRegen: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    icyPawDmg_: skillParam_gen.constellation2[0], //Icy Paws +15% dmg\r\n    icyPawShield_: skillParam_gen.constellation2[1], //Icy paws +15% shield\r\n    coopShield_: skillParam_gen.constellation2[2], //Coop shield 50% of total shield\r\n    coopShieldDuration_: skillParam_gen.constellation2[3], //Coop shield lasts for 5s\r\n  },\r\n  constellation6: {\r\n    healingBonus_: skillParam_gen.constellation6[0],\r\n    emBonus: skillParam_gen.constellation6[1],\r\n  },\r\n} as const\r\n\r\nconst [condC6BelowPath, condC6Below] = cond(key, \"Constellation6Low\")\r\nconst [condC6AbovePath, condC6Above] = cond(key, \"Constellation6High\")\r\nconst [condA1Path, condA1] = cond(key, \"Ascension1\")\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst nodeC2skillDmg_ = greaterEq(input.constellation, 2, percent(datamine.constellation2.icyPawDmg_))\r\n\r\nconst holdSkillShieldStr_ = { \"customBonus\": { \"shield_\": percent(0.75) } }\r\n//C2 Shield bonus modifies everything at the very end, it's not a shield strength bonus\r\n//100% if not C2, 175% if C2 or higher\r\nconst nodeC2shieldStr_ = sum(percent(1), greaterEq(input.constellation, 2, percent(datamine.constellation2.icyPawShield_)))\r\nconst nodeSkillShieldPress = prod(nodeC2shieldStr_, shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\",))\r\nconst nodeSkillShieldHold = prod(nodeC2shieldStr_, shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\", holdSkillShieldStr_))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('cryo') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    pressCryoShield: shieldElement(elementKey, nodeSkillShieldPress),\r\n    pressShield: nodeSkillShieldPress,\r\n    holdCryoShield: shieldElement(elementKey, nodeSkillShieldHold),\r\n    holdShield: nodeSkillShieldHold,\r\n    skillDmg: dmgNode(\"atk\", datamine.skill.icyPawDmg, \"skill\", {}),\r\n  },\r\n  burst: {\r\n    skillDmg: dmgNode(\"atk\", datamine.burst.skillDmg, \"burst\"),\r\n    fieldDmg: dmgNode(\"atk\", datamine.burst.fieldDmg, \"burst\"),\r\n    healDot: healNodeTalent(\"hp\", datamine.burst.healHp_, datamine.burst.healBase, \"burst\"),\r\n  },\r\n}\r\n\r\nconst nodeA1MoveSpeed = equal(condA1, \"on\", percent(datamine.passive1.moveSpeed_),)\r\nconst nodeA1Stamina = equal(condA1, \"on\", percent(datamine.passive1.stamRed_),)\r\n\r\nconst nodeC6healing_ = equal(condC6Below, \"on\", percent(datamine.constellation6.healingBonus_),)\r\nconst nodeC6em = equal(condC6Above, \"on\", datamine.constellation6.emBonus,)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  }, premod: {\r\n    skill_dmg_: nodeC2skillDmg_,\r\n  }, teamBuff: {\r\n    premod: {\r\n      staminaDec_: nodeA1Stamina,\r\n      moveSPD_: nodeA1MoveSpeed,\r\n      eleMas: nodeC6em,\r\n      heal_: nodeC6healing_,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n            },\r\n            ]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ]\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [\r\n        //Shield DMG Absorption\r\n        { node: infoMut(dmgFormulas.skill.pressCryoShield, { key: `char_${key}:pressShield` }), },\r\n        { node: infoMut(dmgFormulas.skill.pressShield, { key: `char_${key}:pressShield` }), },\r\n        { node: infoMut(dmgFormulas.skill.holdCryoShield, { key: `char_${key}:holdShield` }), },\r\n        { node: infoMut(dmgFormulas.skill.holdShield, { key: `char_${key}:holdShield` }), },\r\n        //Icy Paw DMG\r\n        { node: infoMut(dmgFormulas.skill.skillDmg, { key: `char_${key}_gen:skill.skillParams.0` }), },\r\n        {\r\n          text: trm(\"skillDuration\"),\r\n          value: data => datamine.skill.duration[data.get(input.total.skillIndex).value],\r\n          unit: \"s\",\r\n          fixed: 1,\r\n        },\r\n        //Press CD\r\n        {\r\n          text: tr(`skill.skillParams.3`),\r\n          value: datamine.skill.cdPress,\r\n          unit: \"s\"\r\n        },\r\n        //Holding CD\r\n        {\r\n          text: tr(`skill.skillParams.4`),\r\n          value: datamine.skill.cdHold,\r\n          unit: \"s\",\r\n        },\r\n      ],\r\n        //Cat's Tail Secret Menu (A1)\r\n        {\r\n          teamBuff: true,\r\n          value: condA1,\r\n          path: condA1Path,\r\n          name: trm(`a1shielded`),\r\n          canShow: greaterEq(input.asc, 1, 1),\r\n          header: conditionalHeader(\"passive1\", tr, passive1), description: tr(`passive1.description`),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: nodeA1MoveSpeed,\r\n              }, {\r\n                node: nodeA1Stamina,\r\n              }]\r\n            }\r\n          }\r\n        }\r\n      ),\r\n      burst: talentTemplate(\"burst\", tr, burst, [\r\n        { node: infoMut(dmgFormulas.burst.skillDmg, { key: `char_${key}_gen:burst.skillParams.0` }), },\r\n        { node: infoMut(dmgFormulas.burst.fieldDmg, { key: `char_${key}_gen:burst.skillParams.1` }), },\r\n        { node: infoMut(dmgFormulas.burst.healDot, { key: `char_${key}_gen:burst.skillParams.2`, variant: \"success\" }), },\r\n        {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }\r\n      ], {\r\n        teamBuff: true,\r\n        value: condC6Below,\r\n        path: condC6BelowPath,\r\n        name: trm(`c6below`),\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        header: conditionalHeader(\"constellation6\", tr, c6), description: tr(`constellation6.description`),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC6healing_,\r\n            }]\r\n          }\r\n        }\r\n      }, [{\r\n        conditional: {\r\n          teamBuff: true,\r\n          value: condC6Above,\r\n          path: condC6AbovePath,\r\n          name: trm(`c6above`),\r\n          canShow: greaterEq(input.constellation, 6, 1),\r\n          header: conditionalHeader(\"constellation6\", tr, c6), description: tr(`constellation6.description`),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: nodeC6em,\r\n              }]\r\n            }\r\n          }\r\n        }\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, []),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, []),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3, []),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, []),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{ node: nodeC2skillDmg_ }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, []),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { Data } from '../../../Formula/type'\r\nimport { constant, equal, greaterEq, infoMut, lookup, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Eula\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    icewhirl: skillParam_gen.skill[s++],\r\n    physResDec: skillParam_gen.skill[s++],\r\n    cryoResDec: skillParam_gen.skill[s++],\r\n    resDecDuration: skillParam_gen.skill[s++][0],\r\n    pressCd: skillParam_gen.skill[s++][0],\r\n    holdCd: skillParam_gen.skill[s++][0],\r\n    defBonus: skillParam_gen.skill[s++][0],\r\n    unknown: skillParam_gen.skill[s++][0], // combined cooldown?\r\n    physResDecNegative: skillParam_gen.skill[s++],\r\n    cryoResDecNegative: skillParam_gen.skill[s++],\r\n    grimheartDuration: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    lightfallDmg: skillParam_gen.burst[b++],\r\n    dmgPerStack: skillParam_gen.burst[b++],\r\n    maxStack: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    percentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  constellation1: {\r\n    physInc: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation4: {\r\n    dmgInc: skillParam_gen.constellation4[0],\r\n  },\r\n} as const\r\n\r\nconst [condGrimheartPath, condGrimheart] = cond(key, \"Grimheart\")\r\nconst [condLightfallSwordPath, condLightfallSword] = cond(key, \"LightfallSword\")\r\nconst [condC4Path, condC4] = cond(key, \"LightfallSwordC4\")\r\nconst [condTidalIllusionPath, condTidalIllusion] = cond(key, \"TidalIllusion\")\r\n\r\nconst def_ = sum(equal(\"stack1\", condGrimheart, percent(datamine.skill.defBonus)), equal(\"stack2\", condGrimheart, percent(2 * datamine.skill.defBonus)))\r\nconst cryo_enemyRes_ = equal(\"consumed\", condGrimheart, subscript(input.total.skillIndex, datamine.skill.cryoResDecNegative))\r\nconst physical_enemyRes_ = equal(\"consumed\", condGrimheart, subscript(input.total.skillIndex, datamine.skill.physResDecNegative))\r\nconst physical_dmg_ = equal(\"on\", condTidalIllusion, percent(datamine.constellation1.physInc))\r\n\r\nconst lightSwordAdditional: Data = {\r\n  premod: { burst_dmg_: equal(condC4, \"on\", constant(datamine.constellation4.dmgInc)) },\r\n  hit: { ele: constant(\"physical\") }\r\n}\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n    icewhirl: dmgNode(\"atk\", datamine.skill.icewhirl, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    lightFallSwordNew: customDmgNode(\r\n      prod(\r\n        sum(\r\n          subscript(input.total.burstIndex, datamine.burst.lightfallDmg, { key: '_' }),\r\n          prod(\r\n            lookup(condLightfallSword, objectKeyMap(range(1, 30), i => constant(i)), constant(0)),\r\n            subscript(input.total.burstIndex, datamine.burst.dmgPerStack, { key: '_' })\r\n          ),\r\n        ),\r\n        input.total.atk\r\n      ), \"burst\", lightSwordAdditional),\r\n  },\r\n  passive1: {\r\n    shatteredLightfallSword: prod(\r\n      percent(datamine.passive1.percentage),\r\n      dmgNode(\"atk\", datamine.burst.lightfallDmg, \"burst\", lightSwordAdditional))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"cryo\", \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    def_,\r\n    cryo_enemyRes_,\r\n    physical_enemyRes_,\r\n    physical_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"cryo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n              textSuffix: (i === 2 || i === 4) ? st(\"brHits\", { count: 2 }) : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.7\"),\r\n              value: datamine.charged.stamina,\r\n              unit: '/s'\r\n            }, {\r\n              text: tr(\"auto.skillParams.8\"),\r\n              value: datamine.charged.duration,\r\n              unit: 's'\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: { // Cannot use talentTemplate because this has multiple sections.\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.8\"),\r\n            value: `${datamine.skill.pressCd}`,\r\n            unit: 's'\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n          }, {\r\n            text: st(\"holdCD\"),\r\n            value: `${datamine.skill.holdCd}`,\r\n            unit: 's'\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: 2,\r\n          },],\r\n          conditional: { // Grimheart\r\n            value: condGrimheart,\r\n            path: condGrimheartPath,\r\n            name: trm(\"skillC.name\"),\r\n            header: conditionalHeader(\"skill\", tr, skill),\r\n            states: {\r\n              \"stack1\": {\r\n                name: st(\"stack\", { count: 1 }),\r\n                fields: [{\r\n                  node: def_,\r\n                }, {\r\n                  text: trm(\"skillC.grimheart.int\")\r\n                }, {\r\n                  text: tr(\"skill.skillParams.4\"),\r\n                  value: `${datamine.skill.grimheartDuration}`,\r\n                  unit: 's'\r\n                },]\r\n              },\r\n              \"stack2\": {\r\n                name: st(\"stack\", { count: 2 }),\r\n                fields: [{\r\n                  node: def_,\r\n                }, {\r\n                  text: trm(\"skillC.grimheart.int\")\r\n                }, {\r\n                  text: tr(\"skill.skillParams.4\"),\r\n                  value: `${datamine.skill.grimheartDuration}`,\r\n                  unit: 's'\r\n                },]\r\n              },\r\n              \"consumed\": {\r\n                name: \"Consumed\",\r\n                fields: [{\r\n                  node: cryo_enemyRes_,\r\n                }, {\r\n                  node: physical_enemyRes_,\r\n                }, {\r\n                  text: sgt('duration'),\r\n                  value: 7,\r\n                  unit: 's'\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }, {\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.icewhirl, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n          }]\r\n        }]\r\n      },\r\n      burst: { // Cannot use talentTemplate because this has multiple sections.\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.lightFallSwordNew, { key: `char_${key}:burstC.dmg` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.4\"),\r\n            value: `${datamine.burst.cd}`,\r\n            unit: 's'\r\n          }, {\r\n            text: tr(\"burst.skillParams.5\"),\r\n            value: `${datamine.burst.enerCost}`,\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 7,\r\n            unit: 's'\r\n          }],\r\n          conditional: { // Lightfall Sword\r\n            value: condLightfallSword,\r\n            path: condLightfallSwordPath,\r\n            name: trm(\"burstC.name\"),\r\n            header: conditionalHeader(\"burst\", tr, burst),\r\n            states: {\r\n              ...objectKeyMap(range(1, 30), i => ({\r\n                name: st(\"stack\", { count: i }),\r\n                fields: [{\r\n                  canShow: data => data.get(input.constellation).value >= 6,\r\n                  text: trm(\"burstC.start5\"),\r\n                }, {\r\n                  canShow: data => data.get(input.constellation).value >= 6,\r\n                  text: trm(\"burstC.addStacks\"),\r\n                }]\r\n              })),\r\n            }\r\n          }\r\n        }, {\r\n          conditional: { // Lightfall Sword (C4)\r\n            value: condC4,\r\n            path: condC4Path,\r\n            name: trm(\"c4C.name\"),\r\n            header: conditionalHeader(\"constellation4\", tr, c4),\r\n            canShow: greaterEq(input.constellation, 4, 1),\r\n            states: {\r\n              on: {\r\n                fields: [{\r\n                  text: trm(\"c4C.desc\")\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }]\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        canShow: data => data.get(input.asc).value >= 1,\r\n        node: infoMut(dmgFormulas.passive1.shatteredLightfallSword, { key: `char_${key}:passive1` }),\r\n      }]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condTidalIllusion,\r\n        path: condTidalIllusionPath,\r\n        name: trm(\"c1C.name\"),\r\n        header: conditionalHeader(\"constellation1\", tr, c1),\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: physical_dmg_,\r\n            }, {\r\n              text: sgt('duration'),\r\n              value: trm('c1C.durationStack')\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, greaterEq, infoMut, lessThan, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Fischl\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst region: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    ozDmg: skillParam_gen.skill[s++],\r\n    summonDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    dmg: skillParam_gen.passive1[p1++][0]\r\n  },\r\n  passive2: {\r\n    dmg: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation1: {\r\n    dmg: skillParam_gen.constellation1[0]\r\n  },\r\n  constellation2: {\r\n    dmg: skillParam_gen.constellation2[0]\r\n  },\r\n  constellation4: {\r\n    dmg: skillParam_gen.constellation4[0],\r\n    regen: skillParam_gen.constellation4[1]\r\n  },\r\n  constellation6: {\r\n    dmg: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('electro') } }),\r\n    aimedChargedOz: greaterEq(input.asc, 1, prod(percent(datamine.passive1.dmg), dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('electro') } })))\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    ozDmg: dmgNode(\"atk\", datamine.skill.ozDmg, \"skill\"),\r\n    summonDmg: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.summonDmg, \"skill\")),\r\n    summonDmgC2: greaterEq(input.constellation, 2, customDmgNode(prod(sum(subscript(input.total.skillIndex,\r\n      datamine.skill.summonDmg, { key: \"_\" }), percent(datamine.constellation2.dmg)), input.total.atk), \"skill\",\r\n      { hit: { ele: constant('electro') } })),\r\n    ozActiveCharDmg: greaterEq(input.constellation, 6, customDmgNode(prod(input.total.atk, percent(datamine.constellation6.dmg)), \"skill\", { hit: { ele: constant('electro') } }))\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    additionalDmg: greaterEq(input.constellation, 4, customDmgNode(prod(input.total.atk, percent(datamine.constellation4.dmg)), \"burst\", { hit: { ele: constant('electro') } })),\r\n    regen: greaterEq(input.constellation, 4, customHealNode(prod(input.total.hp, percent(datamine.constellation4.regen))))\r\n  },\r\n  passive2: {\r\n    dmg: greaterEq(input.asc, 4, customDmgNode(prod(input.total.atk, percent(datamine.passive2.dmg)), \"skill\", { hit: { ele: constant('electro') } }))\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(input.total.atk, percent(datamine.constellation1.dmg)), \"elemental\", { hit: { ele: constant('physical') } }))\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n            }, {\r\n              canShow: (data) => data.get(input.asc).value >= 1,\r\n              node: infoMut(dmgFormulas.charged.aimedChargedOz, { key: `char_${key}:a1Name` }),\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.ozDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value < 2,\r\n        node: infoMut(dmgFormulas.skill.summonDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 2,\r\n        node: infoMut(dmgFormulas.skill.summonDmgC2, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 6,\r\n        node: infoMut(dmgFormulas.skill.ozActiveCharDmg, { key: `char_${key}:c6OzDmg` })\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: (data) => data.get(input.constellation).value >= 6 ? datamine.skill.duration + datamine.constellation6.duration : datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: `${datamine.skill.cd}`,\r\n        unit: \"s\"\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 2,\r\n        text: trm(\"c2AoeIncrease\"),\r\n        value: 50,\r\n        unit: \"%\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 4,\r\n        node: infoMut(dmgFormulas.burst.additionalDmg, { key: `char_${key}:c4AoeDmg` }),\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 4,\r\n        node: infoMut(dmgFormulas.burst.regen, { key: `sheet_gen:healing`, variant: \"success\" }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: `${datamine.burst.cd}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:a2Name` })\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [{\r\n        node: infoMut(dmgFormulas.constellation1.dmg, { key: `char_${key}:c1Name` })\r\n      }]),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Ganyu\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst region: Region = \"liyue\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n      skillParam_gen.auto[a++], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n    frostflake: skillParam_gen.auto[a++],\r\n    frostflakeBloom: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    inheritedHp: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n    critRateInc: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    cryoDmgBonus: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    opCryoRes: skillParam_gen.constellation1[0],\r\n    duration: skillParam_gen.constellation1[1],\r\n    enerRegen: skillParam_gen.constellation1[2],\r\n  }\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"A1\")\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst [condC1Path, condC1] = cond(key, \"C1\")\r\nconst [condC4Path, condC4] = cond(key, \"C4\")\r\nconst cryo_enemyRes_ = greaterEq(input.constellation, 1, equal(\"on\", condC1, percent(datamine.constellation1.opCryoRes)))\r\nconst cryo_dmg_disp = greaterEq(input.asc, 4, equal(\"on\", condA4, percent(datamine.passive2.cryoDmgBonus)))\r\nconst cryo_dmg_ = equal(input.activeCharKey, target.charKey, cryo_dmg_disp)\r\nconst all_dmg_ = greaterEq(input.constellation, 4,\r\n  lookup(condC4, Object.fromEntries(range(1, 5).map(i => [i, percent(0.05 * i)])), naught))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('cryo') } }),\r\n    frostflake: dmgNode(\"atk\", datamine.charged.frostflake, \"charged\",\r\n      { premod: { critRate_: greaterEq(input.asc, 1, equal(condA1, \"on\", percent(datamine.passive1.critRateInc))) }, hit: { ele: constant('cryo') } }),\r\n    frostflakeBloom: dmgNode(\"atk\", datamine.charged.frostflakeBloom, \"charged\",\r\n      { premod: { critRate_: greaterEq(input.asc, 1, equal(condA1, \"on\", percent(datamine.passive1.critRateInc))) }, hit: { ele: constant('cryo') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    inheritedHp: prod(subscript(input.total.skillIndex, datamine.skill.inheritedHp), input.total.hp),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      cryo_dmg_,\r\n      all_dmg_,\r\n      cryo_enemyRes_,\r\n    },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey),\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.frostflake, { key: `char_${key}_gen:auto.skillParams.8` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.frostflakeBloom, { key: `char_${key}_gen:auto.skillParams.9` }),\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        name: trm(\"a1.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: trm(\"a1.critRateInc\"),\r\n              value: datamine.passive1.critRateInc * 100,\r\n              unit: \"%\"\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: `${datamine.passive1.duration}s`,\r\n            }]\r\n          }\r\n        }\r\n      }), sectionTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        name: trm(\"c1.condName\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: cryo_enemyRes_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: `${datamine.constellation1.duration}s`,\r\n            }]\r\n          }\r\n        }\r\n      }), {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.inheritedHp, { key: `char_${key}_gen:skill.skillParams.0`, variant: \"success\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: `${datamine.skill.duration}s`,\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: `${datamine.skill.cd}s`,\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 2,\r\n        text: st(\"charges\"),\r\n        value: 2,\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: `${datamine.burst.duration}s`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: `${datamine.burst.cd}s`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }], undefined, [\r\n        sectionTemplate(\"passive2\", tr, passive2, undefined, {\r\n          value: condA4,\r\n          path: condA4Path,\r\n          canShow: greaterEq(input.asc, 4, 1),\r\n          teamBuff: true,\r\n          name: st(\"activeCharField\"),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: infoMut(cryo_dmg_disp, { key: \"cryo_dmg_\", variant: \"cryo\" })\r\n              }]\r\n            }\r\n          }\r\n        }), sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n          value: condC4,\r\n          path: condC4Path,\r\n          canShow: greaterEq(input.constellation, 4, 1),\r\n          teamBuff: true,\r\n          name: st(\"opponentsField\"),\r\n          states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n          name: st(\"seconds\", { count: (i - 1) * 3 }),\r\n            fields: [{ node: all_dmg_ }, { text: trm(\"c4.lingerDuration\"), value: 3, unit: \"s\" }]\r\n          }]))\r\n        }),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Gorou\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++], // Aimed\r\n    fully: skillParam_gen.auto[a++], // Fully-charged\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    defInc: skillParam_gen.skill[s++],\r\n    geo_dmg_: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    dmg_def: skillParam_gen.burst[b++],\r\n    crystalDmg_def: skillParam_gen.burst[b++],\r\n    crystalHits: 6,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    def_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n  },\r\n  passive2: {\r\n    skill_dmgInc: skillParam_gen.passive2[0][0],\r\n    burst_dmgInc: skillParam_gen.passive2[1][0],\r\n  },\r\n  constellation4: {\r\n    heal_def_: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    geo_critDMG_: [\r\n      skillParam_gen.constellation6[0],\r\n      skillParam_gen.constellation6[1],\r\n      skillParam_gen.constellation6[2],\r\n      skillParam_gen.constellation6[2],\r\n    ] as number[],\r\n    duration: skillParam_gen.constellation6[3]\r\n  }\r\n} as const\r\n\r\nconst [condInFieldPath, condInField] = cond(key, \"inField\")\r\nconst skill1_defDisp = equal(condInField, \"inField\", \r\n  greaterEq(tally[\"geo\"], 1, \r\n    subscript(input.total.skillIndex, datamine.skill.defInc)\r\n  )\r\n)\r\nconst skill1_def = equal(input.activeCharKey, target.charKey, skill1_defDisp)\r\nconst skill3_geo_dmg_Disp = equal(condInField, \"inField\", \r\n  greaterEq(tally[\"geo\"], 3, datamine.skill.geo_dmg_)\r\n)\r\nconst skill3_geo_dmg_ = equal(input.activeCharKey, target.charKey, skill3_geo_dmg_Disp)\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurst_def_ = greaterEq(input.asc, 1, equal(condAfterBurst, \"afterBurst\", datamine.passive1.def_))\r\n\r\nconst p2_skill_dmgInc = greaterEq(input.asc, 4, prod(input.total.def, datamine.passive2.skill_dmgInc))\r\nconst p2_burst_dmgInc = greaterEq(input.asc, 4, prod(input.total.def, datamine.passive2.burst_dmgInc))\r\n\r\nconst [condAfterSkillBurstPath, condAfterSkillBurst] = cond(key, \"afterSkillBurst\")\r\nconst c6_geo_critDMG_ = greaterEq(input.constellation, 6, \r\n  equal(condAfterSkillBurst, \"afterSkillBurst\", \r\n    subscript(sum(tally[\"geo\"], -1), datamine.constellation6.geo_critDMG_)\r\n  )\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n  [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    fully: dmgNode(\"atk\", datamine.charged.fully, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"def\", datamine.burst.dmg_def, \"burst\"),\r\n    crystalCollapse: dmgNode(\"def\", datamine.burst.crystalDmg_def, \"burst\")\r\n  },\r\n  constellation4: {\r\n    heal: greaterEq(input.constellation, 4, greaterEq(tally[\"geo\"], 2, healNode(\"def\", datamine.constellation4.heal_def_, 0)))\r\n  }\r\n}\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: burstC5,\r\n    skill: skillC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      def: skill1_def,\r\n      geo_dmg_: skill3_geo_dmg_,\r\n      def_: afterBurst_def_,\r\n      geo_critDMG_: c6_geo_critDMG_,\r\n    }\r\n  },\r\n  premod: {\r\n    skill_dmgInc: p2_skill_dmgInc,\r\n    burst_dmgInc: p2_burst_dmgInc,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n            node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.fully, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }]\r\n        ),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        ),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }], {\r\n        value: condInField,\r\n        path: condInFieldPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        states: {\r\n          inField: {\r\n            fields: [{\r\n              node: infoMut(skill1_defDisp, { key: \"def\" }),\r\n            }, {\r\n              canShow: data => data.get(tally[\"geo\"]).value >= 2,\r\n              text: st(\"incInterRes\")\r\n            }, {\r\n              node: infoMut(skill3_geo_dmg_Disp, { key: \"geo_dmg_\", variant: \"geo\" }),\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"passive2\", tr, passive2, [{\r\n          node: p2_skill_dmgInc\r\n        }], undefined, data => data.get(input.asc).value >= 4, false, true),\r\n        sectionTemplate(\"constellation4\", tr, c4, [{\r\n          node: infoMut(dmgFormulas.constellation4.heal, { key: \"sheet_gen:healing\", variant: \"success\" }),\r\n        }], undefined, data => data.get(input.constellation).value >=4 && data.get(tally[\"geo\"]).value >= 2, true, true)\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.crystalCollapse, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        textSuffix: st(\"brHits\", { count: datamine.burst.crystalHits })\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost\r\n      }], undefined, [\r\n        sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n          value: condAfterBurst,\r\n          path: condAfterBurstPath,\r\n          canShow: greaterEq(input.asc, 1, 1),\r\n          name: st(\"afterUse.burst\"),\r\n          teamBuff: true,\r\n          states: {\r\n            afterBurst: {\r\n              fields: [{\r\n                node: afterBurst_def_\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.passive1.duration,\r\n                unit: \"s\"\r\n              }]\r\n            }\r\n          }\r\n        }), sectionTemplate(\"passive2\", tr, passive2, [{\r\n          node: p2_burst_dmgInc\r\n        }], undefined, data => data.get(input.asc).value >= 4, false, true),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: skillC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: burstC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condAfterSkillBurst,\r\n        path: condAfterSkillBurstPath,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: st(\"afterUse.skillOrBurst\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterSkillBurst: {\r\n            fields: [{\r\n              node: c6_geo_critDMG_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { equal, equalStr, greaterEq, infoMut, lessThan, min, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, customHealNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"HuTao\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5.1\r\n      skillParam_gen.auto[a++], // 5.2\r\n      skillParam_gen.auto[a++], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    activationCost: skillParam_gen.skill[s++][0],\r\n    atkInc: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    bloodBlossomDuration: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    maxAtkInc: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    lowHpDmg: skillParam_gen.burst[b++],\r\n    regen: skillParam_gen.burst[b++],\r\n    lowHpRegen: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    minHp: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    critRateInc: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    minHp: skillParam_gen.passive2[p2++][0],\r\n    pyroDmgInc: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    bloodBlossomDmgInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    critRateInc: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    minHp: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n    elePhysResInc: skillParam_gen.constellation6[2],\r\n    critRateInc: skillParam_gen.constellation6[3],\r\n  },\r\n} as const\r\n\r\nconst [condAfterlifePath, condAfterlife] = cond(key, \"GuideToAfterlifeVoyage\")\r\nconst atk = equal(\"on\", condAfterlife, min(\r\n  prod(subscript(input.total.skillIndex, datamine.skill.atkInc), input.premod.hp),\r\n  prod(percent(datamine.skill.maxAtkInc), input.base.atk)))\r\nconst infusion = equalStr(\"on\", condAfterlife, elementKey)\r\n\r\nconst [condA1Path, condA1] = cond(key, \"FlutterBy\")\r\nconst critRateTeam_1 = equal(\"on\", condA1, unequal(input.activeCharKey, input.charKey, percent(datamine.passive1.critRateInc), { key: \"critRate_\" }))\r\nconst [condA2Path, condA2] = cond(key, \"SanguineRouge\")\r\nconst pyro_dmg_ = equal(\"on\", condA2, percent(datamine.passive2.pyroDmgInc))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"GardenOfEternalRest\")\r\nconst critRateTeam_2 = equal(\"on\", condC4, unequal(input.activeCharKey, input.charKey, percent(datamine.constellation4.critRateInc), { key: \"critRate_\" }))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"ButterflysEmbrace\")\r\nconst critRate_ = equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.critRateInc)))\r\nconst ele_res_s = Object.fromEntries(allElementsWithPhy.map(ele => [ele, equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.elePhysResInc)))]))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\")),\r\n    dmgC2: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\", { hit: { dmgInc: prod(input.total.hp, datamine.constellation2.bloodBlossomDmgInc) } })),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    lowHpDmg: dmgNode(\"atk\", datamine.burst.lowHpDmg, \"burst\"),\r\n    regen: customHealNode(prod(input.total.hp, subscript(input.total.burstIndex, datamine.burst.regen, { key: \"_\" }))),\r\n    lowHpRegen: customHealNode(prod(input.total.hp, subscript(input.total.burstIndex, datamine.burst.lowHpRegen, { key: \"_\" }))),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    pyro_dmg_,\r\n    ...Object.fromEntries(allElementsWithPhy.map(ele => [`${ele}_res_`, ele_res_s[ele]])),\r\n    critRate_\r\n  },\r\n  total: {\r\n    atk\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      critRate_: sum(critRateTeam_1, critRateTeam_2)\r\n    }\r\n  },\r\n  infusion\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 5 ? 0 : -1)}` }),\r\n              textSuffix: i === 4 ? \"(1)\" : i === 5 ? \"(2)\" : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.7\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.2` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmgC2, { key: `char_${key}:constellation2.skillParams.2` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: datamine.skill.bloodBlossomDuration,\r\n        unit: 's'\r\n      }], {\r\n        value: condAfterlife,\r\n        path: condAfterlifePath,\r\n        name: trm(\"paramita.enter\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: tr(\"skill.skillParams.0\"),\r\n              value: datamine.skill.activationCost * 100, // Convert to percentage\r\n              unit: '% Current HP'\r\n            }, {\r\n              node: atk,\r\n            }, {\r\n              text: <ColorText color=\"pyro\">Pyro Infusion</ColorText>\r\n            }, {\r\n              text: tr(\"skill.skillParams.4\"),\r\n              value: datamine.skill.duration,\r\n              unit: 's'\r\n            }, {\r\n              text: tr(\"skill.skillParams.5\"),\r\n              value: datamine.skill.cd,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.lowHpDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.2`, variant: \"success\" })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.lowHpRegen, { key: `char_${key}_gen:burst.skillParams.3`, variant: \"success\" })\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: 's'\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value > 1,\r\n        text: trm(\"constellation2.applyBloodBlossom\"),\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.asc, 1, unequal(input.activeCharKey, input.charKey, 1)),\r\n        name: trm(\"paramita.end\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRateTeam_1,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        value: condA2,\r\n        path: condA2Path,\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        name: st(\"lessEqPercentHP\", { percent: datamine.passive2.minHp * 100 }),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: pyro_dmg_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, unequal(input.activeCharKey, input.charKey, 1)),\r\n        name: trm(\"constellation4.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRateTeam_2,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"constellation6.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [\r\n              ...allElementsWithPhy.map(ele => ({ node: ele_res_s[ele] })), {\r\n                node: critRate_,\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.constellation6.duration,\r\n                unit: 's'\r\n              }, {\r\n                text: sgt(\"cd\"),\r\n                value: 60,\r\n                unit: 's'\r\n              }]\r\n          }\r\n        }\r\n      }),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Jean\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst regionKey: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    stamina: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    enterExitDmg: skillParam_gen.burst[b++],\r\n    burstActivationAtkModifier: skillParam_gen.burst[b++],\r\n    burstActionFlatModifier: skillParam_gen.burst[b++],\r\n    burstRegenAtkModifier: skillParam_gen.burst[b++],\r\n    burstRegenFlatModifier: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    chance: skillParam_gen.passive1[p1++][0],\r\n    atkPercentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    energyRegen: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    increaseDmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    moveSpd: skillParam_gen.constellation2[0],\r\n    atkSpd: skillParam_gen.constellation2[1],\r\n    duration: skillParam_gen.constellation2[2],\r\n  },\r\n  constellation4: {\r\n    anemoRes: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    dmgReduction: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst regen = healNodeTalent(\"atk\", datamine.burst.burstActivationAtkModifier, datamine.burst.burstActionFlatModifier, \"burst\")\r\nconst contRegen = healNodeTalent(\"atk\", datamine.burst.burstRegenAtkModifier, datamine.burst.burstRegenFlatModifier, \"burst\")\r\nconst a1Regen = greaterEq(input.asc, 1, customHealNode(prod(percent(datamine.passive1.atkPercentage), input.total.atk)))\r\n\r\nconst [condC1Path, condC1] = cond(key, \"c1\")\r\nconst skill_dmg_ = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.increaseDmg))\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst atkSPD_ = equal(condC2, \"on\", greaterEq(input.constellation, 2, percent(datamine.constellation2.atkSpd)))\r\nconst moveSPD_ = equal(condC2, \"on\", greaterEq(input.constellation, 2, percent(datamine.constellation2.moveSpd)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst anemo_enemyRes_ = equal(condC4, \"on\", greaterEq(input.constellation, 4, percent(-Math.abs(datamine.constellation4.anemoRes))))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst dmgRed_disp = equal(condC6, \"on\", greaterEq(input.constellation, 6, percent(datamine.constellation6.dmgReduction)))\r\nconst dmgRed_ = equal(input.activeCharKey, target.charKey, dmgRed_disp)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    enterExitDmg: dmgNode(\"atk\", datamine.burst.enterExitDmg, \"burst\"),\r\n    regen,\r\n    contRegen\r\n  },\r\n  passive1: {\r\n    a1Regen\r\n  },\r\n  constellation2: {\r\n    atkSPD_,\r\n    moveSPD_\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, regionKey, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    skill_dmg_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atkSPD_,\r\n      moveSPD_,\r\n      anemo_enemyRes_,\r\n      dmgRed_\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: `${datamine.skill.stamina}`,\r\n        unit: \"/s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: `${datamine.skill.duration}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: `${datamine.skill.cd}`,\r\n        unit: \"s\"\r\n      }], undefined, [\r\n        sectionTemplate(\"constellation1\", tr, c1, undefined, {\r\n          canShow: greaterEq(input.constellation, 1, 1),\r\n          value: condC1,\r\n          path: condC1Path,\r\n          name: trm(\"c1CondName\"),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                text: trm(\"c1PullSpeed\")\r\n              }, {\r\n                node: skill_dmg_\r\n              }]\r\n            }\r\n          }\r\n        })\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.enterExitDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.2`, variant: \"success\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.contRegen, { key: `char_${key}_gen:burst.skillParams.3`, variant: \"success\" }),\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: 11,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: `${datamine.burst.cd}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }], undefined, [\r\n        sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n          canShow: greaterEq(input.constellation, 4, 1),\r\n          value: condC4,\r\n          path: condC4Path,\r\n          teamBuff: true,\r\n          name: st(\"opponentsField\"),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: anemo_enemyRes_\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n          canShow: greaterEq(input.constellation, 6, 1),\r\n          value: condC6,\r\n          path: condC6Path,\r\n          teamBuff: true,\r\n          name: st(\"activeCharField\"),\r\n          states: {\r\n            on: {\r\n              fields: [{\r\n                node: infoMut(dmgRed_disp, {key: \"dmgRed_\" })\r\n              }]\r\n            }\r\n          }\r\n        })\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        canShow: (data) => data.get(input.asc).value >= 1,\r\n        node: infoMut(dmgFormulas.passive1.a1Regen, { key: `sheet_gen:healing`, variant: \"success\" }),\r\n      }]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        canShow: (data) => data.get(input.asc).value >= 4,\r\n        text: st(\"energyRegen\"),\r\n        value: datamine.passive2.energyRegen\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        value: condC2,\r\n        path: condC2Path,\r\n        teamBuff: true,\r\n        name: trm(\"c2CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: atkSPD_\r\n            }, {\r\n              node: moveSPD_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, greaterEqStr, infoMut, percent, prod, unequal } from '../../../Formula/utils'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, condReadNode, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KaedeharaKazuha\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3.1\r\n      skillParam_gen.auto[a++], // 3.2\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5x3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++],\r\n    dmg2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    hold: skillParam_gen.skill[s++],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    add: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    asorbAdd: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    elemas_dmg_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    elemas: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    auto_: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, \"burstAbsorption\")\r\n\r\nconst [condSkillAbsorptionPath, condSkillAbsorption] = cond(key, \"skillAbsorption\")\r\n\r\nconst condSwirlPaths = Object.fromEntries(absorbableEle.map(e => [e, [key, `swirl${e}`]]))\r\nconst condSwirls = Object.fromEntries(absorbableEle.map(e => [e, condReadNode(condSwirlPaths[e])]))\r\nconst asc4 = Object.fromEntries(absorbableEle.map(ele =>\r\n  [`${ele}_dmg_`, greaterEq(input.asc, 4,\r\n    equal(\"swirl\", condSwirls[ele],\r\n      // TODO: this percent of 0.04% is displayed as 0.0%\r\n      prod(percent(datamine.passive2.elemas_dmg_), input.premod.eleMas)\r\n    ))]))\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst c2EleMas = greaterEq(input.constellation, 2,\r\n  equal(\"c2\", condC2, datamine.constellation2.elemas))\r\n\r\nconst [condC2PPath, condC2P] = cond(key, \"c2p\")\r\nconst c2PEleMasDisp = greaterEq(input.constellation, 2,\r\n  equal(\"c2p\", condC2P, datamine.constellation2.elemas)\r\n)\r\nconst c2PEleMas = equal(input.activeCharKey, target.charKey, // Apply to active character\r\n  unequal(target.charKey, key, c2PEleMasDisp) // But not to Kazuha\r\n)\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6infusion = greaterEqStr(input.constellation, 6,\r\n  equalStr(\"c6\", condC6, \"anemo\"))\r\nconst c6Dmg_ = greaterEq(input.constellation, 6,\r\n  equal(\"c6\", condC6, prod(percent(datamine.constellation6.auto_), input.premod.eleMas))\r\n)\r\n// Share `match` and `prod` between the three nodes\r\nconst c6NormDmg_ = { ...c6Dmg_ }\r\nconst c6ChargedDmg_ = { ...c6Dmg_ }\r\nconst c6PlungingDmg_ = { ...c6Dmg_ }\r\n\r\nconst passive = percent(0.2)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n    pdmg: dmgNode(\"atk\", datamine.plunging.dmg, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n    plow: dmgNode(\"atk\", datamine.plunging.low, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n    phigh: dmgNode(\"atk\", datamine.plunging.high, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n    ...Object.fromEntries(absorbableEle.map(key =>\r\n      [key, equal(condBurstAbsorption, key, dmgNode(\"atk\", datamine.burst.add, \"burst\", { hit: { ele: constant(key) } }))]))\r\n  },\r\n  passive1: Object.fromEntries(absorbableEle.map(key =>\r\n    [key, equal(condSkillAbsorption, key, customDmgNode(prod(input.total.atk, datamine.passive1.asorbAdd), \"plunging\", { hit: { ele: constant(key) } }))])),\r\n  constellation6: {\r\n    normal_dmg_: c6NormDmg_,\r\n    charged_dmg_: c6ChargedDmg_,\r\n    plunging_dmg_: c6PlungingDmg_,\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, \"anemo\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      ...asc4,\r\n      staminaSprintDec_: passive,\r\n    },\r\n    total: {\r\n      eleMas: c2PEleMas,\r\n    },\r\n  },\r\n  infusion: c6infusion,\r\n  premod: {\r\n    normal_dmg_: c6NormDmg_,\r\n    charged_dmg_: c6ChargedDmg_,\r\n    plunging_dmg_: c6PlungingDmg_,\r\n  },\r\n  total: {\r\n    eleMas: c2EleMas,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey),\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 3 ? 0 : -1)}` }),\r\n            textSuffix: i === 2 ? \"(1)\" : i === 3 ? \"(2)\" : i === 5 ? st(\"brHits\", { count: 3 }) : \"\"\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n        ),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n        ),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: data => data.get(input.constellation).value >= 1\r\n          ? `${datamine.skill.cd} - 10% = ${datamine.skill.cd * (1 - 0.10)}`\r\n          : `${datamine.skill.cd}`,\r\n        unit: \"s\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n      }, {\r\n        text: st(\"holdCD\"),\r\n        value: data => data.get(input.constellation).value >= 1\r\n          ? `${datamine.skill.cdHold} - 10% = ${datamine.skill.cdHold * (1 - 0.10)}`\r\n          : `${datamine.skill.cdHold}`,\r\n        unit: \"s\"\r\n      }], undefined, [\r\n        {\r\n          ...sectionTemplate(\"skill\", tr, skill, [{\r\n            node: infoMut(dmgFormulas.skill.pdmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.plow, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.phigh, { key: \"sheet_gen:plunging.high\" }),\r\n          }]),\r\n          fieldsHeader: { ...conditionalHeader(\"skill\", tr, skill), title: trm(\"skillPlunge\") }\r\n        },\r\n        sectionTemplate(\"constellation1\", tr, c1, [{\r\n          node: infoMut(greaterEq(input.constellation, 1, percent(0.1)), { key: \"skillCDRed_\" })\r\n        }, {\r\n          text: trm(\"c1\"),\r\n        }], undefined, data => data.get(input.constellation).value >= 1, false, true),\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost,\r\n      }], { // Burst absorption\r\n        value: condBurstAbsorption,\r\n        path: condBurstAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        header: conditionalHeader(\"burst\", tr, burst),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst[eleKey], { key: `char_${key}_gen:burst.skillParams.2` }),\r\n          }]\r\n        }]))\r\n      }, [\r\n        sectionTemplate(\"constellation2\", tr, c2, undefined, {\r\n          canShow: greaterEq(input.constellation, 2, 1),\r\n          value: condC2,\r\n          path: condC2Path,\r\n          name: trm(\"c2\"),\r\n          header: conditionalHeader(\"constellation2\", tr, c2),\r\n          states: {\r\n            c2: {\r\n              fields: [{\r\n                node: c2EleMas\r\n              }]\r\n            }\r\n          }\r\n        }), sectionTemplate(\"constellation2\", tr, c2, undefined, { // C2 Party\r\n          canShow: greaterEq(input.constellation, 2, unequal(input.activeCharKey, key, 1)),\r\n          value: condC2P,\r\n          path: condC2PPath,\r\n          teamBuff: true,\r\n          description: tr(\"constellation2.description\"),\r\n          name: st(\"activeCharField\"),\r\n          header: conditionalHeader(\"constellation2\", tr, c2),\r\n          states: {\r\n            c2p: {\r\n              fields: [{\r\n                node: infoMut(c2PEleMasDisp, { key: \"eleMas\" })\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        // Skill Absorption\r\n        value: condSkillAbsorption,\r\n        path: condSkillAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.passive1[eleKey], { key: `sheet_gen:addEleDMG` }),\r\n          }]\r\n        }]))\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, undefined, absorbableEle.map(eleKey =>\r\n        sectionTemplate(\"passive2\", tr, passive2, undefined, { // Poetics of Fuubutsu\r\n          value: condSwirls[eleKey],\r\n          path: condSwirlPaths[eleKey],\r\n          teamBuff: true,\r\n          // Only show the description once. Can't be truly blank or it will be filled in with a default.\r\n          description: eleKey === \"hydro\" ? tr(\"passive2.description\") : \" \",\r\n          name: trm(`a4.name_${eleKey}`),\r\n          header: conditionalHeader(\"passive2\", tr, passive2),\r\n          canShow: greaterEq(input.asc, 4, 1),\r\n          states: {\r\n            swirl: {\r\n              fields: [{\r\n                node: asc4[`${eleKey}_dmg_`]\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.passive2.duration,\r\n                unit: \"s\"\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n      )),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3, undefined, undefined, [\r\n        sectionTemplate(\"passive3\", tr, passive3, [{\r\n          node: passive\r\n        }], undefined, undefined, true, true),\r\n      ]),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        // Crimson Momiji\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"c6.after\"),\r\n        states: {\r\n          c6: {\r\n            fields: [\r\n              // { // TODO:\r\n              //   node: c6infusion\r\n              // },\r\n              {\r\n                canShow: data => data.get(c6infusion).value === elementKey,\r\n                text: <ColorText color={elementKey}>{st(\"infusion.anemo\")}</ColorText>\r\n              }, {\r\n                node: c6NormDmg_\r\n              }, {\r\n                node: c6ChargedDmg_\r\n              }, {\r\n                node: c6PlungingDmg_\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.constellation6.duration,\r\n                unit: \"s\",\r\n              }]\r\n          }\r\n        }\r\n      })\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, percent, prod, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, sprint, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KamisatoAyaka\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, sp = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x3\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1x3\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  sprint: {\r\n    active_stam: skillParam_gen.sprint[sp++][0],\r\n    drain_stam: skillParam_gen.sprint[sp++][0],\r\n    duration: skillParam_gen.sprint[sp++][0],\r\n  },\r\n  passive1: {\r\n    dmg_bonus: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    stamina: skillParam_gen.passive2[p2++][0],\r\n    cryo: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    snowflake: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    def_red: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    cd: skillParam_gen.constellation6[0],\r\n    charged_bonus: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condAfterSprintPath, condAfterSprint] = cond(key, \"afterSprint\")\r\nconst afterSprintInfusion = equalStr(\"afterSprint\", condAfterSprint, elementKey)\r\n\r\nconst [condAfterSkillA1Path, condAfterSkillA1] = cond(key, \"afterSkillA1\")\r\nconst a1NormDmg_ = equal(\"afterSkill\", condAfterSkillA1, percent(datamine.passive1.dmg_bonus))\r\nconst a1ChargedDmg_ = equal(\"afterSkill\", condAfterSkillA1, percent(datamine.passive1.dmg_bonus), { key: \"charged_dmg_\" })\r\n\r\nconst [condAfterApplySprintPath, condAfterApplySprint] = cond(key, \"afterApplySprint\")\r\nconst afterApplySprintCryo = equal(\"afterApplySprint\", condAfterApplySprint, percent(datamine.passive2.cryo))\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurst = greaterEq(input.constellation, 4,\r\n  equal(\"c4\", condAfterBurst, datamine.constellation4.def_red))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"C6\")\r\nconst c6ChargedDmg_ = greaterEq(input.constellation, 6,\r\n  equal(\"c6\", condC6, datamine.constellation6.charged_bonus), { key: `charged_dmg_` })\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n  burst: {\r\n    cutting: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    bloom: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, customDmgNode(prod(input.total.atk, datamine.constellation2.snowflake), \"burst\", { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      enemyDefRed_: afterBurst\r\n    }\r\n  },\r\n  infusion: afterSprintInfusion,\r\n  premod: {\r\n    normal_dmg_: a1NormDmg_,\r\n    charged_dmg_: sum(a1ChargedDmg_, c6ChargedDmg_),\r\n    cryo_dmg_: afterApplySprintCryo,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 3 ? st(\"brHits\", { count: 3 }) : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: st(\"brHits\", { count: 3 })\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }], {\r\n        // A1 - After using Kamisato Art: Hyouka\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        value: condAfterSkillA1,\r\n        path: condAfterSkillA1Path,\r\n        name: trm(\"afterSkill\"),\r\n        header: conditionalHeader(\"passive1\", tr, passive1),\r\n        states: {\r\n          afterSkill: {\r\n            fields: [{\r\n              node: a1NormDmg_,\r\n            }, {\r\n              node: a1ChargedDmg_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.cutting, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.bloom, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        // C4 - Hit by burst\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: trm(\"dmgBySnowflake\"),\r\n        header: conditionalHeader(\"constellation4\", tr, c4),\r\n        description: st(\"constellation4.description\"),\r\n        states: {\r\n          c4: {\r\n            fields: [{\r\n              node: afterBurst\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: \"6s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      sprint: { // Cannot use talentTemplate because this has multiple sections.\r\n        name: tr(\"sprint.name\"),\r\n        img: sprint,\r\n        sections: [{\r\n          text: tr(\"sprint.description\"),\r\n          fields: [{\r\n            text: \"Activation Stamina Consumption\",\r\n            value: datamine.sprint.active_stam,\r\n          }, {\r\n            text: \"Stamina Drain\",\r\n            value: datamine.sprint.drain_stam,\r\n            unit: \"/s\",\r\n          }],\r\n          conditional: { //sprint\r\n            value: condAfterSprint,\r\n            path: condAfterSprintPath,\r\n            name: trm(\"afterSprint\"),\r\n            header: conditionalHeader(\"sprint\", tr, sprint),\r\n            states: {\r\n              afterSprint: {\r\n                fields: [{\r\n                  canShow: data => data.get(afterSprintInfusion).value === elementKey,\r\n                  text: <ColorText color=\"cryo\">{st(\"infusion.cryo\")}</ColorText>\r\n                }, {\r\n                  text: sgt(\"duration\"),\r\n                  value: datamine.sprint.duration,\r\n                  unit: \"s\",\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }, {\r\n          conditional: {\r\n            // A4 - After sprint hit\r\n            canShow: greaterEq(input.asc, 4, 1),\r\n            value: condAfterApplySprint,\r\n            path: condAfterApplySprintPath,\r\n            name: trm(\"afterSprintCryo\"),\r\n            header: conditionalHeader(\"passive2\", tr, passive2),\r\n            states: {\r\n              afterApplySprint: {\r\n                fields: [{\r\n                  text: trm(\"staminaRestore\"),\r\n                  value: datamine.passive2.stamina,\r\n                }, {\r\n                  node: afterApplySprintCryo\r\n                }, {\r\n                  text: sgt(\"duration\"),\r\n                  value: datamine.passive2.duration,\r\n                  unit: \"s\",\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }]\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:snowflakeDMG` }),\r\n      },]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"c6Active\"),\r\n        states: {\r\n          c6: {\r\n            fields: [{\r\n              node: c6ChargedDmg_,\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.constellation6.cd,\r\n              unit: \"s\"\r\n            },]\r\n          }\r\n        }\r\n      }\r\n      ),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, greaterEqStr, infoMut, lookup, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Keqing\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    dmg2: skillParam_gen.auto[a++], // 2\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    stiletto: skillParam_gen.skill[s++],\r\n    slash: skillParam_gen.skill[s++],\r\n    thunderclap: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    initial: skillParam_gen.burst[b++],\r\n    slash: skillParam_gen.burst[b++],\r\n    final: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    duration: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    critInc_: skillParam_gen.passive2[p2++][0],\r\n    enerRechInc_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation1: {\r\n    dmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation4: {\r\n    duration: skillParam_gen.constellation4[0],\r\n    atkInc: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    electroInc: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    stiletto: dmgNode(\"atk\", datamine.skill.stiletto, \"skill\"),\r\n    slash: dmgNode(\"atk\", datamine.skill.slash, \"skill\"),\r\n    thunderclap: dmgNode(\"atk\", datamine.skill.thunderclap, \"skill\"),\r\n  },\r\n  burst: {\r\n    initial: dmgNode(\"atk\", datamine.burst.initial, \"burst\"),\r\n    slash: dmgNode(\"atk\", datamine.burst.slash, \"burst\"),\r\n    final: dmgNode(\"atk\", datamine.burst.final, \"burst\"),\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(input.total.atk, datamine.constellation1.dmg), \"elemental\", { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst [condAfterRecastPath, condAfterRecast] = cond(key, \"afterRecast\")\r\nconst afterRecastInfusion = equalStr(\"afterRecast\", condAfterRecast,\r\n  greaterEqStr(input.asc, 1, elementKey)\r\n)\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurstCritRate_ = greaterEq(input.asc, 4, equal(\"afterBurst\", condAfterBurst, percent(datamine.passive2.critInc_)))\r\nconst afterBurstEnerRech_ = { ...afterBurstCritRate_ }\r\n\r\nconst [condAfterReactPath, condAfterReact] = cond(key, \"afterReact\")\r\nconst afterReactAtk_ = greaterEq(input.constellation, 4, equal(\"afterReact\", condAfterReact, percent(datamine.constellation4.atkInc)))\r\n\r\nconst [condC6StackPath, condC6Stack] = cond(key, \"c6Stack\")\r\nconst c6Electro_dmg_ = greaterEq(input.constellation, 6,\r\n  prod(\r\n    lookup(condC6Stack, objectKeyMap(range(1, 4), i => constant(i)), constant(0)),\r\n    datamine.constellation6.electroInc\r\n  )\r\n)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  infusion: afterRecastInfusion,\r\n  premod: {\r\n    critRate_: afterBurstCritRate_,\r\n    enerRech_: afterBurstEnerRech_,\r\n    atk_: afterReactAtk_,\r\n    electro_dmg_: c6Electro_dmg_,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i],\r\n              { key: `char_${key}_gen:auto.skillParams.${i + (i < 4 ? 0 : -1)}` }\r\n            ),\r\n            textSuffix: i === 3 ? \"(1)\" : i === 4 ? \"(2)\" : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(1)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(2)\"\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.stiletto, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.slash, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.thunderclap, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }], { // Recast (A1)\r\n        value: condAfterRecast,\r\n        path: condAfterRecastPath,\r\n        name: trm(\"recast\"),\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        header: conditionalHeader(\"passive1\", tr, passive1),\r\n        states: {\r\n          afterRecast: {\r\n            fields: [{\r\n              canShow: data => data.get(afterRecastInfusion).value === elementKey,\r\n              text: <ColorText color=\"electro\">{st(\"infusion.electro\")}</ColorText>\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.initial, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.slash, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        textSuffix: st(\"brHits\", { count: 8 })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.final, { key: `char_${key}_gen:burst.skillParams.2` })\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.cost,\r\n      }], { // Cast (A4)\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: st(\"afterUse.burst\"),\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        header: conditionalHeader(\"passive2\", tr, passive2),\r\n        states: {\r\n          afterBurst: {\r\n            fields: [{\r\n              node: afterBurstCritRate_\r\n            }, {\r\n              node: afterBurstEnerRech_\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [{\r\n        node: infoMut(dmgFormulas.constellation1.dmg, { key: `char_${key}:c1DMG` })\r\n      }]),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condAfterReact,\r\n        path: condAfterReactPath,\r\n        name: trm(\"electroReact\"),\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        states: {\r\n          afterReact: {\r\n            fields: [{\r\n              node: afterReactAtk_\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6Stack,\r\n        path: condC6StackPath,\r\n        name: trm(\"effectTriggers\"),\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        states: objectKeyMap(range(1, 4), i => ({\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [{\r\n            node: c6Electro_dmg_\r\n          }]\r\n        }))\r\n      }),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Klee\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst regionKey: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    jumptyDumptyDmg1: skillParam_gen.skill[s++],\r\n    jumptyDumptyDmg2: skillParam_gen.skill[s++],\r\n    jumptyDumptyDmg3: skillParam_gen.skill[s++],\r\n    mineDmg: skillParam_gen.skill[s++],\r\n    mineDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    unknown: skillParam_gen.burst[b++], // what is this??\r\n    duration: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    charged_dmg_: 0.5\r\n  },\r\n  constellation1: {\r\n    dmg_: 1.2\r\n  },\r\n  constellation2: {\r\n    enemyDefRed_: 0.23\r\n  },\r\n  constellation4: {\r\n    dmg: 5.55\r\n  },\r\n  constellation6: {\r\n    pyro_dmg_: 0.1\r\n  }\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"PoundingSurprise\")\r\nconst charged_dmg_ = equal(\"on\", condA1, greaterEq(input.asc, 1, percent(datamine.passive1.charged_dmg_)))\r\n\r\nconst [condC2Path, condC2] = cond(key, \"ExplosiveFrags\")\r\nconst enemyDefRed_ = equal(\"on\", condC2, greaterEq(input.constellation, 2, percent(datamine.constellation2.enemyDefRed_)))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"BlazingDelight\")\r\nconst pyro_dmg_ = equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.pyro_dmg_)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    jumptyDumptyDmg: dmgNode(\"atk\", datamine.skill.jumptyDumptyDmg1, \"skill\"),\r\n    mineDmg: dmgNode(\"atk\", datamine.skill.mineDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  constellation1: {\r\n    chainedReactionsDmg: greaterEq(input.constellation, 1, prod(percent(datamine.constellation1.dmg_), dmgNode(\"atk\", datamine.burst.dmg, \"burst\")))\r\n  },\r\n  constellation4: {\r\n    sparklyExplosionDmg: greaterEq(input.constellation, 4, customDmgNode(prod(percent(datamine.constellation4.dmg), input.total.atk), \"elemental\", { hit: { ele: constant('pyro') } }))\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, regionKey, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    charged_dmg_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      pyro_dmg_,\r\n      enemyDefRed_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.3` })\r\n            }, {\r\n              text: tr(\"auto.skillParams.4\"),\r\n              value: datamine.charged.stamina\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" })\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" })\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" })\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.jumptyDumptyDmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.mineDmg, { key: `char_${key}_gen:skill.skillParams.1` })\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: `${datamine.skill.mineDuration}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: `${datamine.skill.cd}`,\r\n        unit: \"s\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: `${datamine.burst.duration}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: `${datamine.burst.cd}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: `${datamine.burst.enerCost}`\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        name: trm(\"a1CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: charged_dmg_\r\n            }, {\r\n              text: trm(\"a1CondName2\")\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [{\r\n        node: infoMut(dmgFormulas.constellation1.chainedReactionsDmg, { key: `sheet:dmg` }),\r\n      }]),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        teamBuff: true,\r\n        name: trm(\"c2CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: enemyDefRed_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: 10,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, [{\r\n        node: infoMut(dmgFormulas.constellation4.sparklyExplosionDmg, { key: `sheet:dmg` })\r\n      }]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        teamBuff: true,\r\n        name: trm(\"c6CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: pyro_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: 25,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"KujouSara\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    fullyAimed: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    atkBonus: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    titanBreakerDmg: skillParam_gen.burst[b++],\r\n    stormClusterDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    energyGen: skillParam_gen.passive2[p2++][0],\r\n    er: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation2: {\r\n    crowfeatherDmg: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    atkInc: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst [condSkillTenguAmbushPath, condSkillTenguAmbush] = cond(key, \"TenguJuuraiAmbush\")\r\nconst atkIncRatio = subscript(input.total.skillIndex, datamine.skill.atkBonus.map(x => x), { key: '_' })\r\nconst skillTenguAmbush_disp = equal(\"TenguJuuraiAmbush\", condSkillTenguAmbush,\r\n  prod(input.base.atk, atkIncRatio)\r\n)\r\nconst skillTenguAmbush_ = equal(input.activeCharKey, target.charKey, skillTenguAmbush_disp)\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6ElectroCritDmg_ = equal(\"c6\", condC6, percent(datamine.constellation6.atkInc))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    fullyAimed: dmgNode(\"atk\", datamine.charged.fullyAimed, \"charged\", { hit: { ele: constant('electro') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    skillTenguAmbush_\r\n  },\r\n  burst: {\r\n    titanbreaker: dmgNode(\"atk\", datamine.burst.titanBreakerDmg, \"burst\"),\r\n    stormcluster: dmgNode(\"atk\", datamine.burst.stormClusterDmg, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, prod(dmgNode(\"atk\", datamine.skill.dmg, \"skill\"), percent(datamine.constellation2.crowfeatherDmg))),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"electro\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_critDMG_: c6ElectroCritDmg_\r\n    },\r\n    total: {\r\n      atk: skillTenguAmbush_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"electro\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.fullyAimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }]),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: `${datamine.skill.duration}s`,\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: `${datamine.skill.cd}s`,\r\n      }], {\r\n        value: condSkillTenguAmbush,\r\n        path: condSkillTenguAmbushPath,\r\n        name: trm(\"skill.ambush\"),\r\n        teamBuff: true,\r\n        states: {\r\n          TenguJuuraiAmbush: {\r\n            fields: [{\r\n              text: tr(\"skill.skillParams.1\"),\r\n              value: data => data.get(atkIncRatio).value * 100,\r\n              unit: \"%\",\r\n            }, {\r\n              node: infoMut(skillTenguAmbush_disp, { key: `sheet:increase.atk` })\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.titanbreaker, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.stormcluster, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: `${datamine.burst.cd}s`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        canShow: data => data.get(input.asc).value >= 4,\r\n        text: trm(\"a4.enerRest\"),\r\n        value: data => data.get(input.total.enerRech_).value * datamine.passive2.energyGen\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"c6.electroCritDmg\"),\r\n        states: {\r\n          c6: {\r\n            fields: [{\r\n              node: c6ElectroCritDmg_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, sprint, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Mona\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, sp = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dot: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    bubbleDuration: skillParam_gen.burst[b++][0],\r\n    dmg: skillParam_gen.burst[b++],\r\n    dmgBonusNeg: skillParam_gen.burst[b++],\r\n    omenDuration: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    dmgBonus: skillParam_gen.burst[b++],\r\n  },\r\n  sprint: {\r\n    active_stam: skillParam_gen.sprint[sp++][0],\r\n    drain_stam: skillParam_gen.sprint[sp++][0],\r\n  },\r\n  passive1: {\r\n    torrentDuration: skillParam_gen.passive1[p1++][0],\r\n    phantomDuration: skillParam_gen.passive1[p1++][0],\r\n    percentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    unknown: skillParam_gen.passive2[p2++][0], // what is this?\r\n    percentage: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    electroChargeDmgInc: skillParam_gen.constellation1[0],\r\n    vaporizeDmgInc: skillParam_gen.constellation1[1],\r\n    hydroSwirlDmgInc: skillParam_gen.constellation1[2],\r\n    frozenExtension: skillParam_gen.constellation1[3],\r\n    unknown: skillParam_gen.constellation1[4], // what is this?\r\n    duration: skillParam_gen.constellation1[5],\r\n  },\r\n  constellation4: {\r\n    critRateIncNeg: Math.abs(skillParam_gen.constellation4[0]), // why do they even keep this as a negative??\r\n  },\r\n  constellation6: {\r\n    unknown: skillParam_gen.constellation6[0], // what is this?\r\n    dmgBonus: skillParam_gen.constellation6[1],\r\n    maxDmgBonus: skillParam_gen.constellation6[2],\r\n    duration: skillParam_gen.constellation6[3],\r\n  }\r\n} as const\r\n\r\nconst hydro_dmg_ = greaterEq(input.asc, 4, prod(input.premod.enerRech_, percent(datamine.passive2.percentage)))\r\n\r\nconst [condOmenPath, condOmen] = cond(key, \"Omen\")\r\nconst all_dmg_ = equal(\"on\", condOmen, subscript(input.total.burstIndex, datamine.burst.dmgBonus, { key: \"_\" }))\r\n\r\nconst [condPoSPath, condPoS] = cond(key, \"ProphecyOfSubmersion\")\r\nconst electrocharged_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.electroChargeDmgInc)))\r\nconst swirl_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.hydroSwirlDmgInc)))\r\nconst vaporize_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.vaporizeDmgInc)))\r\n\r\nconst [condPoOPath, condPoO] = cond(key, \"ProphecyOfOblivion\")\r\nconst critRate_ = greaterEq(input.constellation, 4, equal(\"on\", condPoO, percent(datamine.constellation4.critRateIncNeg)))\r\n\r\nconst [condRoCPath, condRoC] = cond(key, \"RhetoricsOfCalamitas\")\r\nconst charged_dmg_ = greaterEq(input.constellation, 6, lookup(condRoC, objectKeyMap(range(1, 3), i => percent(i * datamine.constellation6.dmgBonus)), 0))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dot: dmgNode(\"atk\", datamine.skill.dot, \"skill\"),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\")\r\n  },\r\n  passive1: {\r\n    dmg: prod(dmgNode(\"atk\", datamine.skill.dmg, \"skill\"), percent(datamine.passive1.percentage))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    charged_dmg_,\r\n    hydro_dmg_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      all_dmg_,\r\n      electrocharged_dmg_,\r\n      swirl_dmg_,\r\n      vaporize_dmg_,\r\n      critRate_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` })\r\n          }, {\r\n            text: tr(\"auto.skillParams.5\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dot, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        text: trm(\"bubbleDuration\"),\r\n        value: datamine.burst.bubbleDuration,\r\n        unit: \"s\",\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condOmen,\r\n        path: condOmenPath,\r\n        teamBuff: true,\r\n        name: trm(\"omen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: all_dmg_,\r\n            }, {\r\n              text: trm(\"omenDuration\"),\r\n              value: (data) => datamine.burst.omenDuration[data.get(input.total.burstIndex).value],\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      sprint: talentTemplate(\"sprint\", tr, sprint, [{\r\n        text: \"Activation Stamina Consumption\",\r\n        value: datamine.sprint.active_stam,\r\n      }, {\r\n        text: \"Stamina Drain\",\r\n        value: datamine.sprint.drain_stam,\r\n        unit: \"/s\",\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        canShow: data => data.get(input.asc).value >= 1,\r\n        node: infoMut(dmgFormulas.passive1.dmg, { key: `char_${key}_gen:skill.skillParams.1` })\r\n      }, {\r\n        canShow: data => data.get(input.asc).value >= 1,\r\n        text: trm(\"phantomDuration\"),\r\n        value: datamine.passive1.phantomDuration,\r\n        unit: \"s\"\r\n      }]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        node: hydro_dmg_\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condPoS,\r\n        path: condPoSPath,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        name: trm(\"hitOp.affectedByOmen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: electrocharged_dmg_,\r\n            }, {\r\n              node: swirl_dmg_,\r\n            }, {\r\n              node: vaporize_dmg_,\r\n            }, {\r\n              text: trm(\"frozenDuration\"),\r\n              value: datamine.constellation1.frozenExtension * 100, // Convert to percentage\r\n              unit: \"%\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condPoO,\r\n        path: condPoOPath,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        name: trm(\"hitOp.affectedByOmen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRate_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condRoC,\r\n        path: condRoCPath,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"uponSprint\"),\r\n        states: Object.fromEntries(range(1, 3).map(i => [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [\r\n            { node: charged_dmg_ },\r\n            {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: 's'\r\n            }]\r\n        }]))\r\n      })\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Ningguang\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    jadeDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    screenHpMod: skillParam_gen.skill[s++], // 100% + skillParam_gen.skill[s++] * 100\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    screenHp: skillParam_gen.skill[s++], //screenHp * 100%\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmgPerGem: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: { \r\n    //Nothing\r\n  },\r\n  passive2: {\r\n    geoDmgBonus_ : skillParam_gen.passive2[p1++][0],\r\n    duration: skillParam_gen.passive2[p1++][0],\r\n  },\r\n  passive3: {\r\n    //Nothing\r\n  },\r\n  constellation1: {\r\n    //Nothing\r\n  },\r\n  constellation2: {\r\n    //Nothing\r\n  },\r\n  constellation4: {\r\n    //Nothing\r\n  },\r\n  constellation6: {\r\n    //Nothing\r\n  },\r\n} as const\r\n\r\nconst [condA4Path, condA4] = cond(key, \"Ascension4\") //12% Geo DMG bonus after passing through the Jade Screen\r\nconst [condC4Path, condC4] = cond(key, \"Constellation4\")\r\n\r\nconst nodeA4GeoDmgBonus_ = equal(condA4, \"on\", percent(datamine.passive2.geoDmgBonus_), { key: `char_${key}:a4bonus_` })\r\n\r\nconst nodeC4CryoResBonus_ = equal(condC4, \"on\", percent(0.10))\r\nconst nodeC4GeoResBonus_ = equal(condC4, \"on\", percent(0.10))\r\nconst nodeC4PyroResBonus_ = equal(condC4, \"on\", percent(0.10))\r\nconst nodeC4AnemoResBonus_ = equal(condC4, \"on\", percent(0.10))\r\nconst nodeC4HydroResBonus_ = equal(condC4, \"on\", percent(0.10))\r\nconst nodeC4ElecResBonus_ = equal(condC4, \"on\", percent(0.10))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    baseDmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n    jadeDmg: dmgNode(\"atk\", datamine.charged.jadeDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    screenHp: prod(subscript(input.total.skillIndex, datamine.skill.screenHp, { key: '_' }), input.total.hp),\r\n    dmg: dmgNode(\"atk\", datamine.skill.skillDmg, \"skill\"),    \r\n  },\r\n  burst: {\r\n    gemDmg: dmgNode(\"atk\", datamine.burst.dmgPerGem, \"burst\"),\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  }, teamBuff: {\r\n    premod: {\r\n      geo_dmg_  :nodeA4GeoDmgBonus_,\r\n      geo_res_  :nodeC4GeoResBonus_,\r\n      cryo_res_ :nodeC4CryoResBonus_,\r\n      pyro_res_ :nodeC4PyroResBonus_,\r\n      anemo_res_:nodeC4AnemoResBonus_,\r\n      hydro_res_:nodeC4HydroResBonus_,\r\n      electro_res_ :nodeC4ElecResBonus_,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: [\r\n            { node: infoMut(dmgFormulas.normal[0], { key: `char_${key}_gen:auto.skillParams.0` }) } ,\r\n            {\r\n              canShow: data => data.get(input.constellation).value >= 1,\r\n              text: trm(\"aoeGems\"),\r\n            }]\r\n        },\r\n        {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.baseDmg, { key: `char_${key}_gen:auto.skillParams.1` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.jadeDmg, { key: `char_${key}_gen:auto.skillParams.2` }),\r\n          }, {\r\n            canShow: data => data.get(input.asc).value < 1,\r\n            text: tr(\"auto.skillParams.3\"),\r\n            value: datamine.charged.stamina,\r\n          }, {\r\n            canShow: data => data.get(input.asc).value >= 1,\r\n            text: tr(\"auto.skillParams.3\"),\r\n            value: trm(\"starJadeStaminaCost\"),\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }\r\n        ],\r\n      },\r\n      skill: { // Cannot use talentTemplate because this has multiple conditionals.\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [\r\n            { node: infoMut(dmgFormulas.skill.screenHp, { key: `char_${key}_gen:skill.skillParams.0` }), }, \r\n            { node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }), }, \r\n            {\r\n              text: tr(\"skill.skillParams.2\"),\r\n              value: datamine.burst.cd,\r\n              unit: \"s\"\r\n            } ,\r\n            {\r\n              canShow: data => data.get(input.constellation).value >= 2,\r\n              text: trm(\"skillReset\"),\r\n            }\r\n          ],\r\n        }, {\r\n          conditional: {\r\n            teamBuff: true,\r\n            value: condA4,\r\n            path: condA4Path,\r\n            name: trm(\"a4toggle\"),\r\n            canShow: greaterEq(input.asc, 4, 1),\r\n            header: conditionalHeader(\"passive2\", tr, passive2), description: tr(`passive2.description`),\r\n            states: {\r\n              on: {\r\n                fields: [{\r\n                  node: nodeA4GeoDmgBonus_\r\n                }, {\r\n                  text: trm(\"a4duration\"),\r\n                  value: datamine.passive2.duration,\r\n                  unit: \"s\"\r\n                }]\r\n              }\r\n            }\r\n          } \r\n        }, {\r\n          conditional: {\r\n            teamBuff: true,\r\n            value: condC4,\r\n            path: condC4Path,\r\n            name: trm(\"c4toggle\"),\r\n            canShow: greaterEq(input.constellation, 4, 1),\r\n            header: conditionalHeader(\"constellation4\", tr, c4), description: tr(`constellation4.description`),\r\n            states: {\r\n              on: {\r\n                fields: [\r\n                  { node:nodeC4CryoResBonus_ },\r\n                  { node:nodeC4GeoResBonus_ } ,\r\n                  { node:nodeC4PyroResBonus_ } ,\r\n                  { node:nodeC4AnemoResBonus_ } ,\r\n                  { node:nodeC4HydroResBonus_ } ,\r\n                  { node:nodeC4ElecResBonus_ } ,\r\n                ]\r\n              }\r\n            }\r\n          }\r\n        }]\r\n      },\r\n      burst: talentTemplate(\"burst\", tr, burst, [\r\n        { node: infoMut(dmgFormulas.burst.gemDmg, { key: `char_${key}_gen:burst.skillParams.0` }), },\r\n        {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.enerCost,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 6,\r\n          text: trm(\"c6bonus\"),\r\n          value: 7,\r\n        }\r\n      ],\r\n      ),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data);","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode, healNodeTalent, shieldNode, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Noelle\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shieldDef: skillParam_gen.skill[s++],\r\n    healDef: skillParam_gen.skill[s++],\r\n    healChance: skillParam_gen.skill[s++],\r\n    shieldDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    shieldFlat: skillParam_gen.skill[s++],\r\n    healFlat: skillParam_gen.skill[s++],\r\n  },\r\n  burst: {\r\n    burstDmg: skillParam_gen.burst[b++],\r\n    skillDmg: skillParam_gen.burst[b++],\r\n    defToAtk: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: { // Devotion Shield\r\n    hpThreshold: skillParam_gen.passive1[p1++][0],\r\n    shield: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n    cooldown: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  constellation1: {\r\n    healingChance: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    chargeStamina: skillParam_gen.constellation2[0],\r\n    chargeDmg_: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    skillDmg: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    burstAtkBonus: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"SweepingTime\")\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"geo\")\r\nconst nodeBurstAtk = equal(\"on\", condBurst, prod(\r\n  input.total.def,\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.defToAtk, { key: \"_\" }),\r\n    greaterEq(input.constellation, 6, percent(datamine.constellation6.burstAtkBonus))\r\n  )\r\n))\r\n\r\nconst nodeSkillHealChanceBase = subscript(input.total.skillIndex, datamine.skill.healChance, { key: `char_${key}:skillHeal_` })\r\nconst nodeSkillHealChanceC1BurstOn = equal(\"on\", condBurst, percent(datamine.constellation1.healingChance), { key: `char_${key}:skillHeal_` })\r\nconst nodeSkillHealChanceC1BurstOff = unequal(\"on\", condBurst, nodeSkillHealChanceBase)\r\n\r\nconst nodeC2ChargeDMG = greaterEq(input.constellation, 2, percent(datamine.constellation2.chargeDmg_))\r\nconst nodeC4dmg = customDmgNode(prod(input.total.atk, percent(datamine.constellation4.skillDmg)), \"elemental\", { hit: { ele: constant(elementKey) } })\r\n\r\nconst geoShieldStrength = { \"customBonus\": { \"shield_\": percent(0.5) } }\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"def\", datamine.skill.skillDmg, \"skill\"),\r\n    shield: shieldNodeTalent(\"def\", datamine.skill.shieldDef, datamine.skill.shieldFlat, \"skill\", geoShieldStrength),\r\n    heal: healNodeTalent(\"def\", datamine.skill.healDef, datamine.skill.healFlat, \"skill\"),\r\n  },\r\n  burst: {\r\n    defConv: nodeBurstAtk,\r\n    burstDmg: dmgNode(\"atk\", datamine.burst.burstDmg, \"burst\"),\r\n    skillDmg: dmgNode(\"atk\", datamine.burst.skillDmg, \"burst\"),\r\n  },\r\n  passive1: {\r\n    devotionShield: shieldNode(\"def\", percent(datamine.passive1.shield), 0, geoShieldStrength)\r\n  },\r\n  constellation4: {\r\n    dmg: nodeC4dmg\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    charged_dmg_: nodeC2ChargeDMG,\r\n    atk: nodeBurstAtk,\r\n  },\r\n  infusion: nodeBurstInfusion\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"geo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        },\r\n        {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n            unit: '/s'\r\n          }, {\r\n            text: tr(\"auto.skillParams.7\"),\r\n            value: datamine.charged.duration,\r\n            unit: 's'\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [\r\n        {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.heal, { key: `char_${key}_gen:skill.skillParams.2`, variant: \"success\" }),\r\n        }, { //Heal trigger chance\r\n          canShow: data => data.get(input.constellation).value === 0,\r\n          node: nodeSkillHealChanceBase,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 1,\r\n          node: nodeSkillHealChanceC1BurstOff,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 1,\r\n          node: nodeSkillHealChanceC1BurstOn,\r\n        }, { //Shield Duration\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.skill.shieldDuration,\r\n          unit: \"s\"\r\n        }, { //Cooldown\r\n          canShow: data => data.get(input.asc).value < 4,\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.asc).value >= 4,\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: trm(`p4cd`),\r\n        }\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [\r\n        { node: infoMut(dmgFormulas.burst.burstDmg, { key: `char_${key}_gen:burst.skillParams.0` }), },\r\n        { node: infoMut(dmgFormulas.burst.skillDmg, { key: `char_${key}_gen:burst.skillParams.1` }), },\r\n        {\r\n          canShow: data => data.get(input.constellation).value < 6,\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 6,\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: trm(`c6duration`),\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }\r\n      ], {\r\n        name: tr(\"burst.name\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"infusion.geo\"),\r\n              variant: \"geo\",\r\n            }, {\r\n              text: trm(\"qlarger\")\r\n            }, {\r\n              node: nodeBurstAtk\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [\r\n        {\r\n          canShow: data => data.get(input.asc).value >= 1,\r\n          node: infoMut(dmgFormulas.passive1.devotionShield, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          canShow: data => data.get(input.asc).value >= 1,\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.passive1.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.asc).value >= 1,\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.passive1.cooldown,\r\n          unit: \"s\"\r\n        }\r\n      ]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{\r\n        canShow: data => data.get(input.constellation).value >= 2,\r\n        node: nodeC2ChargeDMG\r\n      }, {\r\n        canShow: data => data.get(input.constellation).value >= 2,\r\n        text: trm(\"c2Stam\"),\r\n        value: datamine.constellation2.chargeStamina * 100,\r\n        unit: \"%\"\r\n      }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, [{\r\n        canShow: data => data.get(input.constellation).value >= 4,\r\n        node: infoMut(nodeC4dmg, { key: `char_${key}:c4dmg` })\r\n      }]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"RaidenShogun\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    coorDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    burstDmg_bonus: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    resolveBonus1: skillParam_gen.burst[b++],\r\n    resolveBonus2: skillParam_gen.burst[b++],\r\n    resolveGained: skillParam_gen.burst[b++],\r\n    hit1: skillParam_gen.burst[b++],\r\n    hit2: skillParam_gen.burst[b++],\r\n    hit3: skillParam_gen.burst[b++],\r\n    hit41: skillParam_gen.burst[b++],\r\n    hit42: skillParam_gen.burst[b++],\r\n    hit5: skillParam_gen.burst[b++],\r\n    charged1: skillParam_gen.burst[b++],\r\n    charged2: skillParam_gen.burst[b++],\r\n    stam: skillParam_gen.burst[b++][0],\r\n    plunge: skillParam_gen.burst[b++],\r\n    plungeLow: skillParam_gen.burst[b++],\r\n    plungeHigh: skillParam_gen.burst[b++],\r\n    enerGen: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    er: skillParam_gen.passive2[p2++][0],\r\n    energyGen: skillParam_gen.passive2[p2++][0],\r\n    electroDmg_bonus: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    def_ignore: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    atk_bonus: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n} as const\r\n\r\nconst [condSkillEyePath, condSkillEye] = cond(key, \"skillEye\")\r\nconst skillEye_ = equal(\"skillEye\", condSkillEye,\r\n  prod(datamine.burst.enerCost, subscript(input.total.skillIndex, datamine.skill.burstDmg_bonus.map(x => x), { key: '_' })))\r\n\r\nfunction skillDmg(atkType: number[]) {\r\n  // if Raiden is above or equal to C2, then account for DEF Ignore else not\r\n  return dmgNode('atk', atkType, 'skill', {\r\n    enemy: { defIgn: greaterEq(input.constellation, 2, datamine.constellation2.def_ignore) }\r\n  })\r\n}\r\n\r\nconst energyCosts = [40, 50, 60, 70, 80, 90]\r\nconst [condSkillEyeTeamPath, condSkillEyeTeam] = cond(key, \"skillEyeTeam\")\r\nconst skillEyeTeamBurstDmgInc = unequal(input.activeCharKey, input.charKey,\r\n  prod(lookup(condSkillEyeTeam, objectKeyMap(energyCosts, i => constant(i)), 0),\r\n    subscript(input.total.skillIndex, datamine.skill.burstDmg_bonus, { key: '_' })))\r\n\r\nconst resolveStacks = [10, 20, 30, 40, 50, 60]\r\nconst [condResolveStackPath, condResolveStack] = cond(key, \"burstResolve\")\r\n\r\nfunction burstResolve(atkType: number[], initial = false) {\r\n  let resolveBonus = initial ? datamine.burst.resolveBonus1 : datamine.burst.resolveBonus2\r\n\r\n  return customDmgNode(prod(sum(subscript(input.total.burstIndex, atkType, { key: '_' }),\r\n    prod(subscript(input.total.burstIndex, resolveBonus.map(x => x), { key: '_' }),\r\n      lookup(condResolveStack, objectKeyMap(resolveStacks, i => constant(i)), 0))), input.total.atk), 'burst', {\r\n    hit: {\r\n      ele: constant('electro')\r\n    }, enemy: {\r\n      // if Raiden is above or equal to C2, then account for DEF Ignore else not\r\n      defIgn: greaterEq(input.constellation, 2, datamine.constellation2.def_ignore)\r\n    }\r\n  })\r\n}\r\n\r\nconst passive2ElecDmgBonus = greaterEq(input.asc, 4, prod(sum(input.premod.enerRech_, percent(-1)), (datamine.passive2.electroDmg_bonus * 100)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4AtkBonus_ = greaterEq(input.constellation, 4,\r\n  equal(\"c4\", condC4, unequal(input.activeCharKey, input.charKey, datamine.constellation4.atk_bonus))\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: skillDmg(datamine.skill.skillDmg),\r\n    coorDmg: skillDmg(datamine.skill.coorDmg),\r\n    skillEye_\r\n  },\r\n  burst: {\r\n    dmg: burstResolve(datamine.burst.dmg, true),\r\n    hit1: burstResolve(datamine.burst.hit1),\r\n    hit2: burstResolve(datamine.burst.hit2),\r\n    hit3: burstResolve(datamine.burst.hit3),\r\n    hit41: burstResolve(datamine.burst.hit41),\r\n    hit42: burstResolve(datamine.burst.hit42),\r\n    hit5: burstResolve(datamine.burst.hit5),\r\n    charged1: burstResolve(datamine.burst.charged1),\r\n    charged2: burstResolve(datamine.burst.charged2),\r\n    plunge: burstResolve(datamine.burst.plunge),\r\n    plungeLow: burstResolve(datamine.burst.plungeLow),\r\n    plungeHigh: burstResolve(datamine.burst.plungeHigh),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"electro\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    burst_dmg_: skillEye_,\r\n    electro_dmg_: passive2ElecDmgBonus,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: c4AtkBonus_,\r\n      burst_dmg_: skillEyeTeamBurstDmgInc\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"electro\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 4 ? 0 : -1)}` }),\r\n              textSuffix: i === 3 ? \"(1)\" : i === 4 ? \"(2)\" : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.6\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: { // Cannot use talentTemplate because this has multiple sections.\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.coorDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.2\"),\r\n            value: `${datamine.skill.duration}s`,\r\n          }, {\r\n            text: tr(\"skill.skillParams.4\"),\r\n            value: `${datamine.skill.cd}s`,\r\n          }],\r\n          conditional: {\r\n            value: condSkillEye,\r\n            path: condSkillEyePath,\r\n            name: trm(\"skill.eye\"),\r\n            header: conditionalHeader(\"skill\", tr, skill),\r\n            states: {\r\n              skillEye: {\r\n                fields: [{\r\n                  node: skillEye_\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }, {\r\n          conditional: {\r\n            value: condSkillEyeTeam,\r\n            path: condSkillEyeTeamPath,\r\n            description: tr(\"skill.description\"),\r\n            teamBuff: true,\r\n            canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n            name: trm(\"skill.partyCost\"),\r\n            header: conditionalHeader(\"skill\", tr, skill),\r\n            states: Object.fromEntries(energyCosts.map(c => [c, {\r\n              name: `${c}`,\r\n              fields: [{\r\n                node: skillEyeTeamBurstDmgInc,\r\n              }]\r\n            }]))\r\n          }\r\n        }]\r\n      },\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit1, { key: `char_${key}_gen:burst.skillParams.3` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit2, { key: `char_${key}_gen:burst.skillParams.4` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit3, { key: `char_${key}_gen:burst.skillParams.5` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit41, { key: `char_${key}_gen:burst.skillParams.6` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit42, { key: `char_${key}_gen:burst.skillParams.6` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit5, { key: `char_${key}_gen:burst.skillParams.7` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.charged1, { key: `char_${key}_gen:burst.skillParams.8` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.charged2, { key: `char_${key}_gen:burst.skillParams.8` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.9\"),\r\n        value: `${datamine.burst.stam}`,\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.plunge, { key: `char_${key}_gen:burst.skillParams.10` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.plungeLow, { key: `char_${key}_gen:burst.skillParams.11` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.plungeHigh, { key: `char_${key}_gen:burst.skillParams.11` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.12\"),\r\n        value: (data) => `${datamine.burst.enerGen[data.get(input.total.burstIndex).value]}`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.13\"),\r\n        value: `${datamine.burst.duration}s`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.14\"),\r\n        value: `${datamine.burst.cd}s`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.15\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }], {\r\n        value: condResolveStack,\r\n        path: condResolveStackPath,\r\n        name: trm(\"burst.resolves\"),\r\n        states: Object.fromEntries(resolveStacks.map(c => [c, {\r\n          name: `${c}`,\r\n          fields: []\r\n        }]))\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        canShow: data => data.get(input.asc).value >= 4,\r\n        text: trm(\"a4.enerRest\"),\r\n        value: (data) => {\r\n          return (data.get(input.total.enerRech_).value * 100 - 100) * (datamine.passive2.energyGen * 100)\r\n        },\r\n        unit: \"%\"\r\n      }, {\r\n          node: passive2ElecDmgBonus,\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, unequal(input.activeCharKey, input.charKey, 1)),\r\n        name: trm(\"c4.expires\"),\r\n        states: {\r\n          c4: {\r\n            fields: [{\r\n              node: c4AtkBonus_,\r\n            }, {\r\n              text: tr(\"skill.skillParams.2\"),\r\n              value: `${datamine.constellation4.duration}s`\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Razor\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst regionKey: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++]\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0]\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++]\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    erBonus: skillParam_gen.skill[s++][0],\r\n    enerRegen: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    pressCd: skillParam_gen.skill[s++][0],\r\n    holdCd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    companionDmg: skillParam_gen.burst[b++],\r\n    atkSpdBonus: skillParam_gen.burst[b++],\r\n    electroResBonus: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    cdRed: 0.18\r\n  },\r\n  passive2: {\r\n    enerThreshold: 0.5,\r\n    erInc: 0.3\r\n  },\r\n  passive3: {\r\n    sprintStaminaDec: 0.2\r\n  },\r\n  constellation1: {\r\n    allDmgInc: 0.1,\r\n    duration: 8\r\n  },\r\n  constellation2: {\r\n    hpThreshold: 0.3,\r\n    critRateInc: 0.1\r\n  },\r\n  constellation4: {\r\n    defDec: 0.15,\r\n    duration: 7\r\n  },\r\n  constellation6: {\r\n    dmg: 1,\r\n    electroSigilGenerated: 1,\r\n    cd: 10\r\n  }\r\n} as const\r\n\r\nconst [condElectroSigilPath, condElectroSigil] = cond(key, \"ElectroSigil\")\r\nconst [condTheWolfWithinPath, condTheWolfWithin] = cond(key, \"TheWolfWithin\")\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst [condC1Path, condC1] = cond(key, \"C1\")\r\nconst [condC2Path, condC2] = cond(key, \"C2\")\r\nconst [condC4Path, condC4] = cond(key, \"C4\")\r\n\r\nconst enerRechElectroSigil_ = lookup(condElectroSigil, objectKeyMap(range(1, 3), i => prod(i, percent(datamine.skill.erBonus))),\r\n  naught, { key: \"enerRech_\" })\r\nconst electro_res_ = equal(\"on\", condTheWolfWithin, percent(datamine.burst.electroResBonus))\r\nconst atkSPD_ = equal(\"on\", condTheWolfWithin, subscript(input.total.burstIndex, datamine.burst.atkSpdBonus, { key: \"_\" }))\r\nconst enerRechA4_ = greaterEq(input.asc, 4, equal(\"on\", condA4, percent(datamine.passive2.erInc, { key: \"enerRech_\" })))\r\nconst all_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condC1, percent(datamine.constellation1.allDmgInc)))\r\nconst critRate_ = greaterEq(input.constellation, 2, equal(\"on\", condC2, percent(datamine.constellation2.critRateInc)))\r\nconst enemyDefRed_ = greaterEq(input.constellation, 4, equal(\"on\", condC4, percent(datamine.constellation4.defDec)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    companionDmg1: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[0]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    companionDmg2: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[1]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    companionDmg3: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[2]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    companionDmg4: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[3]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    // TODO: this is for the additional section to calculate the full burst dmg where the full burst dmg = sum of normal dmg and burst companion dmg\r\n    // However, the final dmg then defaults to Electro text color which is sort of incorrect?\r\n    // Is there a way to disable the electro text color and default it to just normal color instead?\r\n    fullBurstDmg1: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[0]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[0]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\")),\r\n    fullBurstDmg2: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[1]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[1]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\")),\r\n    fullBurstDmg3: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[2]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[2]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\")),\r\n    fullBurstDmg4: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[3]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[3]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"))\r\n  },\r\n  constellation6: {\r\n    dmg: greaterEq(input.constellation, 6, customDmgNode(prod(percent(datamine.constellation6.dmg), input.total.atk), \"elemental\",\r\n      { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, regionKey, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    enerRech_: sum(enerRechElectroSigil_, enerRechA4_),\r\n    electro_res_,\r\n    atkSPD_,\r\n    all_dmg_,\r\n    critRate_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      enemyDefRed_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.6\"),\r\n              value: datamine.charged.stamina,\r\n              unit: '/s'\r\n            }, {\r\n              text: tr(\"auto.skillParams.7\"),\r\n              value: datamine.charged.duration,\r\n              unit: 's'\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.5\"),\r\n        value: (data) => data.get(input.asc).value >= 1 ? datamine.skill.pressCd - (datamine.skill.pressCd * datamine.passive1.cdRed) :\r\n          datamine.skill.pressCd,\r\n        unit: 's'\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.6\"),\r\n        value: (data) => data.get(input.asc).value >= 1 ? datamine.skill.holdCd - (datamine.skill.holdCd * datamine.passive1.cdRed) :\r\n          datamine.skill.holdCd,\r\n        unit: 's'\r\n      }], { // Electro Sigil\r\n        value: condElectroSigil,\r\n        path: condElectroSigilPath,\r\n        name: trm(\"electroSigil\"),\r\n        header: conditionalHeader(\"skill\", tr, skill),\r\n        states: {\r\n          ...objectKeyMap(range(1, 3), i => ({\r\n            name: st(\"stack\", { count: i }),\r\n            fields: [{\r\n              node: enerRechElectroSigil_\r\n            }, {\r\n              text: tr(\"skill.skillParams.4\"),\r\n              value: datamine.skill.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: trm(\"electroSigilAbsorbed\"),\r\n              value: datamine.skill.enerRegen * i,\r\n            }]\r\n          })),\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.companionDmg1, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        textSuffix: tr(\"auto.skillParams.0\")\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.companionDmg2, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        textSuffix: tr(\"auto.skillParams.1\")\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.companionDmg3, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        textSuffix: tr(\"auto.skillParams.2\")\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.companionDmg4, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        textSuffix: tr(\"auto.skillParams.3\")\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.duration,\r\n        unit: 's'\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.cd,\r\n        unit: 's'\r\n      }, {\r\n        text: tr(\"burst.skillParams.6\"),\r\n        value: datamine.burst.enerCost,\r\n      }], { // The Wolf Within\r\n        value: condTheWolfWithin,\r\n        path: condTheWolfWithinPath,\r\n        name: tr(\"burst.description.3\"),\r\n        header: conditionalHeader(\"burst\", tr, burst),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: electro_res_\r\n            }, {\r\n              node: atkSPD_\r\n            }, {\r\n              text: st(\"incInterRes\")\r\n            }]\r\n          }\r\n        }\r\n      }, [{\r\n        ...sectionTemplate(\"burst\", tr, burst, [{\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg1, { key: `char_${key}:fullBurstDMG.dmg1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg2, { key: `char_${key}:fullBurstDMG.dmg2` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg3, { key: `char_${key}:fullBurstDMG.dmg3` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg4, { key: `char_${key}:fullBurstDMG.dmg4` })\r\n        }], undefined, undefined, false, true),\r\n        text: trm(\"fullBurstDMG.description\"),\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        name: st(\"lessPercentEnergy\", { percent: datamine.passive2.enerThreshold * 100 }),\r\n        header: conditionalHeader(\"passive2\", tr, passive2),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: enerRechA4_\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        name: trm(\"pickUpElementalOrbParticle\"),\r\n        header: conditionalHeader(\"constellation1\", tr, c1),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: all_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        name: st(\"enemyLessPercentHP\", { percent: datamine.constellation2.hpThreshold * 100 }),\r\n        header: conditionalHeader(\"constellation2\", tr, c2),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: critRate_\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        name: trm(\"opHitWithClawAndThunder\"),\r\n        header: conditionalHeader(\"constellation4\", tr, c4),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: enemyDefRed_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, [{\r\n        canShow: (data) => data.get(input.constellation).value >= 6,\r\n        node: infoMut(dmgFormulas.constellation6.dmg, { key: \"sheet:dmg\" })\r\n      }, {\r\n        text: trm(\"electroSigilPerProc\"),\r\n        canShow: (data) => data.get(input.constellation).value >= 6,\r\n        value: datamine.constellation6.electroSigilGenerated\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 6,\r\n        text: st(\"cooldown\"),\r\n        value: datamine.constellation6.cd,\r\n        unit: \"s\"\r\n      }]),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, prod, min } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Rosaria\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0, c1i = 0, c6i = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5.1\r\n      skillParam_gen.auto[a++], // 5.2\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    hit1: skillParam_gen.skill[s++],\r\n    hit2: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    hit1: skillParam_gen.burst[b++],\r\n    hit2: skillParam_gen.burst[b++],\r\n    dotDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    crInc: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0]\r\n  },\r\n  passive2: {\r\n    crBonus: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n    maxBonus: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation1: {\r\n    atkSpdInc: skillParam_gen.constellation1[c1i++],\r\n    dmgInc: skillParam_gen.constellation1[c1i++],\r\n    duration: skillParam_gen.constellation1[c1i++],\r\n  },\r\n  constellation6: {\r\n    physShred: skillParam_gen.constellation6[c6i++],\r\n    duration: skillParam_gen.constellation6[c6i++],\r\n  },\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"RosariaA1\")\r\nconst [condA4Path, condA4] = cond(key, \"RosariaA4\")\r\nconst [condC1Path, condC1] = cond(key, \"RosariaC1\")\r\nconst [condC6Path, condC6] = cond(key, \"DilucC6\")\r\n\r\nconst nodeA1CritInc = equal(condA1, \"on\", greaterEq(input.asc, 1, datamine.passive1.crInc))\r\nconst nodeA4CritBonus = equal(condA4, \"on\", greaterEq(input.asc, 4, min(prod(datamine.passive2.crBonus, input.premod.critRate_), datamine.passive2.maxBonus)))\r\n\r\nconst nodeC1AtkSpd = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.atkSpdInc))\r\nconst nodeC1NormalInc = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.dmgInc))\r\nconst nodeC6PhysShred = equal(condC6, \"on\", greaterEq(input.constellation, 6, -datamine.constellation6.physShred))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    hit1: dmgNode(\"atk\", datamine.skill.hit1, \"skill\"),\r\n    hit2: dmgNode(\"atk\", datamine.skill.hit2, \"skill\"),\r\n  },\r\n  burst: {\r\n    hit1: dmgNode(\"atk\", datamine.burst.hit1, \"burst\"),\r\n    hit2: dmgNode(\"atk\", datamine.burst.hit2, \"burst\"),\r\n    dotDmg: dmgNode(\"atk\", datamine.burst.dotDmg, \"burst\"),\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    critRate_: nodeA1CritInc,\r\n    atkSPD_: nodeC1AtkSpd,\r\n    normal_dmg_: nodeC1NormalInc,\r\n    physical_enemyRes_: nodeC6PhysShred\r\n  },\r\n  teamBuff: {\r\n    total: {\r\n      critRate_: nodeA4CritBonus\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 5 ? 0 : -1)}` }),\r\n              textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : i === 4 ? \"(1)\" : i === 5 ? \"(2)\" : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.6\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.hit1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hit2, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: datamine.skill.cd,\r\n        unit: 's'\r\n      }]),\r\n      burst: {\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.hit1, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n            textSuffix: \"(1)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.hit2, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n            textSuffix: \"(2)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.dotDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: datamine.burst.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.4\"),\r\n            value: datamine.burst.cost,\r\n          }],\r\n          conditional: {\r\n            name: tr(\"constellation6.name\"),\r\n            header: conditionalHeader(\"constellation6\", tr, c6),\r\n            value: condC6,\r\n            path: condC6Path,\r\n            canShow: greaterEq(input.constellation, 6, 1),\r\n            states: {\r\n              on: {\r\n                fields: [{\r\n                  node: nodeC6PhysShred\r\n                }, {\r\n                  text: sgt(\"duration\"),\r\n                  value: datamine.constellation6.duration,\r\n                  unit: 's'\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }]\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        name: trm(\"a1\"),\r\n        value: condA1,\r\n        path: condA1Path,\r\n        header: conditionalHeader(\"passive1\", tr, passive1),\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA1CritInc\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        name: trm(\"a4.name\"),\r\n        value: condA4,\r\n        path: condA4Path,\r\n        teamBuff: true,\r\n        header: conditionalHeader(\"passive1\", tr, passive1),\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA4CritBonus\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: trm(\"c1\"),\r\n        header: conditionalHeader(\"constellation1\", tr, c1),\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC1NormalInc\r\n            }, {\r\n              node: nodeC1AtkSpd,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"SangonomiyaKokomi\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, c6i = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    heal_: skillParam_gen.skill[s++],\r\n    heal: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    heal_: skillParam_gen.burst[b++],\r\n    heal: skillParam_gen.burst[b++],\r\n    nBonus_: skillParam_gen.burst[b++],\r\n    cBonus_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    sBonus_: skillParam_gen.burst[b++],\r\n  },\r\n  p: {\r\n    heal_: 0.25,\r\n    critRate_: -1\r\n  },\r\n  p2: {\r\n    heal_ratio_: skillParam_gen.passive2[0][0],\r\n  },\r\n  c1: {\r\n    hp_: skillParam_gen.constellation1[0],\r\n  },\r\n  c2: {\r\n    s_heal_: skillParam_gen.constellation2[1],\r\n    nc_heal_: skillParam_gen.constellation2[2],\r\n  },\r\n  c4: {\r\n    atkSPD_: skillParam_gen.constellation4[0],\r\n    energy: skillParam_gen.constellation4[1]\r\n  },\r\n  c6: {\r\n    hp_: skillParam_gen.constellation6[c6i++],\r\n    hydro_: skillParam_gen.constellation6[c6i++],\r\n    duration: skillParam_gen.constellation6[c6i++]\r\n  },\r\n} as const\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\n\r\nconst burstNormalDmgInc = equal(condBurst, \"on\", prod(\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.nBonus_, { key: '_' }),\r\n    greaterEq(input.asc, 4, prod(percent(datamine.p2.heal_ratio_), input.premod.heal_)),\r\n  ),\r\n  input.premod.hp))\r\nconst burstChargedDmgInc = equal(condBurst, \"on\", prod(\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.cBonus_, { key: '_' }),\r\n    greaterEq(input.asc, 4, prod(percent(datamine.p2.heal_ratio_), input.premod.heal_)),\r\n  ),\r\n  input.premod.hp))\r\nconst burstSkillDmgInc = equal(condBurst, \"on\", prod(\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.sBonus_, { key: '_' }),\r\n    greaterEq(input.asc, 4, prod(percent(datamine.p2.heal_ratio_), input.premod.heal_)),\r\n  ),\r\n  input.premod.hp))\r\n\r\nconst passiveHeal_ = constant(datamine.p.heal_)\r\nconst passiveCritRate_ = constant(datamine.p.critRate_)\r\nconst c4AtkSpd_ = greaterEq(input.constellation, 4, constant(datamine.c4.atkSPD_))\r\nconst c6Hydro_ = greaterEq(input.constellation, 6, equal(condC6, \"on\", constant(datamine.c6.hydro_)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    heal: customHealNode(sum(\r\n      prod(sum(\r\n        subscript(input.total.skillIndex, datamine.skill.heal_, { key: '_' }),\r\n        greaterEq(input.constellation, 2, equal(condC2, \"on\", percent(datamine.c2.s_heal_))),\r\n      ), input.total.hp),\r\n      subscript(input.total.skillIndex, datamine.skill.heal)\r\n    )),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    heal: customHealNode(sum(\r\n      prod(sum(\r\n        subscript(input.total.burstIndex, datamine.burst.heal_, { key: '_' }),\r\n        greaterEq(input.constellation, 2, equal(condC2, \"on\", percent(datamine.c2.nc_heal_))),\r\n      ), input.total.hp),\r\n      subscript(input.total.burstIndex, datamine.burst.heal)\r\n    )),\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(input.total.hp, percent(datamine.c1.hp_)), \"elemental\", {\r\n      hit: { ele: constant(elementKey) }\r\n    }))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    heal_: passiveHeal_,\r\n    critRate_: passiveCritRate_,\r\n    atkSPD_: c4AtkSpd_,\r\n    hydro_dmg_: c6Hydro_,\r\n    // TODO: below should be for `total`\r\n    normal_dmgInc: burstNormalDmgInc,\r\n    charged_dmgInc: burstChargedDmgInc,\r\n    skill_dmgInc: burstSkillDmgInc,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` })\r\n          }, {\r\n            text: tr(\"auto.skillParams.5\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.heal, { key: `char_${key}_gen:skill.skillParams.0`, variant: \"success\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.6\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.7\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: burstNormalDmgInc,\r\n            }, {\r\n              node: burstChargedDmgInc,\r\n            }, {\r\n              node: burstSkillDmgInc,\r\n            }, {\r\n              node: infoMut(dmgFormulas.burst.heal, { key: `char_${key}_gen:burst.skillParams.4`, variant: \"success\" }),\r\n            }, {\r\n              text: tr(\"burst.skillParams.5\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive: talentTemplate(\"passive\", tr, passive, [{\r\n        node: passiveHeal_\r\n      }, {\r\n        node: passiveCritRate_\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [{\r\n        node: infoMut(dmgFormulas.constellation1.dmg, { key: \"sheet:dmg\" })\r\n      }]),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        path: condC2Path,\r\n        value: condC2,\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        name: trm(\"c2\"),\r\n        states: {\r\n          on: {}\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, [{ node: c4AtkSpd_ }]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        path: condC6Path,\r\n        value: condC6,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"c6\"),\r\n        states: {\r\n          on: { fields: [{ node: c6Hydro_ }] }\r\n        }\r\n      }),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, greaterEq, infoMut, percent, prod, lookup, naught, sum, min, subscript } from '../../../Formula/utils'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Sayu\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[1], // 2\r\n      skillParam_gen.auto[2], // 3x2\r\n      skillParam_gen.auto[4], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spin: skillParam_gen.auto[5],\r\n    final: skillParam_gen.auto[6],\r\n    stamina: skillParam_gen.auto[7][0],\r\n    duration: skillParam_gen.auto[8][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[9],\r\n    low: skillParam_gen.auto[10],\r\n    high: skillParam_gen.auto[11],\r\n  },\r\n  skill: {\r\n    wheelDmg: skillParam_gen.skill[s++],\r\n    eleWheelDmg: skillParam_gen.skill[s++],\r\n    kickPressDmg: skillParam_gen.skill[s++],\r\n    kickHoldDmg: skillParam_gen.skill[s++],\r\n    eleKickDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cdMin: skillParam_gen.skill[s++][0],\r\n    cdMax: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    pressDmg: skillParam_gen.burst[b++],\r\n    pressBaseHeal: skillParam_gen.burst[b++],\r\n    pressAtkHeal: skillParam_gen.burst[b++],\r\n    darumaDmg: skillParam_gen.burst[b++],\r\n    darumaBaseHeal: skillParam_gen.burst[b++],\r\n    darumaAtkHeal: skillParam_gen.burst[b++],\r\n    darumaHits: 7,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    baseHeal: skillParam_gen.passive1[0][0],\r\n    emHeal: skillParam_gen.passive1[1][0],\r\n    cd: skillParam_gen.passive1[2][0]\r\n  },\r\n  passive2: {\r\n    nearHeal: skillParam_gen.passive2[0][0]\r\n  },\r\n  constellation2: {\r\n    dmgInc: skillParam_gen.constellation2[0],\r\n    maxStacks: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    ener: skillParam_gen.constellation4[0],\r\n    cd: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    darumaDmgInc: skillParam_gen.constellation6[0],\r\n    maxStacks: skillParam_gen.constellation6[1] / skillParam_gen.constellation6[0],\r\n    darumaHealInc: skillParam_gen.constellation6[2]\r\n  }\r\n} as const\r\n\r\nconst [condSkillAbsorptionPath, condSkillAbsorption] = cond(key, \"skillAbsorption\")\r\n\r\nconst [condActiveSwirlPath, condActiveSwirl] = cond(key, \"activeSwirl\")\r\n\r\nconst [condC2SkillStackPath, condC2SkillStack] = cond(key, \"c2SkillStack\")\r\nconst c2_kickPressDmg_ = greaterEq(input.constellation, 2, percent(datamine.constellation2.dmgInc))\r\nconst c2_kickDmg_ = greaterEq(input.constellation, 2,\r\n  lookup(condC2SkillStack,\r\n    Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(stack => [\r\n      stack,\r\n      prod(stack, percent(datamine.constellation2.dmgInc))\r\n    ])),\r\n    naught\r\n  )\r\n)\r\n\r\nconst c6_daruma_dmg_inc = greaterEq(input.constellation, 6,\r\n  prod(\r\n    min(input.total.eleMas, datamine.constellation6.maxStacks),\r\n    datamine.constellation6.darumaDmgInc,\r\n    input.total.atk\r\n  )\r\n)\r\nconst c6_daruma_heal_inc = greaterEq(input.constellation, 6,\r\n  prod(min(input.total.eleMas, datamine.constellation6.maxStacks), datamine.constellation6.darumaHealInc)\r\n)\r\n// Using customHealNode so I can have healInc\r\nconst darumaHeal = customHealNode(sum(\r\n  prod(\r\n    subscript(input.total.burstIndex, datamine.burst.darumaAtkHeal, { key: \"_\" }),\r\n    input.total.atk,\r\n  ),\r\n  subscript(input.total.burstIndex, datamine.burst.darumaBaseHeal),\r\n  c6_daruma_heal_inc,\r\n))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spin: dmgNode(\"atk\", datamine.charged.spin, \"charged\"),\r\n    final: dmgNode(\"atk\", datamine.charged.final, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    wheelDmg: dmgNode(\"atk\", datamine.skill.wheelDmg, \"skill\"),\r\n    kickPressDmg: dmgNode(\"atk\", datamine.skill.kickPressDmg, \"skill\",\r\n      { premod: { skill_dmg_: sum(c2_kickDmg_, c2_kickPressDmg_) } }),\r\n    kickHoldDmg: dmgNode(\"atk\", datamine.skill.kickHoldDmg, \"skill\",\r\n      { premod: { skill_dmg_: c2_kickDmg_ } }),\r\n    eleWheelDmg: lookup(condSkillAbsorption, Object.fromEntries(absorbableEle.map(eleKey => [\r\n      eleKey,\r\n      dmgNode(\"atk\", datamine.skill.eleWheelDmg, \"skill\", { hit: { ele: constant(eleKey) } })\r\n    ])), naught),\r\n    eleKickDmg: lookup(condSkillAbsorption, Object.fromEntries(absorbableEle.map(eleKey => [\r\n      eleKey,\r\n      dmgNode(\"atk\", datamine.skill.eleKickDmg, \"skill\",\r\n        { hit: { ele: constant(eleKey) }, premod: { skill_dmg_: c2_kickDmg_ } })\r\n    ])), naught)\r\n  },\r\n  burst: {\r\n    pressDmg: dmgNode(\"atk\", datamine.burst.pressDmg, \"burst\"),\r\n    pressHeal: healNodeTalent(\"atk\", datamine.burst.pressAtkHeal, datamine.burst.pressBaseHeal, \"burst\"),\r\n    darumaDmg: dmgNode(\"atk\", datamine.burst.darumaDmg, \"burst\",\r\n      { premod: { burst_dmgInc: c6_daruma_dmg_inc } }),\r\n    darumaHeal\r\n  },\r\n  passive1: {\r\n    heal: greaterEq(input.asc, 1, sum(datamine.passive1.baseHeal, prod(datamine.passive1.emHeal, input.total.eleMas)))\r\n  },\r\n  passive2: {\r\n    extraHeal: greaterEq(input.asc, 4, prod(darumaHeal, percent(datamine.passive2.nearHeal)))\r\n  }\r\n}\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"anemo\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, auto,\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.charged.spin, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.final, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: `${datamine.charged.stamina}/s`,\r\n        }]\r\n        ),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, auto, [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n        ),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.wheelDmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.kickPressDmg, { key: `char_${key}_gen:skill.skillParams.1` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.kickHoldDmg, { key: `char_${key}_gen:skill.skillParams.2` })\r\n      }, {\r\n        text: tr(\"skill.skillParams.5\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: `${datamine.skill.cdMin}s ~ ${datamine.skill.cdMax}`,\r\n        unit: \"s\",\r\n      }], {\r\n        value: condSkillAbsorption,\r\n        path: condSkillAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.eleWheelDmg, { key: `char_${key}_gen:skill.skillParams.3` })\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.eleKickDmg, { key: `char_${key}_gen:skill.skillParams.4` })\r\n          }]\r\n        }]))\r\n      }, [\r\n        sectionTemplate(\"constellation2\", tr, c2, [{\r\n          node: infoMut(c2_kickPressDmg_, { key: `char_${key}:c2KickPressDmg_` })\r\n        }], {\r\n          value: condC2SkillStack,\r\n          path: condC2SkillStackPath,\r\n          name: trm(\"c2Cond\"),\r\n          states: Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(stack => [stack, {\r\n            name: st(\"seconds\", { count: stack * 0.5 }),\r\n            fields: [{\r\n              node: infoMut(c2_kickDmg_, { key: `char_${key}:c2KickDmg_` })\r\n            }]\r\n          }]))\r\n        }, data => data.get(input.constellation).value >= 2, false, true),\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.pressDmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.pressHeal, { key: `char_${key}_gen:burst.skillParams.1`, variant: \"success\" })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.darumaDmg, { key: `char_${key}_gen:burst.skillParams.2` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.darumaHeal, { key: `char_${key}_gen:burst.skillParams.3`, variant: \"success\" })\r\n      }, {\r\n        text: trm(\"burstHits\"),\r\n        value: datamine.burst.darumaHits,\r\n      }], undefined, [\r\n        sectionTemplate(\"passive2\", tr, passive2, [{\r\n          node: infoMut(dmgFormulas.passive2.extraHeal, { key: `char_${key}:p2Heal`, variant: \"success\" })\r\n        }, {\r\n          text: trm(\"p2Aoe\")\r\n        }], undefined, data => data.get(input.asc).value >= 4, false, true),\r\n        sectionTemplate(\"constellation1\", tr, c1, [{\r\n          text: trm(\"c1Text\")\r\n        }], undefined, data => data.get(input.constellation).value >= 1, false, true),\r\n        sectionTemplate(\"constellation6\", tr, c6, [{\r\n          node: infoMut(c6_daruma_dmg_inc,\r\n            { key: `char_${key}:c6DarumaDmgInc`, variant: \"anemo\" })\r\n        }, {\r\n          node: infoMut(c6_daruma_heal_inc,\r\n            { key: `char_${key}:c6DarumaHealInc`, variant: \"success\" })\r\n        }], undefined, data => data.get(input.constellation).value >= 6, false, true),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        value: condActiveSwirl,\r\n        path: condActiveSwirlPath,\r\n        name: trm(\"p1Swirl\"),\r\n        states: {\r\n          activeSwirl: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.passive1.heal, { key: `sheet_gen:healing`, variant: \"success\" })\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.passive1.cd,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: burstC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, undefined, [\r\n        sectionTemplate(\"constellation4\", tr, c4, [{\r\n          text: trm(\"c4Ener\"),\r\n          value: datamine.constellation4.ener,\r\n          fixed: 1\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.constellation4.cd,\r\n          unit: \"s\"\r\n        }], undefined, data => data.get(input.constellation).value >= 4)\r\n      ]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: skillC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6)\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { infoMut, lookup, equal, percent, prod, subscript, greaterEq } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Shenhe\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[1], // 2\r\n      skillParam_gen.auto[2], // 3\r\n      skillParam_gen.auto[3], // 4x2\r\n      skillParam_gen.auto[5], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[6],\r\n    stamina: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    dmgAtk_: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    durationHold: skillParam_gen.skill[s++][0],\r\n    trigger: skillParam_gen.skill[s++][0],\r\n    triggerHold: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    res_: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    cryo_dmg_: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    press_dmg_: skillParam_gen.passive2[p2++][0],\r\n    durationPress: skillParam_gen.passive2[p2++][0],\r\n    hold_dmg_: skillParam_gen.passive2[p2++][0],\r\n    durationHold: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    dmg_: skillParam_gen.constellation4[0],\r\n    maxStacks: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    auto_: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condQuillPath, condQuill] = cond(key, \"quill\")\r\nconst nodeSkill = equal(\"quill\", condQuill,\r\n  prod(input.premod.atk, subscript(input.total.skillIndex, datamine.skill.dmgAtk_, { key: '_' })))\r\n\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst enemyRes_ = equal(\"burst\", condBurst,\r\n  subscript(input.total.burstIndex, datamine.burst.res_.map(x => -x), { key: '_' }))\r\n\r\nconst nodeBurstCryo_enemyRes_ = { ...enemyRes_ }\r\nconst nodeBurstPhysical_enemyRes_ = { ...enemyRes_ }\r\n\r\nconst [condAsc1Path, condAsc1] = cond(key, \"asc1\")\r\nconst nodeAsc1Disp = greaterEq(input.asc, 1,\r\n  equal(condAsc1, \"field\",\r\n    datamine.passive1.cryo_dmg_\r\n  )\r\n)\r\nconst nodeAsc1 = equal(input.activeCharKey, target.charKey, nodeAsc1Disp)\r\n\r\nconst [condAsc4Path, condAsc4] = cond(key, \"asc4\")\r\nconst nodeAsc4 = greaterEq(input.asc, 1,\r\n  equal(condAsc4, \"press\",\r\n    datamine.passive2.press_dmg_\r\n  )\r\n)\r\nconst nodeAsc4Press_skill_dmg_ = { ...nodeAsc4 }\r\nconst nodeAsc4Press_burst_dmg_ = { ...nodeAsc4 }\r\nconst nodeAsc4Hold = greaterEq(input.asc, 1,\r\n  equal(condAsc4, \"hold\",\r\n    datamine.passive2.hold_dmg_\r\n  )\r\n)\r\nconst nodeAsc4Hold_normal_dmg_ = { ...nodeAsc4Hold }\r\nconst nodeAsc4Hold_charged_dmg_ = { ...nodeAsc4Hold }\r\nconst nodeAsc4Hold_plunging_dmg_ = { ...nodeAsc4Hold }\r\n\r\nconst nodeC2Disp = greaterEq(input.constellation, 2,\r\n  equal(condAsc1, \"field\",\r\n    datamine.passive1.cryo_dmg_\r\n  )\r\n)\r\nconst nodeC2 = equal(input.activeCharKey, target.charKey, nodeC2Disp)\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4Inc = greaterEq(input.constellation, 4,\r\n  lookup(condC4,\r\n    objectKeyMap(range(1, datamine.constellation4.maxStacks), i => percent(i * datamine.constellation4.dmg_)),\r\n    0),\r\n  { key: \"char_Shenhe:c4Bonus_\" })\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\", { hit: { dmgBonus: c4Inc } }),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\", { hit: { dmgBonus: c4Inc } }),\r\n    quillDmg: nodeSkill\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      cryo_dmgInc: nodeSkill,\r\n      cryo_enemyRes_: nodeBurstCryo_enemyRes_,\r\n      physical_enemyRes_: nodeBurstPhysical_enemyRes_,\r\n      cryo_dmg_: nodeAsc1,\r\n      skill_dmg_: nodeAsc4Press_skill_dmg_,\r\n      burst_dmg_: nodeAsc4Press_burst_dmg_,\r\n      normal_dmg_: nodeAsc4Hold_normal_dmg_,\r\n      charged_dmg_: nodeAsc4Hold_charged_dmg_,\r\n      plunging_dmg_: nodeAsc4Hold_plunging_dmg_,\r\n      cryo_critDMG_: nodeC2\r\n    },\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey),\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 3 ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        ),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        ),\r\n        text: tr(`auto.fields.plunging`),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: trm(\"pressDuration\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: trm(\"pressQuota\"),\r\n        value: datamine.skill.trigger,\r\n      }, {\r\n        text: st(\"pressCD\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        text: trm(\"holdDuration\"),\r\n        value: datamine.skill.durationHold,\r\n        unit: \"s\"\r\n      }, {\r\n        text: trm(\"holdQuota\"),\r\n        value: datamine.skill.triggerHold,\r\n      }, {\r\n        text: st(\"holdCD\"),\r\n        value: datamine.skill.cdHold,\r\n        unit: \"s\"\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value >= 1,\r\n        text: st(\"charges\"),\r\n        value: 2\r\n      }], {\r\n        teamBuff: true,\r\n        value: condQuill,\r\n        path: condQuillPath,\r\n        name: trm(\"quill\"),\r\n        states: {\r\n          quill: {\r\n            fields: [{\r\n              node: nodeSkill\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"passive2\", tr, passive2, undefined, {\r\n          canShow: greaterEq(input.asc, 4, 1),\r\n          value: condAsc4,\r\n          path: condAsc4Path,\r\n          teamBuff: true,\r\n          name: trm(\"asc4Cond\"),\r\n          states: {\r\n            press: {\r\n              name: \"Press\",\r\n              fields: [{\r\n                node: nodeAsc4Press_skill_dmg_\r\n              }, {\r\n                node: nodeAsc4Press_burst_dmg_\r\n              }]\r\n            },\r\n            hold: {\r\n              name: \"Hold\",\r\n              fields: [{\r\n                node: nodeAsc4Hold_normal_dmg_\r\n              }, {\r\n                node: nodeAsc4Hold_charged_dmg_\r\n              }, {\r\n                node: nodeAsc4Hold_plunging_dmg_\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation1\", tr, c1, [{\r\n          text: st(\"addlCharges\"),\r\n          value: 1\r\n        }], undefined, data => data.get(input.constellation).value >= 1, false, true),\r\n        sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n          canShow: greaterEq(input.constellation, 4, 1),\r\n          value: condC4,\r\n          path: condC4Path,\r\n          name: trm(\"c4\"),\r\n          states: objectKeyMap(range(1, 50).map(i => i.toString()), i => ({\r\n            name: i.toString(),\r\n            fields: [{ node: c4Inc }]\r\n          }))\r\n        }), {\r\n        ...sectionTemplate(\"constellation6\", tr, c6, [{\r\n          text: tr(\"constellation6.description\")\r\n        }], undefined, data => data.get(input.constellation).value >= 6, true, true),\r\n        fieldsDescription: \"\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.2` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: (data) => data.get(input.constellation).value >= 2\r\n          ? `${datamine.burst.duration} + ${datamine.constellation2.durationInc} = ${datamine.burst.duration + datamine.constellation2.durationInc}`\r\n          : datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        teamBuff: true,\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: tr(\"burst.name\"),\r\n        states: {\r\n          burst: {\r\n            fields: [{\r\n              node: nodeBurstCryo_enemyRes_\r\n            }, {\r\n              node: nodeBurstPhysical_enemyRes_\r\n            }]\r\n          }\r\n        }\r\n      }, [\r\n        sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n          canShow: greaterEq(input.asc, 1, 1),\r\n          value: condAsc1,\r\n          path: condAsc1Path,\r\n          teamBuff: true,\r\n          name: st(\"activeCharField\"),\r\n          states: {\r\n            field: {\r\n              fields: [{\r\n                node: infoMut(nodeAsc1Disp, { key: \"cryo_dmg_\", variant: \"cryo\" }) // Jank\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n        sectionTemplate(\"constellation2\", tr, c2, [{\r\n          text: st(\"durationInc\"),\r\n          value: datamine.constellation2.durationInc,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(nodeC2Disp, { key: \"cryo_critDMG_\", variant: \"cryo\" })\r\n        }], undefined, data => data.get(input.constellation).value >= 2, true, true),\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from \"../../../Formula/index\"\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, unequal } from \"../../../Formula/utils\"\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst characterKey: CharacterKey = \"Sucrose\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", characterKey)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dot: skillParam_gen.burst[b++],\r\n    dmg_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    eleMas: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    eleMas_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    ele_dmg_: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst [condAbsorptionPath, condAbsorption] = cond(characterKey, \"absorption\")\r\n// A1 Swirl Reaction Element\r\nconst [condSwirlReactionPath, condSwirlReaction] = cond(characterKey, \"swirl\")\r\n// Set to \"hit\" if skill hit opponents\r\nconst [condSkillHitOpponentPath, condSkillHitOpponent] = cond(characterKey, \"skillHit\")\r\n\r\n// Conditional Output\r\nconst asc1Condition = greaterEq(input.asc, 1,\r\n  unequal(target.charKey, characterKey,\r\n    equal(target.charEle, condSwirlReaction, 1)))\r\nconst asc1 = equal(asc1Condition, 1, datamine.passive1.eleMas)\r\nconst asc4 = equal(\"hit\", condSkillHitOpponent,\r\n  unequal(target.charKey, characterKey,\r\n    greaterEq(input.asc, 4,\r\n      prod(percent(datamine.passive2.eleMas_), input.premod.eleMas))))\r\nconst c6Base = greaterEq(input.constellation, 6, percent(0.2))\r\n\r\nconst c6Bonus = objectKeyMap(absorbableEle.map(ele => `${ele}_dmg_` as const), key =>\r\n  equal(condAbsorption, key.slice(0, -5), c6Base))\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\")\r\n  },\r\n  burst: {\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n    ...Object.fromEntries(absorbableEle.map(key =>\r\n      [key, equal(condAbsorption, key, dmgNode(\"atk\", datamine.burst.dmg_, \"burst\", { hit: { ele: constant(key) } }))]))\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(characterKey, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    total: { eleMas: asc4 },\r\n    premod: { ...c6Bonus, eleMas: asc1 },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(`auto.fields.normal`),\r\n            fields: datamine.normal.hitArr.map((_, i) => ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${characterKey}_gen:auto.skillParams.${i}` }),\r\n            }))\r\n          },\r\n          {\r\n            text: tr(`auto.fields.charged`),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${characterKey}_gen:auto.skillParams.4` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.5\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(`auto.fields.plunging`),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          },\r\n        ],\r\n      },\r\n      skill: {\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.press, { key: `char_${characterKey}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.1\"),\r\n            value: datamine.skill.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            canShow: (data) => data.get(input.constellation).value >= 1,\r\n            text: st(\"charges\"),\r\n            value: 2\r\n          }]\r\n        }]\r\n      },\r\n      burst: {\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dot, { key: `char_${characterKey}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.2\"),\r\n            value: data => data.get(input.constellation).value >= 2 ? `${datamine.burst.duration}s + 2` : datamine.burst.duration,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: datamine.burst.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.4\"),\r\n            value: datamine.burst.enerCost,\r\n          }],\r\n          conditional: { // Absorption\r\n            value: condAbsorption,\r\n            path: condAbsorptionPath,\r\n            name: st(\"eleAbsor\"),\r\n            header: conditionalHeader(\"burst\", tr, burst),\r\n            states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n              name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n              fields: [{\r\n                node: infoMut(dmgFormulas.burst[eleKey], { key: `char_${characterKey}_gen:burst.skillParams.1` }),\r\n              }]\r\n            }]))\r\n          },\r\n        }, {\r\n          conditional: { // Absorption\r\n            value: condAbsorption,\r\n            path: condAbsorptionPath,\r\n            header: conditionalHeader(\"constellation6\", tr, c6),\r\n            description: tr(\"constellation6.description\"),\r\n            name: st(\"eleAbsor\"),\r\n            teamBuff: true,\r\n            canShow: greaterEq(input.constellation, 6, 1),\r\n            states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n              name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n              fields: [{\r\n                node: c6Bonus[`${eleKey}_dmg_`],\r\n              }],\r\n            }]))\r\n          },\r\n        }]\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        // Swirl Element\r\n        teamBuff: true,\r\n        value: condSwirlReaction,\r\n        path: condSwirlReactionPath,\r\n        name: st(\"eleSwirled\"),\r\n        canShow: greaterEq(input.asc, 1, unequal(target.charKey, characterKey, 1)),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: asc1,\r\n          }, {\r\n            // TODO: uncomment after `target` bug is fixed\r\n            // canShow: data => data.get(asc1Condition).value,\r\n            text: sgt(\"duration\"),\r\n            value: datamine.passive1.duration,\r\n            unit: \"s\",\r\n          }],\r\n        }]))\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        // Swirl element\r\n        teamBuff: true,\r\n        value: condSkillHitOpponent,\r\n        path: condSkillHitOpponentPath,\r\n        name: trm(\"asc4\"),\r\n        canShow: greaterEq(input.asc, 4, unequal(target.charKey, characterKey, 1)),\r\n        states: {\r\n          hit: {\r\n            fields: [{\r\n              node: asc4,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }],\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, greaterEq, infoMut, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Tartaglia\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst region: Region = \"snezhnaya\"\r\nconst [tr] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  riptide: {\r\n    flashDmg: skillParam_gen.auto[a++],\r\n    burstDmg: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  riptideDuration: skillParam_gen.auto[a++][0],\r\n  skill: {\r\n    stanceDmg: skillParam_gen.skill[s++],\r\n    normal1: skillParam_gen.skill[s++],\r\n    normal2: skillParam_gen.skill[s++],\r\n    normal3: skillParam_gen.skill[s++],\r\n    normal4: skillParam_gen.skill[s++],\r\n    normal5: skillParam_gen.skill[s++],\r\n    normal61: skillParam_gen.skill[s++], // 6.1\r\n    normal62: skillParam_gen.skill[s++], // 6.2\r\n    charged1: skillParam_gen.skill[s++],\r\n    charged2: skillParam_gen.skill[s++],\r\n    riptideSlash: skillParam_gen.skill[s++],\r\n    chargedStamina: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    preemptiveCd1: skillParam_gen.skill[s++][0],\r\n    preemptiveCd2: skillParam_gen.skill[s++][0],\r\n    maxCd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    meleeDmg: skillParam_gen.burst[b++],\r\n    riptideBlastDmg: skillParam_gen.burst[b++],\r\n    rangedDmg: skillParam_gen.burst[b++],\r\n    enerReturned: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    durationExt: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive: {\r\n    auto_boost: 1,\r\n  },\r\n  constellation1: {\r\n    cdRed: 0.2\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('hydro') } }),\r\n    flashDmg: dmgNode(\"atk\", datamine.riptide.flashDmg, \"normal\", { hit: { ele: constant('hydro') } }),\r\n    burstDmg: dmgNode(\"atk\", datamine.riptide.burstDmg, \"normal\", { hit: { ele: constant('hydro') } })\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    stanceDmg: dmgNode(\"atk\", datamine.skill.stanceDmg, \"skill\"),\r\n    normal1: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal1), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal2: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal2), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal3: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal3), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal4: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal4), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal5: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal5), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal61: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal61), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal62: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal62), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    charged1: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.charged1), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    charged2: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.charged2), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    riptideSlash: dmgNode(\"atk\", datamine.skill.riptideSlash, \"skill\")\r\n  },\r\n  burst: {\r\n    meleeDmg: dmgNode(\"atk\", datamine.burst.meleeDmg, \"burst\"),\r\n    rangedDmg: dmgNode(\"atk\", datamine.burst.rangedDmg, \"burst\"),\r\n    riptideBlastDmg: dmgNode(\"atk\", datamine.burst.riptideBlastDmg, \"burst\")\r\n  }\r\n}\r\n\r\nconst nodePassive = constant(1)\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    bonus: {\r\n      auto: nodePassive,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.riptide\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.flashDmg, { key: `char_${key}_gen:auto.skillParams.8` }),\r\n              textSuffix: st(\"brHits\", { count: 3 })\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.burstDmg, { key: `char_${key}_gen:auto.skillParams.9` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.10\"),\r\n              value: (data) => data.get(input.asc).value >= 1 ? datamine.passive1.durationExt + datamine.riptideDuration : datamine.riptideDuration,\r\n              unit: \"s\"\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.stanceDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal1, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal2, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal3, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal4, { key: `char_${key}_gen:skill.skillParams.4` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal5, { key: `char_${key}_gen:skill.skillParams.5` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal61, { key: `char_${key}_gen:skill.skillParams.6` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.normal62, { key: `char_${key}_gen:skill.skillParams.6` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.charged1, { key: `char_${key}_gen:skill.skillParams.7` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.charged2, { key: `char_${key}_gen:skill.skillParams.7` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        node: infoMut(constant(datamine.skill.chargedStamina), { key: `char_${key}_gen:skill.skillParams.8` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.riptideSlash, { key: `char_${key}_gen:skill.skillParams.9` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.10\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.11\"),\r\n        value: (data) => data.get(input.constellation).value >= 1 ? `${datamine.skill.preemptiveCd1 -\r\n          (datamine.skill.preemptiveCd1 * datamine.constellation1.cdRed)} - ${datamine.skill.preemptiveCd2 -\r\n          (datamine.skill.preemptiveCd2 * datamine.constellation1.cdRed)}` : `${datamine.skill.preemptiveCd1} -\r\n          ${datamine.skill.preemptiveCd2}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.12\"),\r\n        value: (data) => data.get(input.constellation).value >= 1 ? `${datamine.skill.maxCd - (datamine.skill.maxCd *\r\n          datamine.constellation1.cdRed)}` : `${datamine.skill.maxCd}`,\r\n        unit: \"s\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.meleeDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.rangedDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.riptideBlastDmg, { key: `char_${key}_gen:burst.skillParams.2` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: `${datamine.burst.cd}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: `${datamine.burst.enerReturned}`,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3, undefined, undefined,\r\n        [sectionTemplate(\"passive3\", tr, passive3, [{ node: nodePassive }], undefined, undefined, true, true)]),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { TalentSheet } from '../../../../Types/character_WR'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../../Types/consts'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode } from '../../dataUtil'\r\nimport { burst, c1, c2, c3, c4, c5, c6, passive1, passive2, skill } from './assets'\r\nimport data_gen_src from '../data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, unequal } from '../../../../Formula/utils'\r\nimport { input, target } from '../../../../Formula'\r\nimport { normalSrc, sectionTemplate, talentTemplate } from '../../CharacterSheet'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport ColorText from '../../../../Components/ColoredText'\r\nimport { objectKeyValueMap } from '../../../../Util/Util'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Traveler\"\r\nconst elementKey: ElementKey = \"anemo\"\r\n\r\nconst tr = (strKey: string) => <Translate ns=\"char_Traveler_gen\" key18={`${elementKey}.${strKey}`} />\r\nconst trm = (strKey: string) => <Translate ns=\"char_Traveler\" key18={`${elementKey}.${strKey}`} />\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    initial_dmg: skillParam_gen.skill[s++],\r\n    initial_max: skillParam_gen.skill[s++],\r\n    storm_dmg: skillParam_gen.skill[s++],\r\n    storm_max: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    maxCd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    absorbDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    dmg: 0.6,\r\n  },\r\n  passive2: {\r\n    heal_: 0.02,\r\n  },\r\n  constellation2: {\r\n    enerRech_: 0.16,\r\n  },\r\n  constellation6: {\r\n    enemyRes_: -0.2\r\n  }\r\n} as const\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, `${elementKey}BurstAbsorption`)\r\nconst nodeC2 = greaterEq(input.constellation, 2, datamine.constellation2.enerRech_)\r\nconst [condC6Path, condC6] = cond(key, `${elementKey}C6Hit`)\r\nconst nodeC6 = equal(condC6, \"on\", datamine.constellation6.enemyRes_)\r\nconst nodesC6 = objectKeyValueMap(absorbableEle, ele => [`${ele}_enemyRes_`, equal(condC6, \"on\", equal(condBurstAbsorption, ele, datamine.constellation6.enemyRes_))])\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    initial_dmg: dmgNode(\"atk\", datamine.skill.initial_dmg, \"skill\"),\r\n    initial_max: dmgNode(\"atk\", datamine.skill.initial_max, \"skill\"),\r\n    storm_dmg: dmgNode(\"atk\", datamine.skill.storm_dmg, \"skill\"),\r\n    storm_max: dmgNode(\"atk\", datamine.skill.storm_max, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    absorb: dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption } }),\r\n  },\r\n  passive1: {\r\n    dmg: greaterEq(input.asc, 1, customDmgNode(prod(input.total.atk, datamine.passive1.dmg), \"elemental\", { hit: { ele: constant(elementKey) } })),\r\n  },\r\n  passive2: {\r\n    heal: greaterEq(input.asc, 2, customHealNode(prod(percent(datamine.passive2.heal_), input.total.hp))),\r\n  }\r\n} as const\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    enerRech_: nodeC2,\r\n    ...nodesC6,\r\n    anemo_enemyRes_: nodeC6,\r\n  }\r\n})\r\n\r\nconst talentSheet: TalentSheet = {\r\n  sheets: {\r\n    auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n      ...sectionTemplate(\"auto\", tr, auto,\r\n        datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:${elementKey}.auto.skillParams.${i}` }),\r\n        }))\r\n      ),\r\n      text: tr(\"auto.fields.normal\")\r\n    }, {\r\n      ...sectionTemplate(\"auto\", tr, auto, [{\r\n        node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"auto.skillParams.6\"),\r\n        value: datamine.charged.stamina,\r\n      }]\r\n      ),\r\n      text: tr(\"auto.fields.charged\"),\r\n    }, {\r\n      ...sectionTemplate(\"auto\", tr, auto, [{\r\n        node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n      }]\r\n      ),\r\n      text: tr(\"auto.fields.plunging\"),\r\n    }]),\r\n    skill: talentTemplate(\"skill\", tr, skill, [{\r\n      node: infoMut(dmgFormulas.skill.initial_dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.0` }),\r\n    }, {\r\n      node: infoMut(dmgFormulas.skill.initial_max, { key: `char_${key}_gen:${elementKey}.skill.skillParams.1` }),\r\n    }, {\r\n      node: infoMut(dmgFormulas.skill.storm_dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.2` }),\r\n    }, {\r\n      node: infoMut(dmgFormulas.skill.storm_max, { key: `char_${key}_gen:${elementKey}.skill.skillParams.3` }),\r\n    }, {\r\n      text: tr(\"skill.skillParams.4\"),\r\n      value: datamine.skill.cd,\r\n      unit: \"s\"\r\n    }, {\r\n      text: tr(\"skill.skillParams.5\"),\r\n      value: datamine.skill.maxCd,\r\n      unit: \"s\"\r\n    }, {\r\n      canShow: data => data.get(input.constellation).value >= 4,\r\n      text: trm(\"c1\"),\r\n      value: 10,\r\n      unit: \"%\"\r\n    }]),\r\n    burst: talentTemplate(\"burst\", tr, burst, [{\r\n      node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:${elementKey}.burst.skillParams.0` }),\r\n    }, {\r\n      text: tr(\"burst.skillParams.2\"),\r\n      value: datamine.burst.duration,\r\n      unit: \"s\"\r\n    }, {\r\n      text: tr(\"burst.skillParams.3\"),\r\n      value: datamine.burst.cd,\r\n      unit: \"s\"\r\n    }, {\r\n      text: tr(\"burst.skillParams.4\"),\r\n      value: datamine.burst.enerCost,\r\n    }], {\r\n      value: condBurstAbsorption,\r\n      path: condBurstAbsorptionPath,\r\n      name: st(\"eleAbsor\"),\r\n      states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n        name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.absorb, { key: `char_${key}_gen:${elementKey}.burst.skillParams.1` }),\r\n        }]\r\n      }]))\r\n    }, [\r\n      // C6 anemo\r\n      sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        description: tr(\"constellation6.description.0\"),\r\n        teamBuff: true,\r\n        name: trm(\"c6\"),\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(nodeC6, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n            }]\r\n          }\r\n        }\r\n      }), \r\n      // C6 elemental self-display\r\n      sectionTemplate(\"constellation6\", tr, c6, absorbableEle.map(eleKey => (\r\n          { node: nodesC6[`${eleKey}_enemyRes_`] }\r\n        )),\r\n        undefined,\r\n        data => data.get(input.constellation).value >= 6\r\n          && data.get(condBurstAbsorption).value !== undefined\r\n          && data.get(equal(target.charKey, key, 1)).value === 1,\r\n        false,\r\n        true\r\n      ),\r\n      // C6 elemental team-display\r\n      sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condBurstAbsorption,\r\n        path: condBurstAbsorptionPath,\r\n        description: tr(\"constellation6.description.1\"),\r\n        name: st(\"eleAbsor\"),\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 6, unequal(input.activeCharKey, key, 1)),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: nodesC6[`${eleKey}_enemyRes_`]\r\n          }]\r\n        }]))\r\n      })\r\n    ]),\r\n    passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n      node: infoMut(dmgFormulas.passive1.dmg, { key: `char_${key}:${elementKey}.p1` }) \r\n    }]),\r\n    passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n      node: infoMut(dmgFormulas.passive2.heal, { key: `sheet_gen:healing`, variant: \"success\" }) \r\n    }]),\r\n    constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n    constellation2: talentTemplate(\"constellation2\", tr, c2, [{ node: nodeC2 }]),\r\n    constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n    constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n    constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n    constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n  },\r\n}\r\nexport default talentSheet\r\n","import { CharacterData } from 'pipeline'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { TalentSheet } from '../../../../Types/character_WR'\r\nimport { CharacterKey, ElementKey } from '../../../../Types/consts'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../../dataUtil'\r\nimport { burst, c1, c2, c3, c4, c5, c6, passive1, passive2, skill } from './assets'\r\nimport data_gen_src from '../data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod } from '../../../../Formula/utils'\r\nimport { input, target } from '../../../../Formula'\r\nimport { normalSrc, talentTemplate, sectionTemplate } from '../../CharacterSheet'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { range } from '../../../../Util/Util'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Traveler\"\r\nconst elementKey: ElementKey = \"geo\"\r\n\r\nconst tr = (strKey: string) => <Translate ns=\"char_Traveler_gen\" key18={`${elementKey}.${strKey}`} />\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    numShockwaves: 4,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    skill_cdRed: 2\r\n  },\r\n  passive2: {\r\n    geoDmg: percent(0.6),\r\n  },\r\n  constellation1: {\r\n    critRate_: percent(0.1),\r\n  },\r\n  constellation4: {\r\n    energyRestore: 5,\r\n    maxTriggers: 5\r\n  },\r\n  constellation6: {\r\n    burstDuration: 5,\r\n    skillDuration: 10\r\n  }\r\n} as const\r\n\r\nconst [condC1BurstAreaPath, condC1BurstArea] = cond(key, `${elementKey}C1BurstArea`)\r\nconst c1BurstArea_critRate_Disp = greaterEq(input.constellation, 1, \r\n  equal(condC1BurstArea, \"on\", datamine.constellation1.critRate_)\r\n)\r\nconst c1BurstArea_critRate_ = equal(input.activeCharKey, target.charKey, c1BurstArea_critRate_Disp)\r\n\r\nconst [condC4BurstHitPath, condC4BurstHit] = cond(key, `${elementKey}C4BurstHit`)\r\nconst c4Burst_energyRestore = lookup(condC4BurstHit,\r\n  Object.fromEntries(range(1, datamine.constellation4.maxTriggers).map(stack => [\r\n    stack,\r\n    constant(stack * datamine.constellation4.energyRestore)\r\n  ])),\r\n  naught\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    dmg: customDmgNode(\r\n      prod(input.total.atk, datamine.passive2.geoDmg), \"elemental\", { hit: { ele: constant(\"geo\") } }\r\n    )\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\")),\r\n  }\r\n} as const\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      critRate_: c1BurstArea_critRate_\r\n    }\r\n  }\r\n})\r\n\r\nconst talentSheet: TalentSheet = {\r\n  sheets: {\r\n    auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n      ...sectionTemplate(\"auto\", tr, auto,\r\n        datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:${elementKey}.auto.skillParams.${i}` }),\r\n        }))\r\n      ),\r\n      text: tr(\"auto.fields.normal\")\r\n    }, {\r\n      ...sectionTemplate(\"auto\", tr, auto, [{\r\n        node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"auto.skillParams.6\"),\r\n        value: datamine.charged.stamina,\r\n      }]\r\n      ),\r\n      text: tr(\"auto.fields.charged\"),\r\n    }, {\r\n      ...sectionTemplate(\"auto\", tr, auto, [{\r\n        node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n      }]\r\n      ),\r\n      text: tr(\"auto.fields.plunging\"),\r\n    }]),\r\n    skill: talentTemplate(\"skill\", tr, skill, [{\r\n      node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.0` }),\r\n    }, {\r\n      text: tr(\"skill.skillParams.1\"),\r\n      value: data => data.get(input.constellation).value >= 6\r\n        ? `${datamine.skill.duration}s + ${datamine.constellation6.skillDuration}s = ${datamine.skill.duration + datamine.constellation6.skillDuration}`\r\n        : datamine.skill.duration,\r\n      unit: \"s\",\r\n    }, {\r\n      text: sgt(\"cd\"),\r\n      value: data => data.get(input.asc).value >= 1\r\n        ? `${datamine.skill.cd}s - ${datamine.passive1.skill_cdRed}s = ${datamine.skill.cd - datamine.passive1.skill_cdRed}`\r\n        : datamine.skill.cd,\r\n      unit: \"s\",\r\n    }], undefined, [\r\n      sectionTemplate(\"passive1\", tr, passive1, [{\r\n        text: st(\"skillCDRed\"),\r\n        value: datamine.passive1.skill_cdRed,\r\n        unit: \"s\"\r\n      }], undefined, data => data.get(input.asc).value >= 1, false, true),\r\n      sectionTemplate(\"constellation2\", tr, c2, [{\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:${elementKey}.c2.key` }),\r\n      }], undefined, data => data.get(input.constellation).value >= 2, false, true),\r\n      sectionTemplate(\"constellation6\", tr, c6, [{\r\n        text: st(\"durationInc\"),\r\n        value: datamine.constellation6.skillDuration,\r\n        unit: \"s\"\r\n      }], undefined, data => data.get(input.constellation).value >= 6, false, true),\r\n    ]),\r\n    burst: talentTemplate(\"burst\", tr, burst, [{\r\n      node: infoMut(dmgFormulas.burst.dmg,\r\n        { key: `sheet_gen:skillDMG` }\r\n      ),\r\n      textSuffix: st(\"brHits\", { count: datamine.burst.numShockwaves })\r\n    }, {\r\n      text: tr(\"burst.skillParams.1\"),\r\n      value: data => data.get(input.constellation).value >= 6\r\n        ? `${datamine.burst.duration}s + ${datamine.constellation6.burstDuration}s = ${datamine.burst.duration + datamine.constellation6.burstDuration}`\r\n        : datamine.burst.duration,\r\n      unit: \"s\"\r\n    }, {\r\n      text: sgt(\"cd\"),\r\n      value: datamine.burst.cd,\r\n      unit: \"s\"\r\n    }, {\r\n      text: sgt(\"energyCost\"),\r\n      value: datamine.burst.enerCost,\r\n    }], undefined, [\r\n      sectionTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condC1BurstArea,\r\n        path: condC1BurstAreaPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(c1BurstArea_critRate_Disp, { key: \"critRate_\" }),\r\n            }, {\r\n              text: st(\"incInterRes\"),\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      sectionTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4BurstHit,\r\n        path: condC4BurstHitPath,\r\n        name: st(\"hitOp.burst\"),\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        states: Object.fromEntries(range(1, datamine.constellation4.maxTriggers).map(stack => [\r\n          stack,\r\n          {\r\n            name: st(\"hits\", { count: stack }),\r\n            fields: [{\r\n              node: infoMut(c4Burst_energyRestore, { key: \"sheet:energyRegen\" }),\r\n            }]\r\n          }\r\n        ]))\r\n      }),\r\n      sectionTemplate(\"constellation6\", tr, c6, [{\r\n        text: st(\"durationInc\"),\r\n        value: datamine.constellation6.burstDuration,\r\n        unit: \"s\"\r\n      }], undefined, data => data.get(input.constellation).value >= 6, false, true),\r\n    ]),\r\n    passive1: talentTemplate(\"passive1\", tr, passive1),\r\n    passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n      node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:${elementKey}.passive2.key` })\r\n    }]),\r\n    constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n    constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n    constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: burstC3 }]),\r\n    constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n    constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: skillC5 }]),\r\n    constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n  }\r\n}\r\nexport default talentSheet","import { CharacterData } from 'pipeline'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { TalentSheet } from '../../../../Types/character_WR'\r\nimport { CharacterKey, ElementKey } from '../../../../Types/consts'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../../dataUtil'\r\nimport { burst, c1, c2, c3, c4, c5, c6, passive1, passive2, skill } from './assets'\r\nimport data_gen_src from '../data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\nimport { equal, greaterEq, infoMut, percent, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { input, target } from '../../../../Formula'\r\nimport { normalSrc, talentTemplate, sectionTemplate } from '../../CharacterSheet'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst auto = normalSrc(data_gen.weaponTypeKey)\r\n\r\nconst key: CharacterKey = \"Traveler\"\r\nconst elementKey: ElementKey = \"electro\"\r\n\r\nconst tr = (strKey: string) => <Translate ns=\"char_Traveler_gen\" key18={`${elementKey}.${strKey}`} />\r\nconst trm = (strKey: string) => <Translate ns=\"char_Traveler\" key18={`${elementKey}.${strKey}`} />\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    energyRestore: skillParam_gen.skill[s++],\r\n    amulets: 2,\r\n    amuletDuration: skillParam_gen.skill[s++][0],\r\n    enerRech_: skillParam_gen.skill[s++][0],\r\n    enerRech_duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    pressDmg: skillParam_gen.burst[b++],\r\n    thunderDmg: skillParam_gen.burst[b++],\r\n    thunderCd: 0.5,\r\n    energyRestore: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    cdRed: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    enerRech_: skillParam_gen.passive2[0][0],\r\n  },\r\n  constellation1: {\r\n    addlAmulets: 1\r\n  },\r\n  constellation2: {\r\n    duration: skillParam_gen.constellation2[0],\r\n    electro_enemyRes: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation6: {\r\n    numAttacks: skillParam_gen.constellation6[0],\r\n    thunder_dmg_: skillParam_gen.constellation6[0],\r\n    energyRestore: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\n\r\nconst [condSkillAmuletPath, condSkillAmulet] = cond(key, `${elementKey}SkillAmulet`)\r\nconst p2_enerRech_ = greaterEq(input.asc, 4,\r\n  prod(input.premod.enerRech_, percent(datamine.passive2.enerRech_))\r\n)\r\nconst skillAmulet_enerRech_Disp = equal(condSkillAmulet, \"on\",\r\n  sum(\r\n    percent(datamine.skill.enerRech_),\r\n    p2_enerRech_\r\n  )\r\n)\r\nconst skillAmulet_enerRech_ = equal(input.activeCharKey, target.charKey, skillAmulet_enerRech_Disp)\r\n\r\nconst burstEnergyRestore = subscript(input.total.burstIndex, datamine.burst.energyRestore,\r\n  { key: `char_${key}_gen:${elementKey}.burst.skillParmas.2` }\r\n)\r\n\r\nconst [condC2ThunderPath, condC2Thunder] = cond(key, `${elementKey}C2Thunder`)\r\nconst c2Thunder_electro_enemyRes_ = greaterEq(input.constellation, 2, \r\n  equal(condC2Thunder, \"on\", datamine.constellation2.electro_enemyRes)\r\n)\r\n\r\nconst [condC6After2ThunderPath, condC6After2Thunder] = cond(key, `${elementKey}C6After2Thunder`)\r\nconst c6_thunder_dmg_ = greaterEq(input.constellation, 6, equal(condC6After2Thunder, \"on\", datamine.constellation6.thunder_dmg_))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    pressDmg: dmgNode(\"atk\", datamine.burst.pressDmg, \"burst\"),\r\n    thunderDmg: dmgNode(\"atk\", datamine.burst.thunderDmg, \"burst\",\r\n      { premod: { burst_dmg_: c6_thunder_dmg_ } })\r\n  }\r\n} as const\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_enemyRes_: c2Thunder_electro_enemyRes_,\r\n    },\r\n    total: {\r\n      enerRech_: skillAmulet_enerRech_ // In total to avoid loops\r\n    }\r\n  }\r\n})\r\n\r\nconst talentSheet: TalentSheet = {\r\n  sheets: {\r\n    auto: talentTemplate(\"auto\", tr, auto, undefined, undefined, [{\r\n      ...sectionTemplate(\"auto\", tr, auto,\r\n        datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:${elementKey}.auto.skillParams.${i}` }),\r\n        }))\r\n      ),\r\n      text: tr(\"auto.fields.normal\")\r\n    }, {\r\n      ...sectionTemplate(\"auto\", tr, auto, [{\r\n        node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"auto.skillParams.6\"),\r\n        value: datamine.charged.stamina,\r\n      }]\r\n      ),\r\n      text: tr(\"auto.fields.charged\"),\r\n    }, {\r\n      ...sectionTemplate(\"auto\", tr, auto, [{\r\n        node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n      }]\r\n      ),\r\n      text: tr(\"auto.fields.plunging\"),\r\n    }]),\r\n    skill: talentTemplate(\"skill\", tr, skill, [{\r\n      node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.0` })\r\n    }, {\r\n      text: trm(\"skill.amuletGenAmt\"),\r\n      value: data => data.get(input.constellation).value >= 1\r\n        ? datamine.skill.amulets + datamine.constellation1.addlAmulets\r\n        : datamine.skill.amulets\r\n    }, {\r\n      text: tr(\"skill.skillParams.4\"),\r\n      value: datamine.skill.amuletDuration,\r\n      unit: \"s\"\r\n    }, {\r\n      text: sgt(\"cd\"),\r\n      value: datamine.skill.cd,\r\n      unit: \"s\",\r\n      fixed: 1\r\n    }], {\r\n      value: condSkillAmulet,\r\n      path: condSkillAmuletPath,\r\n      name: trm(\"skill.absorb\"),\r\n      teamBuff: true,\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: subscript(input.total.skillIndex, datamine.skill.energyRestore,\r\n              { key: `char_${key}_gen:${elementKey}.skill.skillParams.1` }\r\n            )\r\n          }, {\r\n            node: infoMut(skillAmulet_enerRech_Disp, { key: \"enerRech_\" })\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: datamine.skill.enerRech_duration,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }, [\r\n      sectionTemplate(\"passive1\", tr, passive1, [{\r\n        text: tr(\"passive1.description\")\r\n      }], undefined, data => data.get(input.asc).value >= 1, false, true),\r\n      sectionTemplate(\"passive2\", tr, passive2, [{\r\n        node: infoMut(p2_enerRech_, { key: `char_${key}:${elementKey}.passive2.enerRech_` })\r\n      }], undefined, data => data.get(input.asc).value >= 4, false, true),\r\n    ]),\r\n    burst: talentTemplate(\"burst\", tr, burst, [{\r\n      node: infoMut(dmgFormulas.burst.pressDmg,\r\n        { key: `char_${key}_gen:${elementKey}.burst.skillParams.0` }\r\n      )\r\n    }, {\r\n      node: infoMut(dmgFormulas.burst.thunderDmg,\r\n        { key: `char_${key}_gen:${elementKey}.burst.skillParams.1` }\r\n      )\r\n    }, {\r\n      text: trm(\"burst.thunderCd\"),\r\n      value: datamine.burst.thunderCd,\r\n      unit: \"s\",\r\n      fixed: 1\r\n    }, {\r\n      node: infoMut(burstEnergyRestore, { key: `char_${key}_gen:${elementKey}.burst.skillParams.2` })\r\n    }, {\r\n      text: sgt(\"duration\"),\r\n      value: datamine.burst.duration,\r\n      unit: \"s\"\r\n    }, {\r\n      text: sgt(\"cd\"),\r\n      value: datamine.burst.cd,\r\n      unit: \"s\"\r\n    }, {\r\n      text: sgt(\"energyCost\"),\r\n      value: datamine.burst.enerCost,\r\n    }], undefined, [\r\n      sectionTemplate(\"constellation2\", tr, c2, undefined, {\r\n        value: condC2Thunder,\r\n        path: condC2ThunderPath,\r\n        name: trm(\"c2.thunderHit\"),\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c2Thunder_electro_enemyRes_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6After2Thunder,\r\n        path: condC6After2ThunderPath,\r\n        name: trm(\"c6.fallingThunder3\"),\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(c6_thunder_dmg_,\r\n                { key: `char_${key}:${elementKey}.c6.fallingThunderBonus_`, variant: \"electro\" }\r\n              )\r\n            }, {\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.constellation6.energyRestore\r\n            }]\r\n          }\r\n        }\r\n      })\r\n    ]),\r\n    passive1: talentTemplate(\"passive1\", tr, passive1),\r\n    passive2: talentTemplate(\"passive2\", tr, passive2),\r\n    constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n    constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n    constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: burstC3 }]),\r\n    constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n    constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: skillC5 }]),\r\n    constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n  }\r\n}\r\nexport default talentSheet","import card from './Traveler_Female_Card.jpg'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport anemo, { data as anemoData } from './anemo'\r\nimport geo, { data as geoData } from './geo'\r\nimport electro, { data as electroData} from './electro'\r\nimport { CharacterKey, WeaponTypeKey } from '../../../Types/consts';\r\nimport CharacterSheet, { ICharacterSheet } from '../CharacterSheet'\r\nimport data_gen_src from './data_gen.json'\r\nimport { CharacterData } from 'pipeline'\r\nimport { trans } from '../../SheetUtil'\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Traveler\"\r\nconst [tr] = trans(\"char\", key)\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  rarity: data_gen.star,\r\n  weaponTypeKey: data_gen.weaponTypeKey as WeaponTypeKey,\r\n  gender: \"F/M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talents: {\r\n    anemo,\r\n    geo,\r\n    electro,\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, {\r\n  anemo: anemoData,\r\n  geo: geoData,\r\n  electro: electroData,\r\n});\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from '../../../Formula'\r\nimport { reactions } from '../../../Formula/reaction'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport {  customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Venti\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1x2\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x2\r\n      skillParam_gen.auto[a++], // 5\r\n      skillParam_gen.auto[a++], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++], // Aimed\r\n    fully: skillParam_gen.auto[a++], // Fully-charged\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    pressDmg: skillParam_gen.skill[s++],\r\n    pressCD: skillParam_gen.skill[s++][0],\r\n    holdDmg: skillParam_gen.skill[s++],\r\n    holdCD: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    baseDmg: skillParam_gen.burst[b++],\r\n    baseTicks: 20,\r\n    absorbDmg: skillParam_gen.burst[b++],\r\n    absorbTicks: 15,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    duration: skillParam_gen.passive1[0][0]\r\n  },\r\n  // No real p3/constellation datamine values :(\r\n  passive3: {\r\n    stam_: 0.20,\r\n  },\r\n  constellation1: {\r\n    dmgRatio: 0.33,\r\n  },\r\n  constellation2: {\r\n    res_: -0.12,\r\n    duration: 10,\r\n  },\r\n  constellation4: {\r\n    anemo_dmg_: 0.25,\r\n    duration: 10,\r\n  },\r\n  constellation6: {\r\n    res_: -0.20,\r\n    duration: 10, // From KQM\r\n  }\r\n} as const\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst p3_staminaGlidingDec_ = constant(datamine.passive3.stam_)\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, \"burstAbsorption\")\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst c2Hit_anemo_enemyRes_ = greaterEq(input.constellation, 2,\r\n  lookup(condC2, {\r\n    \"hit\": constant(datamine.constellation2.res_),\r\n    \"launched\": prod(datamine.constellation2.res_, 2) },\r\n    naught\r\n  )\r\n)\r\nconst c2Hit_phys_enemyRes__ = {...c2Hit_anemo_enemyRes_}\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4_anemo_dmg_ = greaterEq(input.constellation, 4, equal(condC4, \"pickup\",\r\n  datamine.constellation4.anemo_dmg_))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6_anemo_enemyRes_ = equal(condC6, \"takeDmg\", datamine.constellation6.res_)\r\nconst c6_ele_enemyRes_arr = Object.fromEntries(absorbableEle.map(ele => [\r\n  `${ele}_enemyRes_`,\r\n  greaterEq(input.constellation, 6, equal(ele, condBurstAbsorption, constant(datamine.constellation6.res_)))\r\n]))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n  [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    fully: dmgNode(\"atk\", datamine.charged.fully, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.pressDmg, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.holdDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    base: dmgNode(\"atk\", datamine.burst.baseDmg, \"burst\"),\r\n    absorb: unequal(condBurstAbsorption, undefined, dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption }})),\r\n    full7: unequal(condBurstAbsorption, undefined, sum(\r\n      prod(dmgNode(\"atk\", datamine.burst.baseDmg, \"burst\"), 20),\r\n      prod(dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption }}), 15),\r\n      prod(lookup(condBurstAbsorption, objectKeyMap(absorbableEle, ele => reactions.anemo[`${ele}Swirl`]), naught), 7)\r\n    )),\r\n    full14: unequal(condBurstAbsorption, \"hydro\", unequal(condBurstAbsorption, undefined, sum(\r\n      prod(dmgNode(\"atk\", datamine.burst.baseDmg, \"burst\"), 20),\r\n      prod(dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption }}), 15),\r\n      prod(lookup(condBurstAbsorption, objectKeyMap(absorbableEle, ele => reactions.anemo[`${ele}Swirl`]), naught), 14)\r\n    )))\r\n  },\r\n  constellation1: {\r\n    aimed: greaterEq(input.constellation, 1,\r\n      customDmgNode(\r\n        prod(\r\n          percent(datamine.constellation1.dmgRatio),\r\n          subscript(input.total.autoIndex, datamine.charged.aimed, { key: \"_\" }),\r\n          input.total.atk\r\n        ),\r\n        \"charged\"\r\n      )\r\n    ),\r\n    fully: greaterEq(input.constellation, 1,\r\n      customDmgNode(\r\n        prod(\r\n          percent(datamine.constellation1.dmgRatio),\r\n          subscript(input.total.autoIndex, datamine.charged.fully, { key: \"_\" }),\r\n          input.total.atk\r\n        ),\r\n        \"charged\", { hit: { ele: constant(elementKey) } }\r\n      )\r\n    ),\r\n  },\r\n}\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: nodeC3,\r\n    skill: nodeC5,\r\n  },\r\n  premod: {\r\n    anemo_dmg_: c4_anemo_dmg_,\r\n    staminaGlidingDec_: p3_staminaGlidingDec_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      anemo_enemyRes_: sum(c2Hit_anemo_enemyRes_, c6_anemo_enemyRes_),\r\n      physical_enemyRes_: c2Hit_phys_enemyRes__,\r\n      ...c6_ele_enemyRes_arr,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: talentTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), undefined, undefined, [{\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey),\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: (i === 0 || i === 3) ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n        ),\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n            node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.constellation1.aimed, { key: `char_${key}:addAimed` })\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.fully, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.constellation1.fully, { key: `char_${key}:addFullAimed` })\r\n          }]\r\n        ),\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        ...sectionTemplate(\"auto\", tr, normalSrc(data_gen.weaponTypeKey), [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        ),\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }]),\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` })\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: datamine.skill.pressCD,\r\n        unit: \"s\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.2` })\r\n      }, {\r\n        text: st(\"holdCD\"),\r\n        value: datamine.skill.holdCD,\r\n        unit: \"s\"\r\n      }],\r\n      undefined, [\r\n        sectionTemplate(\"passive1\", tr, passive1, [{\r\n          text: trm(\"upcurrentDuration\"),\r\n          value: datamine.passive1.duration,\r\n          unit: \"s\"\r\n        }], undefined, data => data.get(input.asc).value >= 1, false, true\r\n        ), sectionTemplate(\"constellation2\", tr, c2, undefined, {\r\n          value: condC2,\r\n          path: condC2Path,\r\n          teamBuff: true,\r\n          canShow: greaterEq(input.constellation, 2, 1),\r\n          name: tr(\"constellation2.name\"),\r\n          states: {\r\n            hit: {\r\n              name: trm(\"c2.hit\"),\r\n              fields: [{\r\n                node: infoMut(c2Hit_anemo_enemyRes_, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n              }, {\r\n                node: c2Hit_phys_enemyRes__\r\n              }]\r\n            },\r\n            launched: {\r\n              name: trm(\"c2.launched\"),\r\n              fields: [{\r\n                node: infoMut(c2Hit_anemo_enemyRes_, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n              }, {\r\n                node: c2Hit_phys_enemyRes__\r\n              }]\r\n            }\r\n          }\r\n        })\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.base, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        textSuffix: st(\"brHits\", { count: datamine.burst.baseTicks })\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condBurstAbsorption,\r\n        path: condBurstAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.absorb, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n            textSuffix: st(\"brHits\", { count: datamine.burst.absorbTicks })\r\n          }]\r\n        }]))\r\n      }, [{\r\n        // Custom burst formula\r\n        ...sectionTemplate(\"burst\", tr, burst, [{\r\n          node: infoMut(dmgFormulas.burst.full7, { key: `char_${key}:fullBurstDMG.dmg7`, variant: \"physical\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.full14, { key: `char_${key}:fullBurstDMG.dmg14`, variant: \"physical\" }),\r\n        }], undefined, data => data.get(condBurstAbsorption).value !== undefined, undefined, true),\r\n        text: trm(\"fullBurstDMG.description\"),\r\n        }, sectionTemplate(\"passive2\", tr, passive2, [{\r\n            text: trm(\"regenEner\"),\r\n          }, {\r\n            text: trm(\"q\"),\r\n          }], undefined, data => data.get(input.asc).value >= 4, false, true\r\n        ), \r\n        // C6 anemo team-display\r\n        sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n          value: condC6,\r\n          path: condC6Path,\r\n          description: tr(\"constellation6.description.0\"),\r\n          teamBuff: true,\r\n          name: trm(\"c6\"),\r\n          canShow: greaterEq(input.constellation, 6, 1),\r\n          states: {\r\n            takeDmg: {\r\n              fields: [{\r\n                node: infoMut(c6_anemo_enemyRes_, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n              }]\r\n            }\r\n          }\r\n        }), \r\n        // C6 elemental self-display\r\n        sectionTemplate(\"constellation6\", tr, c6, absorbableEle.map(eleKey => (\r\n            { node: c6_ele_enemyRes_arr[`${eleKey}_enemyRes_`] }\r\n          )),\r\n          undefined,\r\n          data => data.get(input.constellation).value >= 6\r\n            && data.get(condBurstAbsorption).value !== undefined\r\n            && data.get(equal(target.charKey, key, 1)).value === 1,\r\n          false,\r\n          true\r\n        ),\r\n        // C6 elemental team-display\r\n        sectionTemplate(\"constellation6\", tr, c6, undefined, {\r\n          value: condBurstAbsorption,\r\n          path: condBurstAbsorptionPath,\r\n          description: tr(\"constellation6.description.1\"),\r\n          name: st(\"eleAbsor\"),\r\n          teamBuff: true,\r\n          canShow: greaterEq(input.constellation, 6, unequal(input.activeCharKey, key, 1)),\r\n          states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n            name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n            fields: [{\r\n              node: c6_ele_enemyRes_arr[`${eleKey}_enemyRes_`]\r\n            }]\r\n          }]))\r\n        })\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3, [{ node: p3_staminaGlidingDec_ }]),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4\"),\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        states: {\r\n          pickup: {\r\n            fields: [{\r\n              node: c4_anemo_dmg_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Xiangling\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4x4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg1: skillParam_gen.burst[b++],\r\n    dmg2: skillParam_gen.burst[b++],\r\n    dmg3: skillParam_gen.burst[b++],\r\n    dmgNado: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    atk_bonus: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    pyroRes: skillParam_gen.constellation1[0],\r\n    duration: skillParam_gen.constellation1[1],\r\n  },\r\n  constellation2: {\r\n    duration1: skillParam_gen.constellation2[0],\r\n    duration2: skillParam_gen.constellation2[1],\r\n    dmg: skillParam_gen.constellation2[2],\r\n  },\r\n  constellation6: {\r\n    pyroDmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\n// A4\r\nconst [condAfterChiliPath, condAfterChili] = cond(key, \"afterChili\")\r\nconst afterChili = greaterEq(input.asc, 4,\r\n  equal(\"afterChili\", condAfterChili, percent(datamine.passive2.atk_bonus)))\r\n\r\n// C1\r\nconst [condAfterGuobaHitPath, condAfterGuobaHit] = cond(key, \"afterGuobaHit\")\r\nconst afterGuobaHit = greaterEq(input.constellation, 1,\r\n  equal(\"afterGuobaHit\", condAfterGuobaHit, percent(-datamine.constellation1.pyroRes)))\r\n\r\n// C6\r\nconst [condDuringPyronadoPath, condDuringPyronado] = cond(key, \"afterPyronado\")\r\nconst duringPyronado = greaterEq(input.constellation, 6,\r\n  equal(\"duringPyronado\", condDuringPyronado, percent(datamine.constellation6.pyroDmg)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg1: dmgNode(\"atk\", datamine.burst.dmg1, \"burst\"),\r\n    dmg2: dmgNode(\"atk\", datamine.burst.dmg2, \"burst\"),\r\n    dmg3: dmgNode(\"atk\", datamine.burst.dmg3, \"burst\"),\r\n    dmgNado: dmgNode(\"atk\", datamine.burst.dmgNado, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    dmg: customDmgNode(prod(input.total.atk, percent(datamine.constellation2.dmg)), \"elemental\",\r\n      { hit: { ele: constant(elementKey) } })\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: afterChili,\r\n      pyro_dmg_: duringPyronado,\r\n      pyro_enemyRes_: afterGuobaHit,\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : i === 3 ? st(\"brHits\", { count: 4 }) : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` },)\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }], {\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        value: condAfterGuobaHit,\r\n        path: condAfterGuobaHitPath,\r\n        name: trm(\"afterGuobaHit\"),\r\n        header: conditionalHeader(\"constellation1\", tr, c1),\r\n        description: tr(\"constellation1.description\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterGuobaHit: {\r\n            fields: [{\r\n              node: afterGuobaHit\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\",\r\n            }],\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg1, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dmg2, { key: `char_${key}_gen:burst.skillParams.1` },)\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dmg3, { key: `char_${key}_gen:burst.skillParams.2` },)\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dmgNado, { key: `char_${key}_gen:burst.skillParams.3` },)\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        value: condDuringPyronado,\r\n        path: condDuringPyronadoPath,\r\n        name: trm(\"duringPyronado\"),\r\n        header: conditionalHeader(\"constellation6\", tr, c6),\r\n        description: tr(\"constellation6.description\"),\r\n        teamBuff: true,\r\n        states: {\r\n          duringPyronado: {\r\n            fields: [{\r\n              node: duringPyronado\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\",\r\n            }],\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        canShow: greaterEq(input.asc, 2, 1),\r\n        value: condAfterChili,\r\n        path: condAfterChiliPath,\r\n        name: trm(\"afterChili\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterChili: {\r\n            fields: [{\r\n              node: afterChili,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{\r\n        canShow: data => data.get(input.constellation).value >= 2,\r\n        value: datamine.constellation2.dmg,\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:explosionDMG` }),\r\n      }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined),\r\n    }\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { equal, equalStr, greaterEq, infoMut, lookup, naught, prod, subscript, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, sectionTemplate, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Xiao\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[2], // 2\r\n      skillParam_gen.auto[3], // 3\r\n      skillParam_gen.auto[4], // 4\r\n      skillParam_gen.auto[6], // 5\r\n      skillParam_gen.auto[7], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[8], // 1\r\n    stamina: skillParam_gen.auto[9][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[10],\r\n    low: skillParam_gen.auto[11],\r\n    high: skillParam_gen.auto[12],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmgBonus: skillParam_gen.burst[b++],\r\n    drain: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    dmgBonus: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    duration: skillParam_gen.passive2[0][0],\r\n    skillDmgBonus: skillParam_gen.passive2[1][0],\r\n    maxStacks: skillParam_gen.passive2[2][0],\r\n  },\r\n  passive3: {\r\n    staminaClimbingDec_: 0.20,\r\n  },\r\n  constellation2: {\r\n    enerRech_: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    hpThresh: skillParam_gen.constellation4[0],\r\n    def_: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    duration: skillParam_gen.constellation6[0]\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst [condInBurstPath, condInBurst] = cond(key, \"inBurst\")\r\nconst auto_dmg_ = subscript(input.total.burstIndex, datamine.burst.dmgBonus, { key: \"_\" })\r\nconst normal_dmg_ = equal(\"inBurst\", condInBurst, auto_dmg_, { key: \"_\" })\r\nconst charged_dmg_ = { ...normal_dmg_ }\r\nconst plunging_dmg_ = { ...normal_dmg_ }\r\nconst lifeDrain = subscript(input.total.burstIndex, datamine.burst.drain)\r\nconst infusion = equalStr(\"inBurst\", condInBurst, elementKey)\r\n\r\nconst [condA1BurstStackPath, condA1BurstStack] = cond(key, \"a1BurstStack\")\r\nconst a1BurstStackArr = range(0, 4)\r\nconst all_dmg_ = equal(\"inBurst\", condInBurst,\r\n  lookup(condA1BurstStack,\r\n    Object.fromEntries(a1BurstStackArr.map(i => [i, prod(datamine.passive1.dmgBonus, i + 1)])),\r\n    naught\r\n  )\r\n)\r\n\r\nconst [condA4SkillStackPath, condA4SkillStack] = cond(key, \"a4SkillStack\")\r\nconst a4SkillStackArr = range(1, datamine.passive2.maxStacks)\r\nconst skill_dmg_ = greaterEq(input.asc, 4,\r\n  lookup(condA4SkillStack,\r\n    Object.fromEntries(a4SkillStackArr.map(i => [i, prod(datamine.passive2.skillDmgBonus, i)])),\r\n    naught\r\n  )\r\n)\r\n\r\nconst c2Inactive = greaterEq(input.constellation, 2,\r\n  unequal(input.activeCharKey, key, 1)\r\n)\r\nconst c2Inactive_enerRech_ = equal(c2Inactive, 1, datamine.constellation2.enerRech_)\r\n\r\nconst [condC4BelowHPPath, condC4BelowHP] = cond(key, \"c4BelowHP\")\r\nconst c4BelowHP_def_ = greaterEq(input.constellation, 4,\r\n  equal(\"c4BelowHP\", condC4BelowHP, datamine.constellation4.def_))\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    normal_dmg_,\r\n    charged_dmg_,\r\n    plunging_dmg_,\r\n    all_dmg_,\r\n    skill_dmg_,\r\n    enerRech_: c2Inactive_enerRech_,\r\n    def_: c4BelowHP_def_,\r\n  },\r\n  infusion,\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.7\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: st(\"charges\"),\r\n        value: data => data.get(input.constellation).value >= 1 ? 3 : 2,\r\n      }], undefined, [ // A4\r\n        sectionTemplate(\"passive2\", tr, passive2, undefined, {\r\n          path: condA4SkillStackPath,\r\n          value: condA4SkillStack,\r\n          header: conditionalHeader(\"passive2\", tr, passive2),\r\n          description: tr(\"passive2.description\"),\r\n          name: trm(\"skillStack\"),\r\n          canShow: greaterEq(input.asc, 4, 1),\r\n          states: Object.fromEntries(a4SkillStackArr.map(i => [i, {\r\n            name: st(\"uses\", { count: i }),\r\n            fields: [{ node: skill_dmg_ }]\r\n          }]))\r\n        })\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(auto_dmg_, { key: `char_${key}:burst.autoAtkDmgBonus_` }),\r\n      }, {\r\n        node: infoMut(lifeDrain, { key: `char_${key}:burst.lifeDrain_` }),\r\n        textSuffix: trm(\"burst.currentHPPerSec\"),\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        path: condInBurstPath,\r\n        value: condInBurst,\r\n        name: trm(\"burst.inBurst\"),\r\n        states: {\r\n          inBurst: {\r\n            fields: [{\r\n              node: normal_dmg_,\r\n            }, {\r\n              node: charged_dmg_,\r\n            }, {\r\n              node: plunging_dmg_,\r\n            }, {\r\n              text: trm(\"burst.incJump\"),\r\n            }, {\r\n              text: trm(\"burst.incAtkAoe\"),\r\n            }, {\r\n              canShow: data => data.get(infusion).value === elementKey,\r\n              text: <ColorText color=\"anemo\">{st(\"infusion.anemo\")}</ColorText>\r\n            }]\r\n          }\r\n        }\r\n      }, [ // A1\r\n        sectionTemplate(\"passive1\", tr, passive1, undefined, {\r\n          path: condA1BurstStackPath,\r\n          value: condA1BurstStack,\r\n          name: trm(\"burst.stack\"),\r\n          canShow: greaterEq(input.asc, 1, equal(\"inBurst\", condInBurst, 1)),\r\n          states: Object.fromEntries(a1BurstStackArr.map(i => [i, {\r\n            name: st(\"seconds\", { count: i * 3 }),\r\n            fields: [{ node: all_dmg_ }]\r\n          }]))\r\n        })\r\n      ]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, undefined, [\r\n        sectionTemplate(\"constellation2\", tr, c2, [{ node: c2Inactive_enerRech_ }], undefined,\r\n          data => data.get(c2Inactive).value === 1,\r\n          true,\r\n          true\r\n        )\r\n      ]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        path: condC4BelowHPPath,\r\n        value: condC4BelowHP,\r\n        name: st(\"lessPercentHP\", { percent: datamine.constellation4.hpThresh * 100 }),\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        states: {\r\n          c4BelowHP: {\r\n            fields: [{ node: c4BelowHP_def_ }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from \"../../../Formula/index\"\r\nimport { constant, equal, greaterEq, infoMut, min, percent, prod, subscript, sum } from \"../../../Formula/utils\"\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Xingqiu\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet s = 0, b = 0\r\nexport const datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      (skillParam_gen.auto[0]),//1\r\n      (skillParam_gen.auto[1]),//2\r\n      (skillParam_gen.auto[2]),//3\r\n      // (skillParam_gen.auto[3]),\r\n      (skillParam_gen.auto[4]),//4\r\n      (skillParam_gen.auto[5]),//5\r\n      // (skillParam_gen.auto[6]),\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: (skillParam_gen.auto[7]),\r\n    hit2: (skillParam_gen.auto[8]),\r\n    stamina: skillParam_gen.auto[9][0]\r\n  },\r\n  plunging: {\r\n    dmg: (skillParam_gen.auto[10]),\r\n    low: (skillParam_gen.auto[11]),\r\n    high: (skillParam_gen.auto[12]),\r\n  },\r\n  skill: {\r\n    hit1: (skillParam_gen.skill[s++]),\r\n    hit2: (skillParam_gen.skill[s++]),\r\n    dmgRed_: (skillParam_gen.skill[s++]),\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: (skillParam_gen.burst[b++]),\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    hydro_dmg_: 0.20\r\n  },\r\n  constellation2: {\r\n    hydro_enemyRes_: -0.15,\r\n    skill_duration: 3\r\n  },\r\n  constellation4: {\r\n    dmg_: 0.50\r\n  },\r\n} as const\r\n\r\nconst nodeA4 = greaterEq(input.asc, 4, datamine.passive2.hydro_dmg_)\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst nodeC2 = greaterEq(input.constellation, 2,\r\n  equal(condC2, \"on\", datamine.constellation2.hydro_enemyRes_))\r\n\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst nodeC4 = greaterEq(input.constellation, 4,\r\n  equal(condBurst, \"on\", datamine.constellation4.dmg_), { key: `char_${key}:c4dmg_` })\r\n\r\nconst nodeSkillDmgRed_ = equal(condSkill, \"on\",\r\n  sum(subscript(input.total.skillIndex, datamine.skill.dmgRed_, { key: \"_\" }), min(percent(0.24), prod(percent(0.2), input.total.hydro_dmg_))))\r\n\r\nconst nodeA4Heal = customHealNode(greaterEq(input.asc, 1, prod(input.total.hp, percent(0.06))))\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press1: prod(sum(percent(1), nodeC4), dmgNode(\"atk\", datamine.skill.hit1, \"skill\")),\r\n    press2: prod(sum(percent(1), nodeC4), dmgNode(\"atk\", datamine.skill.hit2, \"skill\")),\r\n    dmgRed_: nodeSkillDmgRed_,\r\n  },\r\n  passive1: {\r\n    healing: nodeA4Heal\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      hydro_enemyRes_: nodeC2,\r\n      dmgRed_: infoMut(nodeSkillDmgRed_, { key: \"dmgRed_\" }),\r\n    }\r\n  },\r\n  premod: {\r\n    hydro_dmg_: nodeA4,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: (i === 2 || i === 4) ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(1)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(2)\"\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.press2, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: data => data.get(input.constellation).value >= 2\r\n          ? `${datamine.skill.duration}s + ${datamine.constellation2.skill_duration}`\r\n          : `${datamine.skill.duration}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }], {\r\n        teamBuff: true,\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        name: trm(\"skillCond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: dmgFormulas.skill.dmgRed_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cost,\r\n      }], {\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burstCond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n            }, {\r\n              text: tr(\"burst.skillParams.1\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              node: nodeC4\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        node: infoMut(dmgFormulas.passive1.healing, { key: `sheet_gen:healing`, variant: \"success\" }),\r\n      },]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        node: nodeA4\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        value: condC2,\r\n        path: condC2Path,\r\n        teamBuff: true,\r\n        name: trm(\"c2Cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC2\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lessThan, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"YaeMiko\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg1: skillParam_gen.skill[s++],\r\n    dmg2: skillParam_gen.skill[s++],\r\n    dmg3: skillParam_gen.skill[s++],\r\n    dmg4: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    tenkoDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    eleMas_dmg_: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation4: {\r\n    ele_dmg_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    defIgn_: skillParam_gen.constellation6[0],\r\n  }\r\n\r\n} as const\r\n\r\nconst nodeAsc4 = greaterEq(input.asc, 4, prod(input.total.eleMas, percent(datamine.passive2.eleMas_dmg_)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst nodeC4 = greaterEq(input.constellation, 4, equal(\"hit\", condC4, datamine.constellation4.ele_dmg_))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, datamine.constellation6.defIgn_)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg1: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg1, \"skill\")),\r\n    dmg2: dmgNode(\"atk\", datamine.skill.dmg2, \"skill\", { enemy: { defIgn: nodeC6 } }),\r\n    dmg3: dmgNode(\"atk\", datamine.skill.dmg3, \"skill\", { enemy: { defIgn: nodeC6 } }),\r\n    dmg4: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg4, \"skill\", { enemy: { defIgn: nodeC6 } })),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    tenkoDmg: dmgNode(\"atk\", datamine.burst.tenkoDmg, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5\r\n  },\r\n  total: {\r\n    skill_dmg_: nodeAsc4,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_dmg_: nodeC4\r\n    },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.3` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg2, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg3, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg4, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.4\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.5\"),\r\n        value: datamine.skill.cd,\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.tenkoDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.enerCost,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{ node: nodeAsc4 }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        name: trm(\"c4\"),\r\n        states: {\r\n          hit: {\r\n            fields: [{\r\n              node: nodeC4,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, matchFull, percent, prod, subscript, sum, unequal } from \"../../../Formula/utils\"\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { INodeFieldDisplay } from '../../../Types/IFieldDisplay'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst characterKey: CharacterKey = \"Yoimiya\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, charTr] = trans(\"char\", characterKey)\r\n\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0],//x2\r\n      skillParam_gen.auto[1],\r\n      skillParam_gen.auto[2],\r\n      skillParam_gen.auto[3],//x2\r\n      skillParam_gen.auto[4],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit: skillParam_gen.auto[5],\r\n    full: skillParam_gen.auto[6],\r\n    kindling: skillParam_gen.auto[7],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    dmg_: skillParam_gen.skill[3],\r\n    duration: skillParam_gen.skill[1][0],\r\n    cd: skillParam_gen.skill[2][0]\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[0],\r\n    exp: skillParam_gen.burst[1],\r\n    duration: skillParam_gen.burst[3][0],\r\n    cd: skillParam_gen.burst[4][0],\r\n    cost: skillParam_gen.burst[5][0]\r\n  },\r\n  passive1: {\r\n    pyro_dmg_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n    maxStacks: 10,\r\n  },\r\n  passive2: {\r\n    fixed_atk_: skillParam_gen.passive2[0][0],\r\n    var_atk_: skillParam_gen.passive2[1][0],\r\n    duration: skillParam_gen.passive2[2][0],\r\n  },\r\n  constellation1: {\r\n    burst_durationInc: skillParam_gen.constellation1[0],\r\n    atk_: skillParam_gen.constellation1[1],\r\n    duration: skillParam_gen.constellation1[2]\r\n  },\r\n  constellation2: {\r\n    pyro_dmg_: skillParam_gen.constellation2[0],\r\n    duration: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation3: {},\r\n  constellation4: {\r\n    cdRed: skillParam_gen.constellation4[0]\r\n  },\r\n  constellation5: {},\r\n  constellation6: {\r\n    chance: skillParam_gen.constellation6[0],\r\n    dmg_: skillParam_gen.constellation6[1],\r\n  },\r\n}\r\n\r\nconst [condSkillPath, condSkill] = cond(characterKey, \"skill\")\r\nconst [condBurstPath, condBurst] = cond(characterKey, \"burst\")\r\nconst [condA1Path, condA1] = cond(characterKey, \"a1\")\r\nconst [condC1Path, condC1] = cond(characterKey, \"c1\")\r\nconst [condC2Path, condC2] = cond(characterKey, \"c2\")\r\nconst const3TalentInc = greaterEq(input.constellation, 3, 3)\r\nconst const5TalentInc = greaterEq(input.constellation, 5, 3)\r\nconst normal_dmgMult = matchFull(condSkill, \"skill\", subscript(input.total.skillIndex, datamine.skill.dmg_), 1)\r\nconst a1Stacks = lookup(condA1, Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i => [i, constant(i)])), 0)\r\nconst pyro_dmg_ = infoMut(prod(percent(datamine.passive1.pyro_dmg_), a1Stacks), { key: 'pyro_dmg_', variant: elementKey })\r\nconst atk_ = greaterEq(input.asc, 4, equal(condBurst, \"on\", unequal(input.activeCharKey, characterKey,\r\n  sum(percent(datamine.passive2.fixed_atk_), prod(percent(datamine.passive2.var_atk_), a1Stacks)))))\r\nconst c1atk_ = equal(condC1, 'c1', percent(datamine.constellation1.atk_))\r\nconst c2pyro_dmg_ = equal(condC2, 'c2', percent(datamine.constellation2.pyro_dmg_), { key: 'pyro_dmg_', variant: elementKey })\r\n\r\nconst canShowC6 = data => data.get(input.constellation).value >= 6 && data.get(condSkill).value === 'skill'\r\n\r\nconst normalEntries = datamine.normal.hitArr.map((arr, i) =>\r\n  [i, prod(normal_dmgMult, dmgNode(\"atk\", arr, \"normal\", { hit: { ele: matchFull(condSkill, \"skill\", constant(elementKey), constant(\"physical\")) } }))])\r\nconst kindlingEntries = normalEntries.map(([_, node], i) => [i, greaterEq(input.constellation, 6, prod(percent(datamine.constellation6.dmg_), node))])\r\n\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(normalEntries),\r\n  charged: {\r\n    hit: dmgNode(\"atk\", datamine.charged.hit, \"charged\"),\r\n    full: dmgNode(\"atk\", datamine.charged.full, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n    kindling: unequal(condSkill, \"skill\", dmgNode(\"atk\", datamine.charged.kindling, \"charged\", { hit: { ele: constant(elementKey) } }))\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {},\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n    exp: dmgNode(\"atk\", datamine.burst.exp, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  constellation6: Object.fromEntries(kindlingEntries)\r\n}\r\n\r\nexport const dataObj = dataObjForCharacterSheet(characterKey, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: const3TalentInc,\r\n    burst: const5TalentInc,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_,\r\n    }\r\n  },\r\n  premod: {\r\n    atk_: c1atk_,\r\n    pyro_dmg_: sum(pyro_dmg_, c2pyro_dmg_),\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) => ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${characterKey}_gen:auto.skillParams.${i}` }),\r\n              textSuffix: ([0, 3].includes(i)) ? st(\"brHits\", { count: 2 }) : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.hit, { key: `char_${characterKey}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.full, { key: `char_${characterKey}_gen:auto.skillParams.6` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.kindling, { key: `char_${characterKey}_gen:auto.skillParams.7` }),\r\n            }]\r\n          }, {\r\n            text: tr(`auto.fields.plunging`),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          },\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: datamine.skill.cd,\r\n        unit: 's'\r\n      }], {\r\n        name: charTr(\"skillState\"),\r\n        path: condSkillPath,\r\n        value: condSkill,\r\n        states: {\r\n          skill: {\r\n            fields: [{\r\n              text: charTr(\"normMult\"),\r\n              value: data => data.get(normal_dmgMult).value * 100,\r\n              fixed: 1,\r\n              unit: \"%\",\r\n            }, {\r\n              text: charTr(\"normPyroInfus\"),\r\n            }, {\r\n              text: tr(\"skill.skillParams.1\"),\r\n              value: datamine.skill.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${characterKey}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.exp, { key: `char_${characterKey}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: uiData => datamine.burst.duration + (uiData.get(input.constellation).value >= 1 ? datamine.constellation1.burst_durationInc : 0),\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: 60,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        value: condA1,\r\n        path: condA1Path,\r\n        name: tr(\"passive1.name\"),\r\n        states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i =>\r\n          [i, {\r\n            name: `${i} stack`,\r\n            fields: [{\r\n              node: pyro_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }]))\r\n      }\r\n      ),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        teamBuff: true,\r\n        canShow: atk_,\r\n        path: condBurstPath,\r\n        value: condBurst,\r\n        name: tr(\"burst.name\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: atk_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [], {\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        name: charTr(\"c1\"),\r\n        value: condC1,\r\n        path: condC1Path,\r\n        states: {\r\n          c1: {\r\n            fields: [{\r\n              node: constant(datamine.constellation1.atk_, { key: \"atk_\" })\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        name: charTr(\"c2\"),\r\n        value: condC2,\r\n        path: condC2Path,\r\n        states: {\r\n          c2: {\r\n            fields: [{\r\n              node: c2pyro_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: const3TalentInc }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: const5TalentInc }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6,\r\n        datamine.normal.hitArr.map((_, i): INodeFieldDisplay => ({\r\n          canShow: canShowC6,\r\n          node: infoMut(dmgFormulas.constellation6[i], { key: `char_${characterKey}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: ([0, 3].includes(i)) ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      )\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, dataObj);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { allElements, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"YunJin\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3.1\r\n      skillParam_gen.auto[a++], // 3.2\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shield_: skillParam_gen.skill[s++],\r\n    shield: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    dmg1: skillParam_gen.skill[s++],\r\n    dmg2: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dmgInc: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    triggerNum: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    dmgInc: skillParam_gen.passive2.map(a => a[0]),\r\n  },\r\n  constellation2: {\r\n    normalInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    def_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    atkSpd: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst nodeA4 = greaterEq(input.asc, 4,\r\n  subscript(sum(...allElements.map(ele => greaterEq(tally[ele], 1, 1))), [0, ...datamine.passive2.dmgInc], { key: '_' }))\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"skill\")\r\nconst nodeSkill = equal(\"on\", condBurst, sum(\r\n  prod(input.premod.def, sum(subscript(input.total.burstIndex, datamine.burst.dmgInc, { key: '_' }), nodeA4))))\r\n\r\nconst nodeC2 = greaterEq(input.constellation, 2, equal(\"on\", condBurst, datamine.constellation2.normalInc))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst nodeC4 = greaterEq(input.constellation, 4, equal(\"on\", condC4, datamine.constellation4.def_))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, equal(\"on\", condBurst, datamine.constellation6.atkSpd))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    dmg1: dmgNode(\"atk\", datamine.skill.dmg1, \"skill\"),\r\n    dmg2: dmgNode(\"atk\", datamine.skill.dmg2, \"skill\"),\r\n    shield: shieldNodeTalent(\"hp\", datamine.skill.shield_, datamine.skill.shield, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dmgInc: nodeSkill\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    def_: nodeC4,\r\n    atkSPD_: nodeC6,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      normal_dmgInc: nodeSkill,\r\n      normal_dmg_: nodeC2,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i > 2 ? -1 : 0) + (i > 4 ? -1 : 0)}` }),\r\n            textSuffix: (i === 2 || i === 4) ? \"(1)\" : (i === 3 || i === 5) ? \"(2)\" : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg1, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg2, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.4\"),\r\n        value: data => data.get(input.constellation).value >= 1\r\n          ? `${datamine.skill.cd} - 18% = ${(datamine.skill.cd*(1-0.18)).toFixed(2)}`\r\n          : `${datamine.skill.cd}`,\r\n        unit: \"s\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        teamBuff: true,\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeSkill\r\n            }, {\r\n              node: nodeC2\r\n            }, {\r\n              node: nodeC6\r\n            }, {\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: tr(\"burst.skillParams.3\"),\r\n              value: datamine.burst.triggerNum,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{ node: infoMut(nodeA4, { key: `char_${key}:a4Inc_` }) }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{ node: nodeC2 }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC4\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            },]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, naught, percent, prod } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, objectKeyValueMap, range } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Zhongli\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    stele: skillParam_gen.skill[s++],\r\n    resonance: skillParam_gen.skill[s++],\r\n    pressCD: skillParam_gen.skill[s++][0],\r\n    holdDMG: skillParam_gen.skill[s++],\r\n    shield: skillParam_gen.skill[s++],\r\n    shield_: skillParam_gen.skill[s++],\r\n    shileDuration: skillParam_gen.skill[s++][0],\r\n    holdCD: skillParam_gen.skill[s++][0],\r\n    enemyRes_: -0.2,\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    shield_: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    auto_: skillParam_gen.passive2[p2++][0],\r\n    skill_: skillParam_gen.passive2[p2++][0],\r\n    burst_: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation4: {\r\n    durationInc: skillParam_gen.constellation4[1]\r\n  },\r\n  constellation6: {\r\n    hp_: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\nconst nodesSkill = objectKeyValueMap(allElementsWithPhy, k => [`${k}_enemyRes_`,\r\nequal(\"on\", condSkill, percent(datamine.skill.enemyRes_))])\r\n\r\nconst [condP1Path, condP1] = cond(key, \"p1\")\r\nconst nodeP1 = greaterEq(\r\n  input.asc, 1,\r\n  lookup(condP1, objectKeyMap(range(1, 5), i => percent(datamine.passive1.shield_ * i)), naught)\r\n)\r\n\r\nconst p4AutoDmgInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.auto_), input.premod.hp))\r\nconst p4normalDmgInc = { ...p4AutoDmgInc }\r\nconst p4ChargedDmgInc = { ...p4AutoDmgInc }\r\nconst p4PlungingDmgInc = { ...p4AutoDmgInc }\r\nconst p4SKillDmgInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.skill_), input.premod.hp))\r\nconst p4BurstDmgInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.burst_), input.premod.hp))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6,\r\n  customHealNode(prod(\r\n    percent(datamine.constellation6.hp_),\r\n    input.total.hp\r\n  )))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    stele: dmgNode(\"atk\", datamine.skill.stele, \"skill\"),\r\n    resonance: dmgNode(\"atk\", datamine.skill.resonance, \"skill\"),\r\n    holdDMG: dmgNode(\"atk\", datamine.skill.holdDMG, \"skill\"),\r\n    shield: shieldElement(\"geo\", shieldNodeTalent(\"hp\", datamine.skill.shield_, datamine.skill.shield, \"skill\"))\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    p4normalDmgInc,\r\n    p4ChargedDmgInc,\r\n    p4PlungingDmgInc,\r\n    p4SKillDmgInc,\r\n    p4BurstDmgInc,\r\n  },\r\n  constellation6: {\r\n    heal: nodeC6\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    // TODO: below should be for `total`\r\n    normal_dmgInc: p4normalDmgInc,\r\n    charged_dmgInc: p4ChargedDmgInc,\r\n    plunging_dmgInc: p4PlungingDmgInc,\r\n    skill_dmgInc: p4SKillDmgInc,\r\n    burst_dmgInc: p4BurstDmgInc,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      shield_: nodeP1,\r\n      ...nodesSkill,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 4 ? st(\"brHits\", { count: 4 }) : \"\"\r\n          }))\r\n        },\r\n        {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.7\"),\r\n            value: datamine.charged.stamina,\r\n          },]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.stele, { key: `char_${key}:skill.stele` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.resonance, { key: `char_${key}:skill.resonance` })\r\n      }, {\r\n        text: trm(\"skill.maxStele\"),\r\n        value: data => data.get(input.constellation).value >= 1 ? 2 : 1\r\n      }, {\r\n        text: st(\"pressCD\"),\r\n        value: datamine.skill.pressCD,\r\n        unit: \"s\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.holdDMG, { key: `char_${key}_gen:skill.skillParams.2` })\r\n      }, {\r\n        text: st(\"holdCD\"),\r\n        value: datamine.skill.holdCD,\r\n        unit: \"s\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.shield, { key: `sheet_gen:dmgAbsorption` })\r\n      }, {\r\n        text: tr(\"skill.skillParams.5\"),\r\n        value: datamine.skill.shileDuration,\r\n        unit: \"s\"\r\n      }], {\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        teamBuff: true,\r\n        name: trm(\"skill.nearShield\"),\r\n        states: {\r\n          on: {\r\n            fields: Object.values(nodesSkill).map(node => ({ node }))\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: data =>\r\n          data.get(input.constellation).value < 4 ?\r\n            datamine.burst.duration[data.get(input.total.burstIndex).value] :\r\n            `${datamine.burst.duration[data.get(input.total.burstIndex).value]}s +${datamine.constellation4.durationInc}`,\r\n        fixed: 1,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.enerCost,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        value: condP1,\r\n        path: condP1Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        name: trm(\"p1cond\"),\r\n        states: objectKeyMap(range(1, 5), i => ({ name: st(\"stack\", { count: i }), fields: [{ node: nodeP1 }] }))\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        node: p4normalDmgInc\r\n      }, {\r\n        node: p4ChargedDmgInc\r\n      }, {\r\n        node: p4PlungingDmgInc\r\n      }, {\r\n        node: p4SKillDmgInc\r\n      }, {\r\n        node: p4BurstDmgInc\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, [{\r\n        node: infoMut(dmgFormulas.constellation6.heal, { key: `char_${key}:c6heal`, variant: \"success\" })\r\n      }]),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterKey } from '../../Types/consts'\r\nimport CharacterSheet from './CharacterSheet'\r\n\r\nimport Albedo from './Albedo'\r\nimport Aloy from './Aloy'\r\nimport Amber from './Amber'\r\nimport AratakiItto from './AratakiItto'\r\n// import Barbara from './Barbara'\r\nimport Beidou from './Beidou'\r\nimport Bennett from './Bennett'\r\n// import Chongyun from './Chongyun'\r\nimport Diluc from './Diluc'\r\nimport Diona from './Diona'\r\nimport Eula from './Eula'\r\nimport Fischl from './Fischl'\r\nimport Ganyu from './Ganyu'\r\nimport Gorou from './Gorou'\r\nimport HuTao from './HuTao'\r\nimport Jean from './Jean'\r\nimport KaedeharaKazuha from './KaedeharaKazuha'\r\n// import Kaeya from './Kaeya'\r\nimport KamisatoAyaka from './KamisatoAyaka'\r\nimport Keqing from './Keqing'\r\nimport Klee from './Klee'\r\nimport KujouSara from './KujouSara'\r\n// import Lisa from './Lisa'\r\nimport Mona from './Mona'\r\nimport Ningguang from './Ningguang'\r\nimport Noelle from './Noelle'\r\n// import Qiqi from './Qiqi'\r\nimport RaidenShogun from './RaidenShogun'\r\nimport Razor from './Razor'\r\nimport Rosaria from './Rosaria'\r\nimport SangonomiyaKokomi from './SangonomiyaKokomi'\r\nimport Sayu from './Sayu'\r\nimport Shenhe from \"./Shenhe\"\r\nimport Sucrose from \"./Sucrose\"\r\nimport Tartaglia from './Tartaglia'\r\n// import Thoma from './Thoma'\r\nimport Traveler from './Traveler'\r\nimport Venti from './Venti'\r\nimport Xiangling from './Xiangling'\r\nimport Xiao from './Xiao'\r\nimport Xingqiu from './Xingqiu'\r\n// import Xinyan from './Xinyan'\r\nimport YaeMiko from './YaeMiko'\r\n// import Yanfei from './Yanfei'\r\nimport Yoimiya from './Yoimiya'\r\nimport YunJin from './YunJin'\r\nimport Zhongli from './Zhongli'\r\n\r\nconst characters: Record<CharacterKey, CharacterSheet> = {\r\n  Albedo,\r\n  Aloy,\r\n  Amber,\r\n  AratakiItto,\r\n  // Barbara,\r\n  Beidou,\r\n  Bennett,\r\n  // Chongyun,\r\n  Diluc,\r\n  Diona,\r\n  Eula,\r\n  Fischl,\r\n  Ganyu,\r\n  Gorou,\r\n  HuTao,\r\n  Jean,\r\n  KaedeharaKazuha,\r\n  // Kaeya,\r\n  KamisatoAyaka,\r\n  Keqing,\r\n  Klee,\r\n  KujouSara,\r\n  // Lisa,\r\n  Mona,\r\n  Ningguang,\r\n  Noelle,\r\n  // Qiqi,\r\n  RaidenShogun,\r\n  Razor,\r\n  Rosaria,\r\n  SangonomiyaKokomi,\r\n  Sayu,\r\n  Shenhe,\r\n  Sucrose,\r\n  Tartaglia,\r\n  // Thoma,\r\n  Traveler,\r\n  Venti,\r\n  Xiangling,\r\n  Xiao,\r\n  Xingqiu,\r\n  // Xinyan,\r\n  YaeMiko,\r\n  // Yanfei,\r\n  Yoimiya,\r\n  YunJin,\r\n  Zhongli\r\n} as const\r\nexport default characters\r\n","import { Translate } from \"../Components/Translate\"\r\nimport { ReadNode } from \"../Formula/type\"\r\nimport { customStringRead } from \"../Formula/utils\"\r\nimport { ArtifactSetKey, CharacterKey, WeaponKey } from \"../Types/consts\"\r\n\r\nexport const st = (strKey: string, values?: object) => <Translate ns=\"sheet\" key18={strKey} values={values} />\r\nexport const sgt = (strKey: string) => <Translate ns=\"sheet_gen\" key18={strKey} />\r\n\r\nexport const condReadNode = (path: string[]) => customStringRead([\"conditional\", ...path])\r\nexport function cond(key: CharacterKey | WeaponKey | ArtifactSetKey, subKey: string): [path: string[], node: ReadNode<string>] {\r\n  const path = [key, subKey]\r\n  const node = condReadNode(path)\r\n  return [path, node]\r\n}\r\n\r\ntype Translated = [tr: ((i18key: string) => Displayable), tran: ((i18key: string, values?: object) => Displayable)]\r\nexport function trans(typeKey: \"char\", key: CharacterKey): Translated\r\nexport function trans(typeKey: \"weapon\", key: WeaponKey): Translated\r\nexport function trans(typeKey: \"artifact\", key: ArtifactSetKey): Translated\r\nexport function trans(typeKey: \"char\" | \"weapon\" | \"artifact\", key: CharacterKey | WeaponKey | ArtifactSetKey): Translated {\r\n  return [\r\n    (strKey: string) => <Translate ns={`${typeKey}_${key}_gen`} key18={strKey} />,\r\n    (strKey: string, values?: object) => <Translate ns={`${typeKey}_${key}`} key18={strKey} values={values} />\r\n  ]\r\n}\r\n","import { crystallizeLevelMultipliers, transformativeReactionLevelMultipliers, transformativeReactions } from \"../StatConstants\";\r\nimport { absorbableEle } from \"../Types/consts\";\r\nimport { objectKeyMap } from \"../Util/Util\";\r\nimport { input } from \"./index\";\r\nimport { frac, infoMut, percent, prod, subscript, sum, unit } from \"./utils\";\r\n\r\nconst asConst = true as const\r\n\r\nconst crystallizeMulti1 = subscript(input.lvl, crystallizeLevelMultipliers)\r\nconst crystallizeElemas = prod(40 / 9, frac(input.total.eleMas, 1400))\r\nconst crystallizeHit = infoMut(prod(sum(unit, /** + Crystallize bonus */ crystallizeElemas), crystallizeMulti1), { key: \"crystallize\", variant: \"geo\" })\r\n\r\nconst transMulti1 = subscript(input.lvl, transformativeReactionLevelMultipliers)\r\nconst transMulti2 = prod(16, frac(input.total.eleMas, 2000))\r\nconst trans = {\r\n  ...objectKeyMap([\"overloaded\", \"electrocharged\", \"superconduct\", \"shattered\"] as const, reaction => {\r\n    const { multi, variants: [ele] } = transformativeReactions[reaction]\r\n    return infoMut(prod(\r\n      infoMut(prod(multi, transMulti1), { asConst }),\r\n      sum(unit, transMulti2, input.total[`${reaction}_dmg_`]),\r\n      input.enemy[`${ele}_resMulti`]),\r\n      { key: `${reaction}_hit`, variant: reaction })\r\n  }),\r\n  swirl: objectKeyMap(transformativeReactions.swirl.variants, ele => infoMut(\r\n    prod(\r\n      infoMut(prod(transformativeReactions.swirl.multi, transMulti1), { asConst }),\r\n      sum(unit, transMulti2, input.total.swirl_dmg_),\r\n      input.enemy[`${ele}_resMulti`]),\r\n    { key: `${ele}_swirl_hit`, variant: ele }))\r\n}\r\nexport const reactions = {\r\n  anemo: {\r\n    electroSwirl: trans.swirl.electro,\r\n    pyroSwirl: trans.swirl.pyro,\r\n    cryoSwirl: trans.swirl.cryo,\r\n    hydroSwirl: trans.swirl.hydro,\r\n    shattered: trans.shattered,\r\n  },\r\n  geo: {\r\n    crystallize: crystallizeHit,\r\n    ...Object.fromEntries(absorbableEle.map(e => [`${e}Crystallize`,\r\n    infoMut(prod(percent(2.5), crystallizeHit), { key: `${e}_crystallize`, variant: e })])),\r\n    shattered: trans.shattered,\r\n  },\r\n  electro: {\r\n    overloaded: trans.overloaded,\r\n    electrocharged: trans.electrocharged,\r\n    superconduct: trans.superconduct,\r\n    shattered: trans.shattered,\r\n  },\r\n  hydro: {\r\n    electrocharged: trans.electrocharged,\r\n    shattered: trans.shattered,\r\n  },\r\n  pyro: {\r\n    overloaded: trans.overloaded,\r\n    shattered: trans.shattered,\r\n  },\r\n  cryo: {\r\n    superconduct: trans.superconduct,\r\n    shattered: trans.shattered,\r\n  },\r\n}\r\n"],"names":["charCurves","objectMap","_charCurves","value","Object","values","commonBasic","objectKeyMap","key","input","critRate_","inferredHitEle","stringPrio","equalStr","getTalentType","move","customDmgNode","base","additional","data","mergeData","hit","constant","ele","undefined","customShieldNode","shieldNode","prod","sum","unit","customHealNode","healNode","dmgNode","lvlMultiplier","talentType","subscript","percent","flat","shieldNodeTalent","baseMultiplier","talentIndex","shieldElement","element","infoMut","variant","healNodeTalent","dataObjForCharacterSheet","region","gen","display","curve","lvlCurve","basic","foundSpecial","charKey","weaponType","weaponTypeKey","premod","charEle","teamBuff","tally","reaction","reactions","layeredAssignment","physical_dmg_","stat","list","curves","push","ascensions","some","x","props","map","NaN","length","result","prefix","asConst","endsWith","info","slice","Error","special","allMainStatKeys","inferInfoMut","data_gen","data_gen_src","trans","tr","trm","auto","normalSrc","a","s","b","datamine","normal","hitArr","skillParam_gen","charged","dmg1","dmg2","stamina","plunging","dmg","low","high","skill","skillDmg","blossomDmg","duration","cd","blossomCd","burst","burstDmg","blossomAmt","enerCost","passive1","blossomDmgInc","hpThresh","passive2","eleMasInc","constellation1","blossomEner","constellation2","maxStacks","stackDuration","constellation4","plunging_dmg_","constellation6","bonus_dmg_","cond","condBurstBlossomPath","condBurstBlossom","condBurstUsedPath","condBurstUsed","p2Burst_eleMas","equal","greaterEq","condP1EnemyHpPath","condP1EnemyHp","p1_blossom_dmg_","condC2StacksPath","condC2Stacks","c2_burst_dmgInc","lookup","fromEntries","range","i","naught","condSkillInFieldPath","condSkillInField","c4_plunging_dmg_disp","c4_plunging_dmg_","target","condC6CrystallizePath","condC6Crystallize","c6_Crystal_all_dmg_disp","c6_Crystal_all_dmg_","dmgFormulas","arr","entries","blossom","total","skill_dmg_","skillC3","burstC5","bonus","eleMas","all_dmg_","burst_dmgInc","sheet","name","cardImg","card","thumbImg","thumb","thumbImgSide","thumbSide","bannerImg","banner","rarity","star","elementKey","gender","constellationName","title","talent","sheets","talentTemplate","sectionTemplate","_","node","text","textSuffix","sgt","path","st","canShow","states","belowHp","fields","c1","fixed","get","c4","skillInField","c6","c6Crystallize","isoOnField","count","burstUsed","c2","passive3","constellation3","c3","constellation5","c5","CharacterSheet","p1","p2","aimed","aimedCharged","freezeBombDmg","chillWaterBomblets","atkDecrease","atkDecreaseDuration","coilNormalDmgBonus1","coilNormalDmgBonus2","coilNormalDmgBonus3","rushingNormalDmgBonus","rushingDuration","atkInc","teamAtkInc","cryoDmgBonus","condCoilPath","condCoil","normal_dmg_","atk_","unequal","afterRushingIce","condA1Path","condA1","teamAtk_","condA4Path","condA4","cryo_dmg_","infusion","toFixed","color","inheritedHp","unknown","dmgPerWave","rainDmg","critRateInc","aoeInc","secArrowDmg","manualDetionationDmg","moveSpdInc","burst_critRate_","condC6Path","condC6","moveSPD_","secondAimed","secondAimedCharged","manualDetonationDmg","nodeC3","nodeC5","on","sSlash","akSlash","akFinal","stam","ss","hp","ss_cd","atkSpd","defConv","resDec","cost","atkSPD_","def_","charged_critDMG_","condBurstPath","condBurst","condP1Path","condP1","condC4Path","condC4","nodeSkillHP","nodeBurstAtk","nodeBurstAtkSpd","allNodeBurstRes","allElementsWithPhy","nodeBurstInfusion","nodeA4Bonus","nodeP1AtkSpd","nodeC4Atk","nodeC4Def","nodeC6CritDMG","charged_dmgInc","atk","img","sections","header","conditionalHeader","description","spinningDmg","finalDmg","shieldHp_","shieldFlat","dmgBase","onHitDmgBonus","lightningDmg","damageReduction","energyCost","ascension4","normalDmg_","chargeDmg_","attackSpeed","electroResShred_","skillDmgOneHit","skillDmgTwoHits","nodeBurstElectroResRed_","nodeSkillNormalDmg_","nodeSkillChargeDmg_","nodeSkillAttackSpeed_","electroShield","shield","baseDmg","dmgOneHit","dmgTwoHits","customBonus","charged_dmg_","electro_enemyRes_","press","hold1_1","hold1_2","hold2_1","hold2_2","explosion","cd_press","cd_hold1","cd_hold2","regen_","regenFlat","atkBonus","cd_red","atk_inc","hp_thresh","er_inc","pyro_dmg","c1Atk","atkIncRatio","condInAreaPath","condInArea","activeInArea","c1AddlAtk","activeInAreaAtkDisp","activeInAreaAtk","activeInAreaA4","c6AndCorrectWep","activeInAreaC6PyroDmgDisp","activeInAreaC6PyroDmg","activeInAreaC6Infusion","condUnderHPPath","condUnderHP","underHP","regen","pyro_dmg_","team","enerRech_","calculateSkillCD","skillCD","cdFactor","c2i","c6i","firstHit","secondHit","thridHit","slashDmg","dotDmg","explosionDmg","stamReduction","durationInc","pyroInc","dmgInc","atkSpdInc","maxStack","condC1Path","condC1","condC2Path","condC2","nodeC1Bonus","nodeC2AtkBonus","nodeC2SpdBonus","nodeC6DmgBonus","nodeC6SpdBonus","skillAdditional","thirdHit","secondHitBoost","thirdHitBoost","conditional","icyPawDmg","cdPress","cdHold","fieldDmg","healHp_","healBase","moveSpeed_","stamRed_","atkRed_","energyRegen","icyPawDmg_","icyPawShield_","coopShield_","coopShieldDuration_","healingBonus_","emBonus","condC6BelowPath","condC6Below","condC6AbovePath","condC6Above","nodeC2skillDmg_","holdSkillShieldStr_","nodeC2shieldStr_","nodeSkillShieldPress","nodeSkillShieldHold","pressCryoShield","pressShield","holdCryoShield","holdShield","healDot","nodeA1MoveSpeed","nodeA1Stamina","nodeC6healing_","nodeC6em","staminaDec_","heal_","hold","icewhirl","physResDec","cryoResDec","resDecDuration","pressCd","holdCd","defBonus","physResDecNegative","cryoResDecNegative","grimheartDuration","lightfallDmg","dmgPerStack","percentage","physInc","condGrimheartPath","condGrimheart","condLightfallSwordPath","condLightfallSword","condTidalIllusionPath","condTidalIllusion","cryo_enemyRes_","physical_enemyRes_","lightSwordAdditional","burst_dmg_","lightFallSwordNew","shatteredLightfallSword","ozDmg","summonDmg","aimedChargedOz","lessThan","summonDmgC2","ozActiveCharDmg","additionalDmg","frostflake","frostflakeBloom","opCryoRes","enerRegen","cryo_dmg_disp","fully","defInc","geo_dmg_","dmg_def","crystalDmg_def","crystalHits","skill_dmgInc","heal_def_","geo_critDMG_","condInFieldPath","condInField","skill1_defDisp","skill1_def","skill3_geo_dmg_Disp","skill3_geo_dmg_","condAfterBurstPath","condAfterBurst","afterBurst_def_","p2_skill_dmgInc","p2_burst_dmgInc","condAfterSkillBurstPath","condAfterSkillBurst","c6_geo_critDMG_","crystalCollapse","heal","def","inField","afterBurst","afterSkillBurst","activationCost","bloodBlossomDuration","maxAtkInc","lowHpDmg","lowHpRegen","minHp","pyroDmgInc","bloodBlossomDmgInc","elePhysResInc","condAfterlifePath","condAfterlife","min","critRateTeam_1","condA2Path","condA2","critRateTeam_2","ele_res_s","dmgC2","enterExitDmg","burstActivationAtkModifier","burstActionFlatModifier","burstRegenAtkModifier","burstRegenFlatModifier","chance","atkPercentage","increaseDmg","moveSpd","anemoRes","dmgReduction","contRegen","a1Regen","anemo_enemyRes_","Math","abs","dmgRed_disp","dmgRed_","dot","add","asorbAdd","elemas_dmg_","elemas","auto_","condBurstAbsorptionPath","condBurstAbsorption","condSkillAbsorptionPath","condSkillAbsorption","condSwirlPaths","absorbableEle","e","condSwirls","condReadNode","asc4","c2EleMas","condC2PPath","condC2P","c2PEleMasDisp","c2PEleMas","c6infusion","greaterEqStr","c6Dmg_","c6NormDmg_","c6ChargedDmg_","c6PlungingDmg_","passive","pdmg","plow","phigh","staminaSprintDec_","fieldsHeader","eleKey","c2p","swirl","sp","sprint","active_stam","drain_stam","dmg_bonus","cryo","snowflake","def_red","charged_bonus","condAfterSprintPath","condAfterSprint","afterSprintInfusion","condAfterSkillA1Path","condAfterSkillA1","a1NormDmg_","a1ChargedDmg_","condAfterApplySprintPath","condAfterApplySprint","afterApplySprintCryo","cutting","bloom","enemyDefRed_","afterSkill","afterSprint","afterApplySprint","stiletto","slash","thunderclap","initial","final","critInc_","enerRechInc_","electroInc","condAfterRecastPath","condAfterRecast","afterRecastInfusion","afterBurstCritRate_","afterBurstEnerRech_","condAfterReactPath","condAfterReact","afterReactAtk_","condC6StackPath","condC6Stack","c6Electro_dmg_","electro_dmg_","afterRecast","afterReact","jumptyDumptyDmg1","jumptyDumptyDmg2","jumptyDumptyDmg3","mineDmg","mineDuration","dmg_","jumptyDumptyDmg","chainedReactionsDmg","sparklyExplosionDmg","fullyAimed","titanBreakerDmg","stormClusterDmg","energyGen","er","crowfeatherDmg","condSkillTenguAmbushPath","condSkillTenguAmbush","skillTenguAmbush_disp","skillTenguAmbush_","c6ElectroCritDmg_","titanbreaker","stormcluster","electro_critDMG_","TenguJuuraiAmbush","bubbleDuration","dmgBonusNeg","omenDuration","dmgBonus","torrentDuration","phantomDuration","electroChargeDmgInc","vaporizeDmgInc","hydroSwirlDmgInc","frozenExtension","critRateIncNeg","maxDmgBonus","hydro_dmg_","condOmenPath","condOmen","condPoSPath","condPoS","electrocharged_dmg_","swirl_dmg_","vaporize_dmg_","condPoOPath","condPoO","condRoCPath","condRoC","jadeDmg","screenHpMod","screenHp","dmgPerGem","geoDmgBonus_","nodeA4GeoDmgBonus_","nodeC4CryoResBonus_","nodeC4GeoResBonus_","nodeC4PyroResBonus_","nodeC4AnemoResBonus_","nodeC4HydroResBonus_","nodeC4ElecResBonus_","gemDmg","geo_res_","cryo_res_","pyro_res_","anemo_res_","hydro_res_","electro_res_","shieldDef","healDef","healChance","shieldDuration","healFlat","defToAtk","hpThreshold","cooldown","healingChance","chargeStamina","burstAtkBonus","nodeSkillHealChanceBase","nodeSkillHealChanceC1BurstOn","nodeSkillHealChanceC1BurstOff","nodeC2ChargeDMG","nodeC4dmg","geoShieldStrength","devotionShield","coorDmg","burstDmg_bonus","resolveBonus1","resolveBonus2","resolveGained","hit1","hit2","hit3","hit41","hit42","hit5","charged1","charged2","plunge","plungeLow","plungeHigh","enerGen","electroDmg_bonus","def_ignore","atk_bonus","condSkillEyePath","condSkillEye","skillEye_","atkType","enemy","defIgn","energyCosts","condSkillEyeTeamPath","condSkillEyeTeam","skillEyeTeamBurstDmgInc","resolveStacks","condResolveStackPath","condResolveStack","burstResolve","resolveBonus","passive2ElecDmgBonus","c4AtkBonus_","skillEye","c","erBonus","companionDmg","atkSpdBonus","electroResBonus","cdRed","enerThreshold","erInc","sprintStaminaDec","allDmgInc","defDec","electroSigilGenerated","condElectroSigilPath","condElectroSigil","condTheWolfWithinPath","condTheWolfWithin","enerRechElectroSigil_","enerRechA4_","companionDmg1","companionDmg2","companionDmg3","companionDmg4","fullBurstDmg1","fullBurstDmg2","fullBurstDmg3","fullBurstDmg4","c1i","crInc","crBonus","maxBonus","physShred","nodeA1CritInc","nodeA4CritBonus","nodeC1AtkSpd","nodeC1NormalInc","nodeC6PhysShred","nBonus_","cBonus_","sBonus_","p","heal_ratio_","hp_","s_heal_","nc_heal_","energy","hydro_","burstNormalDmgInc","burstChargedDmgInc","burstSkillDmgInc","passiveHeal_","passiveCritRate_","c4AtkSpd_","c6Hydro_","normal_dmgInc","spin","wheelDmg","eleWheelDmg","kickPressDmg","kickHoldDmg","eleKickDmg","cdMin","cdMax","pressDmg","pressBaseHeal","pressAtkHeal","darumaDmg","darumaBaseHeal","darumaAtkHeal","darumaHits","baseHeal","emHeal","nearHeal","ener","darumaDmgInc","darumaHealInc","condActiveSwirlPath","condActiveSwirl","condC2SkillStackPath","condC2SkillStack","c2_kickPressDmg_","c2_kickDmg_","stack","c6_daruma_dmg_inc","c6_daruma_heal_inc","darumaHeal","pressHeal","extraHeal","burstC3","skillC5","activeSwirl","dmgAtk_","durationHold","trigger","triggerHold","res_","press_dmg_","durationPress","hold_dmg_","condQuillPath","condQuill","nodeSkill","enemyRes_","nodeBurstCryo_enemyRes_","nodeBurstPhysical_enemyRes_","condAsc1Path","condAsc1","nodeAsc1Disp","nodeAsc1","condAsc4Path","condAsc4","nodeAsc4","nodeAsc4Press_skill_dmg_","nodeAsc4Press_burst_dmg_","nodeAsc4Hold","nodeAsc4Hold_normal_dmg_","nodeAsc4Hold_charged_dmg_","nodeAsc4Hold_plunging_dmg_","nodeC2Disp","nodeC2","c4Inc","quillDmg","cryo_dmgInc","cryo_critDMG_","quill","toString","fieldsDescription","field","characterKey","eleMas_","ele_dmg_","condAbsorptionPath","condAbsorption","condSwirlReactionPath","condSwirlReaction","condSkillHitOpponentPath","condSkillHitOpponent","asc1Condition","asc1","c6Base","c6Bonus","riptide","flashDmg","riptideDuration","stanceDmg","normal1","normal2","normal3","normal4","normal5","normal61","normal62","riptideSlash","chargedStamina","preemptiveCd1","preemptiveCd2","maxCd","meleeDmg","riptideBlastDmg","rangedDmg","enerReturned","durationExt","auto_boost","nodePassive","strKey","Translate","ns","key18","initial_dmg","initial_max","storm_dmg","storm_max","absorbDmg","nodeC6","nodesC6","objectKeyValueMap","absorb","talentSheet","numShockwaves","skill_cdRed","geoDmg","energyRestore","maxTriggers","burstDuration","skillDuration","condC1BurstAreaPath","condC1BurstArea","c1BurstArea_critRate_Disp","c1BurstArea_critRate_","condC4BurstHitPath","condC4BurstHit","c4Burst_energyRestore","amulets","amuletDuration","enerRech_duration","thunderDmg","thunderCd","addlAmulets","electro_enemyRes","numAttacks","thunder_dmg_","condSkillAmuletPath","condSkillAmulet","p2_enerRech_","skillAmulet_enerRech_Disp","skillAmulet_enerRech_","burstEnergyRestore","condC2ThunderPath","condC2Thunder","c2Thunder_electro_enemyRes_","condC6After2ThunderPath","condC6After2Thunder","c6_thunder_dmg_","talents","anemo","geo","electro","anemoData","geoData","electroData","pressCD","holdDmg","holdCD","baseTicks","absorbTicks","stam_","dmgRatio","anemo_dmg_","p3_staminaGlidingDec_","c2Hit_anemo_enemyRes_","c2Hit_phys_enemyRes__","c4_anemo_dmg_","c6_anemo_enemyRes_","c6_ele_enemyRes_arr","full7","full14","staminaGlidingDec_","launched","takeDmg","pickup","dmg3","dmgNado","pyroRes","duration1","duration2","pyroDmg","condAfterChiliPath","condAfterChili","afterChili","condAfterGuobaHitPath","condAfterGuobaHit","afterGuobaHit","condDuringPyronadoPath","condDuringPyronado","duringPyronado","pyro_enemyRes_","drain","skillDmgBonus","staminaClimbingDec_","condInBurstPath","condInBurst","auto_dmg_","lifeDrain","condA1BurstStackPath","condA1BurstStack","a1BurstStackArr","condA4SkillStackPath","condA4SkillStack","a4SkillStackArr","c2Inactive","c2Inactive_enerRech_","condC4BelowHPPath","condC4BelowHP","c4BelowHP_def_","inBurst","c4BelowHP","hydro_enemyRes_","skill_duration","nodeA4","condSkillPath","condSkill","nodeC4","nodeSkillDmgRed_","nodeA4Heal","press1","press2","healing","dmg4","tenkoDmg","eleMas_dmg_","defIgn_","charTr","full","kindling","exp","fixed_atk_","var_atk_","burst_durationInc","const3TalentInc","const5TalentInc","normal_dmgMult","matchFull","a1Stacks","c1atk_","c2pyro_dmg_","canShowC6","normalEntries","kindlingEntries","dataObj","includes","uiData","shield_","triggerNum","normalInc","allElements","stele","resonance","holdDMG","shileDuration","skill_","burst_","nodesSkill","k","nodeP1","p4AutoDmgInc","p4normalDmgInc","p4ChargedDmgInc","p4PlungingDmgInc","p4SKillDmgInc","p4BurstDmgInc","plunging_dmgInc","Albedo","Aloy","Amber","AratakiItto","Beidou","Bennett","Diluc","Diona","Eula","Fischl","Ganyu","Gorou","HuTao","Jean","KaedeharaKazuha","KamisatoAyaka","Keqing","Klee","KujouSara","Mona","Ningguang","Noelle","RaidenShogun","Razor","Rosaria","SangonomiyaKokomi","Sayu","Shenhe","Sucrose","Tartaglia","Traveler","Venti","Xiangling","Xiao","Xingqiu","YaeMiko","Yoimiya","YunJin","Zhongli","customStringRead","subKey","typeKey","crystallizeMulti1","crystallizeLevelMultipliers","crystallizeElemas","frac","crystallizeHit","transMulti1","transformativeReactionLevelMultipliers","transMulti2","transformativeReactions","multi","variants","electroSwirl","pyroSwirl","pyro","cryoSwirl","hydroSwirl","hydro","shattered","crystallize","overloaded","electrocharged","superconduct"],"sourceRoot":""}