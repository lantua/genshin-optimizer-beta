"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[765],{9350:function(e,n,t){var r={weaponTypes:{bow:t(95814),catalyst:t(95504),claymore:t(37963),polearm:t(83794),sword:t(75177)},resin:{fragile:t(79572),condensed:t(34223)},exp_books:{advice:t(74678),wit:t(93385),experience:t(67095)}};n.Z=r},3992:function(e,n,t){var r=t(66934),a=t(57621),o=(0,r.ZP)(a.Z)((function(e){return{backgroundColor:e.theme.palette.contentDark.main}}));n.Z=o},71310:function(e,n,t){var r=t(66934),a=t(57621),o=(0,r.ZP)(a.Z)((function(e){return{backgroundColor:e.theme.palette.contentLight.main}}));n.Z=o},68198:function(e,n,t){t.d(n,{Z:function(){return f}});var r,a=t(1413),o=t(30168),i=t(45987),c=t(96739),u=t(24518),s=t(22020),l=t(80184),d=["large"];function f(e){var n=e.large,t=void 0!==n&&n,f=(0,i.Z)(e,d),p=(0,s.$)("ui").t;return t?(0,l.jsx)(u.Z,(0,a.Z)((0,a.Z)({color:"error",startIcon:(0,l.jsx)(c.Z,{})},f),{},{children:p(r||(r=(0,o.Z)(["close"])))})):(0,l.jsx)(u.Z,(0,a.Z)((0,a.Z)({color:"error",sx:{p:1,minWidth:0}},f),{},{children:(0,l.jsx)(c.Z,{})}))}},33890:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(1413),a=t(29439),o=t(45987),i=t(1235),c=t(24518),u=t(47047),s=t(65117),l=t(72791),d=t(80184),f=["title","children","id"];function p(e){var n=e.title,t=e.children,p=e.id,m=void 0===p?"dropdownbtn":p,v=(0,o.Z)(e,f),h=(0,l.useState)(null),y=(0,a.Z)(h,2),g=y[0],Z=y[1],_=Boolean(g),b=(0,l.useCallback)((function(e){return Z(e.currentTarget)}),[Z]),k=(0,l.useCallback)((function(){return Z(null)}),[Z]);return(0,d.jsxs)(l.Suspense,{fallback:(0,d.jsx)(c.Z,(0,r.Z)((0,r.Z)({endIcon:(0,d.jsx)(i.Z,{})},v),{},{children:(0,d.jsx)(u.Z,{width:50})})),children:[(0,d.jsx)(c.Z,(0,r.Z)((0,r.Z)({},v),{},{id:m,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":_?"true":void 0,onClick:b,endIcon:(0,d.jsx)(i.Z,{}),children:n})),(0,d.jsx)(s.Z,{id:"basic-menu",anchorEl:g,open:_,onClose:k,MenuListProps:{"aria-labelledby":m},onClick:k,children:(0,d.jsx)(l.Suspense,{fallback:(0,d.jsx)(u.Z,{width:"100%",height:"1000"}),children:t})})]})}},55942:function(e,n,t){var r=(0,t(66934).ZP)("img",{name:"ImgIcon",slot:"Root"})((function(e){var n=e.size;return{display:"inline-block",width:"auto",height:"".concat(1.2*(void 0===n?1:n),"em"),verticalAlign:"text-bottom"}}));n.Z=r},9321:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(1413),a=t(45987),o=t(66934),i=t(84722),c=t(26445),u=t(39504),s=t(47047),l=t(72791),d=t(71310),f=t(80184),p=["children","containerProps"],m=(0,o.ZP)(i.Z)((function(e){var n=e.theme;return{overflow:"scroll",paddingTop:n.spacing(2),paddingBottom:n.spacing(2)}})),v=(0,o.ZP)(c.Z)((function(e){e.theme;return{padding:0,minHeight:"100%",display:"flex",flexDirection:"column",justifyContent:"center",pointerEvents:"none","& > *":{pointerEvents:"auto"}}}));function h(e){var n=e.children,t=e.containerProps,o=(0,a.Z)(e,p);return(0,f.jsx)(m,(0,r.Z)((0,r.Z)({},o),{},{children:(0,f.jsx)(v,(0,r.Z)((0,r.Z)({},t),{},{children:(0,f.jsx)(l.Suspense,{fallback:(0,f.jsx)(d.Z,{children:(0,f.jsx)(u.Z,{children:(0,f.jsx)(s.Z,{variant:"rectangular",width:"100%",height:300})})}),children:n})}))}))}},91839:function(e,n,t){var r=t(66934),a=t(72466),o=(0,r.ZP)(a.Z,{shouldForwardProp:function(e){return"baseColor"!==e&&"selectedColor"!==e}})((function(e){var n=e.theme,t=e.baseColor,r=void 0===t?"primary":t,a=e.selectedColor,o=void 0===a?"success":a;return{"& .MuiToggleButtonGroup-grouped":{"&":{backgroundColor:n.palette[r].main,color:n.palette[r].contrastText},"&:hover":{backgroundColor:n.palette[r].dark},"&.Mui-selected":{backgroundColor:n.palette[o].main,color:n.palette[o].contrastText},"&.Mui-selected:hover":{backgroundColor:n.palette[o].dark},"&.Mui-disabled":{backgroundColor:n.palette[r].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:n.palette[o].dark}}}}));n.Z=o},25617:function(e,n,t){var r=(0,t(66934).ZP)("span",{name:"SqBadge",slot:"Root"})((function(e){var n,t,r=e.theme,a=e.color,o=void 0===a?"primary":a;return{display:"inline-block",padding:".25em .4em",fontSize:"75%",fontWeight:700,lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",borderRadius:".25em",backgroundColor:null===(n=r.palette[o])||void 0===n?void 0:n.main,color:null===(t=r.palette[o])||void 0===t?void 0:t.contrastText}}));n.Z=r},10157:function(e,n,t){t.d(n,{t:function(){return s}});var r=t(93433),a=t(53174),o=t(54483),i=t(20890),c=t(80184),u=function(){return(0,c.jsx)(o.G,{icon:a.Tab})},s=function(e){var n=e.stars,t=e.colored,a=void 0!==t&&t;return(0,c.jsx)(i.Z,{color:a?"warning.main":void 0,component:"span",children:n?(0,r.Z)(Array(n).keys()).map((function(e,n){return(0,c.jsx)(u,{},n)})):null})}},75545:function(e,n,t){t.d(n,{hJ:function(){return p}});var r=t(1413),a=t(53174),o=t(54483),i=t(24078),c=t(60393),u=t(91702),s=t(80184);function l(){return(0,s.jsxs)("span",{className:"fa-layers ",children:[(0,s.jsx)(o.G,{icon:i.t3}),(0,s.jsx)(o.G,{icon:i.ns,style:{color:"grey"}})]})}function d(){return(0,s.jsxs)("span",{className:"fa-layers ",children:[(0,s.jsx)(o.G,{icon:i.mf}),(0,s.jsx)(o.G,{icon:i.zr,style:{color:"grey"}})]})}function f(){return(0,s.jsxs)("span",{className:"fa-layers ",children:[(0,s.jsx)(o.G,{icon:i.wY}),(0,s.jsx)(o.G,{icon:i.KY,style:{color:"grey"}})]})}var p={anemo:(0,s.jsx)(o.G,{icon:i.Jf}),geo:(0,s.jsx)(o.G,{icon:i.lQ}),electro:(0,s.jsx)(o.G,{icon:i.FZ}),hydro:(0,s.jsx)(o.G,{icon:i.b5}),pyro:(0,s.jsx)(o.G,{icon:i.bI}),cryo:(0,s.jsx)(o.G,{icon:i.qO}),dendro:(0,s.jsx)(o.G,{icon:i.Ul}),physical:(0,s.jsx)(o.G,{icon:i.sR})},m=(0,c.O)(Object.keys(p),(function(e){return(0,s.jsx)(u.Z,{color:e,children:p[e]})})),v=(0,r.Z)((0,r.Z)({characterHP:(0,s.jsx)(l,{}),finalHP:(0,s.jsx)(l,{}),hp_:(0,s.jsx)(l,{}),hp:(0,s.jsx)(l,{}),baseATK:(0,s.jsx)(o.G,{icon:i._p}),characterATK:(0,s.jsx)(o.G,{icon:i._p}),finalATK:(0,s.jsx)(o.G,{icon:i._p}),atk_:(0,s.jsx)(o.G,{icon:i._p}),atk:(0,s.jsx)(o.G,{icon:i._p}),characterDEF:(0,s.jsx)(o.G,{icon:i.ek}),finalDEF:(0,s.jsx)(o.G,{icon:i.ek}),def_:(0,s.jsx)(o.G,{icon:i.ek}),def:(0,s.jsx)(o.G,{icon:i.ek}),eleMas:(0,s.jsx)(o.G,{icon:i.Nk}),critRate_:(0,s.jsx)(o.G,{icon:i.gV}),critDMG_:(0,s.jsx)(o.G,{icon:a.t_u}),enerRech_:(0,s.jsx)(f,{}),heal_:(0,s.jsx)(o.G,{icon:i.rl}),cdRed_:(0,s.jsx)(d,{}),shield_:(0,s.jsx)(o.G,{icon:i.WR}),stamina:(0,s.jsx)(o.G,{icon:i.mF})},m),Object.fromEntries(Object.keys(m).flatMap((function(e){return[["".concat(e,"_dmg_"),m[e]],["".concat(e,"_res_"),m[e]]]}))));n.ZP=v},947:function(e,n,t){t.d(n,{ZP:function(){return d},U0:function(){return f},uh:function(){return m},Vx:function(){return v}});var r=t(15671),a=t(43144),o=t(55942),i=t(2139),c=t(25617),u=t(9350),s=t(80184),l=t.e(431).then(t.bind(t,79431)).then((function(e){return e.default})),d=function(){function e(n,t){var a=this;(0,r.Z)(this,e),this.sheet=void 0,this.data=void 0,this.isMelee=function(){var e=a.sheet.weaponTypeKey;return"sword"===e||"polearm"===e||"claymore"===e},this.getTalent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anemo";return"talent"in a.sheet?a.sheet.talent:a.sheet.talents[e]},this.getTalentOfKey=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"anemo";return null===(n=a.getTalent(t))||void 0===n?void 0:n.sheets[e]},this.sheet=n,this.data=t}return(0,a.Z)(e,[{key:"name",get:function(){return this.sheet.name}},{key:"nameWIthIcon",get:function(){return(0,s.jsxs)("span",{children:[(0,s.jsx)(o.Z,{src:this.thumbImgSide,sx:{height:"2em",marginTop:"-2em",marginLeft:"-0.5em"}})," ",this.name]})}},{key:"cardImg",get:function(){return this.sheet.cardImg}},{key:"thumbImg",get:function(){return this.sheet.thumbImg}},{key:"thumbImgSide",get:function(){return this.sheet.thumbImgSide}},{key:"bannerImg",get:function(){return this.sheet.bannerImg}},{key:"rarity",get:function(){return this.sheet.rarity}},{key:"elementKey",get:function(){return"elementKey"in this.sheet?this.sheet.elementKey:void 0}},{key:"weaponTypeKey",get:function(){return this.sheet.weaponTypeKey}},{key:"constellationName",get:function(){return this.sheet.constellationName}},{key:"isTraveler",get:function(){return"talents"in this.sheet}}],[{key:"getAll",get:function(){return l}}]),e}();d.get=function(e){return e?l.then((function(n){return n[e]})):void 0},d.getLevelString=function(e,n){return"".concat(e,"/").concat(i.SJ[n])};var f=function(e,n,t,r,a){return{name:n("".concat(e,".name")),img:t,sections:[{text:n("".concat(e,".description")),fields:r,conditional:a}]}},p={auto:"Auto",skill:"Skill",burst:"Burst",passive:"Passive",passive1:"Ascension 1",passive2:"Ascension 4",passive3:"Passive",sprint:"Sprint",constellation1:"C1",constellation2:"C2",constellation3:"C3",constellation4:"C4",constellation5:"C5",constellation6:"C6"},m=function(e,n,t){return{title:n("".concat(e,".name")),icon:(0,s.jsx)(o.Z,{size:2,sx:{m:-1},src:t}),action:(0,s.jsx)(c.Z,{color:"success",children:p[e]})}},v=function(e){return u.Z.weaponTypes[e]}},21206:function(e,n,t){t.d(n,{gs:function(){return p},WC:function(){return g},r:function(){return k},Zu:function(){return _},s_:function(){return b}});var r=t(4942),a=t(1413),o=t(93433),i=t(26138),c=t(73036),u=t(50609),s=t(78661),l=t(50765),d=t(60393),f=JSON.parse('{"GROW_CURVE_HP_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_ATTACK_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_HP_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652},"GROW_CURVE_ATTACK_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652}}'),p=["hydro","pyro","cryo","electro"],m=(0,d.xh)(f,(function(e){return[0].concat((0,o.Z)(Object.values(e)))})),v=(0,d.O)([].concat((0,o.Z)(l.L),["heal_"]),(function(e){return i.qH.total[e]}));v.critRate_=i.qH.total.cappedCritRate;var h=(0,s.Qq)((0,s.sZ)(i.qH.weaponType,"catalyst",i.qH.charEle),(0,s.sZ)(i.qH.hit.move,"skill",i.qH.charEle),(0,s.sZ)(i.qH.hit.move,"burst",i.qH.charEle),i.qH.infusion,i.qH.team.infusion,"physical");function y(e){switch(e){case"normal":case"charged":case"plunging":return"auto";case"skill":return"skill";case"burst":return"burst"}}function g(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,s.aT)(i.qH.hit.dmg,(0,c.b3)([{hit:{base:e,move:(0,s.a9)(n),ele:null!==r&&void 0!==r&&null!==(t=r.hit)&&void 0!==t&&t.ele?void 0:h}},r]))}function Z(e,n){var t=(0,s.WV)(e,(0,s.Sm)(s.bf,i.qH.total.shield_));return n?(0,s.aT)(t,n):t}function _(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=y(t);return g((0,s.WV)((0,s.lp)(i.qH.total["".concat(a,"Index")],n,{key:"_"}),i.qH.total[e]),t,r)}function b(e,n,t,r,a){var o=y(r),c=i.qH.total["".concat(o,"Index")];return Z((0,s.Sm)((0,s.WV)((0,s.lp)(c,n,{key:"_"}),i.qH.total[e]),(0,s.lp)(c,t)),a)}function k(e,n,t,f,p){var h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};function y(e,n){return(0,s.WV)(e,(0,s.lp)(i.qH.lvl,m[n]))}p.basic=(0,a.Z)({},v);var g,Z={charKey:(0,s.a9)(e),base:{},weaponType:(0,s.a9)(f.weaponTypeKey),premod:{},display:p};n&&(Z.charEle=(0,s.a9)(n),Z.teamBuff={tally:(0,r.Z)({},n,(0,s.a9)(1))},Z.display.basic["".concat(n,"_dmg_")]=i.qH.total["".concat(n,"_dmg_")],Z.display.reaction=u.g[n]),t&&(0,d.SR)(Z,["teamBuff","tally",t],(0,s.a9)(1)),"catalyst"!==f.weaponTypeKey&&(Z.display.basic||(Z.display.basic={}),Z.display.basic.physical_dmg_=i.qH.total.physical_dmg_);for(var _=function(){var e=k[b],n=[];if(f.curves[e]&&n.push(y(f.base[e],f.curves[e])),f.ascensions.some((function(n){return n.props[e]}))&&n.push((0,s.lp)(i.qH.asc,f.ascensions.map((function(n){var t;return null!==(t=n.props[e])&&void 0!==t?t:NaN})))),!n.length)return"continue";var t=(0,s.ce)(1===n.length?n[0]:s.Sm.apply(void 0,n),{key:e,prefix:"char",asConst:!0});if(e.endsWith("_dmg_")&&(t.info.variant=e.slice(0,-5)),"atk"===e||"def"===e||"hp"===e)Z.base[e]=t;else{if(g)throw new Error("Duplicated Char Special");g=!0,Z.special=t,Z.premod[e]=i.qH.special}},b=0,k=[].concat((0,o.Z)(l.r),["def"]);b<k.length;b++)_();return(0,c.b3)([Z,(0,c.d1)(h)])}},73036:function(e,n,t){t.d(n,{n3:function(){return v},vn:function(){return h},v0:function(){return y},b3:function(){return _},mP:function(){return b},EC:function(){return f.E},d1:function(){return m},Qo:function(){return Z}});var r=t(93433),a=t(4942),o=t(29439),i=t(1413),c=t(19272),u=t(24351),s=t(60393),l=t(26138),d=t(50609),f=t(18327),p=t(78661);function m(e,n){return(0,s.Q1)(e,[],(function(e){return e.operation}),(function(e,t){"teamBuff"===t[0]&&(t=t.slice(1));var r=(0,s.Hm)(l.qH,t);r?e.info=(0,i.Z)((0,i.Z)({},r.info),{},{prefix:void 0,source:n}):"tally"!==t[0]&&console.error("Detect ".concat(n," buff into non-existant key path ").concat(t))})),e}function v(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=c.Z.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(n,4*e.rarity),e.level)),r=[];return r.push([e.mainStatKey,t]),e.substats.forEach((function(e){var n=e.key,t=e.accurateValue;return n&&r.push([n,t])})),{art:(0,i.Z)((0,i.Z)({},Object.fromEntries(r.map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return t.endsWith("_")?[t,(0,p.aQ)(r/100)]:[t,(0,p.a9)(r)]})))),{},(0,a.Z)({},e.slotKey,{id:(0,p.a9)(e.id),set:(0,p.a9)(e.setKey)})),artSet:(0,a.Z)({},e.setKey,(0,p.a9)(1))}}function h(e){for(var n,t={lvl:(0,p.a9)(e.level),constellation:(0,p.a9)(e.constellation),asc:(0,p.a9)(e.ascension),premod:{auto:(0,p.a9)(e.talent.auto),skill:(0,p.a9)(e.talent.skill),burst:(0,p.a9)(e.talent.burst)},enemy:(0,i.Z)((0,i.Z)({},(0,s.O)(u.Kj.map((function(e){return"".concat(e,"_res_")})),(function(n){var t;return(0,p.aQ)((null!==(t=e.enemyOverride["".concat(n.slice(0,-5),"_enemyRes_")])&&void 0!==t?t:10)/100)}))),{},{level:(0,p.a9)(null!==(n=e.enemyOverride.enemyLevel)&&void 0!==n?n:e.level)}),hit:{hitMode:(0,p.a9)(e.hitMode)},customBonus:{}},r=0,c=Object.entries(e.bonusStats);r<c.length;r++){var f=(0,o.Z)(c[r],2),m=f[0],v=f[1];t.customBonus[m]=m.endsWith("_")?(0,p.aQ)(v/100):(0,p.a9)(v)}return e.enemyOverride.enemyDefRed_&&(t.premod.enemyDefRed_=(0,p.aQ)(e.enemyOverride.enemyDefRed_)),e.enemyOverride.enemyDefIgn_&&(t.enemy.defIgn=(0,p.aQ)(e.enemyOverride.enemyDefIgn_)),e.elementKey&&(t.charEle=(0,p.a9)(e.elementKey),t.display={basic:(0,a.Z)({},"".concat(e.elementKey,"_dmg_"),l.qH.total["".concat(e.elementKey,"_dmg_")]),reaction:d.g[e.elementKey]},(0,s.SR)(t,["teamBuff","tally",e.elementKey],(0,p.a9)(1))),(0,s.Q1)(e.conditional,["conditional"],(function(e){return"string"===typeof e}),(function(e,n){return(0,s.SR)(t,n,(0,p.a9)(e))})),t}function y(e){return{weapon:{lvl:(0,p.a9)(e.level),asc:(0,p.a9)(e.ascension),refinement:(0,p.a9)(e.refinement),refineIndex:(0,p.a9)(e.refinement-1)}}}var g=(0,p.yY)((0,s.I8)(l.qH),["teamBuff"]);function Z(e,n){var t=Object.entries(e).map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return[t,(0,i.Z)({},_(r))]})),a=Object.fromEntries(t.map((function(e){return[(0,o.Z)(e,1)[0],{targetRef:{},buffs:[],calcs:{}}]}))),c={};function u(e){var n="teamBuff"===e[0]?(0,s.Hm)(g,e.slice(1)):(0,s.Hm)(l.qH,e);if(n)return n;var t=(0,s.Hm)(c,e);if(t)return t;var r=(0,p.UF)(e);return"teamBuff"===e[0]&&"tally"===e[1]&&(r.accu="add"),(0,s.SR)(c,e,r),r}Object.values(a).forEach((function(e){var n=e.targetRef,c=e.buffs,d=e.calcs;return t.forEach((function(e){var t=(0,o.Z)(e,2),f=t[0],m=t[1].teamBuff,v={},h=(0,s.I8)({teamBuff:m});c.push(v),d[f]=h,(0,s.Q1)(m,[],(function(e){return e.operation}),(function(e,t){var o=(0,i.Z)((0,i.Z)({},(0,s.Hm)(l.qH,t)),{},{source:f,prefix:void 0,asConst:true});(0,s.SR)(v,t,(0,p.uY)(u(["teamBuff"].concat((0,r.Z)(t))),h,o)),(0,s.Q1)(e,[],(function(e){return"read"===(null===e||void 0===e?void 0:e.operation)}),(function(e){var t,r;"targetBuff"!==e.path[0]&&("target"===e.path[0]?(t=u(e.path.slice(1)),r=n):(t=e,r=a[f].targetRef),(0,s.SR)(h,e.path,(0,p.uY)(t,r)))}))}))}))})),t.forEach((function(e){var t=(0,o.Z)(e,2),r=t[0],c=t[1];delete c.teamBuff;var u=a[r],l=u.targetRef,d=_(u.buffs);(0,s.Q1)(null!==d&&void 0!==d?d:{},[],(function(e){return e.operation}),(function(e,n){var t;e.info=(0,i.Z)((0,i.Z)({},null===(t=(0,s.Hm)(g,n))||void 0===t?void 0:t.info),{},{prefix:"teamBuff",pivot:true})})),Object.assign(l,_([c,d,{teamBuff:d,activeCharKey:(0,p.a9)(n)}])),l.target=l}));var d=new f.w(void 0,void 0);return Object.fromEntries(Object.entries(a).map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return[t,{target:new f.w(r.targetRef,d),buff:Object.fromEntries(Object.entries(r.calcs).map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return[t,new f.w(r,d)]})))}]})))}function _(e){return e.length?function e(n,t){if(n.length<=1)return n[0];if(n[0].operation){var a;"teamBuff"===t[0]&&(t=t.slice(1));var o="tally"===t[0]?"add":null===(a=(0,s.Hm)(l.qH,t))||void 0===a?void 0:a.accu;if(void 0===o){if(1!==n.length)throw new Error("Multiple entries when merging `unique` for key ".concat(t));return n[0]}return{operation:o,operands:n}}return Object.fromEntries((0,r.Z)(new Set(n.flatMap((function(e){return Object.keys(e)})))).map((function(a){return[a,e(n.map((function(e){return e[a]})).filter((function(e){return e})),[].concat((0,r.Z)(t),[a]))]})))}(e,[]):{}}function b(e){return new f.w(_(e),void 0)}},26138:function(e,n,t){t.d(n,{qH:function(){return H},ri:function(){return z},y0:function(){return B},fA:function(){return A},uK:function(){return F}});var r,a=t(1413),o=t(37762),i=t(93433),c=t(44297),u=t(24351),s=t(60393),l=t(78661),d=!0,f=u.Kj,p=["auto","skill","burst"],m=["normal","charged","plunging","skill","burst","elemental"],v=["hp","hp_","atk","atk_","def","def_","eleMas","enerRech_","critRate_","critDMG_"],h=["physical_dmg_","anemo_dmg_","geo_dmg_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_","heal_"],y=["overloaded","shattered","electrocharged","superconduct","swirl"],g=["vaporize","melt"],Z=[].concat(v,(0,i.Z)(["all","burning"].concat(y,g,m).map((function(e){return"".concat(e,"_dmg_")})))),_=[].concat(h,(0,i.Z)(["all"].concat(m).map((function(e){return"".concat(e,"_dmgInc")}))),(0,i.Z)((0,i.Z)(f).map((function(e){return"".concat(e,"_critDMG_")}))),(0,i.Z)(f.map((function(e){return"".concat(e,"_res_")}))),(0,i.Z)(m.map((function(e){return"".concat(e,"_critRate_")}))),(0,i.Z)(c.bU),["enemyDefRed_"],["stamina","staminaDec_","staminaSprintDec_","staminaGlidingDec_","staminaChargedDec_","incHeal_","shield_","cdRed_","moveSPD_","atkSPD_","weakspotDMG_","dmgRed_"]),b=(0,s.O)(p,(function(e){return(0,l.ij)()})),k=(0,s.O)(Z,(function(e){return(0,l.ij)(void 0,{key:e})})),x=(0,s.O)(_,(function(e){return(0,l.ij)(void 0,{key:e})})),j=(0,o.Z)(f);try{for(j.s();!(r=j.n()).done;){var w=r.value;x["".concat(w,"_res_")].info.variant=w,x["".concat(w,"_enemyRes_")].info.variant=w,x["".concat(w,"_critDMG_")].info.variant=w,x["".concat(w,"_dmg_")].info.variant=w}}catch(Q){j.e(Q)}finally{j.f()}for(var S=0,O=[].concat(y,g);S<O.length;S++){var M=O[S];k["".concat(M,"_dmg_")].info.variant=M}function W(e,n){return n=(0,s.I8)(n),(0,s.Q1)(n,[],(function(e){return e.operation}),(function(n){return n.info=(0,a.Z)((0,a.Z)({},e),n.info)})),n}var R,N,H=(0,l.yY)((0,s.I8)({activeCharKey:(0,l.WK)(),charKey:(0,l.WK)(),charEle:(0,l.WK)(),infusion:(0,l.WK)(),weaponType:(0,l.WK)(),lvl:(0,l.ij)(void 0,{key:"level",prefix:"char"}),constellation:(0,l.ij)(),asc:(0,l.ij)(),special:(0,l.ij)(),base:(0,s.O)(["atk","hp","def"],(function(e){return(0,l.ij)("add",{key:e})})),customBonus:W({prefix:"custom",pivot:d},(0,a.Z)((0,a.Z)({},k),x)),bonus:(0,a.Z)({},b),premod:(0,a.Z)((0,a.Z)((0,a.Z)({},b),k),x),total:W({prefix:"total",pivot:d},(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},b),(0,s.Uq)(p,(function(e){return["".concat(e,"Index"),(0,l.ij)()]}))),k),x),{},{cappedCritRate:(0,l.ij)(void 0,{key:"critRate_"})})),art:W({prefix:"art",asConst:true},(0,a.Z)((0,a.Z)((0,a.Z)({},(0,s.O)(v,(function(e){return k[e]}))),(0,s.O)(h,(function(e){return x[e]}))),(0,s.O)(u.eV,(function(e){return{id:(0,l.WK)(),set:(0,l.WK)()}})))),artSet:(0,s.O)(u.q2,(function(e){return(0,l.ij)("add",{key:e})})),weapon:W({prefix:"weapon",asConst:true},{key:(0,l.WK)(),type:(0,l.WK)(),lvl:(0,l.ij)(),asc:(0,l.ij)(),refinement:(0,l.ij)(),refineIndex:(0,l.ij)(),main:(0,l.ij)(),sub:(0,l.ij)(),sub2:(0,l.ij)()}),team:{infusion:(0,l.WK)()},enemy:(0,a.Z)((0,a.Z)((0,a.Z)({def:(0,l.ij)("add",{key:"enemyDef_multi",pivot:d})},(0,s.O)(f.map((function(e){return"".concat(e,"_resMulti")})),(function(e){return(0,l.ij)()}))),{},{level:(0,l.ij)(void 0,{key:"enemyLevel"})},(0,s.Uq)(f,(function(e){return["".concat(e,"_res_"),(0,l.ij)(void 0)]}))),{},{defRed:(0,l.ij)(void 0),defIgn:(0,l.ij)("add",{key:"enemyDefIgn_",pivot:d})}),hit:{ele:(0,l.WK)(),reaction:(0,l.WK)(),move:(0,l.WK)(),hitMode:(0,l.WK)(),base:(0,l.ij)("add",{key:"base"}),dmgBonus:(0,l.ij)(void 0,{key:"dmg_",pivot:d}),dmgInc:(0,l.ij)(void 0,{key:"dmgInc",pivot:d}),dmg:(0,l.ij)()}})),C=H.base,K=H.bonus,E=H.customBonus,I=H.premod,q=H.total,G=H.art,P=H.hit,V=H.enemy;R="add",N={bonus:K,customBonus:E,premod:I,art:G,total:(0,s.O)(Z,(function(e){return q[e]}))},(0,s.Q1)(N,[],(function(e){return e.operation}),(function(e){"read"===e.operation&&"number"===e.type&&(e.accu=R)})),K.auto.info={key:"autoBoost"},K.skill.info={key:"skillBoost"},K.burst.info={key:"burstBoost"},C.atk.info={key:"atk",prefix:"base",pivot:d},delete q.critRate_.info.pivot,q.critRate_.info.prefix="uncapped";var D=(0,l.Sm)(l.bf,(0,l.WV)(25/9,(0,l.F9)(q.eleMas,1400))),T=(0,l.P5)(P.ele,{pyro:(0,l.P5)(P.reaction,{vaporize:(0,l.a9)("vaporize"),melt:(0,l.a9)("melt")},void 0),hydro:(0,l.sZ)(P.reaction,"vaporize","vaporize"),cryo:(0,l.sZ)(P.reaction,"melt","melt")},void 0),B={premod:(0,a.Z)((0,a.Z)((0,a.Z)({},(0,s.O)(p,(function(e){return K[e]}))),(0,s.O)(_,(function(e){return E[e]}))),(0,s.O)([].concat((0,i.Z)(Z),h),(function(e){var n=[];switch(e){case"atk":case"def":case"hp":n.push((0,l.WV)(C[e],(0,l.Sm)(l.bf,I["".concat(e,"_")])));break;case"critRate_":n.push((0,l.aQ)(.05,{key:e,prefix:"default"}),(0,l.P5)(P.move,(0,s.O)(m,(function(e){return E["".concat(e,"_critRate_")]})),0));break;case"critDMG_":n.push((0,l.aQ)(.5,{key:e,prefix:"default"}),(0,l.P5)(P.ele,(0,s.O)(f,(function(e){return E["".concat(e,"_critDMG_")]})),0));break;case"enerRech_":n.push((0,l.aQ)(1,{key:e,prefix:"default"}))}return l.Sm.apply(void 0,(0,i.Z)([].concat(n,[G[e],E[e]]).filter((function(e){return e}))))}))),total:(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},(0,s.O)(p,(function(e){return I[e]}))),(0,s.O)(Z,(function(e){return I[e]}))),(0,s.O)(_,(function(e){return I[e]}))),(0,s.Uq)(p,(function(e){return["".concat(e,"Index"),(0,l.Sm)(q[e],-1)]}))),{},{stamina:(0,l.Sm)((0,l.a9)(100,{key:"stamina",prefix:"default"}),E.stamina),cappedCritRate:(0,l.Fp)((0,l.VV)(q.critRate_,l.bf),l.zv)}),hit:{dmgBonus:(0,l.Sm)(q.all_dmg_,(0,l.P5)(T,(0,s.O)(g,(function(e){return q["".concat(e,"_dmg_")]})),l.zv),(0,l.P5)(P.move,(0,s.O)(m,(function(e){return q["".concat(e,"_dmg_")]})),l.zv),(0,l.P5)(P.ele,(0,s.O)(f,(function(e){return q["".concat(e,"_dmg_")]})),l.zv)),dmgInc:(0,l.Sm)(q.all_dmgInc,(0,l.P5)(P.move,(0,s.O)(m,(function(e){return q["".concat(e,"_dmgInc")]})),NaN)),dmg:(0,l.WV)((0,l.Sm)(P.base,P.dmgInc),(0,l.Sm)(l.bf,P.dmgBonus),(0,l.P5)(P.hitMode,{hit:l.bf,critHit:(0,l.Sm)(l.bf,q.critDMG_),avgHit:(0,l.Sm)(l.bf,(0,l.WV)(q.cappedCritRate,q.critDMG_))},NaN),V.def,(0,l.P5)(P.ele,(0,s.O)(f,(function(e){return V["".concat(e,"_resMulti")]})),NaN),(0,l.P5)(T,{melt:(0,l.P5)(P.ele,{pyro:(0,l.WV)(2,D),cryo:(0,l.WV)(1.5,D)},1,{key:"melt_dmg_"}),vaporize:(0,l.P5)(P.ele,{hydro:(0,l.WV)(2,D),pyro:(0,l.WV)(1.5,D)},1,{key:"vaporize_dmg_"})},1))},enemy:(0,a.Z)({def:(0,l.F9)((0,l.Sm)(H.lvl,100),(0,l.WV)((0,l.Sm)(V.level,100),(0,l.Sm)(l.bf,(0,l.WV)(-1,V.defRed)),(0,l.Sm)(l.bf,(0,l.WV)(-1,V.defIgn)))),defRed:q.enemyDefRed_},(0,s.Uq)(f,(function(e){return["".concat(e,"_resMulti"),(0,l.R9)((0,l.ce)((0,l.Sm)(V["".concat(e,"_res_")],q["".concat(e,"_enemyRes_")]),{key:"".concat(e,"_res_"),variant:e}))]})))},A=(0,l.yY)((0,s.I8)(H),["target"]),F=(0,l.yY)((0,s.O)([].concat((0,i.Z)(f),(0,i.Z)(u.vn)),(function(e){return(0,l.ij)("add")})),["tally"]),z=H},64737:function(e,n,t){t.d(n,{aD:function(){return o},uW:function(){return i}});var r=t(1413),a=t(78661);function o(e,n,t){var r=new Set,a=new Set;e.forEach((function e(o){a.has(o)||(r.has(o)?console.error("Found cyclical dependency during formula traversal"):(r.add(o),n(o),o.operands.forEach(e),t(o),r.delete(o),a.add(o)))}))}function i(e,n,t){var o=new Set,i=new Map,u=new Map;function s(e){var l=i.get(e);if(l)return l;l=n(e);var d=u.get(l);return d||(o.has(l)?(console.error("Found cyclical dependency during formula mapping"),(0,a.a9)(NaN)):(o.add(l),d=t(function(e){var n=e.operands.map(s);return c(n,e.operands)?e:(0,r.Z)((0,r.Z)({},e),{},{operands:n})}(l),e),o.delete(l),i.set(e,d),u.set(l,d),d))}var l=e.map(s);return c(l,e)?e:l}function c(e,n){return void 0===e?void 0===n:void 0!==n&&(e.length===n.length&&e.every((function(e,t){return e===n[t]})))}},69292:function(e,n,t){t.d(n,{aj:function(){return d},tL:function(){return p},CG:function(){return h}});var r=t(37762),a=t(29439),o=t(1413),i=t(93433),c=t(60393),u=t(64737),s=t(78661),l={min:function(e){return Math.min.apply(Math,(0,i.Z)(e))},max:function(e){return Math.max.apply(Math,(0,i.Z)(e))},add:function(e){return e.reduce((function(e,n){return e+n}),0)},mul:function(e){return e.reduce((function(e,n){return e*n}),1)}},d=(0,o.Z)((0,o.Z)({},l),{},{res:function(e){var n=(0,a.Z)(e,1)[0];return n<0?1-n/2:n>=.75?1/(4*n+1):1-n},sum_frac:function(e){return e[0]/e.reduce((function(e,n){return e+n}))},threshold:function(e){var n=(0,a.Z)(e,4),t=n[0],r=n[1],o=n[2],i=n[3];return t>=r?o:i}}),f=new Set(Object.keys(l));function p(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!1};return e=v(e=m(e=h(e,n,t)))}function m(e){return(0,u.uW)(e,(function(e){return e}),(function(e){var n=e;if(f.has(e.operation)){var t=e,r=t.operation,a=!1,i=t.operands.flatMap((function(e){return e.operation===r?(a=!0,e.operands):[e]}));n=a?(0,o.Z)((0,o.Z)({},t),{},{operands:i}):t}return n}))}function v(e){function n(e){var n,t=new Map,a=(0,r.Z)(e);try{for(a.s();!(n=a.n()).done;){var o,i=n.value;t.set(i,(null!==(o=t.get(i))&&void 0!==o?o:0)+1)}}catch(c){a.e(c)}finally{a.f()}return t}for(var t={common:{counts:new Map,formulas:new Set,operation:"add"}},c=function(){for(var c,s=void 0,d={operation:t.common.operation,operands:(c=t.common.counts,(0,i.Z)(c).flatMap((function(e){var n=(0,a.Z)(e,2),t=n[0],r=n[1];return Array(r).fill(t)})))},p=new Map,m=0,v=Object.keys(l);m<v.length;m++){var h=v[m];p.set(h,[])}if(e=(0,u.uW)(e,(function(e){if(t.common.formulas.has(e)){var n=e,r=new Map(t.common.counts),a=n.operands.filter((function(e){var n=r.get(e);return!n||(r.set(e,n-1),!1)}));return a.length?(a.push(d),(0,o.Z)((0,o.Z)({},n),{},{operands:a})):d}return e}),(function(e){if(!f.has(e.operation))return e;var t=e;if(s){if(s.operation===t.operation){var o,i=n(t.operands),c=new Map,u=s.counts,l=0,d=(0,r.Z)(i.entries());try{for(d.s();!(o=d.n()).done;){var m,v=(0,a.Z)(o.value,2),h=v[0],y=v[1],g=Math.min(y,null!==(m=u.get(h))&&void 0!==m?m:0);g?(c.set(h,g),l+=g):c.delete(h)}}catch(E){d.e(E)}finally{d.f()}l>1&&(s.counts=c,s.formulas.add(t))}}else{var Z,_=p.get(t.operation),b=n(t.operands),k=(0,r.Z)(_);try{for(k.s();!(Z=k.n()).done;){var x,j=(0,a.Z)(Z.value,2),w=j[0],S=j[1],O=0,M=new Map,W=(0,r.Z)(S.entries());try{for(W.s();!(x=W.n()).done;){var R,N=(0,a.Z)(x.value,2),H=N[0],C=N[1],K=Math.min(C,null!==(R=b.get(H))&&void 0!==R?R:0);K&&(M.set(H,K),O+=K)}}catch(E){W.e(E)}finally{W.f()}if(O>1){s={counts:M,formulas:new Set([t,w]),operation:t.operation},p.clear();break}}}catch(E){k.e(E)}finally{k.f()}s||_.push([t,b])}return t})),!s)return"break";t.common=s};;){if("break"===c())break}return e}function h(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!1},r={data:[],processed:new Map},u=new Map([[r,new Map]]);function l(e,n){var f,p=n.processed.get(e);if(p)return p;var m,v=e.operation;switch(v){case"const":return e;case"add":case"mul":case"max":case"min":var h=d[v],y=[],g=e.operands.filter((function(e){var t=l(e,n);return"const"!==t.operation||(y.push(t.value),!1)})).map((function(e){return l(e,n)})),Z=h(y);if(isFinite(Z)){if("mul"===v&&0===Z){m=(0,s.a9)(Z);break}}else if("mul"!==v&&("max"!==v||Z>0)&&("min"!==v||Z<0)){m=(0,s.a9)(Z);break}Z!==h([])&&g.push((0,s.a9)(Z)),m=g.length<=1?null!==(f=g[0])&&void 0!==f?f:(0,s.a9)(h([])):{operation:v,operands:g};break;case"res":case"sum_frac":var _=e.operands.map((function(e){return l(e,n)})),b=d[v];m=_.every((function(e){return"const"===e.operation}))?(0,s.a9)(b(_.map((function(e){return e.value})))):(0,o.Z)((0,o.Z)({},e),{},{operands:_});break;case"lookup":var k=l(e.operands[0],n);if("const"===k.operation){var x,j=null!==(x=e.table[k.value])&&void 0!==x?x:e.operands[1];if(j){m=l(j,n);break}}throw new Error("Unsupported ".concat(v," node while folding"));case"prio":var w=e.operands.find((function(e){var t=l(e,n);if("const"!==t.operation)throw new Error("Unsupported ".concat(v," node while folding"));return void 0!==t.value}));if(!w)throw new Error("Unsupported ".concat(v," node while folding"));m=l(w,n);break;case"match":var S=e.operands.map((function(e){return l(e,n)})),O=(0,a.Z)(S,4),M=O[0],W=O[1],R=O[2],N=O[3];if("const"!==M.operation||"const"!==W.operation)throw new Error("Unsupported ".concat(v," node while folding"));m=M.value===W.value?R:N;break;case"threshold":var H=e.operands.map((function(e){return l(e,n)})),C=(0,a.Z)(H,4),K=C[0],E=C[1],I=C[2],q=C[3];m="const"===K.operation&&"const"===E.operation?K.value>=E.value?I:q:(0,o.Z)((0,o.Z)({},e),{},{operands:[K,E,I,q]});break;case"subscript":var G=e.operands.map((function(e){return l(e,n)})),P=(0,a.Z)(G,1)[0];m="const"===P.operation?(0,s.a9)(e.list[P.value]):(0,o.Z)((0,o.Z)({},e),{},{operands:[P]});break;case"read":var V=n.data.map((function(n){return(0,c.Hm)(n,e.path)})).filter((function(e){return e}));if(0===V.length)if(t(e)){var D=e.accu;m=void 0===D?"string"===e.type?(0,s.a9)(void 0):(0,s.a9)(NaN):(0,s.a9)(d[D]([]))}else m=e;else m=void 0===e.accu?l(V[0],n):l({operation:e.accu,operands:V},n);break;case"data":e.reset&&(n=r);var T=u.get(n),B=T.get(e.data);B||(B={data:[].concat((0,i.Z)(n.data),[e.data]),processed:new Map},u.set(B,new Map),T.set(e.data,B)),m=l(e.operands[0],B);break;default:(0,c.UT)(v)}return n.processed.set(e,m),m}var f={data:[n],processed:new Map};return u.set(f,new Map),u.get(r).set(n,f),e.map((function(e){return l(e,f)}))}},50609:function(e,n,t){t.d(n,{g:function(){return h}});var r=t(29439),a=t(1413),o=t(21206),i=t(3368),c=t(60393),u=t(26138),s=t(78661),l=(0,s.lp)(u.qH.lvl,i.PO),d=(0,s.WV)(4e3/9,(0,s.F9)(u.qH.total.eleMas,1400)),f=(0,s.ce)((0,s.WV)((0,s.Sm)(s.bf,d),l),{key:"crystallize",variant:"geo"}),p=(0,s.lp)(u.qH.lvl,i.P_),m=(0,s.WV)(16,(0,s.F9)(u.qH.total.eleMas,2e3)),v=(0,a.Z)((0,a.Z)({},(0,c.O)(["overloaded","electrocharged","superconduct","shattered"],(function(e){var n=i.Ne[e],t=n.multi,a=(0,r.Z)(n.variants,1)[0];return(0,s.ce)((0,s.WV)((0,s.ce)((0,s.WV)(t,p),{asConst:true}),(0,s.Sm)(s.bf,m,u.qH.total["".concat(e,"_dmg_")]),u.qH.enemy["".concat(a,"_resMulti")]),{key:"".concat(e,"_hit"),variant:e})}))),{},{swirl:(0,c.O)(i.Ne.swirl.variants,(function(e){return(0,s.ce)((0,s.WV)((0,s.ce)((0,s.WV)(i.Ne.swirl.multi,p),{asConst:true}),(0,s.Sm)(s.bf,m,u.qH.total.swirl_dmg_),u.qH.enemy["".concat(e,"_resMulti")]),{key:"".concat(e,"_swirl_hit"),variant:e})}))}),h={anemo:{electroSwirl:v.swirl.electro,pyroSwirl:v.swirl.pyro,cryoSwirl:v.swirl.cryo,hydroSwirl:v.swirl.hydro,shattered:v.shattered},geo:(0,a.Z)((0,a.Z)({crystallize:f},Object.fromEntries(o.gs.map((function(e){return["".concat(e,"Crystallize"),(0,s.ce)((0,s.WV)((0,s.aQ)(2.5),f),{key:"".concat(e,"_crystallize"),variant:e})]})))),{},{shattered:v.shattered}),electro:{overloaded:v.overloaded,electrocharged:v.electrocharged,superconduct:v.superconduct,shattered:v.shattered},hydro:{electrocharged:v.electrocharged,shattered:v.shattered},pyro:{overloaded:v.overloaded,shattered:v.shattered},cryo:{superconduct:v.superconduct,shattered:v.shattered}}},18327:function(e,n,t){t.d(n,{E:function(){return w},w:function(){return S}});var r,a,o,i,c,u,s,l,d=t(30168),f=t(29439),p=t(1413),m=t(37762),v=t(93433),h=t(15671),y=t(43144),g=t(26138),Z=t(91702),_=t(44297),b=t(60393),k=t(69292),x=t(80184),j=!0;function w(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return isFinite(e)?("%"===n?e*=100:n="",Number.isInteger(e)?t=0:-1===t&&(t="%"===n?1:Math.abs(e)<10?3:Math.abs(e)<1e3?2:Math.abs(e)<1e4?1:0),"".concat(e.toFixed(t)).concat(n)):e>0?"\u221e":e<0?"-\u221e":"NaN"}var S=function(){function e(n,t){(0,h.Z)(this,e),this.origin=void 0,this.children=new Map,this.data=void 0,this.nodes=new Map,this.processed=new Map,this.display=void 0,this.teamBuff=void 0,void 0===n?(this.data=[],this.origin=this):(t||(t=new e(void 0,void 0)),this.data=[n].concat((0,v.Z)(t.data)),this.origin=t.origin)}return(0,y.Z)(e,[{key:"getDisplay",value:function(){return this.display||(this.display=this.getAll(["display"])),this.display}},{key:"getTeamBuff",value:function(){if(!this.teamBuff){var e=this.getAll(["teamBuff"]),n={};(0,b.Q1)(g.ri,[],(function(e){return e.operation}),(function(t,r){var a=(0,b.Hm)(e,t.path);a&&(0,b.SR)(n,r,a)})),this.teamBuff=n}return this.teamBuff}},{key:"getAll",value:function(e){var n,t=this,r={},a=(0,m.Z)(this.data);try{for(a.s();!(n=a.n()).done;){var o,i=n.value;(0,b.Q1)(null!==(o=(0,b.Hm)(i,e))&&void 0!==o?o:{},[],(function(e){return e.operation}),(function(e,n){return(0,b.SR)(r,n,t.get(e))}))}}catch(c){a.e(c)}finally{a.f()}return r}},{key:"get",value:function(e){if(void 0===e)return console.trace("Please report this bug with this trace"),{operation:!0,value:void 0,isEmpty:!0,unit:"flat",formulas:[]};var n=this.processed.get(e);if(n)return n;var t=function(e){var n=e.key,t=e.prefix,r=e.dependencies,a=e.value,o=e.variant,i=e.formula,c=e.assignment,u=e.empty;return{operation:!0,key:n,value:a,variant:o,prefix:t,isEmpty:u,unit:n&&_.ZP.unit(n)||"flat",formula:i,formulas:[].concat((0,v.Z)(c?[c]:[]),(0,v.Z)(r))}}(this.computeNode(e));return this.processed.set(e,t),t}},{key:"computeNode",value:function(e){var n=this,t=this.nodes.get(e);if(t)return t;var r,a=e.operation,o=e.info;switch(a){case"add":case"mul":case"min":case"max":case"res":case"sum_frac":r=this._compute(e);break;case"threshold":r=this._threshold(e);break;case"const":r=this._constant(e.value);break;case"subscript":r=this._subscript(e);break;case"read":r=this._read(e);break;case"data":r=this._data(e);break;case"match":r=this._match(e);break;case"lookup":r=this._lookup(e);break;case"prio":var i=e.operands.find((function(e){return void 0!==n.computeNode(e).value}));r=i?this.computeNode(i):R;break;default:(0,b.UT)(a)}if(o){var c=o.key,u=o.prefix,s=o.source,l=o.variant,d=o.asConst,f=o.pivot;r=(0,p.Z)({},r),c&&(r.key=c),u&&(r.prefix=u),s&&(r.source=s),l&&(r.variant=l),f&&(r.pivot=f),d&&(delete r.formula,delete r.assignment,r.dependencies=new Set),!r.pivot&&r.formula||(r.mayNeedWrapping=!1)}return function(e){var n=e.key,t=e.value,r=e.formula,a=e.prefix,o=e.source,i=e.variant;if("number"!==typeof t)return;if(e.valueDisplay=(0,x.jsx)(Z.Z,{color:"info",children:w(t,n?_.ZP.unit(n):"flat")}),n&&"_"!==n){var c=a&&!o?(0,x.jsxs)(x.Fragment,{children:[_.ZP.getPrefixStr(a)," "]}):(0,x.jsx)(x.Fragment,{}),u=o?(0,x.jsxs)(Z.Z,{color:"secondary",children:[" (",o,")"]}):null;e.name=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(Z.Z,{color:i,children:[c,_.ZP.getNoUnit(n)]}),u]}),r&&(e.assignment=(0,x.jsxs)("div",{id:"formula",children:[e.name," ",e.valueDisplay," = ",r]}))}}(r),this.nodes.set(e,r),r}},{key:"readAll",value:function(e){var n=this;return this.data.map((function(n){return(0,b.Hm)(n,e)})).filter((function(e){return e})).map((function(e){return n.computeNode(e)}))}},{key:"readFirst",value:function(e){var n=this.data.map((function(n){return(0,b.Hm)(n,e)})).find((function(e){return e}));return n&&this.computeNode(n)}},{key:"_read",value:function(e){var n,t=e.path;return void 0===e.accu?null!==(n=this.readFirst(t))&&void 0!==n?n:"string"===e.type?this._constant(void 0):R:this._accumulate(e.accu,this.readAll(t))}},{key:"_lookup",value:function(e){var n,t=this.computeNode(e.operands[0]).value,r=null!==(n=e.table[t])&&void 0!==n?n:e.operands[1];if(!r)throw new Error("Lookup Fail with key ".concat(t));return this.computeNode(r)}},{key:"_match",value:function(e){var n=(0,f.Z)(e.operands,4),t=n[0],r=n[1],a=n[2],o=n[3],i=this.computeNode(t),c=this.computeNode(r),u=i.value===c.value,s=this.computeNode(u?a:o);return u&&"match"===e.emptyOn||!u&&"unmatch"===e.emptyOn?N(s.value):s}},{key:"_threshold",value:function(e){var n=(0,f.Z)(e.operands,4),t=n[0],r=n[1],a=n[2],o=n[3],i=this.computeNode(t),c=this.computeNode(r),u=i.value>=c.value?this.computeNode(a):this.computeNode(o);return i.value>=c.value?"ge"===e.emptyOn?N(u.value):u:"l"===e.emptyOn?N(u.value):u}},{key:"_data",value:function(n){var t=this.children.get(n.data);return t||(t=new e(n.data,n.reset?this.origin:this),this.children.set(n.data,t)),t.computeNode(n.operands[0])}},{key:"_compute",value:function(e){var n=this,t=e.operation,r=e.operands;return this._accumulate(t,r.map((function(e){return n.computeNode(e)})))}},{key:"_subscript",value:function(e){var n,t=this.computeNode(e.operands[0]),r=null!==(n=e.list[t.value])&&void 0!==n?n:NaN;return this._constant(r)}},{key:"_constant",value:function(e){return{value:e,pivot:!1,empty:!1,mayNeedWrapping:!1,dependencies:new Set}}},{key:"_accumulate",value:function(e,n){var t,f,m,h;switch(e){case"add":case"mul":case"min":case"max":case"res":case"sum_frac":m=function(e){var n=new Set(e.map((function(e){return e.variant})));n.size>1&&n.delete(void 0);n.size>1&&n.delete("physical");return n.values().next().value}(n);break;default:(0,b.UT)(e)}switch(e){case"add":case"mul":case"min":case"max":var y=k.aj[e]([]);if(!(n=n.filter((function(e){return e.value!==y}))).length)return m?(0,p.Z)((0,p.Z)({},this._constant(y)),{},{variant:m}):this._constant(y)}var g=!1;switch(e){case"max":h=O(r||(r=(0,d.Z)(["Max( "," )"])),{operands:n});break;case"min":h=O(a||(a=(0,d.Z)(["Min( "," )"])),{operands:n});break;case"add":h=O(o||(o=(0,d.Z)(["",""])),{operands:n,separator:" + "});break;case"mul":h=O(i||(i=(0,d.Z)(["",""])),{operands:n,separator:" * ",shouldWrap:j});break;case"sum_frac":h=O(c||(c=(0,d.Z)([""," / ( "," )"])),{operands:[n[0]],shouldWrap:j},{operands:n,separator:" + "});break;case"res":var Z=n[0].value;Z<0?(h=O(u||(u=(0,d.Z)(["100% - "," / 2"])),{operands:n,shouldWrap:j}),g=!0):Z>=.75?h=O(s||(s=(0,d.Z)(["100% / ( "," * 4 + 100% )"])),{operands:n,shouldWrap:j}):(h=O(l||(l=(0,d.Z)(["100% - ",""])),{operands:n,shouldWrap:j}),g=!0);break;default:(0,b.UT)(e)}switch(e){case"add":case"mul":n.length<=1?g=null===(t=null===(f=n[0])||void 0===f?void 0:f.mayNeedWrapping)||void 0===t||t:"add"===e&&(g=!0)}var _=k.aj[e](n.map((function(e){return e.value}))),x=new Set((0,v.Z)(n.flatMap((function(e){return e.pivot&&e.assignment?[e.assignment].concat((0,v.Z)(e.dependencies)):(0,v.Z)(e.dependencies)})))),w={formula:h.display,empty:n.every((function(e){return e.empty})),value:_,mayNeedWrapping:g,pivot:!1,dependencies:x};return m&&(w.variant=m),w}}]),e}();function O(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var a=new Set,o=[];return e.forEach((function(e,n){o.push(e);var r=t[n];if(r){var i=r.operands,c=r.shouldWrap,u=r.separator,s=void 0===u?", ":u;i.forEach((function(e,n,t){var r;r=!e.pivot&&e.formula?e.formula:M(e),c&&e.mayNeedWrapping?(o.push("( "),o.push(r),o.push(" )")):o.push(r),n+1<t.length&&o.push(s),e.dependencies.forEach((function(e){return a.add(e)}))}))}})),{display:W(o),dependencies:(0,v.Z)(a)}}function M(e){var n=e.name,t=e.valueDisplay;return n?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{style:{fontSize:"85%"},children:n})," ",t]}):t}function W(e){return(0,x.jsx)(x.Fragment,{children:e.map((function(e,n){return(0,x.jsx)("span",{children:e},n)}))})}var R={value:NaN,pivot:!0,empty:!1,dependencies:new Set,mayNeedWrapping:!1};function N(e){return{value:e,pivot:!1,empty:!0,dependencies:new Set,mayNeedWrapping:!1}}},78661:function(e,n,t){t.d(n,{bf:function(){return i},zv:function(){return c},a9:function(){return u},aQ:function(){return s},ce:function(){return l},P5:function(){return d},VV:function(){return f},Fp:function(){return p},Sm:function(){return m},WV:function(){return v},F9:function(){return h},R9:function(){return y},Dg:function(){return g},sZ:function(){return Z},KP:function(){return _},ew:function(){return b},sD:function(){return k},Qj:function(){return x},yY:function(){return j},aT:function(){return w},uY:function(){return S},UF:function(){return O},Mp:function(){return M},ij:function(){return W},WK:function(){return R},Qq:function(){return N},lp:function(){return H},m7:function(){return E}});var r=t(93433),a=t(1413),o=t(60393),i=(u(NaN,{key:"TODO"}),s(1)),c=s(0);function u(e,n){return{operation:"const",operands:[],value:e,info:n}}function s(e,n){return e>=Number.MAX_VALUE/100&&(e=1/0),e<=-Number.MAX_VALUE/100&&(e=-1/0),u(e,(0,a.Z)({key:"_"},n))}function l(e,n){return n&&(e.info=(0,a.Z)((0,a.Z)({},e.info),n)),e}function d(e,n,t,r){return{operation:"lookup",operands:"none"!==t?[K(e),K(t)]:[K(e)],table:n,info:r}}function f(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{operation:"min",operands:C(n)}}function p(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{operation:"max",operands:C(n)}}function m(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{operation:"add",operands:C(n)}}function v(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{operation:"mul",operands:C(n)}}function h(e,n){return{operation:"sum_frac",operands:C([e,n])}}function y(e){return{operation:"res",operands:C([e])}}function g(e,n,t,r){return{operation:"match",operands:[K(e),K(n),K(t),K(0)],info:r,emptyOn:"unmatch"}}function Z(e,n,t,r){return{operation:"match",operands:[K(e),K(n),K(t),K(void 0)],info:r,emptyOn:"unmatch"}}function _(e,n,t,r){return{operation:"match",operands:[K(e),K(n),K(0),K(t)],info:r,emptyOn:"match"}}function b(e,n,t,r){return{operation:"threshold",operands:[K(e),K(n),K(t),K(0)],info:r,emptyOn:"l"}}function k(e,n,t,r){return{operation:"threshold",operands:[K(e),K(n),K(t),K(void 0)],info:r,emptyOn:"l"}}function x(e,n,t,r){return{operation:"threshold",operands:[K(e),K(n),K(0),K(t)],info:r,emptyOn:"ge"}}function j(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.operation){if("read"!==e.operation)throw new Error("Found ".concat(e.operation," node while making reader"));return(0,a.Z)((0,a.Z)({},e),{},{path:n})}return(0,o.O)(Object.keys(e),(function(t){return j(e[t],[].concat((0,r.Z)(n),[t]))}))}function w(e,n){return{operation:"data",operands:[e],data:n}}function S(e,n,t){return{operation:"data",operands:[e],data:n,reset:!0,info:t}}function O(e,n){return{operation:"read",operands:[],path:e,info:n,type:"number"}}function M(e){return{operation:"read",operands:[],path:e,type:"string"}}function W(e,n){return{operation:"read",operands:[],path:[],accu:e,info:n,type:"number"}}function R(){return{operation:"read",operands:[],path:[],type:"string"}}function N(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{operation:"prio",operands:C(n)}}function H(e,n,t){return{operation:"subscript",operands:[e],list:n,info:t}}function C(e){return e.map((function(e){return"object"===typeof e?e:u(e)}))}function K(e){return"object"!==typeof e?u(e):e}function E(e,n,t,r,a){return{operation:"match",operands:[K(e),K(n),K(t),K(r)],info:a}}},68544:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),a=t(72791);function o(){var e=(0,a.useState)({}),n=(0,r.Z)(e,2),t=n[0],o=n[1];return[t,(0,a.useCallback)((function(){return o({})}),[])]}},42320:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),a=t(72791);function o(e,n){var t=(0,a.useState)(void 0),o=(0,r.Z)(t,2),i=o[0],c=o[1];return(0,a.useEffect)((function(){var n,t=!0;return null!==(n=null===e||void 0===e?void 0:e.then((function(e){return t&&c((function(){return e}))}),console.error))&&void 0!==n||c(void 0),function(){t=!1,c(void 0)}}),n),i}},67095:function(e,n,t){e.exports=t.p+"static/media/Item_Adventurer's_Experience.92b5d19508c95dfb3a30.png"},34223:function(e,n,t){e.exports=t.p+"static/media/Item_Condensed_Resin.1cecf64ac9eea4bd933b.png"},79572:function(e,n,t){e.exports=t.p+"static/media/Item_Fragile_Resin.f9ec8223a0f695b313d4.png"},93385:function(e,n,t){e.exports=t.p+"static/media/Item_Hero's_Wit.a79e36d06cf81ac57536.png"},74678:function(e,n,t){e.exports=t.p+"static/media/Item_Wanderer's_Advice.58c62cf7c20b05da5d56.png"},95814:function(e,n,t){e.exports=t.p+"static/media/icon_bow.7ceaa8e25b0b8aeb8059.png"},95504:function(e,n,t){e.exports=t.p+"static/media/icon_catalyst.db078b7b8059b30bef60.png"},37963:function(e,n,t){e.exports=t.p+"static/media/icon_claymore.63b1abb8aeae95e8844d.png"},83794:function(e,n,t){e.exports=t.p+"static/media/icon_polearm.e5f4a2a17edcf4ddec4d.png"},75177:function(e,n,t){e.exports=t.p+"static/media/icon_sword.619c9c2d2c38eb90e342.png"}}]);
//# sourceMappingURL=765.656f6f7a.chunk.js.map