"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[348],{30066:function(n,e,t){t.d(e,{W:function(){return g}});var r,i=t(30168),o=t(93433),a=t(63204),s=t(47047),l=t(72791),u=t(22020),c=t(947),d=t(90288),p=t(31096),f=t(42320),x=t(24351),h=t(84082),Z=t(2380),v=t(80184);function g(n){var e=n.location,t=n.setLocation,g=n.filter,m=void 0===g?function(){return!0}:g,j=(0,u.$)(["ui","artifact","charNames_gen"]).t,y=(0,l.useContext)(p.t).database,w=(0,f.Z)((function(){return c.Z.getAll}),[]),b=(0,l.useCallback)((function(n){return j("charNames_gen:".concat("Traveler"===n?y.chars.LocationToCharacterKey(n).slice(0,9):n))}),[y,j]),k=(0,l.useCallback)((function(n){var e;return""===n?(0,v.jsx)(a.Z,{}):w?(0,v.jsx)(Z.Z,{src:null===(e=w[y.chars.LocationToCharacterKey(n)])||void 0===e?void 0:e.thumbImgSide,sx:{pr:1}}):(0,v.jsx)(v.Fragment,{})}),[y,w]),C=(0,l.useCallback)((function(n){return"Traveler"===n?x._0.some((function(n){return y.states.getWithInit("charMeta_".concat(n),d.Bm).favorite})):!!n&&y.states.getWithInit("charMeta_".concat(n),d.Bm).favorite}),[y]),I=(0,l.useMemo)((function(){return[{key:"",label:j(r||(r=(0,i.Z)(["artifact:filterLocation.inventory"])))}].concat((0,o.Z)(Array.from(new Set(y.chars.keys.filter((function(n){return null===w||void 0===w||!w[n]||m(w[n])})).map((function(n){return(0,x.V7)(n)})))).map((function(n){return{key:n,label:b(n),favorite:C(n)}})).sort((function(n,e){return n.favorite&&!e.favorite?-1:!n.favorite&&e.favorite?1:n.label.localeCompare(e.label)}))))}),[j,b,C,y,w,m]);return(0,v.jsx)(l.Suspense,{fallback:(0,v.jsx)(s.Z,{variant:"text",width:100}),children:(0,v.jsx)(h.Z,{size:"small",options:I,valueKey:e,onChange:t,toImg:k,clearKey:""})})}},40020:function(n,e,t){t.d(e,{Z:function(){return d}});var r=t(63204),i=t(20890),o=t(72791),a=t(22020),s=t(947),l=t(31096),u=t(42320),c=t(80184);function d(n){var e=n.location,t=(0,a.$)("ui").t,d=(0,o.useContext)(l.t).database,p=(0,u.Z)((function(){return s.Z.get(e&&d?d.chars.LocationToCharacterKey(e):"")}),[e]);return(0,c.jsx)(i.Z,{component:"span",children:null!==p&&void 0!==p&&p.name?p.nameWIthIcon:(0,c.jsxs)("span",{children:[(0,c.jsx)(r.Z,{sx:{verticalAlign:"text-bottom"}})," ",t("inventory")]})})}},2380:function(n,e,t){var r=(0,t(93457).Z)("img")((function(n){var e=n.theme;return{display:"inline-block",width:"auto",height:"2.3em",lineHeight:1,verticalAlign:"text-bottom",marginTop:e.spacing(-3),marginLeft:e.spacing(-1.25),marginRight:e.spacing(-1),marginBottom:e.spacing(-1)}}));e.Z=r},20005:function(n,e,t){function r(n){var e=n.condition,t=n.wrapper,r=n.falseWrapper,i=n.children;return e?t(i):r?r(i):i}t.d(e,{Z:function(){return r}})},84082:function(n,e,t){t.d(e,{Z:function(){return f}});var r=t(1413),i=t(14361),o=t(94198),a=t(23786),s=t(57064),l=t(49900),u=t(47047),c=t(72791),d=t(68244),p=t(80184);function f(n){var e=n.options,t=n.valueKey,f=n.label,x=n.onChange,h=n.disable,Z=void 0===h?function(){return!1}:h,v=n.clearKey,g=n.toImg,m=e.find((function(n){return n.key===t}));return(0,p.jsx)(o.Z,{options:e,value:m,clearIcon:t!==v?void 0:null,onChange:function(n,e,t){return"clear"===t&&void 0!==v?x(v):null!==e&&x(e.key)},isOptionEqualToValue:function(n,e){return n.key===e.key},getOptionDisabled:function(n){return Z(n.key)},renderInput:function(n){return(0,p.jsx)(d.Z,(0,r.Z)((0,r.Z)({},n),{},{label:f,startAdornment:void 0!==m?g(m.key):void 0,hasValue:!(null===m||void 0===m||!m.key)}))},renderOption:function(n,e){return(0,p.jsxs)(a.Z,(0,r.Z)((0,r.Z)({value:e.key},n),{},{children:[(0,p.jsx)(s.Z,{children:g(e.key)}),(0,p.jsx)(l.Z,{children:(0,p.jsx)(c.Suspense,{fallback:(0,p.jsx)(u.Z,{variant:"text",width:100}),children:e.key===(null===m||void 0===m?void 0:m.key)?(0,p.jsx)("strong",{children:e.label}):e.label})}),!!e.favorite&&(0,p.jsx)(i.Z,{})]}))}})}},68244:function(n,e,t){t.d(e,{Z:function(){return u}});var r=t(1413),i=t(45987),o=t(13967),a=t(58165),s=t(80184),l=["hasValue","startAdornment","InputProps","sx"];function u(n){var e=n.hasValue,t=n.startAdornment,u=n.InputProps,c=n.sx,d=(0,i.Z)(n,l),p=(0,o.Z)();return(0,s.jsx)(a.Z,(0,r.Z)((0,r.Z)({},d),{},{variant:"filled",color:e?"success":"primary",hiddenLabel:!d.label,type:"search",InputProps:(0,r.Z)((0,r.Z)({},u),{},{startAdornment:t}),InputLabelProps:{style:{color:p.palette.text.primary}},sx:(0,r.Z)((0,r.Z)({},c),{},{"& .MuiFilledInput-root":{backgroundColor:e?p.palette.success.main:p.palette.primary.main,paddingTop:d.label?void 0:0,paddingBottom:0,flexWrap:"nowrap"},"& .MuiFilledInput-root.Mui-focused":{backgroundColor:e?p.palette.success.light:p.palette.primary.light},"& .MuiFilledInput-root:hover":{backgroundColor:e?p.palette.success.dark:p.palette.primary.dark},"& .MuiFilledInput-root:before":{border:"none"},"& .MuiFilledInput-root.Mui-disabled:before":{border:"none"},"& .MuiFilledInput-root:after":{border:"none"},"& .MuiFilledInput-root:hover:not(.Mui-disabled):before":{border:"none"},"& input[type=search]::-ms-clear":{display:"none",width:0,height:0},"& input[type=search]::-ms-reveal":{display:"none",width:0,height:0},"& input[type=search]::-webkit-search-decoration":{display:"none"},"& input[type=search]::-webkit-search-cancel-button":{display:"none"},"& input[type=search]::-webkit-search-results-button":{display:"none"},"& input[type=search]::-webkit-search-results-decoration":{display:"none"}})}))}},59215:function(n,e,t){t.d(e,{Z:function(){return Z}});var r=t(1413),i=t(45987),o=t(53174),a=t(54483),s=t(2199),l=t(23786),u=t(24518),c=t(52791),d=t(22020),p=t(76899),f=t(33890),x=t(80184),h=["sortKeys","value","onChange","ascending","onChangeAsc"];function Z(n){var e=n.sortKeys,t=n.value,Z=n.onChange,v=n.ascending,g=n.onChangeAsc,m=(0,i.Z)(n,h),j=(0,d.$)("ui").t;return(0,x.jsxs)(c.Z,{display:"flex",alignItems:"center",gap:1,children:[(0,x.jsx)(p.c,{t:j,i18nKey:j("sortBy"),children:"Sort by: "}),(0,x.jsxs)(s.Z,(0,r.Z)((0,r.Z)({},m),{},{children:[(0,x.jsx)(f.Z,{title:(0,x.jsx)(p.c,{t:j,i18nKey:j("sortMap.".concat(t)),children:{value:j("sortMap.".concat(t))}}),children:e.map((function(n){return(0,x.jsx)(l.Z,{selected:t===n,disabled:t===n,onClick:function(){return Z(n)},children:j("sortMap.".concat(n))},n)}))}),(0,x.jsx)(u.Z,{onClick:function(){return g(!v)},startIcon:(0,x.jsx)(a.G,{icon:v?o.Pa6:o.xrW,className:"fa-fw"}),children:v?(0,x.jsx)(p.c,{t:j,i18nKey:"ascending",children:"Ascending"}):(0,x.jsx)(p.c,{t:j,i18nKey:"descending",children:"Descending"})})]}))]})}},10157:function(n,e,t){t.d(e,{q:function(){return u}});var r=t(93433),i=t(53174),o=t(54483),a=t(20890),s=t(80184),l=function(){return(0,s.jsx)(o.G,{icon:i.Tab})},u=function(n){var e=n.stars,t=n.colored,i=void 0!==t&&t;return(0,s.jsx)(a.Z,{color:i?"warning.main":void 0,component:"span",children:e?(0,r.Z)(Array(e).keys()).map((function(n,e){return(0,s.jsx)(l,{},e)})):null})}},73578:function(n,e,t){t.d(e,{Z:function(){return h}});var r=t(1413),i=t(45987),o=t(93433),a=t(90388),s=t(10658),l=t(24351),u=t(75308),c=t(55942),d=t(91839),p=t(80184),f=["value","onChange"],x=(0,u.X)((0,o.Z)(l.yd));function h(n){var e=n.value,t=n.onChange,o=(0,i.Z)(n,f);return(0,p.jsx)(d.Z,(0,r.Z)((0,r.Z)({exclusive:!0,value:e},o),{},{children:l.yd.map((function(n){var r;return(0,p.jsx)(a.Z,{value:n,onClick:function(){return t(x(e,n))},children:(0,p.jsx)(c.Z,{src:null===(r=s.Z.weaponTypes)||void 0===r?void 0:r[n],size:2})},n)}))}))}},44361:function(n,e,t){t.d(e,{Z:function(){return I}});var r=t(93433),i=t(29439),o=t(39504),a=t(61889),s=t(58165),l=t(94721),u=t(66647),c=t(68870),d=t(20890),p=t(72791),f=t(22020),x=t(10658),h=t(66218),Z=t(42320),v=t(24351),g=t(3992),m=t(71310),j=t(68198),y=t(55942),w=t(9321),b=t(10157),k=t(73578),C=t(80184);function I(n){var e=n.show,t=n.ascension,I=void 0===t?0:t,P=n.onHide,T=n.onSelect,S=n.filter,W=void 0===S?function(){return!0}:S,M=n.weaponTypeFilter,N=(0,f.$)(["page_weapon","weaponNames_gen"]).t,A=(0,Z.Z)((function(){return h.Z.getAll}),[]),L=(0,p.useState)(M?[M]:(0,r.Z)(v.yd)),_=(0,i.Z)(L,2),K=_[0],G=_[1];(0,p.useEffect)((function(){return M&&G([M])}),[M]);var z=(0,p.useState)(""),V=(0,i.Z)(z,2),B=V[0],E=V[1],F=(0,p.useDeferredValue)(B),D=A?v.fG.filter((function(n){return W(A[n])})).filter((function(n){var e;return K.includes(null===A||void 0===A||null===(e=A[n])||void 0===e?void 0:e.weaponType)})).filter((function(n){return!F||N("weaponNames_gen:".concat(n)).toLowerCase().includes(F.toLowerCase())})).sort((function(n,e){var t,r,i,o;return(null!==(t=null===A||void 0===A||null===(r=A[e])||void 0===r?void 0:r.rarity)&&void 0!==t?t:0)-(null!==(i=null===A||void 0===A||null===(o=A[n])||void 0===o?void 0:o.rarity)&&void 0!==i?i:0)})):[];return A?(0,C.jsx)(w.Z,{open:e,onClose:P,children:(0,C.jsxs)(g.Z,{children:[(0,C.jsx)(o.Z,{sx:{py:1},children:(0,C.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,C.jsx)(a.ZP,{item:!0,children:(0,C.jsx)(k.Z,{value:K,onChange:G,disabled:!!M,size:"small"})}),(0,C.jsx)(a.ZP,{item:!0,flexGrow:1,children:(0,C.jsx)(s.Z,{autoFocus:!0,size:"small",value:B,onChange:function(n){return E(n.target.value)},label:N("weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,C.jsx)(a.ZP,{item:!0,children:(0,C.jsx)(j.Z,{onClick:P})})]})}),(0,C.jsx)(l.Z,{}),(0,C.jsx)(o.Z,{children:(0,C.jsx)(a.ZP,{container:!0,spacing:1,children:D.map((function(n){var e,t=A[n];return(0,C.jsx)(a.ZP,{item:!0,lg:3,md:4,children:(0,C.jsx)(m.Z,{sx:{height:"100%"},children:(0,C.jsxs)(u.Z,{onClick:function(){P(),T(n)},sx:{display:"flex"},children:[(0,C.jsx)(c.Z,{component:"img",src:t.getImg(I),sx:{width:100,height:"auto"},className:" grad-".concat(t.rarity,"star")}),(0,C.jsxs)(c.Z,{sx:{flexGrow:1,px:1},children:[(0,C.jsx)(d.Z,{variant:"subtitle1",children:t.name}),(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(y.Z,{src:null===(e=x.Z.weaponTypes)||void 0===e?void 0:e[t.weaponType]})," ",(0,C.jsx)(b.q,{stars:t.rarity,colored:!0})]})]})]})})},n)}))})}),(0,C.jsx)(l.Z,{}),(0,C.jsx)(o.Z,{sx:{py:1},children:(0,C.jsx)(j.Z,{large:!0,onClick:P})})]})}):null}},90543:function(n,e,t){t.d(e,{Z:function(){return G}});var r,i=t(30168),o=t(53174),a=t(54483),s=t(40117),l=t(62002),u=t(66647),c=t(68870),d=t(47047),p=t(13400),f=t(20890),x=t(39504),h=t(2199),Z=t(40165),v=t(24518),g=t(72791),m=t(22020),j=t(10658),y=t(71310),w=t(30066),b=t(40020),k=t(20005),C=t(55942),I=t(10157),P=t(75545),T=t(2139),S=t(66218),W=t(31096),M=t(26138),N=t(73036),A=t(79406),L=t(42320),_=t(74480),K=t(80184);function G(n){var e,t=n.weaponId,G=n.onClick,z=n.onEdit,V=n.onDelete,B=n.canEquip,E=void 0!==B&&B,F=n.extraButtons,D=(0,m.$)(["page_weapon","ui"]).t,q=(0,g.useContext)(W.t).database,O=(0,_.Z)(t),H=(0,L.Z)((function(){return null!==O&&void 0!==O&&O.key?S.Z.get(O.key):void 0}),[null===O||void 0===O?void 0:O.key]),$=(0,g.useCallback)((function(n){return n.weaponTypeKey===(null===H||void 0===H?void 0:H.weaponType)}),[H]),R=(0,g.useCallback)((function(n){return(0,K.jsx)(u.Z,{onClick:function(){return null===G||void 0===G?void 0:G(t)},children:n})}),[G,t]),X=(0,g.useCallback)((function(n){return(0,K.jsx)(c.Z,{children:n})}),[]),J=(0,g.useCallback)((function(n){return t&&q.weapons.set(t,{location:n})}),[q,t]),Q=(0,g.useMemo)((function(){return H&&O&&(0,N.mP)([H.data,(0,N.v0)(O)])}),[H,O]);if(!O||!H||!Q)return null;var U=O.level,Y=O.ascension,nn=O.refinement,en=O.id,tn=O.location,rn=void 0===tn?"":tn,on=O.lock,an=Q.get(M.ri.weapon.type).value,sn=[M.ri.weapon.main,M.ri.weapon.sub,M.ri.weapon.sub2].map((function(n){return Q.get(n)})),ln=H.getImg(Y);return(0,K.jsx)(g.Suspense,{fallback:(0,K.jsx)(d.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:(0,K.jsxs)(y.Z,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,K.jsxs)(k.Z,{condition:!!G,wrapper:R,falseWrapper:X,children:[(0,K.jsxs)(c.Z,{className:"grad-".concat(H.rarity,"star"),sx:{position:"relative",pt:2,px:2},children:[!G&&(0,K.jsx)(p.Z,{color:"primary",onClick:function(){return q.weapons.set(en,{lock:!on})},sx:{position:"absolute",right:0,bottom:0,zIndex:2},children:on?(0,K.jsx)(s.Z,{}):(0,K.jsx)(l.Z,{})}),(0,K.jsxs)(c.Z,{sx:{position:"relative",zIndex:1},children:[(0,K.jsxs)(c.Z,{component:"div",sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,K.jsx)(C.Z,{sx:{fontSize:"1.5em"},src:null===(e=j.Z.weaponTypes)||void 0===e?void 0:e[an]}),(0,K.jsx)(f.Z,{noWrap:!0,sx:{textAlign:"center",backgroundColor:"rgba(100,100,100,0.35)",borderRadius:"1em",px:1},children:(0,K.jsx)("strong",{children:H.name})})]}),(0,K.jsxs)(f.Z,{component:"span",variant:"h5",children:["Lv. ",U]}),(0,K.jsxs)(f.Z,{component:"span",variant:"h5",color:"text.secondary",children:["/",T.SJ[Y]]}),(0,K.jsxs)(f.Z,{variant:"h6",children:["Refinement ",(0,K.jsx)("strong",{children:nn})]}),(0,K.jsx)(f.Z,{children:(0,K.jsx)(I.q,{stars:H.rarity,colored:!0})})]}),(0,K.jsx)(c.Z,{sx:{height:"100%",position:"absolute",right:0,top:0},children:(0,K.jsx)(c.Z,{component:"img",src:null!==ln&&void 0!==ln?ln:"",width:"auto",height:"100%",sx:{float:"right"}})})]}),(0,K.jsx)(x.Z,{children:sn.map((function(n){if(!n.info.key)return null;var e=(0,A.EC)(n.value,n.unit,n.unit?void 0:0);return(0,K.jsxs)(c.Z,{sx:{display:"flex"},children:[(0,K.jsxs)(f.Z,{flexGrow:1,children:[P.Z[n.info.key]," ",A.ZP.get(n.info.key)]}),(0,K.jsx)(f.Z,{children:e})]},n.info.key)}))})]}),(0,K.jsxs)(c.Z,{sx:{p:1,display:"flex",gap:1,justifyContent:"space-between",alignItems:"center"},children:[(0,K.jsx)(c.Z,{sx:{flexGrow:1},children:E?(0,K.jsx)(w.W,{location:rn,setLocation:J,filter:$}):(0,K.jsx)(b.Z,{location:rn})}),(0,K.jsxs)(h.Z,{sx:{height:"100%"},children:[!!z&&(0,K.jsx)(Z.Z,{title:(0,K.jsx)(f.Z,{children:D(r||(r=(0,i.Z)(["page_weapon:edit"])))}),placement:"top",arrow:!0,children:(0,K.jsx)(v.Z,{color:"info",onClick:function(){return z(en)},children:(0,K.jsx)(a.G,{icon:o.Xcf,className:"fa-fw"})})}),!!V&&(0,K.jsx)(v.Z,{color:"error",onClick:function(){return V(en)},disabled:!!rn||on,children:(0,K.jsx)(a.G,{icon:o.I7k,className:"fa-fw"})}),F]})]})]})})}},70348:function(n,e,t){t.r(e),t.d(e,{default:function(){return O}});var r=t(74165),i=t(15861),o=t(29439),a=t(93433),s=t(53174),l=t(54483),u=t(68870),c=t(61889),d=t(90388),p=t(58165),f=t(57246),x=t(47047),h=t(39504),Z=t(20890),v=t(24518),g=t(72791),m=t(10757),j=t(22020),y=t(76899),w=t(3992),b=t(91839),k=t(59215),C=t(10157),I=t(73578),P=t(44361),T=t(66218),S=t(31096),W=t(17278),M=t(68544),N=t(70645),A=t(42320),L=t(24351),_=t(46956),K=t(60393),G=t(66045),z=t(11400),V=t(90543),B=t(80184),E=(0,g.lazy)((function(){return Promise.all([t.e(913),t.e(476)]).then(t.bind(t,74476))})),F={xs:1,sm:2,md:3,lg:3,xl:4},D={xs:9,sm:11,md:23,lg:23,xl:23},q=function(){return{editWeaponId:"",sortType:G.Ol[0],ascending:!1,rarity:(0,a.Z)(L.wC),weaponType:(0,a.Z)(L.yd)}};function O(){var n=(0,j.$)(["page_weapon","ui","weaponNames_gen"]).t,e=(0,g.useContext)(S.t).database,t=(0,W.Z)("WeaponDisplay",q),a=(0,o.Z)(t,2),y=a[0],O=a[1],$=(0,g.useState)(!1),R=(0,o.Z)($,2),X=R[0],J=R[1],Q=(0,M.Z)(),U=(0,o.Z)(Q,2),Y=U[0],nn=U[1],en=(0,g.useRef)(null),tn=(0,g.useState)(0),rn=(0,o.Z)(tn,2),on=rn[0],an=rn[1];(0,g.useEffect)((function(){return m.ZP.send({hitType:"pageview",page:"/weapon"}),e.weapons.followAny((function(n,e){return("new"===e||"remove"===e)&&nn()}))}),[nn,e]);var sn=(0,N.Z)(),ln=D[sn],un=(0,A.Z)((function(){return T.Z.getAll}),[]),cn=(0,g.useCallback)(function(){var t=(0,i.Z)((0,r.Z)().mark((function t(i){var o,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.weapons.get(i)){t.next=3;break}return t.abrupt("return");case 3:if(a=n("weaponNames_gen:".concat(o.key)),window.confirm(n("removeWeapon",{value:a}))){t.next=6;break}return t.abrupt("return");case 6:e.weapons.remove(i),y.editWeaponId===i&&O({editWeaponId:""});case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),[y.editWeaponId,O,e,n]),dn=(0,g.useCallback)((function(n){O({editWeaponId:n})}),[O]),pn=(0,g.useCallback)((function(n){dn(e.weapons.new((0,z.xg)(n)))}),[e,dn]),fn=(0,g.useState)(""),xn=(0,o.Z)(fn,2),hn=xn[0],Zn=xn[1],vn=(0,g.useDeferredValue)(hn),gn=y.sortType,mn=y.ascending,jn=y.weaponType,yn=y.rarity,wn=(0,g.useMemo)((function(){return un&&(0,G.Sn)(un)}),[un]),bn=(0,g.useMemo)((function(){return un&&(0,G.Xg)(un)}),[un]),kn=(0,g.useMemo)((function(){var n=e.weapons.values,t=n.length;if(!wn||!bn)return{weaponIdList:[],totalWeaponNum:t};var r=n.filter((0,_.C)({weaponType:jn,rarity:yn,name:vn},bn)).sort((0,_.e)(gn,mn,wn)).map((function(n){return n.id}));return Y&&{weaponIdList:r,totalWeaponNum:t}}),[Y,e,wn,bn,gn,mn,yn,jn,vn]),Cn=kn.weaponIdList,In=kn.totalWeaponNum,Pn=(0,g.useMemo)((function(){var n=Math.ceil(Cn.length/ln),e=(0,K.uZ)(on,0,n-1);return{weaponIdsToShow:Cn.slice(e*ln,(e+1)*ln),numPages:n,currentPageIndex:e}}),[Cn,on,ln]),Tn=Pn.weaponIdsToShow,Sn=Pn.numPages,Wn=Pn.currentPageIndex,Mn=Cn.length!==In?"".concat(Cn.length,"/").concat(In):"".concat(In),Nn=(0,g.useCallback)((function(n,e){var t;null===(t=en.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}),an(e-1)}),[an,en]),An=(0,g.useCallback)((function(){return O({editWeaponId:""})}),[O]),Ln=y.editWeaponId;return(0,g.useEffect)((function(){Ln&&(e.weapons.get(Ln)||An())}),[e,Ln,An]),(0,B.jsxs)(u.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:[(0,B.jsx)(g.Suspense,{fallback:!1,children:(0,B.jsx)(E,{weaponId:Ln,footer:!0,onClose:An})}),(0,B.jsxs)(w.Z,{ref:en,sx:{p:2,pb:1},children:[(0,B.jsxs)(c.ZP,{container:!0,spacing:1,sx:{mb:1},children:[(0,B.jsx)(c.ZP,{item:!0,children:(0,B.jsx)(I.Z,{sx:{height:"100%"},onChange:function(n){return O({weaponType:n})},value:jn,size:"small"})}),(0,B.jsx)(c.ZP,{item:!0,children:(0,B.jsx)(b.Z,{sx:{height:"100%"},onChange:function(n,e){return O({rarity:e})},value:yn,size:"small",children:L.wC.map((function(n){return(0,B.jsx)(d.Z,{value:n,children:(0,B.jsxs)(u.Z,{display:"flex",gap:1,children:[(0,B.jsx)("strong",{children:n}),(0,B.jsx)(C.q,{stars:1})]})},n)}))})}),(0,B.jsx)(c.ZP,{item:!0,flexGrow:1,children:(0,B.jsx)(p.Z,{autoFocus:!0,size:"small",value:hn,onChange:function(n){return Zn(n.target.value)},label:n("weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,B.jsx)(c.ZP,{item:!0,children:(0,B.jsx)(k.Z,{sx:{height:"100%"},sortKeys:G.Ol,value:gn,onChange:function(n){return O({sortType:n})},ascending:mn,onChangeAsc:function(n){return O({ascending:n})}})})]}),(0,B.jsxs)(c.ZP,{container:!0,alignItems:"flex-end",children:[(0,B.jsx)(c.ZP,{item:!0,flexGrow:1,children:(0,B.jsx)(f.Z,{count:Sn,page:Wn+1,onChange:Nn})}),(0,B.jsx)(c.ZP,{item:!0,children:(0,B.jsx)(H,{numShowing:Tn.length,total:Mn,t:n})})]})]}),(0,B.jsx)(g.Suspense,{fallback:(0,B.jsx)(x.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:500}}),children:(0,B.jsxs)(c.ZP,{container:!0,spacing:1,columns:F,children:[(0,B.jsx)(c.ZP,{item:!0,xs:1,children:(0,B.jsxs)(w.Z,{sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[(0,B.jsx)(h.Z,{children:(0,B.jsx)(Z.Z,{sx:{textAlign:"center"},children:n("page_weapon:addWeapon")})}),(0,B.jsx)(P.Z,{show:X,onHide:function(){return J(!1)},onSelect:pn}),(0,B.jsx)(u.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,B.jsx)(v.Z,{onClick:function(){return J(!0)},color:"info",sx:{borderRadius:"1em"},children:(0,B.jsx)(Z.Z,{variant:"h1",children:(0,B.jsx)(l.G,{icon:s.r8p,className:"fa-fw"})})})})]})}),Tn.map((function(n){return(0,B.jsx)(c.ZP,{item:!0,xs:1,children:(0,B.jsx)(V.Z,{weaponId:n,onDelete:cn,onEdit:dn,canEquip:!0})},n)}))]})}),Sn>1&&(0,B.jsx)(w.Z,{children:(0,B.jsx)(h.Z,{children:(0,B.jsxs)(c.ZP,{container:!0,alignItems:"flex-end",children:[(0,B.jsx)(c.ZP,{item:!0,flexGrow:1,children:(0,B.jsx)(f.Z,{count:Sn,page:Wn+1,onChange:Nn})}),(0,B.jsx)(c.ZP,{item:!0,children:(0,B.jsx)(H,{numShowing:Tn.length,total:Mn,t:n})})]})})})]})}function H(n){var e=n.numShowing,t=n.total,r=n.t;return(0,B.jsx)(Z.Z,{color:"text.secondary",children:(0,B.jsxs)(y.c,{t:r,i18nKey:"showingNum",count:e,value:t,children:["Showing ",(0,B.jsx)("b",{children:{count:e}})," out of ",{value:t}," Weapons"]})})}},68544:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(29439),i=t(72791);function o(){var n=(0,i.useState)({}),e=(0,r.Z)(n,2),t=e[0],o=e[1];return[t,(0,i.useCallback)((function(){return o({})}),[])]}},70645:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(13967),i=t(95193);function o(){var n=(0,r.Z)(),e=(0,i.Z)(n.breakpoints.up("sm")),t=(0,i.Z)(n.breakpoints.up("md")),o=(0,i.Z)(n.breakpoints.up("lg"));return(0,i.Z)(n.breakpoints.up("xl"))?"xl":o?"lg":t?"md":e?"sm":"xs"}},74480:function(n,e,t){t.d(e,{Z:function(){return a}});var r=t(29439),i=t(72791),o=t(31096);function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=(0,i.useContext)(o.t),t=e.database,a=(0,i.useState)(t.weapons.get(n)),s=(0,r.Z)(a,2),l=s[0],u=s[1];return(0,i.useEffect)((function(){return u(t.weapons.get(n))}),[t,n]),(0,i.useEffect)((function(){return n?t.weapons.follow(n,(function(n,e,t){return"update"===e&&u(t)})):void 0}),[n,u,t]),l}},75308:function(n,e,t){t.d(e,{X:function(){return o}});var r=t(93433),i=t(60393);function o(n){return function(e,t){var o=e.length;return o===n.length?[t]:1===o&&e[0]===t?(0,r.Z)(n):(0,r.Z)(new Set((0,i.nh)(e,t)))}}},46956:function(n,e,t){t.d(e,{C:function(){return o},e:function(){return i}});var r=t(29439);function i(n,e,t){function r(n,e,t,r){var i=r.getValue(n),o=r.getValue(e);return(t?-1:1)*("string"===typeof i&&"string"===typeof o?i.localeCompare(o):o-i)}return function(i,o){if(!t[n])return 0;var a=t[n],s=r(i,o,e,a);return!s&&a.tieBreaker&&t[a.tieBreaker]&&(s=r(i,o,e,t[a.tieBreaker])),s}}function o(n,e){return function(t){return Object.entries(n).every((function(n){var i=(0,r.Z)(n,2),o=i[0],a=i[1];return e[o]&&e[o](t,a)}))}}},66045:function(n,e,t){t.d(e,{Ol:function(){return i},Sn:function(){return o},Xg:function(){return a}});var r=t(72828),i=["level","rarity"];function o(n){return{level:{getValue:function(n){var e;return null!==(e=n.level*n.ascension)&&void 0!==e?e:0},tieBreaker:"rarity"},rarity:{getValue:function(e){var t;return null===n||void 0===n||null===(t=n[e.key])||void 0===t?void 0:t.rarity},tieBreaker:"level"}}}function a(n){return{rarity:function(e,t){var r;return t.includes(null===n||void 0===n||null===(r=n[e.key])||void 0===r?void 0:r.rarity)},weaponType:function(e,t){var r;return t.includes(null===n||void 0===n||null===(r=n[e.key])||void 0===r?void 0:r.weaponType)},name:function(n,e){return r.Z.t("weaponNames_gen:".concat(n.key)).toLowerCase().includes(e.toLowerCase())}}}}}]);
//# sourceMappingURL=348.5369eb59.chunk.js.map