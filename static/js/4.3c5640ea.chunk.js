(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[4],{262:function(e,t,n){"use strict";n.d(t,"b",(function(){return R})),n.d(t,"d",(function(){return H})),n.d(t,"a",(function(){return G})),n.d(t,"c",(function(){return L}));var r,a=n(10),c=n(16),o=n(14),i=n(104),u=n(17),s=n(23),d=n(264),l=!0,b=u.e,f=["auto","skill","burst"],j=["normal","charged","plunging","skill","burst","elemental"],p=["hp","hp_","atk","atk_","def","def_","eleMas","enerRech_","critRate_","critDMG_"],O=["physical_dmg_","anemo_dmg_","geo_dmg_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_","heal_"],m=["overloaded","shattered","electrocharged","superconduct","swirl"],v=["vaporize","melt"],h=[].concat(p,Object(o.a)(["all","burning"].concat(m,v,j).map((function(e){return"".concat(e,"_dmg_")})))),y=[].concat(O,Object(o.a)(["all"].concat(j).map((function(e){return"".concat(e,"_dmgInc")}))),Object(o.a)(Object(o.a)(b).map((function(e){return"".concat(e,"_critDMG_")}))),Object(o.a)(b.map((function(e){return"".concat(e,"_res_")}))),Object(o.a)(j.map((function(e){return"".concat(e,"_critRate_")}))),Object(o.a)(i.a),["enemyDefRed_"],["stamina","staminaDec_","staminaSprintDec_","staminaGlidingDec_","staminaChargedDec_","incHeal_","shield_","cdRed_","moveSPD_","atkSPD_","weakspotDMG_"]),g=Object(s.m)(f,(function(e){return Object(d.s)()})),_=Object(s.m)(h,(function(e){return Object(d.s)(void 0,{key:e})})),k=Object(s.m)(y,(function(e){return Object(d.s)(void 0,{key:e})})),x=Object(c.a)(b);try{for(x.s();!(r=x.n()).done;){var w=r.value;k["".concat(w,"_res_")].info.variant=w,k["".concat(w,"_enemyRes_")].info.variant=w,k["".concat(w,"_critDMG_")].info.variant=w,k["".concat(w,"_dmg_")].info.variant=w}}catch(U){x.e(U)}finally{x.f()}for(var M=0,N=[].concat(m,v);M<N.length;M++){var B=N[M];_["".concat(B,"_dmg_")].info.variant=B}function S(e,t){return t=Object(s.e)(t),Object(s.d)(t,[],(function(e){return e.operation}),(function(t){return t.info=Object(a.a)(Object(a.a)({},e),t.info)})),t}var C,I,R=Object(d.v)(Object(s.e)({activeCharKey:Object(d.x)(),charKey:Object(d.x)(),charEle:Object(d.x)(),infusion:Object(d.x)(),weaponType:Object(d.x)(),lvl:Object(d.s)(void 0,{key:"level",prefix:"char"}),constellation:Object(d.s)(),asc:Object(d.s)(),special:Object(d.s)(),base:Object(s.m)(["atk","hp","def"],(function(e){return Object(d.s)("add",{key:e})})),customBonus:S({prefix:"custom",pivot:l},Object(a.a)(Object(a.a)({},_),k)),bonus:Object(a.a)({},g),premod:Object(a.a)(Object(a.a)(Object(a.a)({},g),_),k),total:S({prefix:"total",pivot:l},Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},g),Object(s.n)(f,(function(e){return["".concat(e,"Index"),Object(d.s)()]}))),_),k),{},{cappedCritRate:Object(d.s)(void 0,{key:"critRate_"})})),art:S({prefix:"art",asConst:true},Object(a.a)(Object(a.a)(Object(a.a)({},Object(s.m)(p,(function(e){return _[e]}))),Object(s.m)(O,(function(e){return k[e]}))),Object(s.m)(u.j,(function(e){return{id:Object(d.x)(),set:Object(d.x)()}})))),artSet:Object(s.m)(u.b,(function(e){return Object(d.s)("add",{key:e})})),weapon:S({prefix:"weapon",asConst:true},{key:Object(d.x)(),type:Object(d.x)(),lvl:Object(d.s)(),asc:Object(d.s)(),refinement:Object(d.s)(),refineIndex:Object(d.s)(),main:Object(d.s)(),sub:Object(d.s)(),sub2:Object(d.s)()}),team:{infusion:Object(d.x)()},enemy:Object(a.a)(Object(a.a)(Object(a.a)({def:Object(d.s)("add",{key:"enemyDef_multi",pivot:l})},Object(s.m)(b.map((function(e){return"".concat(e,"_resMulti")})),(function(e){return Object(d.s)()}))),{},{level:Object(d.s)(void 0,{key:"enemyLevel"})},Object(s.n)(b,(function(e){return["".concat(e,"_res_"),Object(d.s)(void 0)]}))),{},{defRed:Object(d.s)(void 0),defIgn:Object(d.s)("add",{key:"enemyDefIgn_",pivot:l})}),hit:{ele:Object(d.x)(),reaction:Object(d.x)(),move:Object(d.x)(),hitMode:Object(d.x)(),base:Object(d.s)("add",{key:"base"}),dmgBonus:Object(d.s)(void 0,{key:"dmg_",pivot:l}),dmgInc:Object(d.s)(void 0,{key:"dmgInc",pivot:l}),dmg:Object(d.s)()}})),z=R.base,D=R.bonus,E=R.customBonus,A=R.premod,T=R.total,K=R.art,W=R.hit,F=R.enemy;C="add",I={bonus:D,customBonus:E,premod:A,art:K,total:Object(s.m)(h,(function(e){return T[e]}))},Object(s.d)(I,[],(function(e){return e.operation}),(function(e){"read"===e.operation&&"number"===e.type&&(e.accu=C)})),D.auto.info={key:"autoBoost"},D.skill.info={key:"skillBoost"},D.burst.info={key:"burstBoost"},z.atk.info={key:"atk",prefix:"base",pivot:l},delete T.critRate_.info.pivot,T.critRate_.info.prefix="uncapped";var q=Object(d.z)(d.B,Object(d.r)(25/9,Object(d.g)(T.eleMas,1400))),P=Object(d.l)(W.ele,{pyro:Object(d.l)(W.reaction,{vaporize:Object(d.a)("vaporize"),melt:Object(d.a)("melt")},void 0),hydro:Object(d.f)(W.reaction,"vaporize","vaporize"),cryo:Object(d.f)(W.reaction,"melt","melt")},void 0),G={premod:Object(a.a)(Object(a.a)(Object(a.a)({},Object(s.m)(f,(function(e){return D[e]}))),Object(s.m)(y,(function(e){return E[e]}))),Object(s.m)([].concat(Object(o.a)(h),O),(function(e){var t=[];switch(e){case"atk":case"def":case"hp":t.push(Object(d.r)(z[e],Object(d.z)(d.B,A["".concat(e,"_")])));break;case"critRate_":t.push(Object(d.q)(.05,{key:e,prefix:"default"}),Object(d.l)(W.move,Object(s.m)(j,(function(e){return E["".concat(e,"_critRate_")]})),0));break;case"critDMG_":t.push(Object(d.q)(.5,{key:e,prefix:"default"}),Object(d.l)(W.ele,Object(s.m)(b,(function(e){return E["".concat(e,"_critDMG_")]})),0));break;case"enerRech_":t.push(Object(d.q)(1,{key:e,prefix:"default"}))}return d.z.apply(void 0,Object(o.a)([].concat(t,[K[e],E[e]]).filter((function(e){return e}))))}))),total:Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},Object(s.m)(f,(function(e){return A[e]}))),Object(s.m)(h,(function(e){return A[e]}))),Object(s.m)(y,(function(e){return A[e]}))),Object(s.n)(f,(function(e){return["".concat(e,"Index"),Object(d.z)(T[e],-1)]}))),{},{stamina:Object(d.z)(Object(d.a)(100,{key:"stamina",prefix:"default"}),E.stamina),cappedCritRate:Object(d.n)(Object(d.o)(T.critRate_,d.B),d.p)}),hit:{dmgBonus:Object(d.z)(T.all_dmg_,Object(d.l)(P,Object(s.m)(v,(function(e){return T["".concat(e,"_dmg_")]})),d.p),Object(d.l)(W.move,Object(s.m)(j,(function(e){return T["".concat(e,"_dmg_")]})),d.p),Object(d.l)(W.ele,Object(s.m)(b,(function(e){return T["".concat(e,"_dmg_")]})),d.p)),dmgInc:Object(d.z)(T.all_dmgInc,Object(d.l)(W.move,Object(s.m)(j,(function(e){return T["".concat(e,"_dmgInc")]})),NaN)),dmg:Object(d.r)(Object(d.z)(W.base,W.dmgInc),Object(d.z)(d.B,W.dmgBonus),Object(d.l)(W.hitMode,{hit:d.B,critHit:Object(d.z)(d.B,T.critDMG_),avgHit:Object(d.z)(d.B,Object(d.r)(T.cappedCritRate,T.critDMG_))},NaN),F.def,Object(d.l)(W.ele,Object(s.m)(b,(function(e){return F["".concat(e,"_resMulti")]})),NaN),Object(d.l)(P,{melt:Object(d.l)(W.ele,{pyro:Object(d.r)(2,q),cryo:Object(d.r)(1.5,q)},1,{key:"melt_dmg_"}),vaporize:Object(d.l)(W.ele,{hydro:Object(d.r)(2,q),pyro:Object(d.r)(1.5,q)},1,{key:"vaporize_dmg_"})},1))},enemy:Object(a.a)({def:Object(d.g)(Object(d.z)(R.lvl,100),Object(d.r)(Object(d.z)(F.level,100),Object(d.z)(1,Object(d.r)(-1,F.defRed)),Object(d.z)(1,Object(d.r)(-1,F.defIgn)))),defRed:T.enemyDefRed_},Object(s.n)(b,(function(e){return["".concat(e,"_resMulti"),Object(d.t)(Object(d.j)(Object(d.z)(F["".concat(e,"_res_")],T["".concat(e,"_enemyRes_")]),{key:"".concat(e,"_res_"),variant:e}))]})))},L=Object(d.v)(Object(s.e)(R),["target"]),H=(Object(d.v)(Object(s.m)([].concat(Object(o.a)(b),Object(o.a)(u.i)),(function(e){return Object(d.s)("add")})),["tally"]),R)},263:function(e,t,n){"use strict";var r=n(9),a=n(442),c=Object(r.a)(a.a)((function(e){return{backgroundColor:e.theme.palette.contentLight.main}}));t.a=c},264:function(e,t,n){"use strict";n.d(t,"B",(function(){return o})),n.d(t,"p",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"q",(function(){return s})),n.d(t,"j",(function(){return d})),n.d(t,"l",(function(){return l})),n.d(t,"o",(function(){return b})),n.d(t,"n",(function(){return f})),n.d(t,"z",(function(){return j})),n.d(t,"r",(function(){return p})),n.d(t,"g",(function(){return O})),n.d(t,"t",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return h})),n.d(t,"A",(function(){return y})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return _})),n.d(t,"k",(function(){return k})),n.d(t,"v",(function(){return x})),n.d(t,"d",(function(){return w})),n.d(t,"u",(function(){return M})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return B})),n.d(t,"s",(function(){return S})),n.d(t,"x",(function(){return C})),n.d(t,"w",(function(){return I})),n.d(t,"y",(function(){return R})),n.d(t,"m",(function(){return E}));var r=n(14),a=n(10),c=n(23),o=(u(NaN,{key:"TODO"}),s(1)),i=s(0);function u(e,t){return{operation:"const",operands:[],value:e,info:t}}function s(e,t){return e>=Number.MAX_VALUE/100&&(e=1/0),e<=-Number.MAX_VALUE/100&&(e=-1/0),u(e,Object(a.a)({key:"_"},t))}function d(e,t){return t&&(e.info=Object(a.a)(Object(a.a)({},e.info),t)),e}function l(e,t,n,r){return{operation:"lookup",operands:"none"!==n?[D(e),D(n)]:[D(e)],table:t,info:r}}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{operation:"min",operands:z(t)}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{operation:"max",operands:z(t)}}function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{operation:"add",operands:z(t)}}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{operation:"mul",operands:z(t)}}function O(e,t){return{operation:"sum_frac",operands:z([e,t])}}function m(e){return{operation:"res",operands:z([e])}}function v(e,t,n,r){return{operation:"match",operands:[D(e),D(t),D(n),D(0)],info:r,emptyOn:"unmatch"}}function h(e,t,n,r){return{operation:"match",operands:[D(e),D(t),D(n),D(void 0)],info:r,emptyOn:"unmatch"}}function y(e,t,n,r){return{operation:"match",operands:[D(e),D(t),D(0),D(n)],info:r,emptyOn:"match"}}function g(e,t,n,r){return{operation:"threshold",operands:[D(e),D(t),D(n),D(0)],info:r,emptyOn:"l"}}function _(e,t,n,r){return{operation:"threshold",operands:[D(e),D(t),D(n),D(void 0)],info:r,emptyOn:"l"}}function k(e,t,n,r){return{operation:"threshold",operands:[D(e),D(t),D(0),D(n)],info:r,emptyOn:"ge"}}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.operation){if("read"!==e.operation)throw new Error("Found ".concat(e.operation," node while making reader"));return Object(a.a)(Object(a.a)({},e),{},{path:t})}return Object(c.m)(Object.keys(e),(function(n){return x(e[n],[].concat(Object(r.a)(t),[n]))}))}function w(e,t){return{operation:"data",operands:[e],data:t}}function M(e,t,n){return{operation:"data",operands:[e],data:t,reset:!0,info:n}}function N(e,t){return{operation:"read",operands:[],path:e,info:t,type:"number"}}function B(e){return{operation:"read",operands:[],path:e,type:"string"}}function S(e,t){return{operation:"read",operands:[],path:[],accu:e,info:t,type:"number"}}function C(){return{operation:"read",operands:[],path:[],type:"string"}}function I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{operation:"prio",operands:z(t)}}function R(e,t,n){return{operation:"subscript",operands:[e],list:t,info:n}}function z(e){return e.map((function(e){return"object"===typeof e?e:u(e)}))}function D(e){return"object"!==typeof e?u(e):e}function E(e,t,n,r,a){return{operation:"match",operands:[D(e),D(t),D(n),D(r)],info:a}}},266:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),a=n(0);function c(e,t){var n=Object(a.useState)(void 0),c=Object(r.a)(n,2),o=c[0],i=c[1];return Object(a.useEffect)((function(){var t,n=!0;return null!==(t=null===e||void 0===e?void 0:e.then((function(e){return n&&i((function(){return e}))}),console.error))&&void 0!==t||i(void 0),function(){n=!1,i(void 0)}}),t),o}},267:function(e,t,n){"use strict";var r=n(9),a=n(442),c=Object(r.a)(a.a)((function(e){return{backgroundColor:e.theme.palette.contentDark.main}}));t.a=c},268:function(e,t,n){"use strict";var r=n(9),a=Object(r.a)("img",{name:"ImgIcon",slot:"Root"})((function(e){var t=e.size;return{display:"inline-block",width:"auto",height:"".concat(1.2*(void 0===t?1:t),"em"),verticalAlign:"text-bottom"}}));t.a=a},269:function(e,t,n){"use strict";var r=n(9),a=Object(r.a)("span",{name:"SqBadge",slot:"Root"})((function(e){var t,n,r=e.theme,a=e.color,c=void 0===a?"primary":a;return{display:"inline-block",padding:".25em .4em",fontSize:"75%",fontWeight:700,lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",borderRadius:".25em",backgroundColor:null===(t=r.palette[c])||void 0===t?void 0:t.main,color:null===(n=r.palette[c])||void 0===n?void 0:n.contrastText}}));t.a=a},270:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(10),a=n(8),c=n(127),o=n(766),i=n(258),u=n(158),s=n(739),d=n(0),l=n(1);function b(e){var t=e.title,n=e.children,b=e.id,f=void 0===b?"dropdownbtn":b,j=Object(c.a)(e,["title","children","id"]),p=Object(d.useState)(null),O=Object(a.a)(p,2),m=O[0],v=O[1],h=Boolean(m),y=Object(d.useCallback)((function(e){return v(e.currentTarget)}),[v]),g=Object(d.useCallback)((function(){return v(null)}),[v]);return Object(l.jsxs)(d.Suspense,{fallback:Object(l.jsx)(i.a,Object(r.a)(Object(r.a)({endIcon:Object(l.jsx)(o.a,{})},j),{},{children:Object(l.jsx)(u.a,{width:50})})),children:[Object(l.jsx)(i.a,Object(r.a)(Object(r.a)({},j),{},{id:f,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":h?"true":void 0,onClick:y,endIcon:Object(l.jsx)(o.a,{}),children:t})),Object(l.jsx)(s.a,{id:"basic-menu",anchorEl:m,open:h,onClose:g,MenuListProps:{"aria-labelledby":f},onClick:g,children:Object(l.jsx)(d.Suspense,{fallback:Object(l.jsx)(u.a,{width:"100%",height:"1000"}),children:n})})]})}},272:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return p}));var r=n(31),a=n(32),c=n(268),o=n(47),i=n(269),u=n(273),s=n(1),d=n.e(17).then(n.bind(null,373)).then((function(e){return e.default})),l=function(){function e(t,n){var a=this;Object(r.a)(this,e),this.sheet=void 0,this.data=void 0,this.isMelee=function(){var e=a.sheet.weaponTypeKey;return"sword"===e||"polearm"===e||"claymore"===e},this.getTalent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anemo";return"talent"in a.sheet?a.sheet.talent:a.sheet.talents[e]},this.getTalentOfKey=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"anemo";return null===(t=a.getTalent(n))||void 0===t?void 0:t.sheets[e]},this.sheet=t,this.data=n}return Object(a.a)(e,[{key:"name",get:function(){return this.sheet.name}},{key:"nameWIthIcon",get:function(){return Object(s.jsxs)("span",{children:[Object(s.jsx)(c.a,{src:this.thumbImgSide,sx:{height:"2em",marginTop:"-2em",marginLeft:"-0.5em"}})," ",this.name]})}},{key:"cardImg",get:function(){return this.sheet.cardImg}},{key:"thumbImg",get:function(){return this.sheet.thumbImg}},{key:"thumbImgSide",get:function(){return this.sheet.thumbImgSide}},{key:"bannerImg",get:function(){return this.sheet.bannerImg}},{key:"rarity",get:function(){return this.sheet.rarity}},{key:"elementKey",get:function(){return"elementKey"in this.sheet?this.sheet.elementKey:void 0}},{key:"weaponTypeKey",get:function(){return this.sheet.weaponTypeKey}},{key:"constellationName",get:function(){return this.sheet.constellationName}},{key:"isTraveler",get:function(){return"talents"in this.sheet}}],[{key:"getAll",get:function(){return d}}]),e}();l.get=function(e){return e?d.then((function(t){return t[e]})):void 0},l.getLevelString=function(e,t){return"".concat(e,"/").concat(o.b[t])};var b=function(e,t,n,r){return{name:t("".concat(e,".name")),img:n,sections:[{text:t("".concat(e,".description")),fields:r}]}},f={auto:"Auto",skill:"Skill",burst:"Burst",passive:"Passive",passive1:"Ascension 1",passive2:"Ascension 4",passive3:"Passive",sprint:"Sprint",constellation1:"C1",constellation2:"C2",constellation3:"C3",constellation4:"C4",constellation5:"C5",constellation6:"C6"},j=function(e,t,n){return{title:t("".concat(e,".name")),icon:Object(s.jsx)(c.a,{size:2,sx:{m:-1},src:n}),action:Object(s.jsx)(i.a,{color:"success",children:f[e]})}},p=function(e){return u.a.weaponTypes[e]}},273:function(e,t,n){"use strict";var r={weaponTypes:{bow:n.p+"static/media/icon_bow.7ceaa8e2.png",catalyst:n.p+"static/media/icon_catalyst.db078b7b.png",claymore:n.p+"static/media/icon_claymore.63b1abb8.png",polearm:n.p+"static/media/icon_polearm.e5f4a2a1.png",sword:n.p+"static/media/icon_sword.619c9c2d.png"},resin:{fragile:n.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:n.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:n.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:n.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:n.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=r},274:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(54),c=n(53),o=n(73),i=n(1),u=function(){return Object(i.jsx)(c.a,{icon:a.A})},s=function(e){var t=e.stars,n=e.colored,a=void 0!==n&&n;return Object(i.jsx)(o.a,{color:a?"warning.main":void 0,component:"span",children:t?Object(r.a)(Array(t).keys()).map((function(e,t){return Object(i.jsx)(u,{},t)})):null})}},275:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return y})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return h}));var r=n(14),a=n(5),c=n(8),o=n(10),i=n(63),u=n(17),s=n(23),d=n(262),l=n(309),b=n(280);n.d(t,"h",(function(){return b.b}));var f=n(264);function j(e,t){return Object(s.d)(e,[],(function(e){return e.operation}),(function(e,n){"teamBuff"===n[0]&&(n=n.slice(1));var r=Object(s.l)(d.b,n);r?e.info=Object(o.a)(Object(o.a)({},r.info),{},{prefix:void 0,source:t}):"tally"!==n[0]&&console.error("Detect ".concat(t," buff into non-existant key path ").concat(n))})),e}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=i.a.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(t,4*e.rarity),e.level)),r=[];return r.push([e.mainStatKey,n]),e.substats.forEach((function(e){var t=e.key,n=e.accurateValue;return t&&r.push([t,n])})),{art:Object(o.a)(Object(o.a)({},Object.fromEntries(r.map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];return n.endsWith("_")?[n,Object(f.q)(r/100)]:[n,Object(f.a)(r)]})))),{},Object(a.a)({},e.slotKey,{id:Object(f.a)(e.id),set:Object(f.a)(e.setKey)})),artSet:Object(a.a)({},e.setKey,Object(f.a)(1))}}function O(e){for(var t,n={lvl:Object(f.a)(e.level),constellation:Object(f.a)(e.constellation),asc:Object(f.a)(e.ascension),premod:{auto:Object(f.a)(e.talent.auto),skill:Object(f.a)(e.talent.skill),burst:Object(f.a)(e.talent.burst)},enemy:Object(o.a)(Object(o.a)({},Object(s.m)(u.e.map((function(e){return"".concat(e,"_res_")})),(function(t){var n;return Object(f.q)((null!==(n=e.enemyOverride["".concat(t.slice(0,-5),"_enemyRes_")])&&void 0!==n?n:10)/100)}))),{},{level:Object(f.a)(null!==(t=e.enemyOverride.enemyLevel)&&void 0!==t?t:e.level)}),hit:{hitMode:Object(f.a)(e.hitMode)},customBonus:{}},r=0,i=Object.entries(e.bonusStats);r<i.length;r++){var b=Object(c.a)(i[r],2),j=b[0],p=b[1];n.customBonus[j]=j.endsWith("_")?Object(f.q)(p/100):Object(f.a)(p)}return e.enemyOverride.enemyDefRed_&&(n.premod.enemyDefRed_=Object(f.q)(e.enemyOverride.enemyDefRed_)),e.enemyOverride.enemyDefIgn_&&(n.enemy.defIgn=Object(f.q)(e.enemyOverride.enemyDefIgn_)),e.elementKey&&(n.charEle=Object(f.a)(e.elementKey),n.display={basic:Object(a.a)({},"".concat(e.elementKey,"_dmg_"),d.b.total["".concat(e.elementKey,"_dmg_")]),reaction:l.a[e.elementKey]},Object(s.k)(n,["teamBuff","tally",e.elementKey],Object(f.a)(1))),Object(s.d)(e.conditional,["conditional"],(function(e){return"string"===typeof e}),(function(e,t){return Object(s.k)(n,t,Object(f.a)(e))})),n}function m(e){return{weapon:{lvl:Object(f.a)(e.level),asc:Object(f.a)(e.ascension),refinement:Object(f.a)(e.refinement),refineIndex:Object(f.a)(e.refinement-1)}}}var v=Object(f.v)(Object(s.e)(d.b),["teamBuff"]);function h(e,t){var n=Object.entries(e).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];return[n,Object(o.a)({},y(r))]})),a=Object.fromEntries(n.map((function(e){return[Object(c.a)(e,1)[0],{targetRef:{},buffs:[],calcs:{}}]}))),i={};function u(e){var t="teamBuff"===e[0]?Object(s.l)(v,e.slice(1)):Object(s.l)(d.b,e);if(t)return t;var n=Object(s.l)(i,e);if(n)return n;var r=Object(f.b)(e);return"teamBuff"===e[0]&&"tally"===e[1]&&(r.accu="add"),Object(s.k)(i,e,r),r}Object.values(a).forEach((function(e){var t=e.targetRef,i=e.buffs,l=e.calcs;return n.forEach((function(e){var n=Object(c.a)(e,2),b=n[0],j=n[1].teamBuff,p={},O=Object(s.e)({teamBuff:j});i.push(p),l[b]=O,Object(s.d)(j,[],(function(e){return e.operation}),(function(e,n){var c=Object(o.a)(Object(o.a)({},Object(s.l)(d.b,n)),{},{source:b,prefix:void 0,asConst:true});Object(s.k)(p,n,Object(f.u)(u(["teamBuff"].concat(Object(r.a)(n))),O,c)),Object(s.d)(e,[],(function(e){return"read"===(null===e||void 0===e?void 0:e.operation)}),(function(e){var n,r;"targetBuff"!==e.path[0]&&("target"===e.path[0]?(n=u(e.path.slice(1)),r=t):(n=e,r=a[b].targetRef),Object(s.k)(O,e.path,Object(f.u)(n,r)))}))}))}))})),n.forEach((function(e){var n=Object(c.a)(e,2),r=n[0],i=n[1];delete i.teamBuff;var u=a[r],d=u.targetRef,l=y(u.buffs);Object(s.d)(null!==l&&void 0!==l?l:{},[],(function(e){return e.operation}),(function(e,t){var n;e.info=Object(o.a)(Object(o.a)({},null===(n=Object(s.l)(v,t))||void 0===n?void 0:n.info),{},{prefix:"teamBuff",pivot:true})})),Object.assign(d,y([i,l,{teamBuff:l,activeCharKey:Object(f.a)(t)}])),d.target=d}));var l=new b.a(void 0,void 0);return Object.fromEntries(Object.entries(a).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];return[n,{target:new b.a(r.targetRef,l),buff:Object.fromEntries(Object.entries(r.calcs).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];return[n,new b.a(r,l)]})))}]})))}function y(e){return e.length?function e(t,n){if(t.length<=1)return t[0];if(t[0].operation){var a;"teamBuff"===n[0]&&(n=n.slice(1));var c="tally"===n[0]?"add":null===(a=Object(s.l)(d.b,n))||void 0===a?void 0:a.accu;if(void 0===c){if(1!==t.length)throw new Error("Multiple entries when merging `unique` for key ".concat(n));return t[0]}return{operation:c,operands:t}}return Object.fromEntries(Object(r.a)(new Set(t.flatMap((function(e){return Object.keys(e)})))).map((function(a){return[a,e(t.map((function(e){return e[a]})).filter((function(e){return e})),[].concat(Object(r.a)(n),[a]))]})))}(e,[]):{}}function g(e){return new b.a(y(e),void 0)}},276:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var r=n(10),a=n(54),c=n(53),o=n(67),i=n(23),u=n(55),s=n(1);function d(){return Object(s.jsxs)("span",{className:"fa-layers ",children:[Object(s.jsx)(c.a,{icon:o.r}),Object(s.jsx)(c.a,{icon:o.s,style:{color:"grey"}})]})}function l(){return Object(s.jsxs)("span",{className:"fa-layers ",children:[Object(s.jsx)(c.a,{icon:o.c}),Object(s.jsx)(c.a,{icon:o.d,style:{color:"grey"}})]})}function b(){return Object(s.jsxs)("span",{className:"fa-layers ",children:[Object(s.jsx)(c.a,{icon:o.l}),Object(s.jsx)(c.a,{icon:o.m,style:{color:"grey"}})]})}var f={anemo:Object(s.jsx)(c.a,{icon:o.a}),geo:Object(s.jsx)(c.a,{icon:o.o}),electro:Object(s.jsx)(c.a,{icon:o.j}),hydro:Object(s.jsx)(c.a,{icon:o.t}),pyro:Object(s.jsx)(c.a,{icon:o.x}),cryo:Object(s.jsx)(c.a,{icon:o.g}),dendro:Object(s.jsx)(c.a,{icon:o.i}),physical:Object(s.jsx)(c.a,{icon:o.v})},j=Object(i.m)(Object.keys(f),(function(e){return Object(s.jsx)(u.a,{color:e,children:f[e]})})),p=Object(r.a)(Object(r.a)({characterHP:Object(s.jsx)(d,{}),finalHP:Object(s.jsx)(d,{}),hp_:Object(s.jsx)(d,{}),hp:Object(s.jsx)(d,{}),baseATK:Object(s.jsx)(c.a,{icon:o.b}),characterATK:Object(s.jsx)(c.a,{icon:o.b}),finalATK:Object(s.jsx)(c.a,{icon:o.b}),atk_:Object(s.jsx)(c.a,{icon:o.b}),atk:Object(s.jsx)(c.a,{icon:o.b}),characterDEF:Object(s.jsx)(c.a,{icon:o.h}),finalDEF:Object(s.jsx)(c.a,{icon:o.h}),def_:Object(s.jsx)(c.a,{icon:o.h}),def:Object(s.jsx)(c.a,{icon:o.h}),eleMas:Object(s.jsx)(c.a,{icon:o.k}),critRate_:Object(s.jsx)(c.a,{icon:o.f}),critDMG_:Object(s.jsx)(c.a,{icon:a.k}),enerRech_:Object(s.jsx)(b,{}),heal_:Object(s.jsx)(c.a,{icon:o.q}),cdRed_:Object(s.jsx)(l,{}),shield_:Object(s.jsx)(c.a,{icon:o.z}),stamina:Object(s.jsx)(c.a,{icon:o.u})},j),Object.fromEntries(Object.keys(j).flatMap((function(e){return[["".concat(e,"_dmg_"),j[e]],["".concat(e,"_res_"),j[e]]]}))));t.a=p},277:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(8),a=n(31),c=n(32),o=n(128),i=n(47),u=n(1),s=n.e(16).then(n.bind(null,399)).then((function(e){return e.default})),d=function(){function e(t,n,r,c){var i=this;Object(a.a)(this,e),this.key=void 0,this.sheet=void 0,this.data=void 0,this.rarity=void 0,this.weaponType=void 0,this.tr=function(e){return Object(u.jsx)(o.a,{ns:"weapon_".concat(i.key,"_gen"),key18:e})},this.passiveDescription=function(e){return i.rarity>2?i.tr("passiveDescription.".concat(e)):""},this.rarity=r.rarity,this.weaponType=r.weaponType,this.key=t,this.sheet=n,this.data=c}return Object(c.a)(e,[{key:"name",get:function(){return this.tr("name")}},{key:"passiveName",get:function(){return this.rarity>2?this.tr("passiveName"):""}},{key:"description",get:function(){return this.tr("description")}},{key:"img",get:function(){return this.sheet.icon}},{key:"imgAwaken",get:function(){return this.sheet.iconAwaken}},{key:"document",get:function(){return this.sheet.document}}],[{key:"getAll",get:function(){return s}}]),e}();d.get=function(e){return e?s.then((function(t){return t[e]})):void 0},d.getWeaponsOfType=function(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){var n=Object(r.a)(e,2);n[0];return n[1].weaponType===t})))},d.getLevelString=function(e){return"".concat(e.level,"/").concat(i.b[e.ascension])}},279:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n(10),c=n(39),o=n(127),i=n(763),u=n(258),s=n(126),d=n(1);function l(e){var t=e.large,n=void 0!==t&&t,l=Object(o.a)(e,["large"]),b=Object(s.a)("ui").t;return n?Object(d.jsx)(u.a,Object(a.a)(Object(a.a)({color:"error",startIcon:Object(d.jsx)(i.a,{})},l),{},{children:b(r||(r=Object(c.a)(["close"])))})):Object(d.jsx)(u.a,Object(a.a)(Object(a.a)({color:"error",sx:{p:1,minWidth:0}},l),{},{children:Object(d.jsx)(i.a,{})}))}},280:function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return M}));var r,a,c,o,i,u,s,d,l=n(39),b=n(8),f=n(10),j=n(16),p=n(14),O=n(31),m=n(32),v=n(262),h=n(55),y=n(104),g=n(23),_=n(315),k=n(1),x=!0;function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return isFinite(e)?("%"===t?e*=100:t="",Number.isInteger(e)?n=0:-1===n&&(n="%"===t?1:Math.abs(e)<10?3:Math.abs(e)<1e3?2:Math.abs(e)<1e4?1:0),"".concat(e.toFixed(n)).concat(t)):e>0?"\u221e":e<0?"-\u221e":"NaN"}var M=function(){function e(t,n){Object(O.a)(this,e),this.origin=void 0,this.children=new Map,this.data=void 0,this.nodes=new Map,this.processed=new Map,this.display=void 0,this.teamBuff=void 0,void 0===t?(this.data=[],this.origin=this):(n||(n=new e(void 0,void 0)),this.data=[t].concat(Object(p.a)(n.data)),this.origin=n.origin)}return Object(m.a)(e,[{key:"getDisplay",value:function(){return this.display||(this.display=this.getAll(["display"])),this.display}},{key:"getTeamBuff",value:function(){if(!this.teamBuff){var e=this.getAll(["teamBuff"]),t={};Object(g.d)(v.d,[],(function(e){return e.operation}),(function(n,r){var a=Object(g.l)(e,n.path);a&&Object(g.k)(t,r,a)})),this.teamBuff=t}return this.teamBuff}},{key:"getAll",value:function(e){var t,n=this,r={},a=Object(j.a)(this.data);try{for(a.s();!(t=a.n()).done;){var c,o=t.value;Object(g.d)(null!==(c=Object(g.l)(o,e))&&void 0!==c?c:{},[],(function(e){return e.operation}),(function(e,t){return Object(g.k)(r,t,n.get(e))}))}}catch(i){a.e(i)}finally{a.f()}return r}},{key:"get",value:function(e){if(void 0===e)return console.trace("Please report this bug with this trace"),{operation:!0,value:void 0,isEmpty:!0,unit:"flat",formulas:[]};var t=this.processed.get(e);if(t)return t;var n=function(e){var t=e.key,n=e.prefix,r=e.dependencies,a=e.value,c=e.variant,o=e.formula,i=e.assignment,u=e.empty;return{operation:!0,key:t,value:a,variant:c,prefix:n,isEmpty:u,unit:t&&y.b.unit(t)||"flat",formula:o,formulas:[].concat(Object(p.a)(i?[i]:[]),Object(p.a)(r))}}(this.computeNode(e));return this.processed.set(e,n),n}},{key:"computeNode",value:function(e){var t=this,n=this.nodes.get(e);if(n)return n;var r,a=e.operation,c=e.info;switch(a){case"add":case"mul":case"min":case"max":case"res":case"sum_frac":r=this._compute(e);break;case"threshold":r=this._threshold(e);break;case"const":r=this._constant(e.value);break;case"subscript":r=this._subscript(e);break;case"read":r=this._read(e);break;case"data":r=this._data(e);break;case"match":r=this._match(e);break;case"lookup":r=this._lookup(e);break;case"prio":var o=e.operands.find((function(e){return void 0!==t.computeNode(e).value}));r=o?this.computeNode(o):C;break;default:Object(g.a)(a)}if(c){var i=c.key,u=c.prefix,s=c.source,d=c.variant,l=c.asConst,b=c.pivot;r=Object(f.a)({},r),i&&(r.key=i),u&&(r.prefix=u),s&&(r.source=s),d&&(r.variant=d),b&&(r.pivot=b),l&&(delete r.formula,delete r.assignment,r.dependencies=new Set),!r.pivot&&r.formula||(r.mayNeedWrapping=!1)}return function(e){var t=e.key,n=e.value,r=e.formula,a=e.prefix,c=e.source,o=e.variant;if("number"!==typeof n)return;if(e.valueDisplay=Object(k.jsx)(h.a,{color:"info",children:w(n,t?y.b.unit(t):"flat")}),t&&"_"!==t){var i=a&&!c?Object(k.jsxs)(k.Fragment,{children:[y.b.getPrefixStr(a)," "]}):Object(k.jsx)(k.Fragment,{}),u=c?Object(k.jsxs)(h.a,{color:"secondary",children:[" (",c,")"]}):null;e.name=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(h.a,{color:o,children:[i,y.b.getNoUnit(t)]}),u]}),r&&(e.assignment=Object(k.jsxs)("div",{id:"formula",children:[e.name," ",e.valueDisplay," = ",r]}))}}(r),this.nodes.set(e,r),r}},{key:"readAll",value:function(e){var t=this;return this.data.map((function(t){return Object(g.l)(t,e)})).filter((function(e){return e})).map((function(e){return t.computeNode(e)}))}},{key:"readFirst",value:function(e){var t=this.data.map((function(t){return Object(g.l)(t,e)})).find((function(e){return e}));return t&&this.computeNode(t)}},{key:"_read",value:function(e){var t,n=e.path;return void 0===e.accu?null!==(t=this.readFirst(n))&&void 0!==t?t:"string"===e.type?this._constant(void 0):C:this._accumulate(e.accu,this.readAll(n))}},{key:"_lookup",value:function(e){var t,n=this.computeNode(e.operands[0]).value,r=null!==(t=e.table[n])&&void 0!==t?t:e.operands[1];if(!r)throw new Error("Lookup Fail with key ".concat(n));return this.computeNode(r)}},{key:"_match",value:function(e){var t=Object(b.a)(e.operands,4),n=t[0],r=t[1],a=t[2],c=t[3],o=this.computeNode(n),i=this.computeNode(r),u=o.value===i.value,s=this.computeNode(u?a:c);return u&&"match"===e.emptyOn||!u&&"unmatch"===e.emptyOn?I(s.value):s}},{key:"_threshold",value:function(e){var t=Object(b.a)(e.operands,4),n=t[0],r=t[1],a=t[2],c=t[3],o=this.computeNode(n),i=this.computeNode(r),u=o.value>=i.value?this.computeNode(a):this.computeNode(c);return o.value>=i.value?"ge"===e.emptyOn?I(u.value):u:"l"===e.emptyOn?I(u.value):u}},{key:"_data",value:function(t){var n=this.children.get(t.data);return n||(n=new e(t.data,t.reset?this.origin:this),this.children.set(t.data,n)),n.computeNode(t.operands[0])}},{key:"_compute",value:function(e){var t=this,n=e.operation,r=e.operands;return this._accumulate(n,r.map((function(e){return t.computeNode(e)})))}},{key:"_subscript",value:function(e){var t,n=this.computeNode(e.operands[0]),r=null!==(t=e.list[n.value])&&void 0!==t?t:NaN;return this._constant(r)}},{key:"_constant",value:function(e){return{value:e,pivot:!1,empty:!1,mayNeedWrapping:!1,dependencies:new Set}}},{key:"_accumulate",value:function(e,t){var n,b,j,O;switch(e){case"add":case"mul":case"min":case"max":case"res":case"sum_frac":j=function(e){var t=new Set(e.map((function(e){return e.variant})));t.size>1&&t.delete(void 0);t.size>1&&t.delete("physical");return t.values().next().value}(t);break;default:Object(g.a)(e)}switch(e){case"add":case"mul":case"min":case"max":var m=_.a[e]([]);if(!(t=t.filter((function(e){return e.value!==m}))).length)return j?Object(f.a)(Object(f.a)({},this._constant(m)),{},{variant:j}):this._constant(m)}var v=!1;switch(e){case"max":O=N(r||(r=Object(l.a)(["Max( "," )"])),{operands:t});break;case"min":O=N(a||(a=Object(l.a)(["Min( "," )"])),{operands:t});break;case"add":O=N(c||(c=Object(l.a)(["",""])),{operands:t,separator:" + "});break;case"mul":O=N(o||(o=Object(l.a)(["",""])),{operands:t,separator:" * ",shouldWrap:x});break;case"sum_frac":O=N(i||(i=Object(l.a)([""," / ( "," )"])),{operands:[t[0]],shouldWrap:x},{operands:t,separator:" + "});break;case"res":var h=t[0].value;h<0?(O=N(u||(u=Object(l.a)(["100% - "," / 2"])),{operands:t,shouldWrap:x}),v=!0):h>=.75?O=N(s||(s=Object(l.a)(["100% / ( "," * 4 + 100% )"])),{operands:t,shouldWrap:x}):(O=N(d||(d=Object(l.a)(["100% - ",""])),{operands:t,shouldWrap:x}),v=!0);break;default:Object(g.a)(e)}switch(e){case"add":case"mul":t.length<=1?v=null===(n=null===(b=t[0])||void 0===b?void 0:b.mayNeedWrapping)||void 0===n||n:"add"===e&&(v=!0)}var y=_.a[e](t.map((function(e){return e.value}))),k=new Set(Object(p.a)(t.flatMap((function(e){return e.pivot&&e.assignment?[e.assignment].concat(Object(p.a)(e.dependencies)):Object(p.a)(e.dependencies)})))),w={formula:O.display,empty:t.every((function(e){return e.empty})),value:y,mayNeedWrapping:v,pivot:!1,dependencies:k};return j&&(w.variant=j),w}}]),e}();function N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=new Set,c=[];return e.forEach((function(e,t){c.push(e);var r=n[t];if(r){var o=r.operands,i=r.shouldWrap,u=r.separator,s=void 0===u?", ":u;o.forEach((function(e,t,n){var r;r=!e.pivot&&e.formula?e.formula:B(e),i&&e.mayNeedWrapping?(c.push("( "),c.push(r),c.push(" )")):c.push(r),t+1<n.length&&c.push(s),e.dependencies.forEach((function(e){return a.add(e)}))}))}})),{display:S(c),dependencies:Object(p.a)(a)}}function B(e){var t=e.name,n=e.valueDisplay;return t?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{style:{fontSize:"85%"},children:t})," ",n]}):n}function S(e){return Object(k.jsx)(k.Fragment,{children:e.map((function(e,t){return Object(k.jsx)("span",{children:e},t)}))})}var C={value:NaN,pivot:!0,empty:!1,dependencies:new Set,mayNeedWrapping:!1};function I(e){return{value:e,pivot:!1,empty:!0,dependencies:new Set,mayNeedWrapping:!1}}},283:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(10),a=n(127),c=n(9),o=n(248),i=n(260),u=n(443),s=n(158),d=n(0),l=n(263),b=n(1),f=Object(c.a)(o.a)((function(e){var t=e.theme;return{overflow:"scroll",paddingTop:t.spacing(2),paddingBottom:t.spacing(2)}})),j=Object(c.a)(i.a)((function(e){e.theme;return{padding:0,minHeight:"100%",display:"flex",flexDirection:"column",justifyContent:"center",pointerEvents:"none","& > *":{pointerEvents:"auto"}}}));function p(e){var t=e.children,n=e.containerProps,c=Object(a.a)(e,["children","containerProps"]);return Object(b.jsx)(f,Object(r.a)(Object(r.a)({},c),{},{children:Object(b.jsx)(j,Object(r.a)(Object(r.a)({},n),{},{children:Object(b.jsx)(d.Suspense,{fallback:Object(b.jsx)(l.a,{children:Object(b.jsx)(u.a,{children:Object(b.jsx)(s.a,{variant:"rectangular",width:"100%",height:300})})}),children:t})}))}))}},289:function(e,t,n){"use strict";var r=n(9),a=n(786),c=Object(r.a)(a.a,{shouldForwardProp:function(e){return"baseColor"!==e&&"selectedColor"!==e}})((function(e){var t=e.theme,n=e.baseColor,r=void 0===n?"primary":n,a=e.selectedColor,c=void 0===a?"success":a;return{"& .MuiToggleButtonGroup-grouped":{"&":{backgroundColor:t.palette[r].main,color:t.palette[r].contrastText},"&:hover":{backgroundColor:t.palette[r].dark},"&.Mui-selected":{backgroundColor:t.palette[c].main,color:t.palette[c].contrastText},"&.Mui-selected:hover":{backgroundColor:t.palette[c].dark},"&.Mui-disabled":{backgroundColor:t.palette[r].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:t.palette[c].dark}}}}));t.a=c},294:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),a=n(0);function c(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),n=t[0],c=t[1];return[n,Object(a.useCallback)((function(){return c({})}),[])]}},299:function(e,t,n){"use strict";function r(e){var t=e.condition,n=e.wrapper,r=e.falseWrapper,a=e.children;return t?n(a):r?r(a):a}n.d(t,"a",(function(){return r}))},309:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(8),a=n(10),c=n(40),o=n(23),i=n(262),u=n(264),s=Object(u.y)(i.b.lvl,c.b),d=Object(u.r)(4e3/9,Object(u.g)(i.b.total.eleMas,1400)),l=Object(u.j)(Object(u.r)(Object(u.z)(u.B,d),s),{}),b=Object(u.y)(i.b.lvl,c.d),f=Object(u.r)(16,Object(u.g)(i.b.total.eleMas,2e3)),j=Object(a.a)(Object(a.a)({},Object(o.m)(["overloaded","electrocharged","superconduct","shattered"],(function(e){var t=c.e[e],n=t.multi,a=Object(r.a)(t.variants,1)[0];return Object(u.j)(Object(u.r)(Object(u.j)(Object(u.r)(n,b),{asConst:true}),Object(u.z)(u.B,f,i.b.total["".concat(e,"_dmg_")]),i.b.enemy["".concat(a,"_resMulti")]),{key:"".concat(e,"_hit"),variant:e})}))),{},{swirl:Object(o.m)(c.e.swirl.variants,(function(e){return Object(u.j)(Object(u.r)(Object(u.j)(Object(u.r)(c.e.swirl.multi,b),{asConst:true}),Object(u.z)(u.B,f,i.b.total.swirl_dmg_),i.b.enemy["".concat(e,"_resMulti")]),{key:"".concat(e,"_swirl_hit"),variant:e})}))}),p={anemo:{electroSwirl:j.swirl.electro,pyroSwirl:j.swirl.pyro,cryoSwirl:j.swirl.cryo,hydroSwirl:j.swirl.hydro,shattered:j.shattered},geo:Object(a.a)(Object(a.a)({},Object(o.m)(["pyro","electro","cryo","hydro"],(function(e){return Object(u.r)(2.5,l)}))),{},{shattered:j.shattered}),electro:{overloaded:j.overloaded,electrocharged:j.electrocharged,superconduct:j.superconduct,shattered:j.shattered},hydro:{electrocharged:j.electrocharged,shattered:j.shattered},pyro:{overloaded:j.overloaded,shattered:j.shattered},cryo:{superconduct:j.superconduct,shattered:j.shattered}}},315:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return O}));var r=n(16),a=n(8),c=n(10),o=n(14),i=n(23),u=n(319),s=n(264),d={min:function(e){return Math.min.apply(Math,Object(o.a)(e))},max:function(e){return Math.max.apply(Math,Object(o.a)(e))},add:function(e){return e.reduce((function(e,t){return e+t}),0)},mul:function(e){return e.reduce((function(e,t){return e*t}),1)}},l=Object(c.a)(Object(c.a)({},d),{},{res:function(e){var t=Object(a.a)(e,1)[0];return t<0?1-t/2:t>=.75?1/(4*t+1):1-t},sum_frac:function(e){return e[0]/e.reduce((function(e,t){return e+t}))},threshold:function(e){var t=Object(a.a)(e,4),n=t[0],r=t[1],c=t[2],o=t[3];return n>=r?c:o}}),b=new Set(Object.keys(d));function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!1};return e=p(e=j(e=O(e,t,n)))}function j(e){return Object(u.b)(e,(function(e){return e}),(function(e){var t=e;if(b.has(e.operation)){var n=e,r=n.operation,a=!1,o=n.operands.flatMap((function(e){return e.operation===r?(a=!0,e.operands):[e]}));t=a?Object(c.a)(Object(c.a)({},n),{},{operands:o}):n}return t}))}function p(e){function t(e){var t,n=new Map,a=Object(r.a)(e);try{for(a.s();!(t=a.n()).done;){var c,o=t.value;n.set(o,(null!==(c=n.get(o))&&void 0!==c?c:0)+1)}}catch(i){a.e(i)}finally{a.f()}return n}for(var n={common:{counts:new Map,formulas:new Set,operation:"add"}},i=function(){for(var i,s=void 0,l={operation:n.common.operation,operands:(i=n.common.counts,Object(o.a)(i).flatMap((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Array(r).fill(n)})))},f=new Map,j=0,p=Object.keys(d);j<p.length;j++){var O=p[j];f.set(O,[])}if(e=Object(u.b)(e,(function(e){if(n.common.formulas.has(e)){var t=e,r=new Map(n.common.counts),a=t.operands.filter((function(e){var t=r.get(e);return!t||(r.set(e,t-1),!1)}));return a.length?(a.push(l),Object(c.a)(Object(c.a)({},t),{},{operands:a})):l}return e}),(function(e){if(!b.has(e.operation))return e;var n=e;if(s){if(s.operation===n.operation){var c,o=t(n.operands),i=new Map,u=s.counts,d=0,l=Object(r.a)(o.entries());try{for(l.s();!(c=l.n()).done;){var j,p=Object(a.a)(c.value,2),O=p[0],m=p[1],v=Math.min(m,null!==(j=u.get(O))&&void 0!==j?j:0);v?(i.set(O,v),d+=v):i.delete(O)}}catch(E){l.e(E)}finally{l.f()}d>1&&(s.counts=i,s.formulas.add(n))}}else{var h,y=f.get(n.operation),g=t(n.operands),_=Object(r.a)(y);try{for(_.s();!(h=_.n()).done;){var k,x=Object(a.a)(h.value,2),w=x[0],M=x[1],N=0,B=new Map,S=Object(r.a)(M.entries());try{for(S.s();!(k=S.n()).done;){var C,I=Object(a.a)(k.value,2),R=I[0],z=I[1],D=Math.min(z,null!==(C=g.get(R))&&void 0!==C?C:0);D&&(B.set(R,D),N+=D)}}catch(E){S.e(E)}finally{S.f()}if(N>1){s={counts:B,formulas:new Set([n,w]),operation:n.operation},f.clear();break}}}catch(E){_.e(E)}finally{_.f()}s||y.push([n,g])}return n})),!s)return"break";n.common=s};;){if("break"===i())break}return e}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!1},r={data:[],processed:new Map},u=new Map([[r,new Map]]);function d(e,t){var b,f=t.processed.get(e);if(f)return f;var j,p=e.operation;switch(p){case"const":return e;case"add":case"mul":case"max":case"min":var O=l[p],m=[],v=e.operands.filter((function(e){var n=d(e,t);return"const"!==n.operation||(m.push(n.value),!1)})).map((function(e){return d(e,t)})),h=O(m);if(isFinite(h)){if("mul"===p&&0===h){j=Object(s.a)(h);break}}else if("mul"!==p&&("max"!==p||h>0)&&("min"!==p||h<0)){j=Object(s.a)(h);break}h!==O([])&&v.push(Object(s.a)(h)),j=v.length<=1?null!==(b=v[0])&&void 0!==b?b:Object(s.a)(O([])):{operation:p,operands:v};break;case"res":case"sum_frac":var y=e.operands.map((function(e){return d(e,t)})),g=l[p];j=y.every((function(e){return"const"===e.operation}))?Object(s.a)(g(y.map((function(e){return e.value})))):Object(c.a)(Object(c.a)({},e),{},{operands:y});break;case"lookup":var _=d(e.operands[0],t);if("const"===_.operation){var k,x=null!==(k=e.table[_.value])&&void 0!==k?k:e.operands[1];if(x){j=d(x,t);break}}throw new Error("Unsupported ".concat(p," node while folding"));case"prio":var w=e.operands.find((function(e){var n=d(e,t);if("const"!==n.operation)throw new Error("Unsupported ".concat(p," node while folding"));return void 0!==n.value}));if(!w)throw new Error("Unsupported ".concat(p," node while folding"));j=d(w,t);break;case"match":var M=e.operands.map((function(e){return d(e,t)})),N=Object(a.a)(M,4),B=N[0],S=N[1],C=N[2],I=N[3];if("const"!==B.operation||"const"!==S.operation)throw new Error("Unsupported ".concat(p," node while folding"));j=B.value===S.value?C:I;break;case"threshold":var R=e.operands.map((function(e){return d(e,t)})),z=Object(a.a)(R,4),D=z[0],E=z[1],A=z[2],T=z[3];j="const"===D.operation&&"const"===E.operation?D.value>=E.value?A:T:Object(c.a)(Object(c.a)({},e),{},{operands:[D,E,A,T]});break;case"subscript":var K=e.operands.map((function(e){return d(e,t)})),W=Object(a.a)(K,1)[0];j="const"===W.operation?Object(s.a)(e.list[W.value]):Object(c.a)(Object(c.a)({},e),{},{operands:[W]});break;case"read":var F=t.data.map((function(t){return Object(i.l)(t,e.path)})).filter((function(e){return e}));if(0===F.length)if(n(e)){var q=e.accu;j=void 0===q?"string"===e.type?Object(s.a)(void 0):Object(s.a)(NaN):Object(s.a)(l[q]([]))}else j=e;else j=void 0===e.accu?d(F[0],t):d({operation:e.accu,operands:F},t);break;case"data":e.reset&&(t=r);var P=u.get(t),G=P.get(e.data);G||(G={data:[].concat(Object(o.a)(t.data),[e.data]),processed:new Map},u.set(G,new Map),P.set(e.data,G)),j=d(e.operands[0],G);break;default:Object(i.a)(p)}return t.processed.set(e,j),j}var b={data:[t],processed:new Map};return u.set(b,new Map),u.get(r).set(t,b),e.map((function(e){return d(e,b)}))}},319:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));n(8);var r=n(10),a=n(264);function c(e,t,n){var r=new Set,a=new Set;e.forEach((function e(c){a.has(c)||(r.has(c)?console.error("Found cyclical dependency during formula traversal"):(r.add(c),t(c),c.operands.forEach(e),n(c),r.delete(c),a.add(c)))}))}function o(e,t,n){var c=new Set,o=new Map,u=new Map;function s(e){var d=o.get(e);if(d)return d;d=t(e);var l=u.get(d);return l||(c.has(d)?(console.error("Found cyclical dependency during formula mapping"),Object(a.a)(NaN)):(c.add(d),l=n(function(e){var t=e.operands.map(s);return i(t,e.operands)?e:Object(r.a)(Object(r.a)({},e),{},{operands:t})}(d),e),c.delete(d),o.set(e,l),u.set(d,l),l))}var d=e.map(s);return i(d,e)?e:d}function i(e,t){return void 0===e?void 0===t:void 0!==t&&(e.length===t.length&&e.every((function(e,n){return e===t[n]})))}}}]);
//# sourceMappingURL=4.3c5640ea.chunk.js.map