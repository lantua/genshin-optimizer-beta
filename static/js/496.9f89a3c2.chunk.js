"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[496],{3992:function(e,t,n){var r=n(66934),a=n(57621),i=(0,r.ZP)(a.Z)((function(e){return{backgroundColor:e.theme.palette.contentDark.main}}));t.Z=i},71310:function(e,t,n){var r=n(66934),a=n(57621),i=(0,r.ZP)(a.Z)((function(e){return{backgroundColor:e.theme.palette.contentLight.main}}));t.Z=i},33890:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(1413),a=n(29439),i=n(45987),o=n(1235),s=n(24518),c=n(47047),l=n(65117),d=n(72791),u=n(80184),h=["title","children","id"];function f(e){var t=e.title,n=e.children,f=e.id,p=void 0===f?"dropdownbtn":f,v=(0,i.Z)(e,h),x=(0,d.useState)(null),g=(0,a.Z)(x,2),j=g[0],Z=g[1],m=Boolean(j),y=(0,d.useCallback)((function(e){return Z(e.currentTarget)}),[Z]),b=(0,d.useCallback)((function(){return Z(null)}),[Z]);return(0,u.jsxs)(d.Suspense,{fallback:(0,u.jsx)(s.Z,(0,r.Z)((0,r.Z)({endIcon:(0,u.jsx)(o.Z,{})},v),{},{children:(0,u.jsx)(c.Z,{width:50})})),children:[(0,u.jsx)(s.Z,(0,r.Z)((0,r.Z)({},v),{},{id:p,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":m?"true":void 0,onClick:y,endIcon:(0,u.jsx)(o.Z,{}),children:t})),(0,u.jsx)(l.Z,{id:"basic-menu",anchorEl:j,open:m,onClose:b,MenuListProps:{"aria-labelledby":p},onClick:b,children:(0,u.jsx)(d.Suspense,{fallback:(0,u.jsx)(c.Z,{width:"100%",height:"1000"}),children:n})})]})}},25617:function(e,t,n){var r=(0,n(66934).ZP)("span",{name:"SqBadge",slot:"Root"})((function(e){var t,n,r=e.theme,a=e.color,i=void 0===a?"primary":a;return{display:"inline-block",padding:".25em .4em",fontSize:"75%",fontWeight:700,lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",borderRadius:".25em",backgroundColor:null===(t=r.palette[i])||void 0===t?void 0:t.main,color:null===(n=r.palette[i])||void 0===n?void 0:n.contrastText}}));t.Z=r},85496:function(e,t,n){n.r(t),n.d(t,{default:function(){return de}});var r=n(29439),a=n(39504),i=n(20890),o=n(94721),s=n(16129),c=n(22020),l=n(76899),d=n(3992),u=n(68544),h=n(53174),f=n(54483),p=n(72456),v=n(61889),x=n(24518),g=n(72791),j=n(71310),Z=n(3997),m=n(23741),y=n(93433),b=n(1413),w=n(37762),C=n(56539),k=n(52164),S=n(93329),_="Genshin Optimizer";function D(e,t){if(1===e.version)return function(e,t){var n=e.source,r=new m.NI(t.storage),a={type:"GOOD",storage:r,source:n};e.artifacts&&function(){var n,i={total:0,invalid:[],new:0,updated:0,unchanged:0,removed:0},o=e.artifacts.flatMap((function(e){var t=(0,S.R$)(e);return t||i.invalid.push(e),t?[t]:[]})),s=o.some((function(e){return e.location})),c=new Set(t._getArts().map((function(e){return e.id}))),l=(0,w.Z)(o);try{for(l.s();!(n=l.n()).done;){var d,u=n.value,h=t.findDuplicates(u),f=h.duplicated,p=h.upgraded;f=f.filter((function(e){return c.has(e.id)})),p=p.filter((function(e){return c.has(e.id)}));var v=null!==(d=f[0])&&void 0!==d?d:p[0];if(v){for(var x in c.delete(v.id),v)x in u||"location"===x||(u[x]=v[x]);s||(u.location=v.location)}f.length?i.unchanged++:p.length?i.updated++:i.new++}}catch(g){l.e(g)}finally{l.f()}i.total=e.artifacts.length,i.removed=c.size,a.artifacts=i,r.removeForKeys((function(e){return e.startsWith("artifact_")})),o.forEach((function(e,t){return r.set("artifact_".concat(t),e)}))}();e.weapons&&function(){var n,i={total:0,invalid:[],new:0,updated:0,unchanged:0,removed:0},o=e.weapons.flatMap((function(e){var t=(0,S.S0)(e);return t||i.invalid.push(e),t?[t]:[]})),s=o.some((function(e){return e.location})),c=new Set(t._getWeapons().map((function(e){return e.id}))),l=(0,w.Z)(o);try{for(l.s();!(n=l.n()).done;){var d,u=n.value,h=t.findDuplicateWeapons(u),f=h.duplicated,p=h.upgraded;f=f.filter((function(e){return c.has(e.id)})),p=p.filter((function(e){return c.has(e.id)}));var v=null!==(d=f[0])&&void 0!==d?d:p[0];if(v){for(var x in c.delete(v.id),v)x in u||"location"===x||(u[x]=v[x]);s||(u.location=v.location)}f.length?i.unchanged++:p.length?i.updated++:i.new++}}catch(g){l.e(g)}finally{l.f()}i.total=e.weapons.length,i.removed=c.size,a.weapons=i,r.removeForKeys((function(e){return e.startsWith("weapon_")})),o.forEach((function(e,t){return r.set("weapon_".concat(t),e)}))}();if(e.characters){var i=[],o=e.characters.flatMap((function(e){var n,r=null!==(n=t._getChar(e.key))&&void 0!==n?n:{},a=(0,S.J0)((0,b.Z)((0,b.Z)({},r),e));return a||i.push(e),a?[a]:[]})),s=new Set(o.map((function(e){return e.key}))),c=new Set(t._getCharKeys());a.characters={total:e.characters.length,new:(0,y.Z)(s).filter((function(e){return!c.has(e)})).length,updated:(0,y.Z)(s).filter((function(e){return c.has(e)})).length,removed:(0,y.Z)(c).filter((function(e){return!s.has(e)})).length,unchanged:0,invalid:i},r.removeForKeys((function(e){return e.startsWith("char_")})),o.forEach((function(e){return r.set("char_".concat(e.key),e)}))}var l,d=(0,w.Z)(r.keys);try{for(d.s();!(l=d.n()).done;){var u=l.value;if(u.startsWith("char_")){var h=r.get(u);h.buildSettings&&(h.buildSettings.builds=[],h.buildSettings.buildDate=0,r.set(u,h))}}}catch(j){d.e(j)}finally{d.f()}if(n===_){var f=e,p=f.dbVersion,v=f.artifactDisplay,x=f.characterDisplay,g=f.buildsDisplay;if(p<8)return;(0,k.W)(r,p),v&&r.set("ArtifactDisplay.state",v),x&&r.set("CharacterDisplay.state",x),g&&r.set("BuildsDisplay.state",g)}else(0,k.W)(r,8);return new Z.Mb(r),a}(e,t)}function M(e){var t,n,a;return{format:"GOOD",dbVersion:C.U,source:_,version:1,characters:e.entries.filter((function(e){return(0,r.Z)(e,1)[0].startsWith("char_")})).map((function(e){var t=(0,r.Z)(e,2),n=(t[0],t[1]),a=JSON.parse(n);return a.buildSettings&&(a.buildSettings.builds=[],a.buildSettings.buildDate=0),a})),artifacts:e.entries.filter((function(e){return(0,r.Z)(e,1)[0].startsWith("artifact_")})).map((function(e){var t=(0,r.Z)(e,2),n=(t[0],t[1]);return JSON.parse(n)})),weapons:e.entries.filter((function(e){return(0,r.Z)(e,1)[0].startsWith("weapon_")})).map((function(e){var t=(0,r.Z)(e,2),n=(t[0],t[1]);return JSON.parse(n)})),artifactDisplay:null!==(t=e.get("ArtifactDisplay.state"))&&void 0!==t?t:{},characterDisplay:null!==(n=e.get("CharacterDisplay.state"))&&void 0!==n?n:{},buildsDisplay:null!==(a=e.get("BuildsDisplay.state"))&&void 0!==a?a:{}}}var P=n(80184);function K(){navigator.clipboard.writeText(JSON.stringify(M(m.Hk))).then((function(){return alert("Copied database to clipboard.")})).catch(console.error)}function O(e){var t=e.forceUpdate,n=(0,g.useContext)(Z.t4),r=(0,c.$)(["settings"]).t,s=n._getCharKeys().length,d=n._getArts().length,u=n._getWeapons().length,y=Boolean(s||d);return(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(a.Z,{sx:{py:1},children:(0,P.jsx)(i.Z,{variant:"subtitle1",children:(0,P.jsx)(l.c,{t:r,i18nKey:"downloadCard.databaseDownload"})})}),(0,P.jsx)(o.Z,{}),(0,P.jsxs)(a.Z,{children:[(0,P.jsxs)(v.ZP,{container:!0,mb:2,spacing:2,children:[(0,P.jsx)(v.ZP,{item:!0,xs:6,md:4,children:(0,P.jsxs)(i.Z,{children:[(0,P.jsx)(l.c,{t:r,i18nKey:"count.chars"})," ",s]})}),(0,P.jsx)(v.ZP,{item:!0,xs:6,md:4,children:(0,P.jsxs)(i.Z,{children:[(0,P.jsx)(l.c,{t:r,i18nKey:"count.arts"})," ",d]})}),(0,P.jsx)(v.ZP,{item:!0,xs:6,md:4,children:(0,P.jsxs)(i.Z,{children:[(0,P.jsx)(l.c,{t:r,i18nKey:"count.weapons"})," ",u]})})]}),(0,P.jsx)(i.Z,{variant:"caption",children:(0,P.jsx)(l.c,{t:r,i18nKey:"downloadCard.databaseDisclaimer"})})]}),(0,P.jsx)(o.Z,{}),(0,P.jsx)(a.Z,{sx:{py:1},children:(0,P.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,P.jsx)(v.ZP,{item:!0,children:(0,P.jsx)(x.Z,{disabled:!y,onClick:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.json",n="application/json;charset=utf-8",r=document.createElement("a");r.download=t,r.href="data:".concat(n,",").concat(encodeURIComponent(e)),r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}(JSON.stringify(M(m.Hk)))},startIcon:(0,P.jsx)(p.Z,{}),children:(0,P.jsx)(l.c,{t:r,i18nKey:"downloadCard.button.download"})})}),(0,P.jsx)(v.ZP,{item:!0,flexGrow:1,children:(0,P.jsx)(x.Z,{disabled:!y,color:"info",onClick:K,startIcon:(0,P.jsx)(f.G,{icon:h.Yjj}),children:(0,P.jsx)(l.c,{t:r,i18nKey:"downloadCard.button.copy"})})}),(0,P.jsx)(v.ZP,{item:!0,children:(0,P.jsx)(x.Z,{disabled:!y,color:"error",onClick:function(){!function(e,t){window.confirm(e("uploadCard.goUpload.deleteDatabasePrompt"))&&(m.Hk.clear(),t.reloadStorage())}(r,n),t()},startIcon:(0,P.jsx)(f.G,{icon:h.I7k}),children:(0,P.jsx)(l.c,{t:r,i18nKey:"downloadCard.button.delete"})})})]})})]})}var z=n(23786),A=n(33890),W=n(25617),G=n(91449);function I(){var e=(0,c.$)().t;return(0,P.jsxs)(j.Z,{children:[(0,P.jsxs)(a.Z,{sx:{py:1},children:[e("settings:languageCard.selectLanguage")," ",(0,P.jsx)(W.Z,{color:"warning",children:e("ui:underConstruction")})]}),(0,P.jsx)(o.Z,{}),(0,P.jsx)(a.Z,{children:(0,P.jsx)(B,{})})]})}var H={chs:"\u4e2d\u6587 \u6b63\u4f53\u5b57",cht:"\u4e2d\u6587 \u7e41\u9ad4\u5b57",de:"Deutsch",en:"English",es:"espa\xf1ol",fr:"fran\xe7ais",id:"Bahasa Indonesia",ja:"\u65e5\u672c\u8a9e",ko:"\ud55c\uad6d\uc5b4",pt:"Portugu\xeas",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",vi:"Ti\u1ebfng Vi\u1ec7t"};function B(){var e=(0,c.$)(["ui","settings"]),t=e.t,n=e.i18n,r=function(e){return function(){return n.changeLanguage(e)}},a=n.languages[0];return(0,P.jsx)(A.Z,{fullWidth:!0,title:t("settings:languageCard.languageFormat",{language:t("languages:".concat(a))}),children:G.C.map((function(e){return(0,P.jsxs)(z.Z,{selected:a===e,disabled:a===e,onClick:r(e),children:[(0,P.jsx)(l.c,{i18nKey:"languages:".concat(e)}),e!==a?" (".concat(H[e],")"):""]},e)}))})}var L=n(72247),R=n(9912),N=n(20323);function E(){var e=(0,g.useContext)(N.l),t=e.globalSettings.tcMode,n=e.globalSettingsDispatch;return(0,P.jsx)(j.Z,{children:(0,P.jsxs)(a.Z,{children:[(0,P.jsx)(i.Z,{gutterBottom:!0,color:"warning.main",children:"Enabling this toggle will show some features that might be too complex for the average user."}),(0,P.jsx)(x.Z,{fullWidth:!0,onClick:function(){return n({tcMode:!t})},color:t?"success":"primary",startIcon:t?(0,P.jsx)(L.Z,{}):(0,P.jsx)(R.Z,{}),children:"Theorycrafting Mode"})]})})}var F=n(15861),V=n(87757),$=n.n(V),U=(0,n(76189).Z)((0,P.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload"),T=n(66934),J=n(68870),Y=n(19658);var q={1:function(e){var t=[],n=[];for(var r in e)if(r in Q){var a,i=(0,w.Z)(e[r]);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=o.setName,c=o.star,l=o.level,d=o.position,u=o.mainTag,h={setKey:X[s],rarity:c,level:l,slotKey:Q[d],mainStatKey:ee[u.name],substats:o.normalTags.map((function(e){var t=e.name,n=e.value,r=te[t];return{key:r,value:null!==r&&void 0!==r&&r.endsWith("_")?Math.round(1e3*n)/10:n}}))},f=(0,S.R$)(h);f?n.push(f):t.push(h)}}catch(p){i.e(p)}finally{i.f()}}return{artifacts:n,invalid:t}}};var Q={flower:"flower",feather:"plume",sand:"sands",cup:"goblet",head:"circlet"},X={viridescentVenerer:"ViridescentVenerer",emblemOfSeveredFate:"EmblemOfSeveredFate"},ee={cureEffect:"heal_",lifeStatic:"hp",lifePercentage:"hp_",attackStatic:"atk",attackPercentage:"atk_",defendPercentage:"def_",critical:"critRate_",criticalDamage:"critDMG_",elementalMastery:"eleMas",recharge:"enerRech_",thunderBonus:"electro_dmg_",fireBonus:"pyro_dmg_",waterBonus:"hydro_dmg_",iceBonus:"cryo_dmg_",windBonus:"anemo_dmg_",rockBonus:"geo_dmg_",physicalBonus:"physical_dmg_"},te={lifeStatic:"hp",lifePercentage:"hp_",attackStatic:"atk",attackPercentage:"atk_",defendStatic:"def",defendPercentage:"def_",critical:"critRate_",criticalDamage:"critDMG_",elementalMastery:"eleMas",recharge:"enerRech_"},ne=(0,T.ZP)("input")({display:"none"});function re(e){var t,n=e.forceUpdate,o=(0,g.useContext)(Z.t4),s=(0,c.$)("settings").t,u=(0,g.useState)(""),p=(0,r.Z)(u,2),b=p[0],w=p[1],C=(0,g.useState)(""),S=(0,r.Z)(C,2),_=S[0],M=S[1],K=(0,g.useState)(""),O=(0,r.Z)(K,2),z=O[0],A=O[1],W=(0,g.useMemo)((function(){if(b){var e;try{if("object"!==typeof(e=JSON.parse(b)))return void A("uploadCard.error.jsonParse")}catch(i){return void A("uploadCard.error.jsonParse")}if("1"===e.version&&["flower","feather","sand","cup","head"].some((function(t){return Object.keys(e).includes(t)}))){var t=function(e,t){var n,r,a,i=null!==(n=e.version)&&void 0!==n?n:"1",o=null===(r=q[i])||void 0===r?void 0:r.call(q,e);if(o){var s=o.artifacts,c=o.invalid,l=D({format:"GOOD",source:"mona-uranai",version:1,artifacts:s},t);return null===l||void 0===l||(a=l.artifacts.invalid).push.apply(a,(0,y.Z)(c)),l}}(e,o);return t||void A("uploadCard.error.monaInvalid")}if("version"in e&&"characterDatabase"in e&&"artifactDatabase"in e){var n=function(e){var t=new m.NI,n=e,a=n.version,i=n.characterDatabase,o=n.artifactDatabase,s=n.artifactDisplay,c=n.characterDisplay,l=n.buildsDisplay;if(a&&i&&o){i&&Object.entries(i).forEach((function(e){var n=(0,r.Z)(e,2),a=n[0],i=n[1];return t.set("char_".concat(a),i)})),o&&Object.entries(o).forEach((function(e){var n=(0,r.Z)(e,2),a=n[0],i=n[1];return t.set(a,i)})),a&&(0,k.W)(t,a),s&&t.set("ArtifactDisplay.state",s),c&&t.set("CharacterDisplay.state",c),l&&t.set("BuildsDisplay.state",l);var d=new Z.Mb(t);return{type:"GO",storage:t,charCount:d.chars.keys.length,artCount:d.arts.keys.length}}}(e);return n||void A("uploadCard.error.goInvalid")}if("GOOD"===e.format){var a=D(e,o);return a||void A("uploadCard.error.goInvalid")}A("uploadCard.error.unknown")}}),[b,o]),G=function(){var e=(0,F.Z)($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],t.target.value=null,n&&M(n.name),(r=new FileReader).onload=function(){return w(r.result)},r.readAsText(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(a.Z,{sx:{py:1},children:(0,P.jsx)(l.c,{t:s,i18nKey:"settings:uploadCard.title"})}),(0,P.jsxs)(a.Z,{children:[(0,P.jsxs)(v.ZP,{container:!0,spacing:2,sx:{mb:1},children:[(0,P.jsx)(v.ZP,{item:!0,children:(0,P.jsxs)("label",{htmlFor:"icon-button-file",children:[(0,P.jsx)(ne,{accept:".json",id:"icon-button-file",type:"file",onChange:G}),(0,P.jsx)(x.Z,{component:"span",startIcon:(0,P.jsx)(U,{}),children:"Upload"})]})}),(0,P.jsx)(v.ZP,{item:!0,flexGrow:1,children:(0,P.jsx)(d.Z,{sx:{px:2,py:1},children:(0,P.jsx)(i.Z,{children:_?(0,P.jsxs)("span",{children:[(0,P.jsx)(f.G,{icon:h.w49})," ",_]}):(0,P.jsxs)("span",{children:[(0,P.jsx)(f.G,{icon:h.acZ})," ",(0,P.jsx)(l.c,{t:s,i18nKey:"settings:uploadCard.hint"})]})})})})]}),(0,P.jsx)(i.Z,{gutterBottom:!0,variant:"caption",children:(0,P.jsx)(l.c,{t:s,i18nKey:"settings:uploadCard.hintPaste"})}),(0,P.jsx)(J.Z,{component:"textarea",sx:{width:"100%",fontFamily:"monospace",minHeight:"10em",mb:2,resize:"vertical"},value:b,onChange:function(e){return w(e.target.value)}}),null!==(t=ae(W))&&void 0!==t?t:z]}),ie(W,(function(){w(""),M(""),n()}))]})}function ae(e){switch(null===e||void 0===e?void 0:e.type){case"GO":return(0,P.jsx)(ce,{data:e});case"GOOD":return(0,P.jsx)(oe,{data:e})}}function ie(e,t){switch(null===e||void 0===e?void 0:e.type){case"GO":case"GOOD":return(0,P.jsx)(le,{data:e,reset:t})}}function oe(e){var t=e.data,n=t.source,r=t.artifacts,s=t.characters,u=t.weapons,h=(e.data,(0,c.$)("settings").t);return(0,P.jsxs)(d.Z,{children:[(0,P.jsx)(a.Z,{sx:{py:1},children:(0,P.jsxs)(i.Z,{children:[(0,P.jsx)(l.c,{t:h,i18nKey:"uploadCard.dbSource"}),(0,P.jsxs)("strong",{children:[" ",n]})]})}),(0,P.jsx)(o.Z,{}),(0,P.jsx)(a.Z,{children:(0,P.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,P.jsx)(v.ZP,{item:!0,flexGrow:1,children:(0,P.jsx)(se,{result:r,type:"arts"})}),(0,P.jsx)(v.ZP,{item:!0,flexGrow:1,children:(0,P.jsx)(se,{result:u,type:"weapons"})}),(0,P.jsx)(v.ZP,{item:!0,flexGrow:1,children:(0,P.jsx)(se,{result:s,type:"chars"})})]})})]})}function se(e){var t,n,r=e.result,s=e.type,d=(0,c.$)("settings").t;return r?(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(a.Z,{sx:{py:1},children:(0,P.jsxs)(i.Z,{children:[(0,P.jsx)(l.c,{t:d,i18nKey:"count.".concat(s)})," ",null!==(t=r.total)&&void 0!==t?t:0]})}),(0,P.jsx)(o.Z,{}),(0,P.jsxs)(a.Z,{children:[(0,P.jsxs)(i.Z,{children:[(0,P.jsx)(l.c,{t:d,i18nKey:"count.new"})," ",(0,P.jsx)("strong",{children:r.new})," / ",r.total]}),(0,P.jsxs)(i.Z,{children:[(0,P.jsx)(l.c,{t:d,i18nKey:"count.updated"})," ",(0,P.jsx)("strong",{children:r.updated})," / ",r.total]}),(0,P.jsxs)(i.Z,{children:[(0,P.jsx)(l.c,{t:d,i18nKey:"count.unchanged"})," ",(0,P.jsx)("strong",{children:r.unchanged})," / ",r.total]}),(0,P.jsxs)(i.Z,{color:"warning.main",children:[(0,P.jsx)(l.c,{t:d,i18nKey:"count.removed"})," ",(0,P.jsx)("strong",{children:r.removed})]}),!(null===(n=r.invalid)||void 0===n||!n.length)&&(0,P.jsxs)("div",{children:[(0,P.jsxs)(i.Z,{color:"error.main",children:[(0,P.jsx)(l.c,{t:d,i18nKey:"count.invalid"})," ",(0,P.jsx)("strong",{children:r.invalid.length})," / ",r.total]}),(0,P.jsx)(J.Z,{component:"textarea",sx:{width:"100%",fontFamily:"monospace",minHeight:"10em",resize:"vertical"},value:JSON.stringify(r.invalid,void 0,2),disabled:!0})]})]})]}):null}function ce(e){var t=e.data,n=t.charCount,r=t.artCount,s=(0,c.$)("settings").t;return(0,P.jsxs)(d.Z,{children:[(0,P.jsx)(a.Z,{sx:{py:1},children:(0,P.jsx)(l.c,{t:s,i18nKey:"uploadCard.goUpload.title"})}),(0,P.jsx)(o.Z,{}),(0,P.jsx)(a.Z,{children:(0,P.jsxs)(v.ZP,{container:!0,spacing:1,children:[(0,P.jsxs)(v.ZP,{item:!0,xs:12,md:6,children:[" ",(0,P.jsxs)(i.Z,{children:[(0,P.jsx)(l.c,{t:s,i18nKey:"count.chars"})," ",n]})]}),(0,P.jsxs)(v.ZP,{item:!0,xs:12,md:6,children:[" ",(0,P.jsxs)(i.Z,{children:[(0,P.jsx)(l.c,{t:s,i18nKey:"count.arts"})," ",r]})]}),(0,P.jsx)(v.ZP,{item:!0,xs:12,children:(0,P.jsx)(Y.Z,{severity:"warning",children:(0,P.jsx)(l.c,{t:s,i18nKey:"uploadCard.goUpload.migrate"})})})]})})]})}function le(e){var t,n,r,i=e.data.storage,s=e.data,d=e.reset,u=(0,g.useContext)(Z.t4),p=(0,c.$)("settings").t,v="GO"===s.type?s.charCount||s.artCount:(null===(t=s.characters)||void 0===t?void 0:t.total)||(null===(n=s.artifacts)||void 0===n?void 0:n.total)||(null===(r=s.weapons)||void 0===r?void 0:r.total);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(o.Z,{}),(0,P.jsx)(a.Z,{sx:{py:1},children:(0,P.jsx)(x.Z,{color:v?"success":"error",disabled:!v,onClick:function(){m.Hk.removeForKeys((function(e){return e.startsWith("artifact_")||e.startsWith("char_")||e.startsWith("weapon_")})),m.Hk.copyFrom(i),u.reloadStorage(),d()},startIcon:(0,P.jsx)(f.G,{icon:h.Y9i}),children:(0,P.jsx)(l.c,{t:p,i18nKey:"settings:uploadCard.replaceDatabase"})})})]})}function de(){var e=(0,c.$)(["settings"]).t,t=(0,u.Z)(),n=(0,r.Z)(t,2)[1];return s.ZP.pageview("/setting"),(0,P.jsxs)(d.Z,{sx:{my:1},children:[(0,P.jsx)(a.Z,{sx:{py:1},children:(0,P.jsx)(i.Z,{variant:"subtitle1",children:(0,P.jsx)(l.c,{t:e,i18nKey:"title"})})}),(0,P.jsx)(o.Z,{}),(0,P.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,P.jsx)(I,{}),(0,P.jsx)(O,{forceUpdate:n}),(0,P.jsx)(re,{forceUpdate:n}),(0,P.jsx)(E,{})]})]})}},68544:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(29439),a=n(72791);function i(){var e=(0,a.useState)({}),t=(0,r.Z)(e,2),n=t[0],i=t[1];return[n,(0,a.useCallback)((function(){return i({})}),[])]}},72247:function(e,t,n){var r=n(76189),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox")},9912:function(e,t,n){var r=n(76189),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank")},72456:function(e,t,n){var r=n(76189),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download")},19658:function(e,t,n){n.d(t,{Z:function(){return O}});var r=n(4942),a=n(63366),i=n(87462),o=n(72791),s=n(28182),c=n(90767),l=n(12065),d=n(66934),u=n(93736),h=n(14036),f=n(10703),p=n(95159);function v(e){return(0,p.Z)("MuiAlert",e)}var x,g=(0,n(30208).Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),j=n(13400),Z=n(76189),m=n(80184),y=(0,Z.Z)((0,m.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),b=(0,Z.Z)((0,m.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),w=(0,Z.Z)((0,m.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),C=(0,Z.Z)((0,m.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),k=(0,Z.Z)((0,m.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),S=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],_=(0,d.ZP)(f.Z,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,h.Z)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,a="light"===t.palette.mode?l._j:l.$n,o="light"===t.palette.mode?l.$n:l._j,s=n.color||n.severity;return(0,i.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},s&&"standard"===n.variant&&(0,r.Z)({color:a(t.palette[s].light,.6),backgroundColor:o(t.palette[s].light,.9)},"& .".concat(g.icon),{color:"dark"===t.palette.mode?t.palette[s].main:t.palette[s].light}),s&&"outlined"===n.variant&&(0,r.Z)({color:a(t.palette[s].light,.6),border:"1px solid ".concat(t.palette[s].light)},"& .".concat(g.icon),{color:"dark"===t.palette.mode?t.palette[s].main:t.palette[s].light}),s&&"filled"===n.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[s].dark:t.palette[s].main})})),D=(0,d.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),M=(0,d.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),P=(0,d.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),K={success:(0,m.jsx)(y,{fontSize:"inherit"}),warning:(0,m.jsx)(b,{fontSize:"inherit"}),error:(0,m.jsx)(w,{fontSize:"inherit"}),info:(0,m.jsx)(C,{fontSize:"inherit"})},O=o.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiAlert"}),r=n.action,o=n.children,l=n.className,d=n.closeText,f=void 0===d?"Close":d,p=n.color,g=n.icon,Z=n.iconMapping,y=void 0===Z?K:Z,b=n.onClose,w=n.role,C=void 0===w?"alert":w,O=n.severity,z=void 0===O?"success":O,A=n.variant,W=void 0===A?"standard":A,G=(0,a.Z)(n,S),I=(0,i.Z)({},n,{color:p,severity:z,variant:W}),H=function(e){var t=e.variant,n=e.color,r=e.severity,a=e.classes,i={root:["root","".concat(t).concat((0,h.Z)(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,c.Z)(i,v,a)}(I);return(0,m.jsxs)(_,(0,i.Z)({role:C,elevation:0,ownerState:I,className:(0,s.Z)(H.root,l),ref:t},G,{children:[!1!==g?(0,m.jsx)(D,{ownerState:I,className:H.icon,children:g||y[z]||K[z]}):null,(0,m.jsx)(M,{ownerState:I,className:H.message,children:o}),null!=r?(0,m.jsx)(P,{className:H.action,children:r}):null,null==r&&b?(0,m.jsx)(P,{ownerState:I,className:H.action,children:(0,m.jsx)(j.Z,{size:"small","aria-label":f,title:f,color:"inherit",onClick:b,children:x||(x=(0,m.jsx)(k,{fontSize:"small"}))})}):null]}))}))},15861:function(e,t,n){function r(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,c,"next",e)}function c(e){r(o,a,i,s,c,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=496.9f89a3c2.chunk.js.map