(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[16],{261:function(e,t,n){"use strict";var a=n(9),i=n(444),c=Object(a.a)(i.a)((function(e){return{backgroundColor:e.theme.palette.contentLight.main}}));t.a=c},265:function(e,t,n){"use strict";var a=n(9),i=n(444),c=Object(a.a)(i.a)((function(e){return{backgroundColor:e.theme.palette.contentDark.main}}));t.a=c},266:function(e,t,n){"use strict";var a=n(9),i=Object(a.a)("img",{name:"ImgIcon",slot:"Root"})((function(e){var t=e.size;return{display:"inline-block",width:"auto",height:"".concat(1.2*(void 0===t?1:t),"em"),verticalAlign:"text-bottom"}}));t.a=i},269:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(10),i=n(8),c=n(125),r=n(750),o=n(257),s=n(156),l=n(723),d=n(0),j=n(1),u=["title","children","id"];function b(e){var t=e.title,n=e.children,b=e.id,h=void 0===b?"dropdownbtn":b,O=Object(c.a)(e,u),x=Object(d.useState)(null),p=Object(i.a)(x,2),f=p[0],m=p[1],v=Boolean(f),g=Object(d.useCallback)((function(e){return m(e.currentTarget)}),[m]),y=Object(d.useCallback)((function(){return m(null)}),[m]);return Object(j.jsxs)(d.Suspense,{fallback:Object(j.jsx)(o.a,Object(a.a)(Object(a.a)({endIcon:Object(j.jsx)(r.a,{})},O),{},{children:Object(j.jsx)(s.a,{width:50})})),children:[Object(j.jsx)(o.a,Object(a.a)(Object(a.a)({},O),{},{id:h,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":v?"true":void 0,onClick:g,endIcon:Object(j.jsx)(r.a,{}),children:t})),Object(j.jsx)(l.a,{id:"basic-menu",anchorEl:f,open:v,onClose:y,MenuListProps:{"aria-labelledby":h},onClick:y,children:Object(j.jsx)(d.Suspense,{fallback:Object(j.jsx)(s.a,{width:"100%",height:"1000"}),children:n})})]})}},272:function(e,t,n){"use strict";var a={weaponTypes:{bow:n.p+"static/media/icon_bow.7ceaa8e2.png",catalyst:n.p+"static/media/icon_catalyst.db078b7b.png",claymore:n.p+"static/media/icon_claymore.63b1abb8.png",polearm:n.p+"static/media/icon_polearm.e5f4a2a1.png",sword:n.p+"static/media/icon_sword.619c9c2d.png"},resin:{fragile:n.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:n.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:n.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:n.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:n.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=a},280:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return x}));var a=n(8),i=n(10),c=n(125),r=n(9),o=n(443),s=n(257),l=n(0),d=n(1),j=["children","disableRipple","disableFocusRipple","disableTouchRipple"],u=["value","onChange","disabled","float"],b=Object(r.a)(o.c)((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,transition:"all 0.5s ease","&:hover":{backgroundColor:t.palette.primary.dark},"&.Mui-focused":{backgroundColor:t.palette.primary.dark},"&.Mui-disabled":{backgroundColor:t.palette.primary.dark}}})),h=Object(r.a)(s.a)((function(e){return{backgroundColor:e.theme.palette.primary.main,padding:0,overflow:"hidden",div:{width:"100%",height:"100%"}}}));function O(e){var t=e.children,n=(e.disableRipple,e.disableFocusRipple,e.disableTouchRipple,Object(c.a)(e,j));return Object(d.jsx)(h,Object(i.a)(Object(i.a)({disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0},n),{},{children:t}))}function x(e){var t=e.value,n=void 0===t?0:t,r=e.onChange,o=e.disabled,s=void 0!==o&&o,j=e.float,h=void 0!==j&&j,O=Object(c.a)(e,u),x=Object(l.useState)(n),p=Object(a.a)(x,2),f=p[0],m=p[1],v=Object(l.useState)(!1),g=Object(a.a)(v,2),y=g[0],C=g[1],w=Object(l.useMemo)((function(){return h?parseFloat:parseInt}),[h]),R=Object(l.useCallback)((function(){r(f),C(!1)}),[r,f,C]),k=Object(l.useCallback)((function(){C(!0)}),[C]);Object(l.useEffect)((function(){return m(n)}),[n,m]);var M=Object(l.useCallback)((function(e){return m(w(e.target.value)||0)}),[m,w]),S=Object(l.useCallback)((function(e){return"Enter"===e.key&&R()}),[R]);return Object(d.jsx)(b,Object(i.a)({value:y&&!f?"":f,"aria-label":"custom-input",type:"number",onChange:M,onBlur:R,onFocus:k,disabled:s,onKeyDown:S},O))}},314:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(10),i=n(125),c=n(9),r=n(257),o=n(1),s=["children","disabled"],l=Object(c.a)(r.a)((function(e){var t=e.theme;return{"&.Mui-disabled":{backgroundColor:t.palette.primary.dark,color:t.palette.text.secondary}}}));function d(e){var t=e.children,n=(e.disabled,Object(i.a)(e,s));return Object(o.jsx)(l,Object(a.a)(Object(a.a)({},n),{},{disabled:!0,children:t}))}},330:function(e,t,n){"use strict";var a=n(9),i=Object(a.a)("img")({width:"100%",height:"auto"});t.a=i},376:function(e,t,n){"use strict";var a=n(6),i=n(3),c=n(2),r=n(0),o=n(7),s=n(100),l=n(87),d=n(9),j=n(11),u=n(12),b=n(253),h=n(88),O=n(101);function x(e){return Object(h.a)("MuiAlert",e)}var p,f=Object(O.a)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),m=n(258),v=n(59),g=n(1),y=Object(v.a)(Object(g.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),C=Object(v.a)(Object(g.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),w=Object(v.a)(Object(g.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),R=Object(v.a)(Object(g.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),k=Object(v.a)(Object(g.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),M=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],S=Object(d.a)(b.a,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Object(u.a)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,i="light"===t.palette.mode?l.b:l.e,r="light"===t.palette.mode?l.e:l.b,o=n.color||n.severity;return Object(c.a)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===n.variant&&Object(a.a)({color:i(t.palette[o].light,.6),backgroundColor:r(t.palette[o].light,.9)},"& .".concat(f.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"outlined"===n.variant&&Object(a.a)({color:i(t.palette[o].light,.6),border:"1px solid ".concat(t.palette[o].light)},"& .".concat(f.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"filled"===n.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main})})),T=Object(d.a)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),z=Object(d.a)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),E=Object(d.a)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),I={success:Object(g.jsx)(y,{fontSize:"inherit"}),warning:Object(g.jsx)(C,{fontSize:"inherit"}),error:Object(g.jsx)(w,{fontSize:"inherit"}),info:Object(g.jsx)(R,{fontSize:"inherit"})},_=r.forwardRef((function(e,t){var n=Object(j.a)({props:e,name:"MuiAlert"}),a=n.action,r=n.children,l=n.className,d=n.closeText,b=void 0===d?"Close":d,h=n.color,O=n.icon,f=n.iconMapping,v=void 0===f?I:f,y=n.onClose,C=n.role,w=void 0===C?"alert":C,R=n.severity,_=void 0===R?"success":R,A=n.variant,L=void 0===A?"standard":A,D=Object(i.a)(n,M),W=Object(c.a)({},n,{color:h,severity:_,variant:L}),B=function(e){var t=e.variant,n=e.color,a=e.severity,i=e.classes,c={root:["root","".concat(t).concat(Object(u.a)(n||a)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return Object(s.a)(c,x,i)}(W);return Object(g.jsxs)(S,Object(c.a)({role:w,elevation:0,ownerState:W,className:Object(o.a)(B.root,l),ref:t},D,{children:[!1!==O?Object(g.jsx)(T,{ownerState:W,className:B.icon,children:O||v[_]||I[_]}):null,Object(g.jsx)(z,{ownerState:W,className:B.message,children:r}),null!=a?Object(g.jsx)(E,{className:B.action,children:a}):null,null==a&&y?Object(g.jsx)(E,{ownerState:W,className:B.action,children:Object(g.jsx)(m.a,{size:"small","aria-label":b,title:b,color:"inherit",onClick:y,children:p||(p=Object(g.jsx)(k,{fontSize:"small"}))})}):null]}))}));t.a=_},400:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d}));var a=n(25),i=1e3,c=60*i,r=60*c,o=24*r;function s(e){var t=e%1e3,n=Math.floor(e/1e3%60),a=Math.floor(e/6e4%60);return{hours:Math.floor(e/36e5),minutes:a,seconds:n,milliseconds:t}}function l(e){var t=s(e),n=t.hours,i=t.minutes,c=t.seconds,r="Minutes";return n&&(r="Hours"),"".concat(n?"".concat(n,":"):"").concat(Object(a.q)(i,"0",2),":").concat(Object(a.q)(c,"0",2)," ").concat(r)}function d(e){var t=s(e),n=t.hours,i=t.minutes,c=t.seconds,r=t.milliseconds,o="Minutes";return n&&(o="Hours"),"".concat(n?"".concat(n,":"):"").concat(Object(a.q)(i,"0",2),":").concat(Object(a.q)(c,"0",2),".").concat(Object(a.q)(r,"0",3)," ").concat(o)}},707:function(e,t,n){"use strict";function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return a}))},724:function(e,t,n){"use strict";var a=n(6),i=n(3),c=n(2),r=n(0),o=n(7),s=n(100),l=n(87),d=n(12),j=n(9),u=n(11),b=n(88),h=n(101);function O(e){return Object(b.a)("MuiButtonGroup",e)}var x=Object(h.a)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),p=n(138),f=n(1),m=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],v=Object(j.a)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(a.a)({},"& .".concat(x.grouped),t.grouped),Object(a.a)({},"& .".concat(x.grouped),t["grouped".concat(Object(d.a)(n.orientation))]),Object(a.a)({},"& .".concat(x.grouped),t["grouped".concat(Object(d.a)(n.variant))]),Object(a.a)({},"& .".concat(x.grouped),t["grouped".concat(Object(d.a)(n.variant)).concat(Object(d.a)(n.orientation))]),Object(a.a)({},"& .".concat(x.grouped),t["grouped".concat(Object(d.a)(n.variant)).concat(Object(d.a)(n.color))]),t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]}})((function(e){var t=e.theme,n=e.ownerState;return Object(c.a)({display:"inline-flex",borderRadius:t.shape.borderRadius},"contained"===n.variant&&{boxShadow:t.shadows[2]},n.disableElevation&&{boxShadow:"none"},n.fullWidth&&{width:"100%"},"vertical"===n.orientation&&{flexDirection:"column"},Object(a.a)({},"& .".concat(x.grouped),Object(c.a)({minWidth:40,"&:not(:first-of-type)":Object(c.a)({},"horizontal"===n.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===n.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===n.variant&&"horizontal"===n.orientation&&{marginLeft:-1},"outlined"===n.variant&&"vertical"===n.orientation&&{marginTop:-1}),"&:not(:last-of-type)":Object(c.a)({},"horizontal"===n.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===n.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===n.variant&&"horizontal"===n.orientation&&{borderRight:"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===n.variant&&"vertical"===n.orientation&&{borderBottom:"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===n.variant&&"inherit"!==n.color&&{borderColor:Object(l.a)(t.palette[n.color].main,.5)},"outlined"===n.variant&&"horizontal"===n.orientation&&{borderRightColor:"transparent"},"outlined"===n.variant&&"vertical"===n.orientation&&{borderBottomColor:"transparent"},"contained"===n.variant&&"horizontal"===n.orientation&&Object(a.a)({borderRight:"1px solid ".concat(t.palette.grey[400])},"&.".concat(x.disabled),{borderRight:"1px solid ".concat(t.palette.action.disabled)}),"contained"===n.variant&&"vertical"===n.orientation&&Object(a.a)({borderBottom:"1px solid ".concat(t.palette.grey[400])},"&.".concat(x.disabled),{borderBottom:"1px solid ".concat(t.palette.action.disabled)}),"contained"===n.variant&&"inherit"!==n.color&&{borderColor:t.palette[n.color].dark},{"&:hover":Object(c.a)({},"outlined"===n.variant&&"horizontal"===n.orientation&&{borderRightColor:"currentColor"},"outlined"===n.variant&&"vertical"===n.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":Object(c.a)({},"contained"===n.variant&&{boxShadow:"none"})},"contained"===n.variant&&{boxShadow:"none"})))})),g=r.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiButtonGroup"}),a=n.children,l=n.className,j=n.color,b=void 0===j?"primary":j,h=n.component,x=void 0===h?"div":h,g=n.disabled,y=void 0!==g&&g,C=n.disableElevation,w=void 0!==C&&C,R=n.disableFocusRipple,k=void 0!==R&&R,M=n.disableRipple,S=void 0!==M&&M,T=n.fullWidth,z=void 0!==T&&T,E=n.orientation,I=void 0===E?"horizontal":E,_=n.size,A=void 0===_?"medium":_,L=n.variant,D=void 0===L?"outlined":L,W=Object(i.a)(n,m),B=Object(c.a)({},n,{color:b,component:x,disabled:y,disableElevation:w,disableFocusRipple:k,disableRipple:S,fullWidth:z,orientation:I,size:A,variant:D}),H=function(e){var t=e.classes,n=e.color,a=e.disabled,i=e.disableElevation,c=e.fullWidth,r=e.orientation,o=e.variant,l={root:["root",o,"vertical"===r&&"vertical",c&&"fullWidth",i&&"disableElevation"],grouped:["grouped","grouped".concat(Object(d.a)(r)),"grouped".concat(Object(d.a)(o)),"grouped".concat(Object(d.a)(o)).concat(Object(d.a)(r)),"grouped".concat(Object(d.a)(o)).concat(Object(d.a)(n)),a&&"disabled"]};return Object(s.a)(l,O,t)}(B),F=r.useMemo((function(){return{className:H.grouped,color:b,disabled:y,disableElevation:w,disableFocusRipple:k,disableRipple:S,fullWidth:z,size:A,variant:D}}),[b,y,w,k,S,z,A,D,H.grouped]);return Object(f.jsx)(v,Object(c.a)({as:x,role:"group",className:Object(o.a)(H.root,l),ref:t,ownerState:B},W,{children:Object(f.jsx)(p.a.Provider,{value:F,children:a})}))}));t.a=g},765:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return X}));var a=n(17),i=n(18),c=n(82),r=n(81),o=n(707),s=n(67);var l=n(232),d=n(250),j=n(70),u=n(239),b=n(445),h=n(443),O=n(724),x=n(257),p=n(0),f=n.n(p),m=n(73),v=n(272),g=n(265),y=n(266),C=n(72),w=n(400),R=n(25),k=n(8),M=n(59),S=n(1),T=Object(M.a)(Object(S.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),z=n(376),E=n(261),I=n(54),_=n(280),A=n(330),L=n(314),D={advice:{name:"Wanderer's Advice",exp:1e3,cost:200,img:v.a.exp_books.advice},experience:{name:"Adventurer's Experience",exp:5e3,cost:1e3,img:v.a.exp_books.experience},wit:{name:"Hero's Wit",exp:2e4,cost:4e3,img:v.a.exp_books.wit}},W=[0,1e3,1325,1700,2150,2625,3150,3725,4350,5e3,5700,6450,7225,8050,8925,9825,10750,11725,12725,13775,14875,16800,18e3,19250,20550,21875,23250,24650,26100,27575,29100,30650,32250,33875,35550,37250,38975,40750,42575,44425,46300,50625,52700,54775,56900,59075,61275,63525,65800,68125,70475,76500,79050,81650,84275,86950,89650,92400,95175,98e3,100875,108950,112050,115175,118325,121525,124775,128075,131400,134775,138175,148700,152375,156075,159825,163600,167425,171300,175225,179175,183175,216225,243025,273100,306800,344600,386950,434425,487625,547200],B=[20,40,50,60,70,80,90];function H(e){var t=Object(p.useState)(0),n=Object(k.a)(t,2),a=n[0],i=n[1],c=Object(p.useState)(0),r=Object(k.a)(c,2),o=r[0],s=r[1],h=Object(p.useState)(0),f=Object(k.a)(h,2),m=f[0],v=f[1],w={advice:a,experience:o,wit:m},M={advice:i,experience:s,wit:v},A=Object(p.useState)(!1),H=Object(k.a)(A,2),N=H[0],P=H[1],G=Object(p.useState)(1),q=Object(k.a)(G,2),V=q[0],U=q[1],X=Object(p.useState)(0),Y=Object(k.a)(X,2),Z=Y[0],J=Y[1],K=Object(p.useState)(0),Q=Object(k.a)(K,2),$=Q[0],ee=Q[1];Object(p.useEffect)((function(){return ee(C.b.get("mora")||0)}),[]),Object(p.useEffect)((function(){C.b.set("mora",$)}),[$]),Object(p.useEffect)((function(){return U(C.b.get("exp_calc_level")||1)}),[]),Object(p.useEffect)((function(){C.b.set("exp_calc_level",V)}),[V]),Object(p.useEffect)((function(){return J(C.b.get("exp_calc_cur_exp")||0)}),[]),Object(p.useEffect)((function(){C.b.set("exp_calc_cur_exp",Z)}),[Z]),Object(p.useEffect)((function(){var e=C.b.get("exp_books")||{},t={advice:i,experience:s,wit:v};Object.entries(e).forEach((function(e){var n,a=Object(k.a)(e,2),i=a[0],c=a[1];return null===(n=t[i])||void 0===n?void 0:n.call(t,c)}))}),[]),Object(p.useEffect)((function(){return C.b.set("exp_books",{advice:a,experience:o,wit:m})}),[a,o,m]);for(var te=B.find((function(e){return e>V})),ne=-Z,ae=V;ae<Math.min(te,W.length);ae++)ne+=W[ae];for(var ie=function(e,t,n,a,i){var c=i?Math.floor(a/1e3):Math.ceil(a/1e3),r=Math.min(Math.floor(c/20),e);c-=20*r;var o=Math.min(Math.floor(c/5),t);c-=5*o;var s=Math.min(c,n);if(c-=s,i||0===c)return[r,o,s];if(3===o&&r!==e)return[r+1,0,0];if(o!==t)return[r,o+1,0];if(r!==e)return[r+1,0,0];return null}(m,o,a,ne,N)||[],ce=Object(k.a)(ie,3),re=ce[0],oe=void 0===re?0:re,se=ce[1],le=void 0===se?0:se,de=ce[2],je=void 0===de?0:de,ue={advice:je,experience:le,wit:oe},be=2e4*oe+5e3*le+1e3*je,he=be/5,Oe=ne-be,xe=$-he,pe=be+Z,fe=V;fe<Math.min(te,W.length)&&W[fe]<=pe;fe++)pe-=W[fe];fe===te&&(pe=0);var me="";return xe<0?me=Object(S.jsxs)("span",{children:["You don't have enough ",Object(S.jsx)("b",{children:"Mora"})," for this operation."]}):0===ie.length?me=Object(S.jsxs)("span",{children:["You don't have enough ",Object(S.jsx)("b",{children:"EXP. books"})," to level to the next milestone."]}):90===V&&(me="You are at the maximum level."),Object(S.jsxs)(g.a,{children:[Object(S.jsxs)(d.a,{container:!0,sx:{px:2,py:1},spacing:2,children:[Object(S.jsx)(d.a,{item:!0,children:Object(S.jsx)(y.a,{src:D.wit.img,sx:{fontSize:"2em"}})}),Object(S.jsx)(d.a,{item:!0,flexGrow:1,children:Object(S.jsx)(j.a,{variant:"h6",children:"Experience Calculator"})}),Object(S.jsx)(d.a,{item:!0,children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{color:"primary",disabled:!N,onClick:function(){return P(!1)},children:"Full Level"}),Object(S.jsx)(x.a,{color:"primary",disabled:N,onClick:function(){return P(!0)},children:"Don't fully level"})]})})]}),Object(S.jsx)(u.a,{}),Object(S.jsx)(b.a,{children:Object(S.jsxs)(d.a,{container:!0,spacing:1,children:[Object(S.jsx)(d.a,{item:!0,children:Object(S.jsxs)(j.a,{children:[Object(S.jsx)("span",{children:"This calculator tries to calculate the amount of exp books required to get to the next milestone level. "}),N?"It will try to get as close to the milestone level as possible, so you can grind the rest of the exp without any waste.":"It will try to calculate the amount of books needed to minimize as much exp loss as possible."]})}),Object(S.jsx)(d.a,{item:!0,xs:6,md:3,children:Object(S.jsxs)(O.a,{sx:{display:"flex"},children:[Object(S.jsx)(L.a,{children:"Current Level"}),Object(S.jsx)(_.a,{sx:{flexBasis:30,flexGrow:1},children:Object(S.jsx)(_.c,{value:V,onChange:function(e){return U(Object(R.b)(e,0,90))},sx:{px:2}})})]})}),Object(S.jsx)(d.a,{item:!0,xs:6,md:3,children:Object(S.jsxs)(O.a,{sx:{display:"flex"},children:[Object(S.jsx)(L.a,{children:"Current EXP."}),Object(S.jsx)(_.a,{sx:{flexBasis:30,flexGrow:1},children:Object(S.jsx)(_.c,{value:Z,onChange:function(e){return J(Object(R.b)(e,0,(W[V]||1)-1))},endAdornment:"/".concat(W[V]||0),sx:{px:2}})})]})}),Object(S.jsx)(d.a,{item:!0,xs:6,md:3,children:Object(S.jsx)(E.a,{children:Object(S.jsxs)(l.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(S.jsx)(j.a,{children:"Next Milestone Level:"}),Object(S.jsx)(j.a,{children:Object(S.jsx)("b",{children:te})})]})})}),Object(S.jsx)(d.a,{item:!0,xs:6,md:3,children:Object(S.jsx)(E.a,{children:Object(S.jsxs)(l.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(S.jsx)(j.a,{children:"EXP. to milestone:"}),Object(S.jsx)(j.a,{children:Object(S.jsxs)("span",{children:[Object(S.jsx)("strong",{children:be})," / ",Object(S.jsx)("strong",{children:ne})]})})]})})}),Object.entries(D).map((function(e){var t=Object(k.a)(e,2),n=t[0],a=t[1];return Object(S.jsx)(d.a,{item:!0,xs:12,md:4,children:Object(S.jsx)(F,{bookObj:a,value:w[n],setValue:M[n],required:ue[n]})},n)})),Object(S.jsx)(d.a,{item:!0,xs:12,md:4,children:Object(S.jsxs)(O.a,{sx:{display:"flex"},children:[Object(S.jsx)(L.a,{children:"Current Mora"}),Object(S.jsx)(_.a,{sx:{flexBasis:30,flexGrow:1},children:Object(S.jsx)(_.c,{value:$,onChange:function(e){return ee(Math.max(null!==e&&void 0!==e?e:0,0))},sx:{px:2}})})]})}),Object(S.jsx)(d.a,{item:!0,xs:12,md:4,children:Object(S.jsx)(E.a,{children:Object(S.jsxs)(l.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(S.jsx)(j.a,{children:"Mora Cost: "}),Object(S.jsx)(j.a,{children:Object(S.jsx)("b",{children:he})})]})})}),Object(S.jsx)(d.a,{item:!0,xs:12,md:4,children:Object(S.jsx)(E.a,{children:Object(S.jsxs)(l.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(S.jsxs)(j.a,{children:["EXP ",N?"Diff":"Waste",": "]}),Object(S.jsx)(j.a,{children:Object(S.jsx)("b",{children:Object(S.jsx)(I.a,{color:Oe<0?"error":"success",children:Oe})})})]})})}),Object(S.jsx)(d.a,{item:!0,xs:12,md:4,children:Object(S.jsx)(E.a,{children:Object(S.jsxs)(l.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(S.jsx)(j.a,{children:"Final Mora: "}),Object(S.jsx)(j.a,{children:Object(S.jsx)("b",{children:Object(S.jsx)(I.a,{color:xe<0?"error":"success",children:xe})})})]})})}),Object(S.jsx)(d.a,{item:!0,xs:12,md:4,children:Object(S.jsx)(E.a,{children:Object(S.jsxs)(l.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(S.jsx)(j.a,{children:"Final Level: "}),Object(S.jsx)(j.a,{children:Object(S.jsx)("b",{children:Object(S.jsx)(I.a,{color:"success",children:fe})})})]})})}),Object(S.jsx)(d.a,{item:!0,xs:12,md:4,children:Object(S.jsx)(E.a,{children:Object(S.jsxs)(l.a,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[Object(S.jsx)(j.a,{children:"Final EXP: "}),Object(S.jsx)(j.a,{children:Object(S.jsx)("b",{children:Object(S.jsx)(I.a,{color:pe<0?"error":"success",children:pe})})})]})})})]})}),Object(S.jsx)(u.a,{}),Object(S.jsx)(b.a,{sx:{py:1},children:Object(S.jsxs)(d.a,{container:!0,spacing:2,children:[Object(S.jsx)(d.a,{item:!0,flexGrow:1,children:!!me&&Object(S.jsx)(z.a,{variant:"filled",severity:"error",children:me})}),Object(S.jsx)(d.a,{item:!0,xs:"auto",children:Object(S.jsx)(x.a,{disabled:!!me,onClick:function(){U(fe),J(pe),Object.entries(ue).forEach((function(e){var t,n=Object(k.a)(e,2),a=n[0],i=n[1];return null===(t=M[a])||void 0===t?void 0:t.call(M,w[a]-i)})),ee(xe)},color:"success",startIcon:Object(S.jsx)(T,{}),sx:{height:"100%"},children:"Apply"})})]})})]})}function F(e){var t=e.bookObj,n=t.name,a=t.img,i=e.value,c=void 0===i?0:i,r=e.setValue,o=e.required,s=void 0===o?0:o;return Object(S.jsxs)(E.a,{children:[Object(S.jsx)(b.a,{sx:{py:1},children:Object(S.jsx)(j.a,{children:n})}),Object(S.jsx)(u.a,{}),Object(S.jsx)(b.a,{children:Object(S.jsxs)(d.a,{container:!0,children:[Object(S.jsx)(d.a,{item:!0,xs:3,children:Object(S.jsx)(A.a,{src:a})}),Object(S.jsxs)(d.a,{item:!0,xs:9,children:[Object(S.jsxs)(O.a,{sx:{display:"flex"},children:[Object(S.jsx)(L.a,{children:"Amount"}),Object(S.jsx)(_.a,{sx:{flexBasis:30,flexGrow:1},children:Object(S.jsx)(_.c,{value:c,onChange:function(e){return r(Math.max(null!==e&&void 0!==e?e:0,0))},sx:{px:2}})})]}),Object(S.jsxs)(l.a,{display:"flex",justifyContent:"space-between",mt:1,children:[Object(S.jsx)(j.a,{children:"Required:"}),Object(S.jsx)(j.a,{children:Object(S.jsx)("b",{children:Object(S.jsx)(I.a,{color:s?"success":"",children:s})})})]})]})]})})]})}var N=n(53),P=n(52),G=n(774),q=n(269),V={America:-5*w.b,Europe:w.b,Asia:8*w.b,"TW, HK, MO":8*w.b};function U(e){var t=Object(p.useState)(Object.keys(V)[0]),n=Object(k.a)(t,2),a=n[0],i=n[1],c=Object(p.useState)(new Date(Date.now()+V[a])),r=Object(k.a)(c,2),o=r[0],s=r[1];Object(p.useEffect)((function(){return i(C.b.get("server_timezone")||Object.keys(V)[0])}),[]),Object(p.useEffect)((function(){var e=function t(){return s(new Date(Date.now()+V[a])),setTimeout((function(){e=t()}),w.d-Date.now()%w.d)}();return C.b.set("server_timezone",a),function(){return clearTimeout(e)}}),[a]);var l=new Date(o);l.getUTCHours()<4?l.setUTCHours(4,0,0,0):(l=new Date(l.getTime()+w.a)).setUTCHours(4,0,0,0);var h=l.getTime()-o.getTime(),O=Object(w.e)(h);return Object(S.jsxs)(g.a,{children:[Object(S.jsxs)(d.a,{container:!0,sx:{px:2,py:1},spacing:2,children:[Object(S.jsx)(d.a,{item:!0,children:Object(S.jsx)(j.a,{variant:"h6",children:Object(S.jsx)(P.a,{icon:N.i,className:"fa-fw"})})}),Object(S.jsx)(d.a,{item:!0,flexGrow:1,children:Object(S.jsx)(j.a,{variant:"h6",children:"Teyvat Time"})}),Object(S.jsx)(d.a,{item:!0,children:Object(S.jsx)(q.a,{title:a,children:Object.keys(V).map((function(e){return Object(S.jsx)(G.a,{selected:a===e,disabled:a===e,onClick:function(){return i(e)},children:e},e)}))})})]}),Object(S.jsx)(u.a,{}),Object(S.jsx)(b.a,{children:Object(S.jsxs)(d.a,{container:!0,justifyContent:"center",spacing:3,children:[Object(S.jsx)(d.a,{item:!0,sx:{my:4},children:Object(S.jsx)(j.a,{variant:"h2",children:o.toLocaleTimeString([],{timeZone:"UTC"})})}),Object(S.jsxs)(d.a,{item:!0,display:"flex",flexDirection:"column",justifyContent:"space-around",children:[Object(S.jsxs)(j.a,{children:["Server Date: ",Object(S.jsx)("b",{children:o.toDateString()})]}),Object(S.jsxs)(j.a,{children:["Time until reset: ",Object(S.jsx)("b",{children:O})]}),Object(S.jsxs)(j.a,{children:["Resin until reset: ",Object(S.jsx)("b",{children:Math.floor(h/(8*w.c))})]})]})]})})]})}function X(e){return Object(S.jsxs)(l.a,{sx:{mt:1,"> div":{mb:1}},children:[Object(S.jsx)(U,{}),Object(S.jsx)(J,{}),Object(S.jsx)(H,{})]})}var Y=160,Z=8*w.c,J=function(e){Object(c.a)(n,e);var t=function(e){var t=Object(o.a)();return function(){var n,a=Object(r.a)(e);if(t){var i=Object(r.a)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}(n);function n(e){var i;Object(a.a)(this,n),(i=t.call(this,e)).resinIncrement=void 0,i.updateTimer=void 0,i.setResin=function(e){return i.setState((function(t){var n={resin:e=parseInt(e)||0};return e>=Y?(i.resinIncrement&&clearTimeout(i.resinIncrement),i.resinIncrement=0,t.resin<Y&&(n.date=(new Date).getTime())):(i.resinIncrement&&clearTimeout(i.resinIncrement),i.resinIncrement=setInterval((function(){return i.setResin(i.state.resin+1)}),Z),n.date=(new Date).getTime()),n}))};var c=C.b.get("resinInfo");i.state=c||{resin:100,date:(new Date).getTime()};var r=i.state,o=r.resin,s=r.date;if(o<Y&&Date.now()-s>Z){var l=Y-o,d=Math.min(Math.floor((Date.now()-s)/Z),l);o+=d,s+=d*Z,i.state.resin=o,i.state.date=s}return m.a.pageview("/tools"),i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state,n=t.resin,a=t.date;if(n<Y){var i=a+Z-new Date;this.resinIncrement=setTimeout((function(){e.setResin(e.state.resin+1)}),i)}this.updateTimer=setInterval((function(){return e.forceUpdate()}),w.d)}},{key:"componentWillUnmount",value:function(){this.updateTimer&&clearInterval(this.updateTimer),this.resinIncrement&&clearTimeout(this.resinIncrement)}},{key:"componentDidUpdate",value:function(){var e=Object(R.e)(this.state);C.b.set("resinInfo",e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.resin,a=t.date,i=n>=Y?a:a+Z,c=new Date(n>=Y?a:a+(Y-n)*Z),r=Object(w.e)(Math.abs(i-Date.now()));return Object(S.jsxs)(g.a,{children:[Object(S.jsxs)(d.a,{container:!0,sx:{px:2,py:1},spacing:2,children:[Object(S.jsx)(d.a,{item:!0,children:Object(S.jsx)(y.a,{src:v.a.resin.fragile,sx:{fontSize:"2em"}})}),Object(S.jsx)(d.a,{item:!0,children:Object(S.jsx)(j.a,{variant:"h6",children:"Resin Counter"})})]}),Object(S.jsx)(u.a,{}),Object(S.jsx)(b.a,{children:Object(S.jsxs)(d.a,{container:!0,spacing:2,children:[Object(S.jsx)(d.a,{item:!0,children:Object(S.jsxs)(j.a,{variant:"h2",children:[Object(S.jsx)(y.a,{src:v.a.resin.fragile}),Object(S.jsx)(h.c,{type:"number",sx:{width:"2em",fontSize:"4rem"},value:n,inputProps:{min:0,max:999,sx:{textAlign:"right"}},onChange:function(t){return e.setResin(t.target.value)}}),Object(S.jsxs)("span",{children:["/",Y]})]})}),Object(S.jsxs)(d.a,{item:!0,flexGrow:1,children:[Object(S.jsxs)(O.a,{fullWidth:!0,children:[Object(S.jsx)(x.a,{onClick:function(){return e.setResin(0)},disabled:0===n,children:"0"}),Object(S.jsx)(x.a,{onClick:function(){return e.setResin(n-1)},disabled:0===n,children:"-1"}),Object(S.jsx)(x.a,{onClick:function(){return e.setResin(n-20)},disabled:n<20,children:"-20"}),Object(S.jsx)(x.a,{onClick:function(){return e.setResin(n-40)},disabled:n<40,children:"-40"}),Object(S.jsx)(x.a,{onClick:function(){return e.setResin(n-60)},disabled:n<60,children:"-60"}),Object(S.jsx)(x.a,{onClick:function(){return e.setResin(n+1)},children:"+1"}),Object(S.jsx)(x.a,{onClick:function(){return e.setResin(n+60)},children:"+60"}),Object(S.jsxs)(x.a,{onClick:function(){return e.setResin(Y)},disabled:n===Y,children:["MAX ",Y]})]}),Object(S.jsx)(j.a,{variant:"subtitle1",sx:{mt:2},children:n<Y?Object(S.jsxs)("span",{children:["Next resin in ",r,", full Resin at ",c.toLocaleTimeString()," ",c.toLocaleDateString()]}):Object(S.jsxs)("span",{children:["Resin has been full for at least ",r,", since ",c.toLocaleTimeString()," ",c.toLocaleDateString()]})})]}),Object(S.jsx)(d.a,{item:!0,xs:12,children:Object(S.jsx)(j.a,{variant:"caption",children:"Because we do not provide a mechanism to synchronize resin time, actual resin recharge time might be as much as 8 minutes earlier than predicted."})})]})})]})}}]),n}(f.a.Component)}}]);
//# sourceMappingURL=16.f6cb526a.chunk.js.map