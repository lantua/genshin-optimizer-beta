"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[895],{40020:function(n,e,t){t.d(e,{Z:function(){return d}});var r,i=t(30168),o=t(63204),a=t(20890),s=t(22020),c=t(947),l=t(42320),u=t(80184);function d(n){var e=n.location,t=(0,s.$)("ui").t,d=(0,l.Z)(c.ZP.get(null!==e&&void 0!==e?e:""),[e]);return(0,u.jsx)(a.Z,{component:"span",children:null!==d&&void 0!==d&&d.name?d.nameWIthIcon:(0,u.jsxs)("span",{children:[(0,u.jsx)(o.Z,{sx:{verticalAlign:"text-bottom"}})," ",t(r||(r=(0,i.Z)(["inventory"])))]})})}},2380:function(n,e,t){var r=(0,t(93457).Z)("img")((function(n){var e=n.theme;return{display:"inline-block",width:"auto",height:"2.3em",lineHeight:1,verticalAlign:"text-bottom",marginTop:e.spacing(-3),marginLeft:e.spacing(-1.25),marginRight:e.spacing(-1),marginBottom:e.spacing(-1)}}));e.Z=r},20005:function(n,e,t){function r(n){var e=n.condition,t=n.wrapper,r=n.falseWrapper,i=n.children;return e?t(i):r?r(i):i}t.d(e,{Z:function(){return r}})},59215:function(n,e,t){t.d(e,{Z:function(){return p}});var r=t(1413),i=t(45987),o=t(53174),a=t(54483),s=t(2199),c=t(23786),l=t(24518),u=t(22020),d=t(76899),h=t(33890),f=t(80184),x=["sortKeys","value","onChange","ascending","onChangeAsc"];function p(n){var e=n.sortKeys,t=n.value,p=n.onChange,v=n.ascending,Z=n.onChangeAsc,m=(0,i.Z)(n,x),j=(0,u.$)("ui").t;return(0,f.jsxs)(s.Z,(0,r.Z)((0,r.Z)({},m),{},{children:[(0,f.jsx)(h.Z,{title:(0,f.jsxs)(d.c,{t:j,i18nKey:"sortByFormat",value:j("sortMap.".concat(t)),children:["Sort By: ",{value:j("sortMap.".concat(t))}]}),children:e.map((function(n){return(0,f.jsx)(c.Z,{selected:t===n,disabled:t===n,onClick:function(){return p(n)},children:j("sortMap.".concat(n))},n)}))}),(0,f.jsx)(l.Z,{onClick:function(){return Z(!v)},startIcon:(0,f.jsx)(a.G,{icon:v?o.Pa6:o.xrW,className:"fa-fw"}),children:v?(0,f.jsx)(d.c,{t:j,i18nKey:"ascending",children:"Ascending"}):(0,f.jsx)(d.c,{t:j,i18nKey:"descending",children:"Descending"})})]}))}},75545:function(n,e,t){t.d(e,{hJ:function(){return f}});var r=t(1413),i=t(53174),o=t(54483),a=t(24078),s=t(60393),c=t(91702),l=t(80184);function u(){return(0,l.jsxs)("span",{className:"fa-layers ",children:[(0,l.jsx)(o.G,{icon:a.t3}),(0,l.jsx)(o.G,{icon:a.ns,style:{color:"grey"}})]})}function d(){return(0,l.jsxs)("span",{className:"fa-layers ",children:[(0,l.jsx)(o.G,{icon:a.mf}),(0,l.jsx)(o.G,{icon:a.zr,style:{color:"grey"}})]})}function h(){return(0,l.jsxs)("span",{className:"fa-layers ",children:[(0,l.jsx)(o.G,{icon:a.wY}),(0,l.jsx)(o.G,{icon:a.KY,style:{color:"grey"}})]})}var f={anemo:(0,l.jsx)(o.G,{icon:a.Jf}),geo:(0,l.jsx)(o.G,{icon:a.lQ}),electro:(0,l.jsx)(o.G,{icon:a.FZ}),hydro:(0,l.jsx)(o.G,{icon:a.b5}),pyro:(0,l.jsx)(o.G,{icon:a.bI}),cryo:(0,l.jsx)(o.G,{icon:a.qO}),dendro:(0,l.jsx)(o.G,{icon:a.Ul}),physical:(0,l.jsx)(o.G,{icon:a.sR})},x=(0,s.O)(Object.keys(f),(function(n){return(0,l.jsx)(c.Z,{color:n,children:f[n]})})),p=(0,r.Z)((0,r.Z)({characterHP:(0,l.jsx)(u,{}),finalHP:(0,l.jsx)(u,{}),hp_:(0,l.jsx)(u,{}),hp:(0,l.jsx)(u,{}),baseATK:(0,l.jsx)(o.G,{icon:a._p}),characterATK:(0,l.jsx)(o.G,{icon:a._p}),finalATK:(0,l.jsx)(o.G,{icon:a._p}),atk_:(0,l.jsx)(o.G,{icon:a._p}),atk:(0,l.jsx)(o.G,{icon:a._p}),characterDEF:(0,l.jsx)(o.G,{icon:a.ek}),finalDEF:(0,l.jsx)(o.G,{icon:a.ek}),def_:(0,l.jsx)(o.G,{icon:a.ek}),def:(0,l.jsx)(o.G,{icon:a.ek}),eleMas:(0,l.jsx)(o.G,{icon:a.Nk}),critRate_:(0,l.jsx)(o.G,{icon:a.gV}),critDMG_:(0,l.jsx)(o.G,{icon:i.t_u}),enerRech_:(0,l.jsx)(h,{}),heal_:(0,l.jsx)(o.G,{icon:a.rl}),cdRed_:(0,l.jsx)(d,{}),shield_:(0,l.jsx)(o.G,{icon:a.WR}),stamina:(0,l.jsx)(o.G,{icon:a.mF})},x),Object.fromEntries(Object.keys(x).flatMap((function(n){return[["".concat(n,"_dmg_"),x[n]],["".concat(n,"_res_"),x[n]]]}))));e.ZP=p},73578:function(n,e,t){t.d(e,{Z:function(){return f}});var r=t(1413),i=t(45987),o=t(90388),a=t(72791),s=t(9350),c=t(24351),l=t(55942),u=t(91839),d=t(80184),h=["value","onChange"];function f(n){var e=n.value,t=n.onChange,f=(0,i.Z)(n,h),x=(0,a.useCallback)((function(n,e){return t(e||"")}),[t]);return(0,d.jsx)(u.Z,(0,r.Z)((0,r.Z)({exclusive:!0,onChange:x,value:e||c.yd},f),{},{children:c.yd.map((function(n){var e;return(0,d.jsx)(o.Z,{value:n,children:(0,d.jsx)(l.Z,{src:null===(e=s.Z.weaponTypes)||void 0===e?void 0:e[n],size:2})},n)}))}))}},44361:function(n,e,t){t.d(e,{Z:function(){return b}});var r=t(93433),i=t(29439),o=t(39504),a=t(61889),s=t(94721),c=t(66647),l=t(68870),u=t(20890),d=t(72791),h=t(9350),f=t(42320),x=t(24351),p=t(66218),v=t(3992),Z=t(71310),m=t(68198),j=t(55942),g=t(9321),y=t(10157),w=t(73578),k=t(80184);function b(n){var e=n.show,t=n.onHide,b=n.onSelect,C=n.filter,P=void 0===C?function(){return!0}:C,G=n.weaponFilter,T=(0,f.Z)(p.ZP.getAll,[]),N=(0,d.useState)(null!==G&&void 0!==G?G:""),W=(0,i.Z)(N,2),I=W[0],A=W[1];(0,d.useEffect)((function(){return G&&A(G)}),[G]);var S=T?(0,r.Z)(new Set(x.fG)).filter((function(n){return P(T[n])})).filter((function(n){var e;return!I||I===(null===T||void 0===T||null===(e=T[n])||void 0===e?void 0:e.weaponType)})).sort((function(n,e){var t,r,i,o;return(null!==(t=null===T||void 0===T||null===(r=T[e])||void 0===r?void 0:r.rarity)&&void 0!==t?t:0)-(null!==(i=null===T||void 0===T||null===(o=T[n])||void 0===o?void 0:o.rarity)&&void 0!==i?i:0)})):[];return T?(0,k.jsx)(g.Z,{open:e,onClose:t,children:(0,k.jsxs)(v.Z,{children:[(0,k.jsx)(o.Z,{sx:{py:1},children:(0,k.jsxs)(a.ZP,{container:!0,children:[(0,k.jsx)(a.ZP,{item:!0,flexGrow:1,children:(0,k.jsx)(w.Z,{value:I,onChange:A,disabled:!!G,size:"small"})}),(0,k.jsx)(a.ZP,{item:!0,children:(0,k.jsx)(m.Z,{onClick:t})})]})}),(0,k.jsx)(s.Z,{}),(0,k.jsx)(o.Z,{children:(0,k.jsx)(a.ZP,{container:!0,spacing:1,children:S.map((function(n){var e,r=T[n];return(0,k.jsx)(a.ZP,{item:!0,lg:3,md:4,children:(0,k.jsx)(Z.Z,{sx:{height:"100%"},children:(0,k.jsxs)(c.Z,{onClick:function(){t(),b(n)},sx:{display:"flex"},children:[(0,k.jsx)(l.Z,{component:"img",src:r.img,sx:{width:100,height:"auto"},className:" grad-".concat(r.rarity,"star")}),(0,k.jsxs)(l.Z,{sx:{flexGrow:1,px:1},children:[(0,k.jsx)(u.Z,{variant:"subtitle1",children:r.name}),(0,k.jsxs)(u.Z,{children:[(0,k.jsx)(j.Z,{src:null===(e=h.Z.weaponTypes)||void 0===e?void 0:e[r.weaponType]})," ",(0,k.jsx)(y.t,{stars:r.rarity,colored:!0})]})]})]})})},n)}))})}),(0,k.jsx)(s.Z,{}),(0,k.jsx)(o.Z,{sx:{py:1},children:(0,k.jsx)(m.Z,{large:!0,onClick:t})})]})}):null}},66218:function(n,e,t){t.d(e,{ZP:function(){return h},uh:function(){return f},p$:function(){return x}});var r=t(29439),i=t(15671),o=t(43144),a=t(66624),s=t(2139),c=t(55942),l=t(26138),u=t(80184),d=t.e(447).then(t.bind(t,11447)).then((function(n){return n.default})),h=function(){function n(e,t,r,o){var s=this;(0,i.Z)(this,n),this.key=void 0,this.sheet=void 0,this.data=void 0,this.rarity=void 0,this.weaponType=void 0,this.tr=function(n){return(0,u.jsx)(a.v,{ns:"weapon_".concat(s.key,"_gen"),key18:n})},this.passiveDescription=function(n){return s.rarity>2?s.tr("passiveDescription.".concat(n)):""},this.rarity=r.rarity,this.weaponType=r.weaponType,this.key=e,this.sheet=t,this.data=o}return(0,o.Z)(n,[{key:"name",get:function(){return this.tr("name")}},{key:"passiveName",get:function(){return this.rarity>2?this.tr("passiveName"):""}},{key:"description",get:function(){return this.tr("description")}},{key:"img",get:function(){return this.sheet.icon}},{key:"imgAwaken",get:function(){return this.sheet.iconAwaken}},{key:"document",get:function(){return this.sheet.document}}],[{key:"getAll",get:function(){return d}}]),n}();h.get=function(n){return n?d.then((function(e){return e[n]})):void 0},h.getWeaponsOfType=function(n,e){return Object.fromEntries(Object.entries(n).filter((function(n){var t=(0,r.Z)(n,2);t[0];return t[1].weaponType===e})))},h.getLevelString=function(n){return"".concat(n.level,"/").concat(s.SJ[n.ascension])};var f=function(n,e,t){return{title:n("passiveName"),icon:function(n){return(0,u.jsx)(c.Z,{size:2,sx:{m:-1},src:n.get(l.qH.weapon.asc).value<2?e:t})}}},x=function(n){return function(e){return n("passiveDescription.".concat(e.get(l.qH.weapon.refineIndex).value))}}},22776:function(n,e,t){t.d(e,{Z:function(){return X}});var r,i,o,a,s=t(53174),c=t(54483),l=t(40117),u=t(62002),d=t(66647),h=t(47047),f=t(9585),x=t(13400),p=t(61889),v=t(20890),Z=t(68870),m=t(39504),j=t(2199),g=t(24518),y=t(72791),w=t(9350),k=t(71310),b=t(1413),C=t(30168),P=t(45987),G=t(63204),T=t(49670),N=t(23786),W=t(57064),I=t(94721),A=t(22020),S=t(947),H=t(3997),_=t(42320),M=t(33890),R=t(2380),D=t(80184),V=["value","onChange","unSelectText","unSelectIcon","inventory","noUnselect","filter"];function z(n){var e,t=n.value,s=n.onChange,c=n.unSelectText,l=n.unSelectIcon,u=n.inventory,d=void 0!==u&&u,h=n.noUnselect,f=void 0!==h&&h,x=n.filter,p=void 0===x?function(){return!0}:x,Z=(0,P.Z)(n,V),m=(0,A.$)("ui").t,j=(0,y.useContext)(H.t4),g=(0,_.Z)(S.ZP.getAll,[]),w=(0,_.Z)(S.ZP.get(t),[t]),k=j._getCharKeys().filter((function(n){return(null===g||void 0===g?void 0:g[n])&&p(g[n],n)})).sort();return(0,D.jsxs)(M.Z,(0,b.Z)((0,b.Z)({},Z),{},{title:null!==(e=null===w||void 0===w?void 0:w.name)&&void 0!==e?e:d?m(r||(r=(0,C.Z)(["inventory"]))):null!==c&&void 0!==c?c:m(i||(i=(0,C.Z)(["unselect"]))),color:t?"success":"primary",startIcon:null!==w&&void 0!==w&&w.thumbImg?(0,D.jsx)(R.Z,{src:w.thumbImgSide}):d?(0,D.jsx)(G.Z,{}):null!==l&&void 0!==l?l:(0,D.jsx)(T.Z,{}),children:[!f&&(d?(0,D.jsxs)(N.Z,{onClick:function(){return s("")},selected:""===t,disabled:""===t,children:[(0,D.jsx)(W.Z,{children:(0,D.jsx)(G.Z,{})}),(0,D.jsx)(v.Z,{variant:"inherit",noWrap:!0,children:m(o||(o=(0,C.Z)(["inventory"])))})]}):(0,D.jsxs)(N.Z,{onClick:function(){return s("")},selected:""===t,disabled:""===t,children:[(0,D.jsx)(W.Z,{children:(0,D.jsx)(T.Z,{})}),(0,D.jsx)(v.Z,{variant:"inherit",noWrap:!0,children:m(a||(a=(0,C.Z)(["unselect"])))})]})),!f&&(0,D.jsx)(I.Z,{},"div"),!!g&&E(g,k,s,t)]}))}function E(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e.map((function(e){var i;return(0,D.jsxs)(N.Z,{onClick:function(){return t(e)},selected:r===e,disabled:r===e,children:[(0,D.jsx)(W.Z,{children:(0,D.jsx)(R.Z,{src:n[e].thumbImgSide})}),(0,D.jsx)(v.Z,{variant:"inherit",noWrap:!0,children:null===n||void 0===n||null===(i=n[e])||void 0===i?void 0:i.name})]},e)}))}var K=t(40020),O=t(20005),B=t(55942),L=t(10157),F=t(75545),q=t(2139),J=t(26138),U=t(73036),$=t(74480),Y=t(44297),Q=t(66218);function X(n){var e,t=n.weaponId,r=n.onClick,i=n.onEdit,o=n.onDelete,a=n.canEquip,b=void 0!==a&&a,C=(0,y.useContext)(H.t4),P=(0,$.Z)(t),G=(0,_.Z)(null!==P&&void 0!==P&&P.key?Q.ZP.get(P.key):void 0,[null===P||void 0===P?void 0:P.key]),T=(0,y.useCallback)((function(n){return n.weaponTypeKey===(null===G||void 0===G?void 0:G.weaponType)}),[G]),N=(0,y.useCallback)((function(n){return(0,D.jsx)(d.Z,{onClick:function(){return null===r||void 0===r?void 0:r(t)},sx:{height:"100%"},children:n})}),[r,t]),W=(0,y.useCallback)((function(n){return C.setWeaponLocation(t,n)}),[C,t]),I=(0,y.useMemo)((function(){return G&&P&&(0,U.mP)([G.data,(0,U.v0)(P)])}),[G,P]);if(!P||!G||!I)return null;var A=P.level,S=P.ascension,M=P.refinement,R=P.id,V=P.location,E=void 0===V?"":V,X=P.lock,nn=I.get(J.ri.weapon.type).value,en=[J.ri.weapon.main,J.ri.weapon.sub,J.ri.weapon.sub2].map((function(n){return I.get(n)})),tn=S<2?null===G||void 0===G?void 0:G.img:null===G||void 0===G?void 0:G.imgAwaken;return(0,D.jsx)(y.Suspense,{fallback:(0,D.jsx)(h.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:(0,D.jsx)(O.Z,{condition:!!r,wrapper:N,children:(0,D.jsxs)(k.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,D.jsxs)("div",{className:"grad-".concat(G.rarity,"star"),children:[(0,D.jsx)(f.Z,{title:G.name,avatar:(0,D.jsx)(B.Z,{sx:{fontSize:"2em"},src:null===(e=w.Z.weaponTypes)||void 0===e?void 0:e[nn]}),titleTypographyProps:{variant:"h6"},action:!r&&(0,D.jsx)(x.Z,{color:"primary",onClick:function(){return C.updateWeapon({lock:!X},R)},children:X?(0,D.jsx)(l.Z,{}):(0,D.jsx)(u.Z,{})})}),(0,D.jsxs)(p.ZP,{container:!0,sx:{flexWrap:"nowrap",pl:2},children:[(0,D.jsxs)(p.ZP,{item:!0,flexGrow:1,children:[(0,D.jsxs)(v.Z,{component:"span",variant:"h4",children:["Lv. ",A]}),(0,D.jsxs)(v.Z,{component:"span",variant:"h4",color:"text.secondary",children:["/",q.SJ[S]]}),(0,D.jsxs)(v.Z,{variant:"h6",children:["Refinement ",(0,D.jsx)("strong",{children:M})]}),(0,D.jsx)(v.Z,{children:(0,D.jsx)(L.t,{stars:G.rarity,colored:!0})})]}),(0,D.jsx)(p.ZP,{item:!0,container:!0,maxWidth:"40%",alignContent:"flex-end",sx:{mt:-3},children:(0,D.jsx)(Z.Z,{component:"img",src:tn,width:"100%",height:"auto"})})]})]}),(0,D.jsx)(m.Z,{children:en.map((function(n){if(!n.key)return null;var e=(0,U.EC)(n.value,n.unit,"flat"===n.unit?0:void 0);return(0,D.jsxs)(Z.Z,{sx:{display:"flex"},children:[(0,D.jsxs)(v.Z,{flexGrow:1,children:[F.ZP[n.key]," ",Y.ZP.get(n.key)]}),(0,D.jsx)(v.Z,{children:e})]},n.key)}))}),(0,D.jsx)(Z.Z,{flexGrow:1}),(0,D.jsx)(m.Z,{sx:{py:1},children:(0,D.jsxs)(p.ZP,{container:!0,sx:{flexWrap:"nowrap"},children:[(0,D.jsx)(p.ZP,{item:!0,xs:"auto",flexShrink:1,children:b?(0,D.jsx)(z,{size:"small",noUnselect:!0,inventory:!0,value:E,onChange:W,filter:T}):(0,D.jsx)(K.Z,{location:E})}),(0,D.jsx)(p.ZP,{item:!0,flexGrow:1,sx:{mr:1}}),(0,D.jsx)(p.ZP,{item:!0,xs:"auto",children:(0,D.jsxs)(j.Z,{sx:{height:"100%"},children:[!!i&&(0,D.jsx)(g.Z,{color:"info",size:"small",onClick:function(){return i(R)},children:(0,D.jsx)(c.G,{icon:s.Xcf,className:"fa-fw"})}),!!o&&(0,D.jsx)(g.Z,{color:"error",size:"small",onClick:function(){return o(R)},disabled:!!E||X,children:(0,D.jsx)(c.G,{icon:s.I7k,className:"fa-fw"})})]})})]})})]})})})}},88139:function(n,e,t){t.r(e),t.d(e,{default:function(){return O}});var r=t(15861),i=t(29439),o=t(1413),a=t(87757),s=t.n(a),c=t(53174),l=t(54483),u=t(68870),d=t(61889),h=t(90388),f=t(57246),x=t(20890),p=t(47047),v=t(39504),Z=t(24518),m=t(68825),j=t(72791),g=t(16129),y=t(3992),w=t(91839),k=t(59215),b=t(10157),C=t(73578),P=t(44361),G=t(3997),T=t(23741),N=t(68544),W=t(42320),I=t(24351),A=t(46956),S=t(60393),H=["level","rarity"];var _=t(22776),M=t(66218),R=t(11400),D=t(80184),V=(0,j.lazy)((function(){return Promise.all([t.e(0),t.e(125),t.e(966),t.e(329)]).then(t.bind(t,90329))})),z=function(){return{editWeaponId:"",sortType:H[0],ascending:!1,rarity:[5,4],weaponType:"",maxNumToDisplay:30}};function E(n,e){return(0,o.Z)((0,o.Z)({},n),e)}function K(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z();return(0,o.Z)((0,o.Z)({},e),null!==(n=T.Hk.get("WeaponDisplay.state"))&&void 0!==n?n:{})}function O(n){var e=(0,j.useContext)(G.t4),t=(0,j.useReducer)(E,z(),K),o=(0,i.Z)(t,2),a=o[0],O=o[1],B=(0,j.useState)(!1),L=(0,i.Z)(B,2),F=L[0],q=L[1],J=(0,N.Z)(),U=(0,i.Z)(J,2),$=U[0],Y=U[1],Q=(0,j.useRef)(null),X=(0,j.useRef)(null),nn=(0,j.useState)(0),en=(0,i.Z)(nn,2),tn=en[0],rn=en[1];(0,j.useEffect)((function(){return g.ZP.pageview("/weapon"),e.followAnyWeapon(Y)}),[Y,e]),(0,j.useEffect)((function(){T.Hk.set("WeaponDisplay.state",a)}),[a]);var on=(0,W.Z)(M.ZP.getAll,[]),an=(0,j.useCallback)(function(){var n=(0,r.Z)(s().mark((function n(t){var r,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e._getWeapon(t)){n.next=3;break}return n.abrupt("return");case 3:if(i=m.ZP.t("weapon_".concat(r.key,"_gen:name")),window.confirm("Are you sure you want to remove ".concat(i,"?"))){n.next=6;break}return n.abrupt("return");case 6:e.removeWeapon(t),a.editWeaponId===t&&O({editWeaponId:""});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[a.editWeaponId,O,e]),sn=(0,j.useCallback)((function(n){O({editWeaponId:n}),setTimeout((function(){var n;null===(n=Q.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})}),500)}),[O,Q]),cn=(0,j.useCallback)((function(n){sn(e.createWeapon((0,R.x)(n)))}),[e,sn]),ln=a.sortType,un=a.ascending,dn=a.weaponType,hn=a.rarity,fn=(0,j.useMemo)((function(){return on&&function(n){return{level:{getValue:function(n){var e;return null!==(e=n.level)&&void 0!==e?e:0},tieBreaker:"rarity"},rarity:{getValue:function(e){var t;return null===n||void 0===n||null===(t=n[e.key])||void 0===t?void 0:t.rarity},tieBreaker:"level"}}}(on)}),[on]),xn=(0,j.useMemo)((function(){return on&&function(n){return{rarity:function(e,t){var r;return t.includes(null===n||void 0===n||null===(r=n[e.key])||void 0===r?void 0:r.rarity)},weaponType:function(e,t){var r;return!t||t===(null===n||void 0===n||null===(r=n[e.key])||void 0===r?void 0:r.weaponType)}}}(on)}),[on]),pn=(0,j.useMemo)((function(){var n=e._getWeapons(),t=n.length;if(!fn||!xn)return{weaponIdList:[],totalWeaponNum:t};var r=n.filter((0,A.C)({weaponType:dn,rarity:hn},xn)).sort((0,A.e)(ln,un,fn)).map((function(n){return n.id}));return $&&{weaponIdList:r,totalWeaponNum:t}}),[$,e,fn,xn,ln,un,hn,dn]),vn=pn.weaponIdList,Zn=pn.totalWeaponNum,mn=(0,j.useMemo)((function(){var n=Math.ceil(vn.length/a.maxNumToDisplay),e=(0,S.uZ)(tn,0,n-1);return{weaponIdsToShow:vn.slice(e*a.maxNumToDisplay,(e+1)*a.maxNumToDisplay),numPages:n,currentPageIndex:e}}),[vn,tn,a.maxNumToDisplay]),jn=mn.weaponIdsToShow,gn=mn.numPages,yn=mn.currentPageIndex,wn=vn.length!==Zn?"".concat(vn.length,"/").concat(Zn):"".concat(Zn),kn=(0,j.useCallback)((function(n,e){var t;null===(t=X.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}),rn(e-1)}),[rn,X]),bn=(0,j.useCallback)((function(){return O({editWeaponId:""})}),[O]),Cn=a.editWeaponId;return(0,D.jsxs)(u.Z,{sx:{mt:1,"> div":{mb:1}},children:[!!Cn&&(0,D.jsx)(u.Z,{ref:Q,children:(0,D.jsx)(V,{weaponId:Cn,footer:!0,onClose:bn})}),(0,D.jsxs)(y.Z,{ref:X,sx:{p:2,pb:1},children:[(0,D.jsxs)(d.ZP,{container:!0,spacing:1,sx:{mb:1},children:[(0,D.jsx)(d.ZP,{item:!0,children:(0,D.jsx)(C.Z,{sx:{height:"100%"},onChange:function(n){return O({weaponType:n})},value:dn,size:"small"})}),(0,D.jsx)(d.ZP,{item:!0,flexGrow:1,children:(0,D.jsx)(w.Z,{sx:{height:"100%"},onChange:function(n,e){return O({rarity:e})},value:hn,size:"small",children:I.wC.map((function(n){return(0,D.jsxs)(h.Z,{value:n,children:[(0,D.jsxs)("strong",{children:[n," "]}),(0,D.jsx)(b.t,{stars:1})]},n)}))})}),(0,D.jsx)(d.ZP,{item:!0,children:(0,D.jsx)(k.Z,{sx:{height:"100%"},sortKeys:H,value:ln,onChange:function(n){return O({sortType:n})},ascending:un,onChangeAsc:function(n){return O({ascending:n})}})})]}),(0,D.jsxs)(d.ZP,{container:!0,alignItems:"flex-end",children:[(0,D.jsx)(d.ZP,{item:!0,flexGrow:1,children:(0,D.jsx)(f.Z,{count:gn,page:yn+1,onChange:kn})}),(0,D.jsx)(d.ZP,{item:!0,children:(0,D.jsxs)(x.Z,{color:"text.secondary",children:["Showing ",(0,D.jsx)("b",{children:jn.length})," out of ",wn," Weapons"]})})]})]}),(0,D.jsx)(d.ZP,{container:!0,spacing:1,children:(0,D.jsxs)(j.Suspense,{fallback:(0,D.jsx)(d.ZP,{item:!0,xs:12,children:(0,D.jsx)(p.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:500}})}),children:[!Cn&&(0,D.jsx)(d.ZP,{item:!0,xs:6,md:4,lg:4,xl:3,children:(0,D.jsxs)(y.Z,{sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[(0,D.jsx)(v.Z,{children:(0,D.jsx)(x.Z,{sx:{textAlign:"center"},children:"Add New Weapon"})}),(0,D.jsx)(P.Z,{show:F,onHide:function(){return q(!1)},onSelect:cn}),(0,D.jsx)(u.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,D.jsx)(Z.Z,{onClick:function(){return q(!0)},sx:{borderRadius:"1em"},children:(0,D.jsx)(x.Z,{variant:"h1",children:(0,D.jsx)(l.G,{icon:c.r8p,className:"fa-fw"})})})})]})}),jn.map((function(n){return(0,D.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:4,xl:3,children:(0,D.jsx)(_.Z,{weaponId:n,onDelete:an,onEdit:sn,canEquip:!0})},n)}))]})})]})}},74480:function(n,e,t){t.d(e,{Z:function(){return a}});var r=t(29439),i=t(72791),o=t(3997);function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=(0,i.useContext)(o.t4),t=(0,i.useState)(e._getWeapon(n)),a=(0,r.Z)(t,2),s=a[0],c=a[1];return(0,i.useEffect)((function(){return c(e._getWeapon(n))}),[e,n]),(0,i.useEffect)((function(){return n?e.followWeapon(n,c):void 0}),[n,c,e]),s}},46956:function(n,e,t){t.d(e,{e:function(){return i},C:function(){return o}});var r=t(29439);function i(n,e,t){function r(n,e,t,r){var i=r.getValue(n),o=r.getValue(e);return(t?-1:1)*("string"===typeof i&&"string"===typeof o?i.localeCompare(o):o-i)}return function(i,o){if(!t[n])return 0;var a=t[n],s=r(i,o,e,a);return!s&&a.tieBreaker&&t[a.tieBreaker]&&(s=r(i,o,e,t[a.tieBreaker])),s}}function o(n,e){return function(t){return Object.entries(n).every((function(n){var i=(0,r.Z)(n,2),o=i[0],a=i[1];return e[o](t,a)}))}}},63204:function(n,e,t){var r=t(76189),i=t(80184);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z"}),"BusinessCenter")},49670:function(n,e,t){var r=t(76189),i=t(80184);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay")},66647:function(n,e,t){t.d(e,{Z:function(){return j}});var r=t(4942),i=t(87462),o=t(63366),a=t(72791),s=t(28182),c=t(90767),l=t(93736),u=t(66934),d=t(95159);function h(n){return(0,d.Z)("MuiCardActionArea",n)}var f=(0,t(30208).Z)("MuiCardActionArea",["root","focusVisible","focusHighlight"]),x=t(23701),p=t(80184),v=["children","className","focusVisibleClassName"],Z=(0,u.ZP)(x.Z,{name:"MuiCardActionArea",slot:"Root",overridesResolver:function(n,e){return e.root}})((function(n){var e,t=n.theme;return e={display:"block",textAlign:"inherit",width:"100%"},(0,r.Z)(e,"&:hover .".concat(f.focusHighlight),{opacity:t.palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}}),(0,r.Z)(e,"&.".concat(f.focusVisible," .").concat(f.focusHighlight),{opacity:t.palette.action.focusOpacity}),e})),m=(0,u.ZP)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:function(n,e){return e.focusHighlight}})((function(n){var e=n.theme;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}})),j=a.forwardRef((function(n,e){var t=(0,l.Z)({props:n,name:"MuiCardActionArea"}),r=t.children,a=t.className,u=t.focusVisibleClassName,d=(0,o.Z)(t,v),f=t,x=function(n){var e=n.classes;return(0,c.Z)({root:["root"],focusHighlight:["focusHighlight"]},h,e)}(f);return(0,p.jsxs)(Z,(0,i.Z)({className:(0,s.Z)(x.root,a),focusVisibleClassName:(0,s.Z)(u,x.focusVisible),ref:e,ownerState:f},d,{children:[r,(0,p.jsx)(m,{className:x.focusHighlight,ownerState:f})]}))}))},9585:function(n,e,t){t.d(e,{Z:function(){return y}});var r=t(4942),i=t(63366),o=t(87462),a=t(72791),s=t(28182),c=t(90767),l=t(20890),u=t(93736),d=t(66934),h=t(95159);function f(n){return(0,h.Z)("MuiCardHeader",n)}var x=(0,t(30208).Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),p=t(80184),v=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],Z=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(n,e){var t;return(0,o.Z)((t={},(0,r.Z)(t,"& .".concat(x.title),e.title),(0,r.Z)(t,"& .".concat(x.subheader),e.subheader),t),e.root)}})({display:"flex",alignItems:"center",padding:16}),m=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(n,e){return e.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),j=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(n,e){return e.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),g=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(n,e){return e.content}})({flex:"1 1 auto"}),y=a.forwardRef((function(n,e){var t=(0,u.Z)({props:n,name:"MuiCardHeader"}),r=t.action,a=t.avatar,d=t.className,h=t.component,x=void 0===h?"div":h,y=t.disableTypography,w=void 0!==y&&y,k=t.subheader,b=t.subheaderTypographyProps,C=t.title,P=t.titleTypographyProps,G=(0,i.Z)(t,v),T=(0,o.Z)({},t,{component:x,disableTypography:w}),N=function(n){var e=n.classes;return(0,c.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},f,e)}(T),W=C;null==W||W.type===l.Z||w||(W=(0,p.jsx)(l.Z,(0,o.Z)({variant:a?"body2":"h5",className:N.title,component:"span",display:"block"},P,{children:W})));var I=k;return null==I||I.type===l.Z||w||(I=(0,p.jsx)(l.Z,(0,o.Z)({variant:a?"body2":"body1",className:N.subheader,color:"text.secondary",component:"span",display:"block"},b,{children:I}))),(0,p.jsxs)(Z,(0,o.Z)({className:(0,s.Z)(N.root,d),as:x,ref:e,ownerState:T},G,{children:[a&&(0,p.jsx)(m,{className:N.avatar,ownerState:T,children:a}),(0,p.jsxs)(g,{className:N.content,ownerState:T,children:[W,I]}),r&&(0,p.jsx)(j,{className:N.action,ownerState:T,children:r})]}))}))},93457:function(n,e,t){var r=(0,t(44046).ZP)();e.Z=r},58959:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(29439),i=t(72791);function o(n){var e=n.controlled,t=n.default,o=(n.name,n.state,i.useRef(void 0!==e).current),a=i.useState(t),s=(0,r.Z)(a,2),c=s[0],l=s[1];return[o?e:c,i.useCallback((function(n){o||l(n)}),[])]}}}]);
//# sourceMappingURL=895.8a49816a.chunk.js.map