{"version":3,"file":"static/js/247.9bc69a29.chunk.js","mappings":"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","sources":["Data/Characters/dataUtil.tsx","Data/Characters/KaedeharaKazuha/index.tsx","Data/Characters/KamisatoAyaka/index.tsx","Data/Characters/RaidenShogun/index.tsx","Data/Characters/Shenhe/index.tsx","Data/Characters/Sucrose/index.tsx","Data/Characters/YaeMiko/index.tsx","Data/Characters/index.ts","Data/SheetUtil.tsx"],"sourcesContent":["import { input } from \"../../Formula\";\r\nimport { inferInfoMut, mergeData } from \"../../Formula/api\";\r\nimport { reactions } from \"../../Formula/reaction\";\r\nimport { Data, DisplaySub, NumNode } from \"../../Formula/type\";\r\nimport { constant, data, equalStr, infoMut, prod, stringPrio, subscript, sum } from \"../../Formula/utils\";\r\nimport { allMainStatKeys, allSubstats, MainStatKey } from \"../../Types/artifact\";\r\nimport { CharacterKey, ElementKey, Region } from \"../../Types/consts\";\r\nimport { layeredAssignment, objectKeyMap, objectMap } from \"../../Util/Util\";\r\nimport _charCurves from \"./expCurve_gen.json\";\r\n\r\nexport const absorbableEle = [\"hydro\", \"pyro\", \"cryo\", \"electro\"] as ElementKey[]\r\n\r\n// TODO: Remove this conversion after changing the file format\r\nconst charCurves = objectMap(_charCurves, value => [0, ...Object.values(value)])\r\n\r\nconst commonBasic = objectKeyMap([...allSubstats, \"heal_\"], key => input.total[key])\r\ncommonBasic.critRate_ = input.total.cappedCritRate\r\n\r\nconst inferredHitEle = stringPrio(\r\n  input.infusion,\r\n  input.team.infusion,\r\n  // Inferred Element\r\n  equalStr(input.weaponType, \"catalyst\", input.charEle),\r\n  equalStr(input.hit.move, \"skill\", input.charEle),\r\n  \"physical\",\r\n)\r\n\r\nfunction getTalentType(move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\") {\r\n  switch (move) {\r\n    case \"normal\": case \"charged\": case \"plunging\": return \"auto\";\r\n    case \"skill\": return \"skill\";\r\n    case \"burst\": return \"burst\";\r\n  }\r\n}\r\n\r\nexport function customDmgNode(base: NumNode, move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\" | \"elemental\", additional: Data = {}): NumNode {\r\n  return data(input.hit.dmg, mergeData([{\r\n    hit: { base, move: constant(move), ele: additional?.hit?.ele ? undefined : inferredHitEle },\r\n  }, additional]))\r\n}\r\nexport function dmgNode(base: MainStatKey, lvlMultiplier: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional: Data = {}): NumNode {\r\n  const talentType = getTalentType(move)\r\n  return customDmgNode(prod(subscript(input.total[`${talentType}Index`], lvlMultiplier, { key: '_' }), input.total[base]), move, additional)\r\n}\r\nexport function dataObjForCharacterSheet(\r\n  key: CharacterKey,\r\n  element: ElementKey | undefined,\r\n  region: Region | undefined,\r\n  gen: {\r\n    weaponTypeKey: string,\r\n    base: { hp: number, atk: number, def: number },\r\n    curves: { [key in string]?: string },\r\n    ascensions: { props: { [key in string]?: number } }[]\r\n  },\r\n  display: { [key: string]: DisplaySub },\r\n  additional: Data = {},\r\n): Data {\r\n  function curve(base: number, lvlCurve: string): NumNode {\r\n    return prod(base, subscript(input.lvl, charCurves[lvlCurve]))\r\n  }\r\n  display.basic = { ...commonBasic }\r\n  const data: Data = {\r\n    charKey: constant(key),\r\n    base: {},\r\n    weaponType: constant(gen.weaponTypeKey),\r\n    premod: {},\r\n    display,\r\n  }\r\n  if (element) {\r\n    data.charEle = constant(element)\r\n    data.teamBuff = { tally: { [element]: constant(1) } }\r\n    data.display!.basic[`${element}_dmg_`] = input.total[`${element}_dmg_`]\r\n    data.display!.reaction = reactions[element]\r\n  }\r\n  if (region)\r\n    layeredAssignment(data, [\"teamBuff\", \"tally\", region], constant(1))\r\n  if (gen.weaponTypeKey !== \"catalyst\") {\r\n    if (!data.display!.basic) data.display!.basic = {}\r\n    data.display!.basic!.physical_dmg_ = input.total.physical_dmg_\r\n  }\r\n\r\n  let foundSpecial: boolean | undefined\r\n  for (const stat of [...allMainStatKeys, \"def\" as const]) {\r\n    const list: NumNode[] = []\r\n    if (gen.curves[stat])\r\n      list.push(curve(gen.base[stat], gen.curves[stat]!))\r\n    const asc = gen.ascensions.some(x => x.props[stat])\r\n    if (asc)\r\n      list.push(subscript(input.asc, gen.ascensions.map(x => x.props[stat] ?? NaN)))\r\n\r\n    if (!list.length) continue\r\n\r\n    const result = infoMut(list.length === 1 ? list[0] : sum(...list), { key: stat, prefix: \"char\", asConst: true })\r\n    if (stat.endsWith(\"_dmg_\")) result.info!.variant = stat.slice(0, -5) as any\r\n    if (stat === \"atk\" || stat === \"def\" || stat === \"hp\")\r\n      data.base![stat] = result\r\n    else {\r\n      if (foundSpecial) throw new Error(\"Duplicated Char Special\")\r\n      foundSpecial = true\r\n      data.special = result\r\n      data.premod![stat] = input.special\r\n    }\r\n  }\r\n\r\n  return mergeData([data, inferInfoMut(additional)])\r\n}\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { Translate } from '../../../Components/Translate'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, greaterEqStr, infoMut, percent, prod, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, condReadNode, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { absorbableEle, customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KaedeharaKazuha\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3.1\r\n      skillParam_gen.auto[a++], // 3.2\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5x3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++],\r\n    dmg2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    hold: skillParam_gen.skill[s++],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    add: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    asorbAdd: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    elemas_dmg_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    elemas: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    auto_: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, \"burstAbsorption\")\r\n\r\nconst [condSkillAbsorptionPath, condSkillAbsorption] = cond(key, \"skillAbsorption\")\r\n\r\nconst condSwirlPaths = Object.fromEntries(absorbableEle.map(e => [e, [key, `swirl${e}`]]))\r\nconst condSwirls = Object.fromEntries(absorbableEle.map(e => [e, condReadNode(condSwirlPaths[e])]))\r\nconst asc4 = Object.fromEntries(absorbableEle.map(ele =>\r\n  [`${ele}_dmg_`, greaterEq(input.asc, 4,\r\n    equal(\"swirl\", condSwirls[ele],\r\n      // TODO: this percent of 0.04% is displayed as 0.0%\r\n      prod(percent(datamine.passive2.elemas_dmg_), input.premod.eleMas)\r\n    ))]))\r\n\r\n/** TODO: the C2 actually only applies to \"active\" character, so the following needs to be changed... */\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst c2EleMas = greaterEq(input.constellation, 2,\r\n  equal(\"c2\", condC2, datamine.constellation2.elemas))\r\n\r\nconst [condC2PPath, condC2P] = cond(key, \"c2p\")\r\nconst c2PEleMas = greaterEq(input.constellation, 2,\r\n  equal(\"c2p\", condC2P,\r\n    unequal(target.charKey, key, datamine.constellation2.elemas)))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6infusion = greaterEqStr(input.constellation, 6,\r\n  equalStr(\"c6\", condC6, \"anemo\"))\r\nconst c6Dmg_ = greaterEq(input.constellation, 6,\r\n  equal(\"c6\", condC6, prod(percent(datamine.constellation6.auto_), input.premod.eleMas))\r\n)\r\n// Share `match` and `prod` between the three nodes\r\nconst c6NormDmg_ = { ...c6Dmg_ }\r\nconst c6ChargedDmg_ = { ...c6Dmg_ }\r\nconst c6PlungingDmg_ = { ...c6Dmg_ }\r\n\r\nconst passive = percent(0.2)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n    pdmg: dmgNode(\"atk\", datamine.plunging.dmg, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n    plow: dmgNode(\"atk\", datamine.plunging.low, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n    phigh: dmgNode(\"atk\", datamine.plunging.high, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n    ...Object.fromEntries(absorbableEle.map(key =>\r\n      [key, equal(condBurstAbsorption, key, dmgNode(\"atk\", datamine.burst.add, \"burst\", { hit: { ele: constant(key) } }))]))\r\n  },\r\n  passive1: Object.fromEntries(absorbableEle.map(key =>\r\n    [key, equal(condSkillAbsorption, key, customDmgNode(prod(input.total.atk, datamine.passive1.asorbAdd), \"plunging\", { hit: { ele: constant(key) } }))])),\r\n  constellation6: {\r\n    normal_dmg_: c6NormDmg_,\r\n    charged_dmg_: c6ChargedDmg_,\r\n    plunging_dmg_: c6PlungingDmg_,\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, \"anemo\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      ...asc4,\r\n      staminaSprintDec_: passive,\r\n    },\r\n    total: {\r\n      eleMas: c2PEleMas,\r\n    },\r\n  },\r\n  infusion: c6infusion,\r\n  premod: {\r\n    normal_dmg_: c6NormDmg_,\r\n    charged_dmg_: c6ChargedDmg_,\r\n    plunging_dmg_: c6PlungingDmg_,\r\n  },\r\n  total: {\r\n    eleMas: c2EleMas,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 3 ? 0 : -1)}` }),\r\n            textSuffix: i === 2 ? \"(1)\" : i === 3 ? \"(2)\" : i === 5 ? <span>(<Translate ns=\"sheet\" key18=\"hits\" values={{ count: 3 }} />)</span> : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(1)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(2)\"\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: {\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.1\"),\r\n            value: data => data.get(input.constellation).value >= 1 ? `${datamine.skill.cd}s - 10%` : `${datamine.skill.cd}s`,\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.1\"),\r\n            value: data => data.get(input.constellation).value >= 1 ? `${datamine.skill.cdHold}s - 10%` : `${datamine.skill.cdHold}s`,\r\n          }, {\r\n            canShow: data => data.get(input.constellation).value >= 1,\r\n            text: trm(\"c1\"),\r\n          }]\r\n        }, {\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.pdmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.plow, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.phigh, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      burst: {\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: datamine.burst.duration,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.4\"),\r\n            value: datamine.burst.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.5\"),\r\n            value: datamine.burst.enerCost,\r\n          }]\r\n        }, {\r\n          conditional: { // Burst Absorption\r\n            value: condBurstAbsorption,\r\n            path: condBurstAbsorptionPath,\r\n            name: st(\"eleAbsor\"),\r\n            states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n              name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n              fields: [{\r\n                node: infoMut(dmgFormulas.burst[eleKey], { key: `char_${key}_gen:burst.skillParams.2` }),\r\n              }]\r\n            }]))\r\n          },\r\n        }, {\r\n          conditional: { // C2\r\n            canShow: greaterEq(input.constellation, 2, 1,),\r\n            value: condC2,\r\n            path: condC2Path,\r\n            name: trm(\"c2\"),\r\n            states: {\r\n              c2: {\r\n                fields: [{\r\n                  node: c2EleMas\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }, {\r\n          conditional: { // C2 Party\r\n            canShow: c2PEleMas,\r\n            value: condC2P,\r\n            path: condC2PPath,\r\n            teamBuff: true,\r\n            header: conditionalHeader(\"constellation2\", tr, c2),\r\n            description: tr(\"constellation2.description\"),\r\n            name: trm(\"c2p\"),\r\n            states: {\r\n              c2p: {\r\n                fields: [{\r\n                  node: c2PEleMas\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }],\r\n      },\r\n      passive1: {\r\n        name: tr(\"passive1.name\"),\r\n        img: passive1,\r\n        sections: [{\r\n          text: tr(\"passive1.description\"),\r\n          conditional: { // Skill Absorption\r\n            value: condSkillAbsorption,\r\n            path: condSkillAbsorptionPath,\r\n            name: st(\"eleAbsor\"),\r\n            states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n              name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n              fields: [{\r\n                node: infoMut(dmgFormulas.passive1[eleKey], { key: `sheet_gen:addEleDMG` }),\r\n              }]\r\n            }]))\r\n          },\r\n        }],\r\n      },\r\n      passive2: {\r\n        name: tr(\"passive2.name\"),\r\n        img: passive2,\r\n        sections: [{\r\n          text: tr(\"passive2.description\"),\r\n        }, ...absorbableEle.map(eleKey => ({\r\n          conditional: { // Poetics of Fuubutsu\r\n            value: condSwirls[eleKey],\r\n            path: condSwirlPaths[eleKey],\r\n            teamBuff: true,\r\n            header: conditionalHeader(\"passive2\", tr, passive2),\r\n            description: tr(\"passive2.description\"),\r\n            name: trm(`a4.name_${eleKey}`),\r\n            states: {\r\n              swirl: {\r\n                fields: [{\r\n                  node: asc4[`${eleKey}_dmg_`]\r\n                }, {\r\n                  text: sgt(\"duration\"),\r\n                  value: datamine.passive2.duration,\r\n                  unit: \"s\"\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }))],\r\n      },\r\n      passive3: {\r\n        name: tr(\"passive3.name\"),\r\n        img: passive3,\r\n        sections: [{\r\n          text: tr(\"passive3.description\"),\r\n          fields: [{ //TODO: put into subsection since this is teambuff\r\n            //   header: conditionalHeader(\"passive3\", tr, passive3),\r\n            //   description: tr(\"passive3.description\"),\r\n            node: passive\r\n          }]\r\n        }],\r\n      },\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: {\r\n        name: tr(\"constellation6.name\"),\r\n        img: c6,\r\n        sections: [{\r\n          text: tr(\"constellation6.description\"),\r\n          conditional: {//Crimson Momiji\r\n            value: condC6,\r\n            path: condC6Path,\r\n            name: trm(\"c6.after\"),\r\n            states: {\r\n              c6: {\r\n                fields: [\r\n                  // { // TODO:\r\n                  //   node: c6infusion\r\n                  // },\r\n                  {\r\n                    canShow: data => data.get(c6infusion).value === \"anemo\",\r\n                    text: <ColorText color=\"anemo\">Anemo Infusion</ColorText>\r\n                  },\r\n                  {\r\n                    node: c6NormDmg_\r\n                  }, {\r\n                    node: c6ChargedDmg_\r\n                  }, {\r\n                    node: c6PlungingDmg_\r\n                  }, {\r\n                    text: sgt(\"duration\"),\r\n                    value: datamine.constellation6.duration,\r\n                    unit: \"s\",\r\n                  }]\r\n              }\r\n            }\r\n          }\r\n        }]\r\n      }\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { Translate } from '../../../Components/Translate'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, percent, prod, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, sprint, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KamisatoAyaka\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, sp = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x3\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1x3\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  sprint: {\r\n    active_stam: skillParam_gen.sprint[sp++][0],\r\n    drain_stam: skillParam_gen.sprint[sp++][0],\r\n    duration: skillParam_gen.sprint[sp++][0],\r\n  },\r\n  passive1: {\r\n    dmg_bonus: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    stamina: skillParam_gen.passive2[p2++][0],\r\n    cryo: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    snowflake: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    def_red: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    cd: skillParam_gen.constellation6[0],\r\n    charged_bonus: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condAfterSprintPath, condAfterSprint] = cond(key, \"afterSprint\")\r\nconst afterSprintInfusion = equalStr(\"afterSprint\", condAfterSprint, \"cryo\")\r\n\r\nconst [condAfterSkillA1Path, condAfterSkillA1] = cond(key, \"afterSkillA1\")\r\nconst a1NormDmg_ = equal(\"afterSkill\", condAfterSkillA1, percent(datamine.passive1.dmg_bonus))\r\nconst a1ChargedDmg_ = equal(\"afterSkill\", condAfterSkillA1, percent(datamine.passive1.dmg_bonus), { key: \"charged_dmg_\" })\r\n\r\nconst [condAfterApplySprintPath, condAfterApplySprint] = cond(key, \"afterApplySprint\")\r\nconst afterApplySprintCryo = equal(\"afterApplySprint\", condAfterApplySprint, percent(datamine.passive2.cryo))\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurst = greaterEq(input.constellation, 4,\r\n  equal(\"c4\", condAfterBurst, datamine.constellation4.def_red))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"C6\")\r\nconst c6ChargedDmg_ = greaterEq(input.constellation, 6,\r\n  equal(\"c6\", condC6, datamine.constellation6.charged_bonus), { key: `charged_dmg_` })\r\n\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n  burst: {\r\n    cutting: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    bloom: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    dmg: customDmgNode(prod(input.total.atk, datamine.constellation2.snowflake), \"burst\", { hit: { ele: constant(\"cryo\") } })\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const adata = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      enemyDefRed_: afterBurst\r\n    }\r\n  },\r\n  infusion: afterSprintInfusion,\r\n  premod: {\r\n    normal_dmg_: a1NormDmg_,\r\n    charged_dmg_: sum(a1ChargedDmg_, c6ChargedDmg_),\r\n    cryo_dmg_: afterApplySprintCryo,\r\n  },\r\n  total: {\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((percentArr, i) =>\r\n          ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 3 ? 0 : -1)}` }),\r\n            textSuffix: i === 3 ? <span>(<Translate ns=\"sheet\" key18=\"hits\" values={{ count: 3 }} />)</span> : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: <span>(<Translate ns=\"sheet\" key18=\"hits\" values={{ count: 3 }} />)</span>\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }\r\n        ],\r\n      },\r\n      skill: {\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.1\"),\r\n            value: datamine.skill.cd,\r\n          }],\r\n        }],\r\n      },\r\n      burst: {\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            text: tr(\"burst.cutting\"),\r\n            node: infoMut(dmgFormulas.burst.cutting, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"burst.bloom\"),\r\n            node: infoMut(dmgFormulas.burst.bloom, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: datamine.burst.duration,\r\n          }, {\r\n            text: sgt(\"cd\"),\r\n            value: datamine.burst.cd,\r\n          }, {\r\n            text: sgt(\"energyCost\"),\r\n            value: datamine.burst.enerCost,\r\n          }]\r\n        }]\r\n      },\r\n      sprint: {\r\n        name: tr(\"sprint.name\"),\r\n        img: sprint,\r\n        sections: [{\r\n          text: tr(\"sprint.description\"),\r\n          fields: [{\r\n            text: \"Activation Stamina Consumption\",\r\n            value: datamine.sprint.active_stam,\r\n          }, {\r\n            text: \"Stamina Drain\",\r\n            value: datamine.sprint.drain_stam,\r\n            unit: \"/s\",\r\n          }],\r\n          conditional: { //sprint\r\n            value: condAfterSprint,\r\n            path: condAfterSprintPath,\r\n            name: trm(\"afterSprint\"),\r\n            states: {\r\n              afterSprint: {\r\n                fields: [{\r\n                  canShow: data => data.get(afterSprintInfusion).value === \"cryo\",\r\n                  text: <ColorText color=\"cryo\">Cryo Infusion</ColorText>\r\n                }, {\r\n                  text: sgt(\"duration\"),\r\n                  value: datamine.sprint.duration,\r\n                  unit: \"s\",\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }],\r\n      },\r\n      passive1: {\r\n        name: tr(\"passive1.name\"),\r\n        img: passive1,\r\n        sections: [{\r\n          text: tr(\"passive1.description\"),\r\n          conditional: {//After using Kamisato Art: Hyouka\r\n            canShow: greaterEq(input.asc, 1, 1),\r\n            value: condAfterSkillA1,\r\n            path: condAfterSkillA1Path,\r\n            name: trm(\"afterSkill\"),\r\n            states: {\r\n              afterSkill: {\r\n                fields: [{\r\n                  node: a1NormDmg_\r\n                },\r\n                {\r\n                  node: a1ChargedDmg_\r\n                },\r\n                {\r\n                  text: sgt(\"duration\"),\r\n                  value: datamine.passive1.duration,\r\n                  unit: \"s\",\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }],\r\n      },\r\n      passive2: {\r\n        name: tr(\"passive2.name\"),\r\n        img: passive2,\r\n        sections: [{\r\n          text: tr(\"passive2.description\"),\r\n          conditional: { //sprint\r\n            canShow: greaterEq(input.asc, 4, 1),\r\n            value: condAfterApplySprint,\r\n            path: condAfterApplySprintPath,\r\n            name: trm(\"afterSprintCryo\"),\r\n            states: {\r\n              afterApplySprint: {\r\n                fields: [{\r\n                  text: trm(\"staminaRestore\"),\r\n                  value: datamine.passive2.stamina,\r\n                },\r\n                {\r\n                  node: afterApplySprintCryo\r\n                },\r\n                {\r\n                  text: sgt(\"duration\"),\r\n                  value: datamine.passive2.duration,\r\n                  unit: \"s\",\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }],\r\n      },\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{\r\n        canShow: data => data.get(input.constellation).value >= 2,\r\n        text: trm(\"snowflakeDMG\"),\r\n        value: datamine.constellation2.snowflake,\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:snowflakeDMG` }),\r\n      },]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: {\r\n        name: tr(\"constellation4.name\"),\r\n        img: c4,\r\n        sections: [{\r\n          text: tr(\"constellation4.description\"),\r\n          conditional: {\r\n            canShow: greaterEq(input.constellation, 4, 1),\r\n            value: condAfterBurst,\r\n            path: condAfterBurstPath,\r\n            name: trm(\"dmgBySnowflake\"),\r\n            states: {\r\n              c4: {\r\n                fields: [{\r\n                  node: afterBurst\r\n                }, {\r\n                  text: sgt(\"duration\"),\r\n                  value: \"6s\"\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }],\r\n      },\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: {\r\n        name: tr(\"constellation6.name\"),\r\n        img: c6,\r\n        sections: [{\r\n          text: tr(\"constellation6.description\"),\r\n          conditional: {\r\n            canShow: greaterEq(input.constellation, 6, 1),\r\n            value: condC6,\r\n            path: condC6Path,\r\n            name: trm(\"afterSkill\"),\r\n            states: {\r\n              c6: {\r\n                fields: [{\r\n                  text: sgt(\"cd\"),\r\n                  value: datamine.constellation6.cd,\r\n                  unit: \"s\"\r\n                },\r\n                {\r\n                  node: c6ChargedDmg_,\r\n                },]\r\n              }\r\n            }\r\n          }\r\n        }],\r\n      },\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, adata);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"RaidenShogun\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    coorDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    burstDmg_bonus: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    resolveBonus1: skillParam_gen.burst[b++],\r\n    resolveBonus2: skillParam_gen.burst[b++],\r\n    resolveGained: skillParam_gen.burst[b++],\r\n    hit1: skillParam_gen.burst[b++],\r\n    hit2: skillParam_gen.burst[b++],\r\n    hit3: skillParam_gen.burst[b++],\r\n    hit41: skillParam_gen.burst[b++],\r\n    hit42: skillParam_gen.burst[b++],\r\n    hit5: skillParam_gen.burst[b++],\r\n    charged1: skillParam_gen.burst[b++],\r\n    charged2: skillParam_gen.burst[b++],\r\n    stam: skillParam_gen.burst[b++][0],\r\n    plunge: skillParam_gen.burst[b++],\r\n    plungeLow: skillParam_gen.burst[b++],\r\n    plungeHigh: skillParam_gen.burst[b++],\r\n    enerGen: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    er: skillParam_gen.passive2[p2++][0],\r\n    energyGen: skillParam_gen.passive2[p2++][0],\r\n    electroDmg_bonus: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    def_ignore: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    atk_bonus: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n} as const\r\n\r\nconst [condSkillEyePath, condSkillEye] = cond(key, \"skillEye\")\r\nconst skillEye_ = equal(\"skillEye\", condSkillEye,\r\n  prod(datamine.burst.enerCost, subscript(input.total.skillIndex, datamine.skill.burstDmg_bonus.map(x => x), { key: '_' })))\r\n\r\nfunction skillDmg(atkType: number[]) {\r\n  // if Raiden is above or equal to C2, then account for DEF Ignore else not\r\n  return dmgNode('atk', atkType, 'skill', {\r\n    enemy: { defIgn: greaterEq(input.constellation, 2, datamine.constellation2.def_ignore) }\r\n  })\r\n}\r\n\r\nconst energyCosts = [40, 50, 60, 70, 80, 90]\r\nconst [condSkillEyeTeamPath, condSkillEyeTeam] = cond(key, \"skillEyeTeam\")\r\nconst skillEyeTeamBurstDmgInc = unequal(input.activeCharKey, input.charKey,\r\n  prod(lookup(condSkillEyeTeam, objectKeyMap(energyCosts, i => constant(i)), 0),\r\n    subscript(input.total.skillIndex, datamine.skill.burstDmg_bonus.map(x => x), { key: '_' })))\r\n\r\nconst resolveStacks = [10, 20, 30, 40, 50, 60]\r\nconst [condResolveStackPath, condResolveStack] = cond(key, \"burstResolve\")\r\n\r\nfunction burstResolve(atkType: number[], initial = false) {\r\n  let resolveBonus = initial ? datamine.burst.resolveBonus1 : datamine.burst.resolveBonus2\r\n\r\n  // if Raiden is above or equal to C2, then account for DEF Ignore else not\r\n  return customDmgNode(prod(sum(subscript(input.total.burstIndex, atkType, { key: '_' }),\r\n    prod(subscript(input.total.burstIndex, resolveBonus.map(x => x), { key: '_' }),\r\n      lookup(condResolveStack, objectKeyMap(resolveStacks, i => constant(i)), 0))), input.total.atk), 'burst', {\r\n    hit: {\r\n      ele: constant('electro')\r\n    }, enemy: {\r\n      defIgn: greaterEq(input.constellation, 2, datamine.constellation2.def_ignore)\r\n    }\r\n  })\r\n}\r\n\r\nconst passive2ElecDmgBonus = greaterEq(input.asc, 4, prod(sum(input.total.enerRech_, percent(-1)), (datamine.passive2.electroDmg_bonus * 100)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4AtkBonus_ = greaterEq(input.constellation, 4,\r\n  equal(\"c4\", condC4, unequal(input.activeCharKey, input.charKey, datamine.constellation4.atk_bonus))\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: skillDmg(datamine.skill.skillDmg),\r\n    coorDmg: skillDmg(datamine.skill.coorDmg),\r\n    skillEye_\r\n  },\r\n  burst: {\r\n    dmg: burstResolve(datamine.burst.dmg, true),\r\n    hit1: burstResolve(datamine.burst.hit1),\r\n    hit2: burstResolve(datamine.burst.hit2),\r\n    hit3: burstResolve(datamine.burst.hit3),\r\n    hit41: burstResolve(datamine.burst.hit41),\r\n    hit42: burstResolve(datamine.burst.hit42),\r\n    hit5: burstResolve(datamine.burst.hit5),\r\n    charged1: burstResolve(datamine.burst.charged1),\r\n    charged2: burstResolve(datamine.burst.charged2),\r\n    plunge: burstResolve(datamine.burst.plunge),\r\n    plungeLow: burstResolve(datamine.burst.plungeLow),\r\n    plungeHigh: burstResolve(datamine.burst.plungeHigh),\r\n  },\r\n}\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"electro\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: greaterEq(input.constellation, 5, 3),\r\n    burst: greaterEq(input.constellation, 3, 3),\r\n  },\r\n  premod: {\r\n    burst_dmg_: skillEye_,\r\n    electro_dmg_: passive2ElecDmgBonus,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: c4AtkBonus_,\r\n      burst_dmg_: skillEyeTeamBurstDmgInc\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"electro\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 4 ? 0 : -1)}` }),\r\n              textSuffix: i === 3 ? \"(1)\" : i === 4 ? \"(2)\" : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.6\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: {\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.coorDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.2\"),\r\n            value: `${datamine.skill.duration}s`,\r\n          }, {\r\n            text: tr(\"skill.skillParams.4\"),\r\n            value: `${datamine.skill.cd}s`,\r\n          }],\r\n          conditional: {\r\n            value: condSkillEye,\r\n            path: condSkillEyePath,\r\n            name: trm(\"skill.eye\"),\r\n            states: {\r\n              skillEye: {\r\n                fields: [{\r\n                  node: skillEye_\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }, {\r\n          conditional: {\r\n            value: condSkillEyeTeam,\r\n            path: condSkillEyeTeamPath,\r\n            header: conditionalHeader(\"skill\", tr, skill),\r\n            description: tr(\"skill.description\"),\r\n            teamBuff: true,\r\n            canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n            name: trm(\"skill.partyCost\"),\r\n            states: Object.fromEntries(energyCosts.map(c => [c, {\r\n              name: `${c}`,\r\n              fields: [{\r\n                node: skillEyeTeamBurstDmgInc,\r\n              }]\r\n            }]))\r\n          }\r\n        }]\r\n      },\r\n      burst: {\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.hit1, { key: `char_${key}_gen:burst.skillParams.3` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.hit2, { key: `char_${key}_gen:burst.skillParams.4` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.hit3, { key: `char_${key}_gen:burst.skillParams.5` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.hit41, { key: `char_${key}_gen:burst.skillParams.6` }),\r\n            textSuffix: \"(1)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.hit42, { key: `char_${key}_gen:burst.skillParams.6` }),\r\n            textSuffix: \"(2)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.hit5, { key: `char_${key}_gen:burst.skillParams.7` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.charged1, { key: `char_${key}_gen:burst.skillParams.8` }),\r\n            textSuffix: \"(1)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.charged2, { key: `char_${key}_gen:burst.skillParams.8` }),\r\n            textSuffix: \"(2)\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.9\"),\r\n            value: `${datamine.burst.stam}`,\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.plunge, { key: `char_${key}_gen:burst.skillParams.10` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.plungeLow, { key: `char_${key}_gen:burst.skillParams.11` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.plungeHigh, { key: `char_${key}_gen:burst.skillParams.11` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.12\"),\r\n            value: (data) => `${datamine.burst.enerGen[data.get(input.total.burstIndex).value]}`,\r\n          }, {\r\n            text: tr(\"burst.skillParams.13\"),\r\n            value: `${datamine.burst.duration}s`,\r\n          }, {\r\n            text: tr(\"burst.skillParams.14\"),\r\n            value: `${datamine.burst.cd}s`,\r\n          }, {\r\n            text: tr(\"burst.skillParams.15\"),\r\n            value: `${datamine.burst.enerCost}`,\r\n          }],\r\n          conditional: {\r\n            value: condResolveStack,\r\n            path: condResolveStackPath,\r\n            name: trm(\"burst.resolves\"),\r\n            states: Object.fromEntries(resolveStacks.map(c => [c, {\r\n              name: `${c}`,\r\n              fields: []\r\n            }]))\r\n          }\r\n        }],\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: {\r\n        name: tr(\"passive2.name\"),\r\n        img: passive2,\r\n        sections: [{\r\n          text: tr(\"passive2.description\"),\r\n          fields: [{\r\n            canShow: data => data.get(input.asc).value >= 4,\r\n            text: trm(\"a4.enerRest\"),\r\n            value: (data) => {\r\n              return (data.get(input.total.enerRech_).value * 100 - 100) * (datamine.passive2.energyGen * 100)\r\n            },\r\n            unit: \"%\"\r\n          }, {\r\n            node: passive2ElecDmgBonus,\r\n          }]\r\n        }]\r\n      },\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3),\r\n      constellation4: {\r\n        name: tr(\"constellation4.name\"),\r\n        img: c4,\r\n        sections: [{\r\n          text: tr(\"constellation4.description\"),\r\n          conditional: {\r\n            value: condC4,\r\n            path: condC4Path,\r\n            teamBuff: true,\r\n            canShow: greaterEq(input.constellation, 4, unequal(input.activeCharKey, input.charKey, 1)),\r\n            header: conditionalHeader(\"constellation4\", tr, c4),\r\n            description: tr(\"constellation4.description\"),\r\n            name: trm(\"c4.expires\"),\r\n            states: {\r\n              c4: {\r\n                fields: [{\r\n                  node: c4AtkBonus_,\r\n                }, {\r\n                  text: tr(\"skill.skillParams.2\"),\r\n                  value: `${datamine.constellation4.duration}s`\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }],\r\n      },\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { Translate } from '../../../Components/Translate'\r\nimport { input } from '../../../Formula'\r\nimport { infoMut, lookup, equal, percent, prod, subscript, greaterEq } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Shenhe\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[1], // 2\r\n      skillParam_gen.auto[2], // 3\r\n      skillParam_gen.auto[3], // 4x2\r\n      skillParam_gen.auto[5], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[6],\r\n    stamina: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    dmgAtk_: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    durationHold: skillParam_gen.skill[s++][0],\r\n    trigger: skillParam_gen.skill[s++][0],\r\n    triggerHold: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    res_: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    cryo_dmg_: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    press_dmg_: skillParam_gen.passive2[p2++][0],\r\n    durationPress: skillParam_gen.passive2[p2++][0],\r\n    hold_dmg_: skillParam_gen.passive2[p2++][0],\r\n    durationHold: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    dmg_: skillParam_gen.constellation4[0],\r\n    maxStacks: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    auto_: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condQuillPath, condQuill] = cond(key, \"quill\")\r\nconst nodeSkill = equal(\"quill\", condQuill,\r\n  prod(input.premod.atk, subscript(input.total.skillIndex, datamine.skill.dmgAtk_, { key: '_' })))\r\n\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst enemyRes_ = equal(\"burst\", condBurst,\r\n  subscript(input.total.burstIndex, datamine.burst.res_.map(x => -x), { key: '_' }))\r\n\r\nconst nodeBurstCryo_enemyRes_ = { ...enemyRes_ }\r\nconst nodeBurstPhysical_enemyRes_ = { ...enemyRes_ }\r\n\r\nconst [condAsc1Path, condAsc1] = cond(key, \"asc1\")\r\nconst nodeAsc1 = greaterEq(input.asc, 1,\r\n  equal(condAsc1, \"field\",\r\n    equal(input.activeCharKey, input.charKey,\r\n      datamine.passive1.cryo_dmg_\r\n    )\r\n  )\r\n)\r\n\r\nconst [condAsc4Path, condAsc4] = cond(key, \"asc4\")\r\nconst nodeAsc4 = greaterEq(input.asc, 1,\r\n  equal(condAsc4, \"press\",\r\n    datamine.passive2.press_dmg_\r\n  )\r\n)\r\nconst nodeAsc4Press_skill_dmg_ = { ...nodeAsc4 }\r\nconst nodeAsc4Press_burst_dmg_ = { ...nodeAsc4 }\r\nconst nodeAsc4Hold = greaterEq(input.asc, 1,\r\n  equal(condAsc4, \"hold\",\r\n    datamine.passive2.hold_dmg_\r\n  )\r\n)\r\nconst nodeAsc4Hold_normal_dmg_ = { ...nodeAsc4Hold }\r\nconst nodeAsc4Hold_charged_dmg_ = { ...nodeAsc4Hold }\r\nconst nodeAsc4Hold_plunging_dmg_ = { ...nodeAsc4Hold }\r\n\r\nconst nodeC2 = greaterEq(input.constellation, 2,\r\n  equal(condAsc1, \"field\",\r\n    equal(input.activeCharKey, input.charKey,\r\n      datamine.passive1.cryo_dmg_\r\n    )\r\n  )\r\n)\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4Inc = greaterEq(input.constellation, 4,\r\n  lookup(condC4,\r\n    objectKeyMap(range(1, datamine.constellation4.maxStacks), i => percent(i * datamine.constellation4.dmg_)),\r\n    0),\r\n  { key: \"char_Shenhe:c4Bonus_\" })\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\", { hit: { dmgBonus: c4Inc } }),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\", { hit: { dmgBonus: c4Inc } }),\r\n    quillDmg: nodeSkill\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      all_dmgInc: nodeSkill,\r\n      cryo_enemyRes_: nodeBurstCryo_enemyRes_,\r\n      physical_enemyRes_: nodeBurstPhysical_enemyRes_,\r\n      cryo_dmg_: nodeAsc1,\r\n      skill_dmg_: nodeAsc4Press_skill_dmg_,\r\n      burst_dmg_: nodeAsc4Press_burst_dmg_,\r\n      normal_dmg_: nodeAsc4Hold_normal_dmg_,\r\n      charged_dmg_: nodeAsc4Hold_charged_dmg_,\r\n      plunging_dmg_: nodeAsc4Hold_plunging_dmg_,\r\n      cryo_critDMG_: nodeC2\r\n    },\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 3 ? <span>(<Translate ns=\"sheet\" key18=\"hits\" values={{ count: 2 }} />)</span> : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: {\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.3\"),\r\n            value: `${datamine.skill.duration}s / ${datamine.skill.durationHold}s`,\r\n          }, {\r\n            text: tr(\"skill.skillParams.4\"),\r\n            value: `${datamine.skill.trigger}s / ${datamine.skill.triggerHold}s`,\r\n          }, {\r\n            text: tr(\"skill.skillParams.5\"),\r\n            value: datamine.skill.cd\r\n          }, {\r\n            text: tr(\"skill.skillParams.6\"),\r\n            value: datamine.skill.cd\r\n          }, {\r\n            text: st(\"charges\"),\r\n            value: (data) => data.get(input.constellation).value >= 1 ? 3 : 2\r\n          }],\r\n          conditional: {\r\n            teamBuff: true,\r\n            value: condQuill,\r\n            path: condQuillPath,\r\n            name: trm(\"quill\"),\r\n            states: {\r\n              quill: {\r\n                fields: [{\r\n                  node: nodeSkill\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }, {\r\n          conditional: { // ASC4\r\n            canShow: greaterEq(input.asc, 4, 1),\r\n            value: condAsc4,\r\n            path: condAsc4Path,\r\n            teamBuff: true,\r\n            header: conditionalHeader(\"passive2\", tr, passive2),\r\n            description: tr(\"passive2.description\"),\r\n            name: trm(\"asc4Cond\"),\r\n            states: {\r\n              press: {\r\n                name: \"Press\",\r\n                fields: [{\r\n                  node: nodeAsc4Press_skill_dmg_\r\n                }, {\r\n                  node: nodeAsc4Press_burst_dmg_\r\n                }]\r\n              },\r\n              hold: {\r\n                name: \"Hold\",\r\n                fields: [{\r\n                  node: nodeAsc4Hold_normal_dmg_\r\n                }, {\r\n                  node: nodeAsc4Hold_charged_dmg_\r\n                }, {\r\n                  node: nodeAsc4Hold_plunging_dmg_\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }, {\r\n          conditional: { // CONSTELLATION4\r\n            canShow: greaterEq(input.constellation, 4, 1),\r\n            value: condC4,\r\n            path: condC4Path,\r\n            header: conditionalHeader(\"constellation4\", tr, passive2),\r\n            description: tr(\"constellation4.description\"),\r\n            name: trm(\"c4\"),\r\n            states: objectKeyMap(range(1, 50).map(i => i.toString()), i => ({\r\n              name: i.toString(),\r\n              fields: [{ node: c4Inc }]\r\n            }))\r\n          }\r\n        }],\r\n      },\r\n      burst: {\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.2` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: (data) => `${datamine.burst.duration}` + (data.get(input.constellation).value >= 2 ? `s + ${datamine.constellation2.durationInc}` : \"\"),\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.4\"),\r\n            value: datamine.burst.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.5\"),\r\n            value: datamine.burst.enerCost,\r\n          }]\r\n        }, {\r\n          conditional: {\r\n            teamBuff: true,\r\n            value: condBurst,\r\n            path: condBurstPath,\r\n            name: tr(\"burst.name\"),\r\n            states: {\r\n              burst: {\r\n                fields: [{\r\n                  node: nodeBurstCryo_enemyRes_\r\n                }, {\r\n                  node: nodeBurstPhysical_enemyRes_\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }, {\r\n          conditional: { // ASC1 Party + cond 2\r\n            canShow: greaterEq(input.asc, 1, equal(input.activeCharKey, input.charKey, 1)),\r\n            value: condAsc1,\r\n            path: condAsc1Path,\r\n            teamBuff: true,\r\n            header: conditionalHeader(\"passive1\", tr, passive1),\r\n            description: tr(\"passive1.description\"),\r\n            name: st(\"activeCharField\"),\r\n            states: {\r\n              field: {\r\n                fields: [{\r\n                  node: nodeAsc1\r\n                }, {\r\n                  node: nodeC2\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }],\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from \"../../../Formula/index\"\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, unequal } from \"../../../Formula/utils\"\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { absorbableEle, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst characterKey: CharacterKey = \"Sucrose\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", characterKey)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dot: skillParam_gen.burst[b++],\r\n    dmg_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    eleMas: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    eleMas_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    ele_dmg_: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\n// Conditional Input\r\n// Absorption Element\r\n\r\nconst [condAbsorptionPath, condAbsorption] = cond(characterKey, \"absorption\")\r\n// A1 Swirl Reaction Element\r\nconst [condSwirlReactionPath, condSwirlReaction] = cond(characterKey, \"swirl\")\r\n// Set to \"hit\" if skill hit opponents\r\nconst [condSkillHitOpponentPath, condSkillHitOpponent] = cond(characterKey, \"skillHit\")\r\n\r\n// Conditional Output\r\nconst asc1 = greaterEq(input.asc, 1,\r\n  unequal(target.charKey, characterKey,\r\n    equal(target.charEle, condSwirlReaction, datamine.passive1.eleMas)))\r\nconst asc4 = equal(\"hit\", condSkillHitOpponent,\r\n  unequal(target.charKey, characterKey,\r\n    greaterEq(input.asc, 4,\r\n      prod(percent(datamine.passive2.eleMas_), input.premod.eleMas))))\r\nconst c6Base = greaterEq(input.constellation, 6, percent(0.2))\r\n\r\nconst c6Bonus = objectKeyMap(absorbableEle.map(ele => `${ele}_dmg_` as const), key =>\r\n  equal(condAbsorption, key.slice(0, -5), c6Base))\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\")\r\n  },\r\n  burst: {\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n    ...Object.fromEntries(absorbableEle.map(key =>\r\n      [key, equal(condAbsorption, key, dmgNode(\"atk\", datamine.burst.dmg_, \"burst\", { hit: { ele: constant(key) } }))]))\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(characterKey, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    total: { eleMas: asc4 },\r\n    premod: { ...c6Bonus, eleMas: asc1 },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(`auto.fields.normal`),\r\n            fields: datamine.normal.hitArr.map((percentArr, i) => ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${characterKey}_gen:auto.skillParams.${i}` }),\r\n            }))\r\n          },\r\n          {\r\n            text: tr(`auto.fields.charged`),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${characterKey}_gen:auto.skillParams.4` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.5\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(`auto.fields.plunging`),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          },\r\n        ],\r\n      },\r\n      skill: {\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.press, { key: `char_${characterKey}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.1\"),\r\n            value: datamine.skill.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            canShow: (data) => data.get(input.constellation).value >= 1,\r\n            text: st(\"charges\"),\r\n            value: 2\r\n          }]\r\n        }]\r\n      },\r\n      burst: {\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dot, { key: `char_${characterKey}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.2\"),\r\n            value: data => data.get(input.constellation).value >= 2 ? `${datamine.burst.duration}s + 2` : datamine.burst.duration,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: datamine.burst.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.4\"),\r\n            value: datamine.burst.enerCost,\r\n          }],\r\n          conditional: { // Absorption\r\n            value: condAbsorption,\r\n            path: condAbsorptionPath,\r\n            name: st(\"eleAbsor\"),\r\n            states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n              name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n              fields: [{\r\n                node: infoMut(dmgFormulas.burst[eleKey], { key: `char_${characterKey}_gen:burst.skillParams.1` }),\r\n              }]\r\n            }]))\r\n          },\r\n        }, {\r\n          conditional: { // Absorption\r\n            value: condAbsorption,\r\n            path: condAbsorptionPath,\r\n            header: conditionalHeader(\"constellation6\", tr, c6),\r\n            description: tr(\"constellation6.description\"),\r\n            name: st(\"eleAbsor\"),\r\n            states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n              name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n              fields: [{\r\n                node: c6Bonus[`${eleKey}_dmg_`],\r\n              }],\r\n            }]))\r\n          },\r\n        }]\r\n      },\r\n      passive1: {\r\n        name: tr(\"passive1.name\"),\r\n        img: passive1,\r\n        sections: [{\r\n          text: tr(\"passive1.description\"),\r\n          conditional: { // Swirl Element\r\n            value: condSwirlReaction,\r\n            path: condSwirlReactionPath,\r\n            header: conditionalHeader(\"passive1\", tr, passive1),\r\n            description: tr(\"passive1.description\"),\r\n            name: st(\"eleSwirled\"),\r\n            states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n              name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n              fields: [{\r\n                node: asc1,\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.passive1.duration,\r\n                unit: \"s\"\r\n              }],\r\n            }]))\r\n          },\r\n        }]\r\n      },\r\n      passive2: {\r\n        name: tr(\"passive2.name\"),\r\n        img: passive2,\r\n        sections: [{\r\n          text: tr(\"passive2.description\"),\r\n          conditional: { // Swirl Element\r\n            value: condSkillHitOpponent,\r\n            path: condSkillHitOpponentPath,\r\n            header: conditionalHeader(\"passive1\", tr, passive1),\r\n            description: tr(\"passive1.description\"),\r\n            name: trm(\"asc4\"),\r\n            states: {\r\n              hit: {\r\n                fields: [{\r\n                  node: asc4,\r\n                }, {\r\n                  text: sgt(\"duration\"),\r\n                  value: datamine.passive2.duration,\r\n                  unit: \"s\"\r\n                }],\r\n              }\r\n            }\r\n          },\r\n        }]\r\n      },\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { infoMut, equal, percent, prod, greaterEq, lessThan } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"YaeMiko\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg1: skillParam_gen.skill[s++],\r\n    dmg2: skillParam_gen.skill[s++],\r\n    dmg3: skillParam_gen.skill[s++],\r\n    dmg4: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    tenkoDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    eleMas_dmg_: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation4: {\r\n    ele_dmg_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    defIgn_: skillParam_gen.constellation6[0],\r\n  }\r\n\r\n} as const\r\n\r\nconst nodeAsc4 = greaterEq(input.asc, 4, prod(input.premod.eleMas, percent(datamine.passive2.eleMas_dmg_)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst nodeC4 = greaterEq(input.constellation, 4, equal(\"hit\", condC4, datamine.constellation4.ele_dmg_))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, datamine.constellation6.defIgn_)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg1: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg1, \"skill\")),\r\n    dmg2: dmgNode(\"atk\", datamine.skill.dmg2, \"skill\", { enemy: { defIgn: nodeC6 } }),\r\n    dmg3: dmgNode(\"atk\", datamine.skill.dmg3, \"skill\", { enemy: { defIgn: nodeC6 } }),\r\n    dmg4: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg4, \"skill\", { enemy: { defIgn: nodeC6 } })),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    tenkoDmg: dmgNode(\"atk\", datamine.burst.tenkoDmg, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5\r\n  },\r\n  total: {\r\n    skill_dmg_: nodeAsc4,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_dmg_: nodeC4\r\n    },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: {\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.dmg1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.dmg2, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.dmg3, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.dmg4, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.4\"),\r\n            value: datamine.skill.duration,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"skill.skillParams.5\"),\r\n            value: datamine.skill.cd,\r\n          }],\r\n        },],\r\n      },\r\n      burst: {\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.tenkoDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.2\"),\r\n            value: datamine.burst.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: datamine.burst.enerCost,\r\n          }]\r\n        }],\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{ node: nodeAsc4 }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: {\r\n        name: tr(\"constellation4.name\"),\r\n        img: c4,\r\n        sections: [{\r\n          text: tr(\"constellation4.description\"),\r\n          conditional: {\r\n            value: condC4,\r\n            path: condC4Path,\r\n            teamBuff: true,\r\n            header: conditionalHeader(\"constellation4\", tr, passive1),\r\n            description: tr(\"constellation4.description\"),\r\n            name: trm(\"c4\"),\r\n            states: {\r\n              hit: {\r\n                fields: [{\r\n                  node: nodeC4,\r\n                },]\r\n              }\r\n            }\r\n          }\r\n        }],\r\n      },\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterKey } from '../../Types/consts'\r\nimport CharacterSheet from './CharacterSheet'\r\n\r\n// import Albedo from './Albedo'\r\n// import Aloy from './Aloy'\r\n// import Amber from './Amber'\r\n// import AratakiItto from './AratakiItto'\r\n// import Barbara from './Barbara'\r\n// import Beidou from './Beidou'\r\n// import Bennett from './Bennett'\r\n// import Chongyun from './Chongyun'\r\n// import Diluc from './Diluc'\r\n// import Diona from './Diona'\r\n// import Eula from './Eula'\r\n// import Fischl from './Fischl'\r\n// import Ganyu from './Ganyu'\r\n// import Gorou from './Gorou'\r\n// import HuTao from './HuTao'\r\n// import Jean from './Jean'\r\nimport KaedeharaKazuha from './KaedeharaKazuha'\r\n// import Kaeya from './Kaeya'\r\nimport KamisatoAyaka from './KamisatoAyaka'\r\n// import Keqing from './Keqing'\r\n// import Klee from './Klee'\r\n// import KujouSara from './KujouSara'\r\n// import Lisa from './Lisa'\r\n// import Mona from './Mona'\r\n// import Ningguang from './Ningguang'\r\n// import Noelle from './Noelle'\r\n// import Qiqi from './Qiqi'\r\nimport RaidenShogun from './RaidenShogun'\r\n// import Razor from './Razor'\r\n// import Rosaria from './Rosaria'\r\n// import SangonomiyaKokomi from './SangonomiyaKokomi'\r\n// import Sayu from './Sayu'\r\nimport Shenhe from \"./Shenhe\"\r\nimport Sucrose from \"./Sucrose\"\r\n// import Tartaglia from './Tartaglia'\r\n// import Thoma from './Thoma'\r\n// import Traveler from './Traveler'\r\n// import Venti from './Venti'\r\n// import Xiao from './Xiao'\r\n// import Xiangling from './Xiangling'\r\n// import Xingqiu from './Xingqiu'\r\n// import Xinyan from './Xinyan'\r\nimport YaeMiko from './YaeMiko'\r\n// import Yanfei from './Yanfei'\r\n// import Yoimiya from './Yoimiya'\r\n// import Zhongli from './Zhongli'\r\n\r\nconst characters: Record<CharacterKey, CharacterSheet> = {\r\n  // Albedo,\r\n  // Aloy,\r\n  // Amber,\r\n  // AratakiItto,\r\n  // Barbara,\r\n  // Beidou,\r\n  // Bennett,\r\n  // Chongyun,\r\n  // Diluc,\r\n  // Diona,\r\n  // Eula,\r\n  // Fischl,\r\n  // Ganyu,\r\n  // Gorou,\r\n  // HuTao,\r\n  // Jean,\r\n  KaedeharaKazuha,\r\n  // Kaeya,\r\n  KamisatoAyaka,\r\n  // Keqing,\r\n  // Klee,\r\n  // KujouSara,\r\n  // Lisa,\r\n  // Mona,\r\n  // Ningguang,\r\n  // Noelle,\r\n  // Qiqi,\r\n  RaidenShogun,\r\n  // Razor,\r\n  // Rosaria,\r\n  // SangonomiyaKokomi,\r\n  // Sayu,\r\n  Shenhe,\r\n  Sucrose,\r\n  // Tartaglia,\r\n  // Thoma,\r\n  // Traveler,\r\n  // Venti,\r\n  // Xiao,\r\n  // Xiangling,\r\n  // Xingqiu,\r\n  // Xinyan,\r\n  YaeMiko\r\n  // Yanfei,\r\n  // Yoimiya,\r\n  // Zhongli\r\n} as const\r\nexport default characters\r\n","import { Translate } from \"../Components/Translate\"\r\nimport { ReadNode } from \"../Formula/type\"\r\nimport { customStringRead } from \"../Formula/utils\"\r\nimport { ArtifactSetKey, CharacterKey, WeaponKey } from \"../Types/consts\"\r\n\r\nexport const st = (strKey: string, values?: object) => <Translate ns=\"sheet\" key18={strKey} values={values} />\r\nexport const sgt = (strKey: string) => <Translate ns=\"sheet_gen\" key18={strKey} />\r\n\r\nexport const condReadNode = (path: string[]) => customStringRead([\"conditional\", ...path])\r\nexport function cond(key: CharacterKey | WeaponKey | ArtifactSetKey, subKey: string): [path: string[], node: ReadNode<string>] {\r\n  const path = [key, subKey]\r\n  const node = condReadNode(path)\r\n  return [path, node]\r\n}\r\n\r\ntype Translated = [tr: ((i18key: string) => Displayable), tran: ((i18key: string) => Displayable)]\r\nexport function trans(typeKey: \"char\", key: CharacterKey): Translated\r\nexport function trans(typeKey: \"weapon\", key: WeaponKey): Translated\r\nexport function trans(typeKey: \"artifact\", key: ArtifactSetKey): Translated\r\nexport function trans(typeKey: \"char\" | \"weapon\" | \"artifact\", key: CharacterKey | WeaponKey | ArtifactSetKey): Translated {\r\n  return [\r\n    (strKey: string) => <Translate ns={`${typeKey}_${key}_gen`} key18={strKey} />,\r\n    (strKey: string, values?: object) => <Translate ns={`${typeKey}_${key}`} key18={strKey} values={values} />\r\n  ]\r\n}\r\n"],"names":["absorbableEle","charCurves","objectMap","_charCurves","value","Object","values","commonBasic","objectKeyMap","allSubstats","key","input","critRate_","inferredHitEle","stringPrio","equalStr","getTalentType","move","customDmgNode","base","additional","data","mergeData","hit","constant","ele","undefined","dmgNode","lvlMultiplier","talentType","prod","subscript","dataObjForCharacterSheet","element","region","gen","display","curve","lvlCurve","basic","foundSpecial","charKey","weaponType","weaponTypeKey","premod","charEle","teamBuff","tally","reaction","reactions","layeredAssignment","physical_dmg_","stat","list","curves","push","ascensions","some","x","props","map","NaN","length","result","infoMut","sum","prefix","asConst","endsWith","info","variant","slice","Error","special","allMainStatKeys","inferInfoMut","data_gen","data_gen_src","trans","tr","trm","a","s","b","p1","p2","datamine","normal","hitArr","skillParam_gen","charged","dmg1","dmg2","stamina","plunging","dmg","low","high","skill","press","cd","hold","cdHold","burst","dot","add","duration","enerCost","passive1","asorbAdd","passive2","elemas_dmg_","constellation2","elemas","constellation6","auto_","cond","condBurstAbsorptionPath","condBurstAbsorption","condSkillAbsorptionPath","condSkillAbsorption","condSwirlPaths","fromEntries","e","condSwirls","condReadNode","asc4","greaterEq","equal","percent","condC2Path","condC2","c2EleMas","condC2PPath","condC2P","c2PEleMas","unequal","target","condC6Path","condC6","c6infusion","greaterEqStr","c6Dmg_","c6NormDmg_","c6ChargedDmg_","c6PlungingDmg_","passive","dmgFormulas","arr","i","entries","pdmg","plow","phigh","normal_dmg_","charged_dmg_","plunging_dmg_","nodeC3","nodeC5","bonus","staminaSprintDec_","total","eleMas","infusion","sheet","name","cardImg","card","thumbImg","thumb","thumbImgSide","thumbSide","bannerImg","banner","rarity","star","elementKey","gender","constellationName","title","talent","sheets","auto","img","normalSrc","sections","text","fields","_","node","textSuffix","Translate","ns","key18","count","get","canShow","unit","conditional","path","st","states","eleKey","color","sgt","c2","header","conditionalHeader","description","c2p","swirl","passive3","constellation1","talentTemplate","c1","constellation3","c3","constellation4","c4","constellation5","c5","c6","CharacterSheet","sp","sprint","active_stam","drain_stam","dmg_bonus","cryo","snowflake","def_red","charged_bonus","condAfterSprintPath","condAfterSprint","afterSprintInfusion","condAfterSkillA1Path","condAfterSkillA1","a1NormDmg_","a1ChargedDmg_","condAfterApplySprintPath","condAfterApplySprint","afterApplySprintCryo","condAfterBurstPath","condAfterBurst","afterBurst","cutting","bloom","adata","enemyDefRed_","cryo_dmg_","percentArr","afterSprint","afterSkill","afterApplySprint","skillDmg","coorDmg","burstDmg_bonus","resolveBonus1","resolveBonus2","resolveGained","hit1","hit2","hit3","hit41","hit42","hit5","charged1","charged2","stam","plunge","plungeLow","plungeHigh","enerGen","er","energyGen","electroDmg_bonus","def_ignore","atk_bonus","condSkillEyePath","condSkillEye","skillEye_","atkType","enemy","defIgn","energyCosts","condSkillEyeTeamPath","condSkillEyeTeam","skillEyeTeamBurstDmgInc","lookup","resolveStacks","condResolveStackPath","condResolveStack","burstResolve","initial","resolveBonus","passive2ElecDmgBonus","condC4Path","condC4","c4AtkBonus_","burst_dmg_","electro_dmg_","atk_","skillEye","c","dmgAtk_","durationHold","trigger","triggerHold","res_","press_dmg_","durationPress","hold_dmg_","durationInc","dmg_","maxStacks","condQuillPath","condQuill","nodeSkill","condBurstPath","condBurst","enemyRes_","nodeBurstCryo_enemyRes_","nodeBurstPhysical_enemyRes_","condAsc1Path","condAsc1","nodeAsc1","condAsc4Path","condAsc4","nodeAsc4","nodeAsc4Press_skill_dmg_","nodeAsc4Press_burst_dmg_","nodeAsc4Hold","nodeAsc4Hold_normal_dmg_","nodeAsc4Hold_charged_dmg_","nodeAsc4Hold_plunging_dmg_","nodeC2","c4Inc","range","dmgBonus","quillDmg","all_dmgInc","cryo_enemyRes_","physical_enemyRes_","skill_dmg_","cryo_critDMG_","quill","toString","field","characterKey","eleMas_","ele_dmg_","condAbsorptionPath","condAbsorption","condSwirlReactionPath","condSwirlReaction","condSkillHitOpponentPath","condSkillHitOpponent","asc1","c6Base","c6Bonus","dmg3","dmg4","tenkoDmg","eleMas_dmg_","defIgn_","nodeC4","nodeC6","lessThan","KaedeharaKazuha","KamisatoAyaka","RaidenShogun","Shenhe","Sucrose","YaeMiko","strKey","customStringRead","subKey","typeKey"],"sourceRoot":""}