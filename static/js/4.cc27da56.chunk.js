(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[4],{261:function(e,t,n){"use strict";var r=n(9),a=n(444),c=Object(r.a)(a.a)((function(e){return{backgroundColor:e.theme.palette.contentLight.main}}));t.a=c},262:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return X})),n.d(t,"a",(function(){return V})),n.d(t,"c",(function(){return J}));var r,a=n(8),c=n(10),o=n(16),i=n(14),u=n(102),s=n(316),d=n(19),l=n(25),b=n(268),f=!0,j=d.e,p=["auto","skill","burst"],O=["normal","charged","plunging","skill","burst"],v=Object(i.a)(new Set([].concat(Object(i.a)(s.a),Object(i.a)(s.b)))),m=["overloaded","shattered","electrocharged","superconduct","swirl"],h=["vaporize","melt"],y=Object(i.a)(v),g=[].concat(Object(i.a)(["all"].concat(O).map((function(e){return"".concat(e,"_dmgInc")}))),Object(i.a)(["all"].concat(m,h,O).map((function(e){return"".concat(e,"_dmg_")}))),Object(i.a)(Object(i.a)(j).map((function(e){return"".concat(e,"_critDMG_")}))),Object(i.a)(j.map((function(e){return"".concat(e,"_res_")}))),Object(i.a)(O.map((function(e){return"".concat(e,"_critRate_")}))),Object(i.a)(u.a),["stamina","staminaDec_","staminaSprintDec_","staminaGlidingDec_","staminaChargedDec_","incHeal_","shield_","cdRed_","moveSPD_","atkSPD_","weakspotDMG_"]),_=Object(l.m)(p,(function(e){return Object(b.o)()})),k=Object(l.m)(y,(function(e){return Object(b.o)(void 0,{key:e})})),x=Object(l.m)(g,(function(e){return Object(b.o)(void 0,{key:e})})),w=Object(o.a)(j);try{for(w.s();!(r=w.n()).done;){var M=r.value;x["".concat(M,"_res_")].info.variant=M,x["".concat(M,"_enemyRes_")].info.variant=M,x["".concat(M,"_critDMG_")].info.variant=M,k["".concat(M,"_dmg_")].info.variant=M}}catch(Q){w.e(Q)}finally{w.f()}for(var N=0,S=[].concat(m,h);N<S.length;N++){var C=S[N];x["".concat(C,"_dmg_")].info.variant=C}function I(e,t){return t=Object(l.e)(t),Object(l.d)(t,[],(function(e){return e.operation}),(function(t){return t.info=Object(c.a)(Object(c.a)({},e),t.info)})),t}var E=Object(b.r)(Object(l.e)({activeCharKey:Object(b.t)(),charKey:Object(b.t)(),charEle:Object(b.t)(),infusion:Object(b.t)(),weaponType:Object(b.t)(),lvl:Object(b.o)(void 0,{key:"level",prefix:"char"}),constellation:Object(b.o)(),asc:Object(b.o)(),special:Object(b.o)(),base:Object(l.m)(["atk","hp","def"],(function(e){return Object(b.o)("add",{key:e})})),customBonus:I({prefix:"custom",pivot:f},Object(c.a)(Object(c.a)({},k),x)),bonus:Object(c.a)({},_),premod:Object(c.a)(Object(c.a)(Object(c.a)({},_),k),x),total:I({prefix:"total",pivot:f},Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},_),Object(l.n)(p,(function(e){return["".concat(e,"Index"),Object(b.o)()]}))),k),x),{},{cappedCritRate:Object(b.o)(void 0,{key:"critRate_"})})),art:I({prefix:"art",asConst:true},Object(c.a)(Object(c.a)({},k),Object(l.m)(d.j,(function(e){return{id:Object(b.t)(),set:Object(b.t)()}})))),artSet:Object(l.m)(d.b,(function(e){return Object(b.o)("add",{key:e})})),weapon:I({prefix:"weapon",asConst:true},{key:Object(b.t)(),type:Object(b.t)(),lvl:Object(b.o)(),asc:Object(b.o)(),refinement:Object(b.o)(),refineIndex:Object(b.o)(),main:Object(b.o)(),sub:Object(b.o)(),sub2:Object(b.o)()}),team:{infusion:Object(b.t)()},enemy:Object(c.a)(Object(c.a)(Object(c.a)({def:Object(b.o)("add",{key:"enemyDef_multi",pivot:f})},Object(l.m)(j.map((function(e){return"".concat(e,"_resMulti")})),(function(e){return Object(b.o)()}))),{},{level:Object(b.o)(void 0,{key:"enemyLevel"})},Object(l.n)(j,(function(e){return["".concat(e,"_res_"),Object(b.o)(void 0)]}))),{},{defRed:Object(b.o)("add",{key:"enemyDefRed_",pivot:f}),defIgn:Object(b.o)("add",{key:"enemyDefIgn_",pivot:f})}),hit:{ele:Object(b.t)(),reaction:Object(b.t)(),move:Object(b.t)(),hitMode:Object(b.t)(),base:Object(b.o)("add",{key:"base"}),dmgBonus:Object(b.o)(void 0,{key:"dmg_",pivot:f}),dmgInc:Object(b.o)(void 0,{key:"dmgInc",pivot:f}),dmg:Object(b.o)()}})),R=E.base,D=E.bonus,A=E.customBonus,B=E.premod,T=E.total,K=E.art,W=E.hit,F=E.enemy;!function(e,t){Object(l.d)(t,[],(function(e){return e.operation}),(function(t){"read"===t.operation&&"number"===t.type&&(t.accu=e)}))}("add",{bonus:D,customBonus:A,premod:B,art:K,total:Object(l.m)(v,(function(e){return e.endsWith("_dmg_")?{}:T[e]}))});for(var z=0,G=Object.entries(T);z<G.length;z++){var P=Object(a.a)(G[z],2),L=P[0],H=P[1];L.endsWith("_dmg_")&&delete H.accu}R.atk.info={key:"atk",prefix:"base",pivot:f},delete T.critRate_.info.pivot,T.critRate_.info.prefix="uncapped";var U=Object(b.v)(b.y,Object(b.n)(25/9,Object(b.e)(T.eleMas,1400))),q=Object(b.g)(W.ele,{pyro:Object(b.g)(W.reaction,{vaporize:Object(b.a)("vaporize"),melt:Object(b.a)("melt")},void 0),hydro:Object(b.i)(W.reaction,"vaporize","vaporize",void 0),cryo:Object(b.i)(W.reaction,"melt","melt",void 0)},void 0),V={premod:Object(c.a)(Object(c.a)(Object(c.a)({},Object(l.m)(p,(function(e){return D[e]}))),Object(l.m)(y,(function(e){var t=[];switch(e){case"atk":case"def":case"hp":t.push(Object(b.n)(R[e],Object(b.v)(b.y,B["".concat(e,"_")])));break;case"critRate_":t.push(Object(b.m)(.05,{key:"critRate_",prefix:"default"}),Object(b.g)(W.move,Object(l.m)(O,(function(e){return A["".concat(e,"_critRate_")]})),0));break;case"critDMG_":t.push(Object(b.m)(.5,{key:"critDMG_",prefix:"default"}),Object(b.g)(W.ele,Object(l.m)(j,(function(e){return A["".concat(e,"_critDMG_")]})),0))}return b.v.apply(void 0,Object(i.a)([].concat(t,[K[e],A[e]]).filter((function(e){return e}))))}))),Object(l.m)(g,(function(e){return A[e]}))),total:Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},Object(l.m)(p,(function(e){return B[e]}))),Object(l.m)(y,(function(e){return B[e]}))),Object(l.m)(g,(function(e){return B[e]}))),Object(l.n)(p,(function(e){return["".concat(e,"Index"),Object(b.v)(T[e],-1)]}))),{},{stamina:Object(b.v)(Object(b.a)(100,{key:"stamina",prefix:"default"}),A.stamina),cappedCritRate:Object(b.j)(Object(b.k)(T.critRate_,b.y),b.l)}),hit:{dmgBonus:Object(b.v)(T.all_dmg_,Object(b.g)(q,Object(l.m)(h,(function(e){return T["".concat(e,"_dmg_")]})),b.l),Object(b.g)(W.move,Object(l.m)(O,(function(e){return T["".concat(e,"_dmg_")]})),b.l),Object(b.g)(W.ele,Object(l.m)(j,(function(e){return T["".concat(e,"_dmg_")]})),b.l)),dmgInc:Object(b.v)(T.all_dmgInc,Object(b.g)(W.move,Object(l.m)(O,(function(e){return T["".concat(e,"_dmgInc")]})),NaN)),ele:Object(b.s)(E.infusion,E.team.infusion,Object(b.i)(E.weaponType,"catalyst",E.charEle,void 0),Object(b.i)(W.move,"skill",E.charEle,void 0),"physical"),dmg:Object(b.n)(Object(b.v)(W.base,W.dmgInc),Object(b.v)(b.y,W.dmgBonus),Object(b.g)(W.hitMode,{hit:b.y,critHit:Object(b.v)(b.y,T.critDMG_),avgHit:Object(b.v)(b.y,Object(b.n)(T.cappedCritRate,T.critDMG_))},NaN),F.def,Object(b.g)(W.ele,Object(l.m)(j,(function(e){return F["".concat(e,"_resMulti")]})),NaN),Object(b.g)(q,{melt:Object(b.g)(W.ele,{pyro:Object(b.n)(2,U),cryo:Object(b.n)(1.5,U)},1,{key:"melt_dmg_"}),vaporize:Object(b.g)(W.ele,{hydro:Object(b.n)(2,U),pyro:Object(b.n)(1.5,U)},1,{key:"vaporize_dmg_"})},1))},enemy:Object(c.a)({def:Object(b.e)(Object(b.v)(E.lvl,100),Object(b.n)(Object(b.v)(F.level,100),Object(b.v)(1,Object(b.n)(-1,F.defRed)),Object(b.v)(1,Object(b.n)(-1,F.defIgn))))},Object(l.n)(j,(function(e){return["".concat(e,"_resMulti"),Object(b.p)(Object(b.f)(Object(b.v)(F["".concat(e,"_res_")],T["".concat(e,"_enemyRes_")]),{key:"".concat(e,"_res_"),variant:e}))]})))},J=Object(b.r)(Object(l.e)(E),["target"]),X=(Object(b.r)(Object(l.m)([].concat(Object(i.a)(j),Object(i.a)(d.i)),(function(e){return Object(b.o)("add")})),["tally"]),E)},263:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),a=n(0);function c(e,t){var n=Object(a.useState)(void 0),c=Object(r.a)(n,2),o=c[0],i=c[1];return Object(a.useEffect)((function(){var t,n=!0;return null!==(t=null===e||void 0===e?void 0:e.then((function(e){return n&&i((function(){return e}))}),console.error))&&void 0!==t||i(void 0),function(){n=!1,i(void 0)}}),t),o}},265:function(e,t,n){"use strict";var r=n(9),a=n(444),c=Object(r.a)(a.a)((function(e){return{backgroundColor:e.theme.palette.contentDark.main}}));t.a=c},266:function(e,t,n){"use strict";var r=n(9),a=Object(r.a)("img",{name:"ImgIcon",slot:"Root"})((function(e){var t=e.size;return{display:"inline-block",width:"auto",height:"".concat(1.2*(void 0===t?1:t),"em"),verticalAlign:"text-bottom"}}));t.a=a},267:function(e,t,n){"use strict";var r=n(9),a=Object(r.a)("span",{name:"SqBadge",slot:"Root"})((function(e){var t,n,r=e.theme,a=e.color,c=void 0===a?"primary":a;return{display:"inline-block",padding:".25em .4em",fontSize:"75%",fontWeight:700,lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",borderRadius:".25em",backgroundColor:null===(t=r.palette[c])||void 0===t?void 0:t.main,color:null===(n=r.palette[c])||void 0===n?void 0:n.contrastText}}));t.a=a},268:function(e,t,n){"use strict";n.d(t,"y",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"m",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"z",(function(){return b})),n.d(t,"i",(function(){return f})),n.d(t,"g",(function(){return j})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return O})),n.d(t,"v",(function(){return v})),n.d(t,"n",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"x",(function(){return y})),n.d(t,"w",(function(){return g})),n.d(t,"p",(function(){return _})),n.d(t,"r",(function(){return k})),n.d(t,"d",(function(){return x})),n.d(t,"q",(function(){return w})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return N})),n.d(t,"o",(function(){return S})),n.d(t,"t",(function(){return C})),n.d(t,"s",(function(){return I})),n.d(t,"u",(function(){return E}));var r=n(14),a=n(10),c=n(25),o=(u(NaN,{key:"TODO"}),s(1)),i=s(0);function u(e,t){return{operation:"const",operands:[],value:e,info:t}}function s(e,t){return e>=Number.MAX_VALUE/100&&(e=1/0),e<=-Number.MAX_VALUE/100&&(e=-1/0),u(e,Object(a.a)({key:"_"},t))}function d(e,t){return t&&(e.info=Object(a.a)(Object(a.a)({},e.info),t)),e}function l(e,t,n,r){return{operation:"match",operands:[D(e),D(t),D(n),D(0)],info:r,emptyOn:"unmatch"}}function b(e,t,n,r){return{operation:"match",operands:[D(e),D(t),D(0),D(n)],info:r,emptyOn:"match"}}function f(e,t,n,r,a){return{operation:"match",operands:[D(e),D(t),D(n),D(r)],info:a}}function j(e,t,n,r){return{operation:"lookup",operands:"none"!==n?[D(e),D(n)]:[D(e)],table:t,info:r}}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{operation:"min",operands:R(t)}}function O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{operation:"max",operands:R(t)}}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{operation:"add",operands:R(t)}}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{operation:"mul",operands:R(t)}}function h(e,t){return{operation:"sum_frac",operands:R([e,t])}}function y(e,t,n,r){return g(e,t,n,0,r)}function g(e,t,n,r,a){return{operation:"threshold",operands:[D(e),D(t),D(n),D(r)],info:a}}function _(e){return{operation:"res",operands:R([e])}}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.operation){if("read"!==e.operation)throw new Error("Found ".concat(e.operation," node while making reader"));return Object(a.a)(Object(a.a)({},e),{},{path:t})}return Object(c.m)(Object.keys(e),(function(n){return k(e[n],[].concat(Object(r.a)(t),[n]))}))}function x(e,t){return{operation:"data",operands:[e],data:t}}function w(e,t,n){return{operation:"data",operands:[e],data:t,reset:!0,info:n}}function M(e,t){return{operation:"read",operands:[],path:e,info:t,type:"number"}}function N(e){return{operation:"read",operands:[],path:e,type:"string"}}function S(e,t){return{operation:"read",operands:[],path:[],accu:e,info:t,type:"number"}}function C(){return{operation:"read",operands:[],path:[],type:"string"}}function I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{operation:"prio",operands:R(t)}}function E(e,t,n){return{operation:"subscript",operands:[e],list:t,info:n}}function R(e){return e.map((function(e){return"object"===typeof e?e:u(e)}))}function D(e){return"object"!==typeof e?u(e):e}},269:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(10),a=n(8),c=n(125),o=n(750),i=n(257),u=n(156),s=n(723),d=n(0),l=n(1),b=["title","children","id"];function f(e){var t=e.title,n=e.children,f=e.id,j=void 0===f?"dropdownbtn":f,p=Object(c.a)(e,b),O=Object(d.useState)(null),v=Object(a.a)(O,2),m=v[0],h=v[1],y=Boolean(m),g=Object(d.useCallback)((function(e){return h(e.currentTarget)}),[h]),_=Object(d.useCallback)((function(){return h(null)}),[h]);return Object(l.jsxs)(d.Suspense,{fallback:Object(l.jsx)(i.a,Object(r.a)(Object(r.a)({endIcon:Object(l.jsx)(o.a,{})},p),{},{children:Object(l.jsx)(u.a,{width:50})})),children:[Object(l.jsx)(i.a,Object(r.a)(Object(r.a)({},p),{},{id:j,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":y?"true":void 0,onClick:g,endIcon:Object(l.jsx)(o.a,{}),children:t})),Object(l.jsx)(s.a,{id:"basic-menu",anchorEl:m,open:y,onClose:_,MenuListProps:{"aria-labelledby":j},onClick:_,children:Object(l.jsx)(d.Suspense,{fallback:Object(l.jsx)(u.a,{width:"100%",height:"1000"}),children:n})})]})}},270:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return p}));var r=n(17),a=n(18),c=n(266),o=n(45),i=n(267),u=n(272),s=n(1),d=n.e(20).then(n.bind(null,374)).then((function(e){return e.default})),l=function(){function e(t,n){var a=this;Object(r.a)(this,e),this.sheet=void 0,this.data=void 0,this.isMelee=function(){var e=a.sheet.weaponTypeKey;return"sword"===e||"polearm"===e||"claymore"===e},this.getTalent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anemo";return"talent"in a.sheet?a.sheet.talent:a.sheet.talents[e]},this.getTalentOfKey=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"anemo";return null===(t=a.getTalent(n))||void 0===t?void 0:t.sheets[e]},this.sheet=t,this.data=n}return Object(a.a)(e,[{key:"name",get:function(){return this.sheet.name}},{key:"nameWIthIcon",get:function(){return Object(s.jsxs)("span",{children:[Object(s.jsx)(c.a,{src:this.thumbImgSide,sx:{height:"2em",marginTop:"-2em",marginLeft:"-0.5em"}})," ",this.name]})}},{key:"cardImg",get:function(){return this.sheet.cardImg}},{key:"thumbImg",get:function(){return this.sheet.thumbImg}},{key:"thumbImgSide",get:function(){return this.sheet.thumbImgSide}},{key:"bannerImg",get:function(){return this.sheet.bannerImg}},{key:"rarity",get:function(){return this.sheet.rarity}},{key:"elementKey",get:function(){return"elementKey"in this.sheet?this.sheet.elementKey:void 0}},{key:"weaponTypeKey",get:function(){return this.sheet.weaponTypeKey}},{key:"constellationName",get:function(){return this.sheet.constellationName}},{key:"isTraveler",get:function(){return"talents"in this.sheet}}],[{key:"getAll",get:function(){return d}}]),e}();l.get=function(e){return e?d.then((function(t){return t[e]})):void 0},l.getLevelString=function(e,t){return"".concat(e,"/").concat(o.b[t])};var b=function(e,t,n){return{name:t("".concat(e,".name")),img:n,sections:[{text:t("".concat(e,".description"))}]}},f={auto:"Auto",skill:"Skill",burst:"Burst",passive:"Passive",passive1:"Ascension 1",passive2:"Ascension 4",passive3:"Passive",sprint:"Sprint",constellation1:"C1",constellation2:"C2",constellation3:"C3",constellation4:"C4",constellation5:"C5",constellation6:"C6"},j=function(e,t,n){return{title:t("".concat(e,".name")),icon:Object(s.jsx)(c.a,{size:2,sx:{m:-1},src:n}),action:Object(s.jsx)(i.a,{color:"success",children:f[e]})}},p=function(e){return u.a.weaponTypes[e]}},272:function(e,t,n){"use strict";var r={weaponTypes:{bow:n.p+"static/media/icon_bow.7ceaa8e2.png",catalyst:n.p+"static/media/icon_catalyst.db078b7b.png",claymore:n.p+"static/media/icon_claymore.63b1abb8.png",polearm:n.p+"static/media/icon_polearm.e5f4a2a1.png",sword:n.p+"static/media/icon_sword.619c9c2d.png"},resin:{fragile:n.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:n.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:n.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:n.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:n.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=r},273:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return h}));var r=n(14),a=n(6),c=n(8),o=n(10),i=n(60),u=n(19),s=n(25),d=n(262),l=n(311),b=n(279);n.d(t,"h",(function(){return b.b}));var f=n(268);function j(e,t){return Object(s.d)(e,[],(function(e){return e.operation}),(function(e,n){"teamBuff"===n[0]&&(n=n.slice(1));var r=Object(s.l)(d.b,n);r?e.info=Object(o.a)(Object(o.a)({},r.info),{},{prefix:void 0,source:t}):"tally"!==n[0]&&console.log("Detect ".concat(t," buff into non-existant key path ").concat(n))})),e}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=i.a.mainStatValue(e.mainStatKey,e.rarity,Math.max(Math.min(t,4*e.rarity),e.level)),r=[];return r.push([e.mainStatKey,n]),e.substats.forEach((function(e){var t=e.key,n=e.value;return t&&r.push([t,n])})),{art:Object(o.a)(Object(o.a)({},Object.fromEntries(r.map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];return n.endsWith("_")?[n,Object(f.m)(r/100)]:[n,Object(f.a)(r)]})))),{},Object(a.a)({},e.slotKey,{id:Object(f.a)(e.id),set:Object(f.a)(e.setKey)})),artSet:Object(a.a)({},e.setKey,Object(f.a)(1))}}function O(e){for(var t,n={lvl:Object(f.a)(e.level),constellation:Object(f.a)(e.constellation),asc:Object(f.a)(e.ascension),premod:{auto:Object(f.a)(e.talent.auto),skill:Object(f.a)(e.talent.skill),burst:Object(f.a)(e.talent.burst)},enemy:Object(o.a)(Object(o.a)({},Object(s.m)(u.e.map((function(e){return"".concat(e,"_res_")})),(function(t){var n;return Object(f.m)((null!==(n=e.enemyOverride["".concat(t.slice(0,-5),"_enemyRes_")])&&void 0!==n?n:10)/100)}))),{},{level:Object(f.a)(null!==(t=e.enemyOverride.enemyLevel)&&void 0!==t?t:e.level)}),hit:{hitMode:Object(f.a)(e.hitMode)},customBonus:{}},r=0,i=Object.entries(e.bonusStats);r<i.length;r++){var b=Object(c.a)(i[r],2),j=b[0],p=b[1];n.customBonus[j]=j.endsWith("_")?Object(f.m)(p/100):Object(f.a)(p)}return e.enemyOverride.enemyDefRed_&&(n.enemy.defRed=Object(f.m)(e.enemyOverride.enemyDefRed_)),e.enemyOverride.enemyDefIgn_&&(n.enemy.defIgn=Object(f.m)(e.enemyOverride.enemyDefIgn_)),e.elementKey&&(n.charEle=Object(f.a)(e.elementKey),n.display={basic:Object(a.a)({},"".concat(e.elementKey,"_dmg_"),d.b.total["".concat(e.elementKey,"_dmg_")]),reaction:l.a[e.elementKey]},Object(s.k)(n,["teamBuff","tally",e.elementKey],Object(f.a)(1))),Object(s.d)(e.conditional,["conditional"],(function(e){return"string"===typeof e}),(function(e,t){return Object(s.k)(n,t,Object(f.a)(e))})),n}function v(e){return{weapon:{lvl:Object(f.a)(e.level),asc:Object(f.a)(e.ascension),refinement:Object(f.a)(e.refinement),refineIndex:Object(f.a)(e.refinement-1)}}}var m=Object(f.r)(Object(s.e)(d.b),["teamBuff"]);function h(e,t){var n=Object.entries(e).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];return[n,Object(o.a)({},y(r))]})),a=Object.fromEntries(n.map((function(e){return[Object(c.a)(e,1)[0],{targetRef:{},buffs:[],calcs:{}}]}))),i={};function u(e){var t="teamBuff"===e[0]?Object(s.l)(m,e.slice(1)):Object(s.l)(d.b,e);if(t)return t;var n=Object(s.l)(i,e);if(n)return n;var r=Object(f.b)(e);return"teamBuff"===e[0]&&"tally"===e[1]&&(r.accu="add"),Object(s.k)(i,e,r),r}Object.values(a).forEach((function(e){var t=e.targetRef,i=e.buffs,l=e.calcs;return n.forEach((function(e){var n=Object(c.a)(e,2),b=n[0],j=n[1].teamBuff,p={},O=Object(s.e)({teamBuff:j});i.push(p),l[b]=O,Object(s.d)(j,[],(function(e){return e.operation}),(function(e,n){var c=Object(o.a)(Object(o.a)({},Object(s.l)(d.b,n)),{},{source:b,prefix:void 0,asConst:true});Object(s.k)(p,n,Object(f.q)(u(["teamBuff"].concat(Object(r.a)(n))),O,c)),Object(s.d)(e,[],(function(e){return"read"===(null===e||void 0===e?void 0:e.operation)}),(function(e){var n,r;"targetBuff"!==e.path[0]&&("target"===e.path[0]?(n=u(e.path.slice(1)),r=t):(n=e,r=a[b].targetRef),Object(s.k)(O,e.path,Object(f.q)(n,r)))}))}))}))})),n.forEach((function(e){var n=Object(c.a)(e,2),r=n[0],i=n[1];delete i.teamBuff;var u=a[r],d=u.targetRef,l=y(u.buffs);Object(s.d)(null!==l&&void 0!==l?l:{},[],(function(e){return e.operation}),(function(e,t){var n;e.info=Object(o.a)(Object(o.a)({},null===(n=Object(s.l)(m,t))||void 0===n?void 0:n.info),{},{prefix:"teamBuff",pivot:true})})),Object.assign(d,y([i,l,{teamBuff:l,activeCharKey:Object(f.a)(t)}])),d.target=d}));var l=new b.a(void 0,void 0);return Object.fromEntries(Object.entries(a).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];return[n,{target:new b.a(r.targetRef,l),buff:Object.fromEntries(Object.entries(r.calcs).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];return[n,new b.a(r,l)]})))}]})))}function y(e){return e.length?function e(t,n){if(t.length<=1)return t[0];if(t[0].operation){var a;"teamBuff"===n[0]&&(n=n.slice(1));var c="tally"===n[0]?"add":null===(a=Object(s.l)(d.b,n))||void 0===a?void 0:a.accu;if(void 0===c){if(1!==t.length)throw new Error("Multiple entries when merging `unique` for key ".concat(n));return t[0]}return{operation:c,operands:t}}return Object.fromEntries(Object(r.a)(new Set(t.flatMap((function(e){return Object.keys(e)})))).map((function(a){return[a,e(t.map((function(e){return e[a]})).filter((function(e){return e})),[].concat(Object(r.a)(n),[a]))]})))}(e,[]):{}}function g(e){return new b.a(y(e),void 0)}},274:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(53),c=n(52),o=n(70),i=n(1),u=function(){return Object(i.jsx)(c.a,{icon:a.A})},s=function(e){var t=e.stars,n=e.colored,a=void 0!==n&&n;return Object(i.jsx)(o.a,{color:a?"warning.main":void 0,component:"span",children:t?Object(r.a)(Array(t).keys()).map((function(e,t){return Object(i.jsx)(u,{},t)})):null})}},275:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var r=n(10),a=n(53),c=n(52),o=n(64),i=n(25),u=n(54),s=n(1);function d(){return Object(s.jsxs)("span",{className:"fa-layers ",children:[Object(s.jsx)(c.a,{icon:o.r}),Object(s.jsx)(c.a,{icon:o.s,style:{color:"grey"}})]})}function l(){return Object(s.jsxs)("span",{className:"fa-layers ",children:[Object(s.jsx)(c.a,{icon:o.c}),Object(s.jsx)(c.a,{icon:o.d,style:{color:"grey"}})]})}function b(){return Object(s.jsxs)("span",{className:"fa-layers ",children:[Object(s.jsx)(c.a,{icon:o.l}),Object(s.jsx)(c.a,{icon:o.m,style:{color:"grey"}})]})}var f={anemo:Object(s.jsx)(c.a,{icon:o.a}),geo:Object(s.jsx)(c.a,{icon:o.o}),electro:Object(s.jsx)(c.a,{icon:o.j}),hydro:Object(s.jsx)(c.a,{icon:o.t}),pyro:Object(s.jsx)(c.a,{icon:o.x}),cryo:Object(s.jsx)(c.a,{icon:o.g}),dendro:Object(s.jsx)(c.a,{icon:o.i}),physical:Object(s.jsx)(c.a,{icon:o.v})},j=Object(i.m)(Object.keys(f),(function(e){return Object(s.jsx)(u.a,{color:e,children:f[e]})})),p=Object(r.a)(Object(r.a)({characterHP:Object(s.jsx)(d,{}),finalHP:Object(s.jsx)(d,{}),hp_:Object(s.jsx)(d,{}),hp:Object(s.jsx)(d,{}),baseATK:Object(s.jsx)(c.a,{icon:o.b}),characterATK:Object(s.jsx)(c.a,{icon:o.b}),finalATK:Object(s.jsx)(c.a,{icon:o.b}),atk_:Object(s.jsx)(c.a,{icon:o.b}),atk:Object(s.jsx)(c.a,{icon:o.b}),characterDEF:Object(s.jsx)(c.a,{icon:o.h}),finalDEF:Object(s.jsx)(c.a,{icon:o.h}),def_:Object(s.jsx)(c.a,{icon:o.h}),def:Object(s.jsx)(c.a,{icon:o.h}),eleMas:Object(s.jsx)(c.a,{icon:o.k}),critRate_:Object(s.jsx)(c.a,{icon:o.f}),critDMG_:Object(s.jsx)(c.a,{icon:a.k}),enerRech_:Object(s.jsx)(b,{}),heal_:Object(s.jsx)(c.a,{icon:o.q}),cdRed_:Object(s.jsx)(l,{}),shield_:Object(s.jsx)(c.a,{icon:o.z}),stamina:Object(s.jsx)(c.a,{icon:o.u})},j),Object.fromEntries(Object.keys(j).flatMap((function(e){return[["".concat(e,"_dmg_"),j[e]],["".concat(e,"_res_"),j[e]]]}))));t.a=p},276:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(8),a=n(17),c=n(18),o=n(126),i=n(45),u=n(1),s=n.e(25).then(n.bind(null,401)).then((function(e){return e.default})),d=function(){function e(t,n,r,c){var i=this;Object(a.a)(this,e),this.key=void 0,this.sheet=void 0,this.data=void 0,this.rarity=void 0,this.weaponType=void 0,this.tr=function(e){return Object(u.jsx)(o.a,{ns:"weapon_".concat(i.key,"_gen"),key18:e})},this.passiveDescription=function(e){return i.rarity>2?i.tr("passiveDescription.".concat(e)):""},this.rarity=r.rarity,this.weaponType=r.weaponType,this.key=t,this.sheet=n,this.data=c}return Object(c.a)(e,[{key:"name",get:function(){return this.tr("name")}},{key:"passiveName",get:function(){return this.rarity>2?this.tr("passiveName"):""}},{key:"description",get:function(){return this.tr("description")}},{key:"img",get:function(){return this.sheet.icon}},{key:"imgAwaken",get:function(){return this.sheet.iconAwaken}},{key:"document",get:function(){return this.sheet.document}}],[{key:"getAll",get:function(){return s}}]),e}();d.get=function(e){return e?s.then((function(t){return t[e]})):void 0},d.getWeaponsOfType=function(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){var n=Object(r.a)(e,2);n[0];return n[1].weaponType===t})))},d.getLevelString=function(e){return"".concat(e.level,"/").concat(i.b[e.ascension])}},278:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,a=n(10),c=n(38),o=n(125),i=n(747),u=n(257),s=n(124),d=n(1),l=["large"];function b(e){var t=e.large,n=void 0!==t&&t,b=Object(o.a)(e,l),f=Object(s.a)("ui").t;return n?Object(d.jsx)(u.a,Object(a.a)(Object(a.a)({color:"error",startIcon:Object(d.jsx)(i.a,{})},b),{},{children:f(r||(r=Object(c.a)(["close"])))})):Object(d.jsx)(u.a,Object(a.a)(Object(a.a)({color:"error",sx:{p:1,minWidth:0}},b),{},{children:Object(d.jsx)(i.a,{})}))}},279:function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return M}));var r,a,c,o,i,u,s,d,l=n(38),b=n(8),f=n(10),j=n(16),p=n(14),O=n(17),v=n(18),m=n(262),h=n(54),y=n(102),g=n(25),_=n(312),k=n(1),x=!0;function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return isFinite(e)?("%"===t?e*=100:t="",Number.isInteger(e)?n=0:-1===n&&(n="%"===t?1:Math.abs(e)<10?3:Math.abs(e)<1e3?2:Math.abs(e)<1e4?1:0),"".concat(e.toFixed(n)).concat(t)):e>0?"\u221e":e<0?"-\u221e":"NaN"}var M=function(){function e(t,n){Object(O.a)(this,e),this.origin=void 0,this.children=new Map,this.data=void 0,this.nodes=new Map,this.processed=new Map,this.display=void 0,this.teamBuff=void 0,void 0===t?(this.data=[],this.origin=this):(n||(n=new e(void 0,void 0)),this.data=[t].concat(Object(p.a)(n.data)),this.origin=n.origin)}return Object(v.a)(e,[{key:"getDisplay",value:function(){return this.display||(this.display=this.getAll(["display"])),this.display}},{key:"getTeamBuff",value:function(){if(!this.teamBuff){var e=this.getAll(["teamBuff"]),t={};Object(g.d)(m.d,[],(function(e){return e.operation}),(function(n,r){var a=Object(g.l)(e,n.path);a&&Object(g.k)(t,r,a)})),this.teamBuff=t}return this.teamBuff}},{key:"getAll",value:function(e){var t,n=this,r={},a=Object(j.a)(this.data);try{for(a.s();!(t=a.n()).done;){var c,o=t.value;Object(g.d)(null!==(c=Object(g.l)(o,e))&&void 0!==c?c:{},[],(function(e){return e.operation}),(function(e,t){return Object(g.k)(r,t,n.get(e))}))}}catch(i){a.e(i)}finally{a.f()}return r}},{key:"get",value:function(e){if(void 0===e)return console.trace("Please report this bug with this trace"),{operation:!0,value:void 0,isEmpty:!0,unit:"flat",formulas:[]};var t=this.processed.get(e);if(t)return t;var n=function(e){var t=e.key,n=e.prefix,r=e.dependencies,a=e.value,c=e.variant,o=e.formula,i=e.assignment,u=e.empty;return{operation:!0,key:t,value:a,variant:c,prefix:n,isEmpty:u,unit:t&&y.b.unit(t)||"flat",formula:o,formulas:[].concat(Object(p.a)(i?[i]:[]),Object(p.a)(r))}}(this.computeNode(e));return this.processed.set(e,n),n}},{key:"computeNode",value:function(e){var t=this,n=this.nodes.get(e);if(n)return n;var r,a=e.operation,c=e.info;switch(a){case"add":case"mul":case"min":case"max":case"res":case"sum_frac":r=this._compute(e);break;case"threshold":r=this._threshold(e);break;case"const":r=this._constant(e.value);break;case"subscript":r=this._subscript(e);break;case"read":r=this._read(e);break;case"data":r=this._data(e);break;case"match":r=this._match(e);break;case"lookup":r=this._lookup(e);break;case"prio":var o=e.operands.find((function(e){return void 0!==t.computeNode(e).value}));r=o?this.computeNode(o):I;break;default:Object(g.a)(a)}if(c){var i=c.key,u=c.prefix,s=c.source,d=c.variant,l=c.asConst,b=c.pivot;r=Object(f.a)({},r),i&&(r.key=i),u&&(r.prefix=u),s&&(r.source=s),d&&(r.variant=d),b&&(r.pivot=b),l&&(delete r.formula,delete r.assignment,r.dependencies=new Set),!r.pivot&&r.formula||(r.mayNeedWrapping=!1)}return function(e){var t=e.key,n=e.value,r=e.formula,a=e.prefix,c=e.source,o=e.variant;if("number"!==typeof n)return;if(e.valueDisplay=Object(k.jsx)(h.a,{color:"info",children:w(n,t?y.b.unit(t):"flat")}),t&&"_"!==t){var i=a&&!c?Object(k.jsxs)(k.Fragment,{children:[y.b.getPrefixStr(a)," "]}):Object(k.jsx)(k.Fragment,{}),u=c?Object(k.jsxs)(h.a,{color:"secondary",children:[" (",c,")"]}):null;e.name=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(h.a,{color:o,children:[i,y.b.getNoUnit(t)]}),u]}),r&&(e.assignment=Object(k.jsxs)("div",{id:"formula",children:[e.name," ",e.valueDisplay," = ",r]}))}}(r),this.nodes.set(e,r),r}},{key:"readAll",value:function(e){var t=this;return this.data.map((function(t){return Object(g.l)(t,e)})).filter((function(e){return e})).map((function(e){return t.computeNode(e)}))}},{key:"readFirst",value:function(e){var t=this.data.map((function(t){return Object(g.l)(t,e)})).find((function(e){return e}));return t&&this.computeNode(t)}},{key:"_read",value:function(e){var t,n=e.path;return void 0===e.accu?null!==(t=this.readFirst(n))&&void 0!==t?t:"string"===e.type?this._constant(void 0):I:this._accumulate(e.accu,this.readAll(n))}},{key:"_lookup",value:function(e){var t,n=this.computeNode(e.operands[0]).value,r=null!==(t=e.table[n])&&void 0!==t?t:e.operands[1];if(!r)throw new Error("Lookup Fail with key ".concat(n));return this.computeNode(r)}},{key:"_match",value:function(e){var t=Object(b.a)(e.operands,4),n=t[0],r=t[1],a=t[2],c=t[3],o=this.computeNode(n),i=this.computeNode(r),u=o.value===i.value,s=this.computeNode(u?a:c);return u&&"match"===e.emptyOn||!u&&"unmatch"===e.emptyOn?E(s.value):s}},{key:"_threshold",value:function(e){var t=Object(b.a)(e.operands,4),n=t[0],r=t[1],a=t[2],c=t[3],o=this.computeNode(n),i=this.computeNode(r);return o.value>=i.value?this.computeNode(a):E(this.computeNode(c).value)}},{key:"_data",value:function(t){var n=this.children.get(t.data);return n||(n=new e(t.data,t.reset?this.origin:this),this.children.set(t.data,n)),n.computeNode(t.operands[0])}},{key:"_compute",value:function(e){var t=this,n=e.operation,r=e.operands;return this._accumulate(n,r.map((function(e){return t.computeNode(e)})))}},{key:"_subscript",value:function(e){var t,n=this.computeNode(e.operands[0]),r=null!==(t=e.list[n.value])&&void 0!==t?t:NaN;return this._constant(r)}},{key:"_constant",value:function(e){return{value:e,pivot:!1,empty:!1,mayNeedWrapping:!1,dependencies:new Set}}},{key:"_accumulate",value:function(e,t){var n,b,j,O;switch(e){case"add":case"mul":case"min":case"max":case"res":case"sum_frac":j=function(e){var t=new Set(e.map((function(e){return e.variant})));t.size>1&&t.delete(void 0);t.size>1&&t.delete("physical");return t.values().next().value}(t);break;default:Object(g.a)(e)}switch(e){case"add":case"mul":case"min":case"max":var v=_.a[e]([]);if(!(t=t.filter((function(e){return e.value!==v}))).length)return j?Object(f.a)(Object(f.a)({},this._constant(v)),{},{variant:j}):this._constant(v)}var m=!1;switch(e){case"max":O=N(r||(r=Object(l.a)(["Max( "," )"])),{operands:t});break;case"min":O=N(a||(a=Object(l.a)(["Min( "," )"])),{operands:t});break;case"add":O=N(c||(c=Object(l.a)(["",""])),{operands:t,separator:" + "});break;case"mul":O=N(o||(o=Object(l.a)(["",""])),{operands:t,separator:" * ",shouldWrap:x});break;case"sum_frac":O=N(i||(i=Object(l.a)([""," / ( "," )"])),{operands:[t[0]],shouldWrap:x},{operands:t,separator:" + "});break;case"res":var h=t[0].value;h<0?(O=N(u||(u=Object(l.a)(["100% - "," / 2"])),{operands:t,shouldWrap:x}),m=!0):h>=.75?O=N(s||(s=Object(l.a)(["100% / ( "," * 4 + 100% )"])),{operands:t,shouldWrap:x}):(O=N(d||(d=Object(l.a)(["100% - ",""])),{operands:t,shouldWrap:x}),m=!0);break;default:Object(g.a)(e)}switch(e){case"add":case"mul":t.length<=1?m=null===(n=null===(b=t[0])||void 0===b?void 0:b.mayNeedWrapping)||void 0===n||n:"add"===e&&(m=!0)}var y=_.a[e](t.map((function(e){return e.value}))),k=new Set(Object(p.a)(t.flatMap((function(e){return e.pivot&&e.assignment?[e.assignment].concat(Object(p.a)(e.dependencies)):Object(p.a)(e.dependencies)})))),w={formula:O.display,empty:t.every((function(e){return e.empty})),value:y,mayNeedWrapping:m,pivot:!1,dependencies:k};return j&&(w.variant=j),w}}]),e}();function N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=new Set,c=[];return e.forEach((function(e,t){c.push(e);var r=n[t];if(r){var o=r.operands,i=r.shouldWrap,u=r.separator,s=void 0===u?", ":u;o.forEach((function(e,t,n){var r;r=!e.pivot&&e.formula?e.formula:S(e),i&&e.mayNeedWrapping?(c.push("( "),c.push(r),c.push(" )")):c.push(r),t+1<n.length&&c.push(s),e.dependencies.forEach((function(e){return a.add(e)}))}))}})),{display:C(c),dependencies:Object(p.a)(a)}}function S(e){var t=e.name,n=e.valueDisplay;return t?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{style:{fontSize:"85%"},children:t})," ",n]}):n}function C(e){return Object(k.jsx)(k.Fragment,{children:e.map((function(e,t){return Object(k.jsx)("span",{children:e},t)}))})}var I={value:NaN,pivot:!0,empty:!1,dependencies:new Set,mayNeedWrapping:!1};function E(e){return{value:e,pivot:!1,empty:!0,dependencies:new Set,mayNeedWrapping:!1}}},281:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(10),a=n(125),c=n(9),o=n(247),i=n(259),u=n(445),s=n(156),d=n(0),l=n(261),b=n(1),f=["children","containerProps"],j=Object(c.a)(o.a)((function(e){var t=e.theme;return{overflow:"scroll",paddingTop:t.spacing(2),paddingBottom:t.spacing(2)}})),p=Object(c.a)(i.a)((function(e){e.theme;return{padding:0,minHeight:"100%",display:"flex",flexDirection:"column",justifyContent:"center",pointerEvents:"none","& > *":{pointerEvents:"auto"}}}));function O(e){var t=e.children,n=e.containerProps,c=Object(a.a)(e,f);return Object(b.jsx)(j,Object(r.a)(Object(r.a)({},c),{},{children:Object(b.jsx)(p,Object(r.a)(Object(r.a)({},n),{},{children:Object(b.jsx)(d.Suspense,{fallback:Object(b.jsx)(l.a,{children:Object(b.jsx)(u.a,{children:Object(b.jsx)(s.a,{variant:"rectangular",width:"100%",height:300})})}),children:t})}))}))}},286:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),a=n(0);function c(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),n=t[0],c=t[1];return[n,Object(a.useCallback)((function(){return c({})}),[])]}},288:function(e,t,n){"use strict";var r=n(9),a=n(770),c=Object(r.a)(a.a,{shouldForwardProp:function(e){return"baseColor"!==e&&"selectedColor"!==e}})((function(e){var t=e.theme,n=e.baseColor,r=void 0===n?"primary":n,a=e.selectedColor,c=void 0===a?"success":a;return{"& .MuiToggleButtonGroup-grouped":{"&":{backgroundColor:t.palette[r].main,color:t.palette[r].contrastText},"&:hover":{backgroundColor:t.palette[r].dark},"&.Mui-selected":{backgroundColor:t.palette[c].main,color:t.palette[c].contrastText},"&.Mui-selected:hover":{backgroundColor:t.palette[c].dark},"&.Mui-disabled":{backgroundColor:t.palette[r].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:t.palette[c].dark}}}}));t.a=c},297:function(e,t,n){"use strict";function r(e){var t=e.condition,n=e.wrapper,r=e.falseWrapper,a=e.children;return t?n(a):r?r(a):a}n.d(t,"a",(function(){return r}))},311:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(8),a=n(10),c=n(39),o=n(25),i=n(262),u=n(268),s=Object(u.u)(i.b.lvl,c.b),d=Object(u.n)(4e3/9,Object(u.e)(i.b.total.eleMas,1400)),l=Object(u.f)(Object(u.n)(Object(u.v)(u.y,d),s),{}),b=Object(u.u)(i.b.lvl,c.d),f=Object(u.n)(16,Object(u.e)(i.b.total.eleMas,2e3)),j=Object(a.a)(Object(a.a)({},Object(o.m)(["overloaded","electrocharged","superconduct","shattered"],(function(e){var t=c.e[e],n=t.multi,a=Object(r.a)(t.variants,1)[0];return Object(u.f)(Object(u.n)(Object(u.f)(Object(u.n)(n,b),{asConst:true}),Object(u.v)(u.y,f,i.b.total["".concat(e,"_dmg_")]),i.b.enemy["".concat(a,"_resMulti")]),{key:"".concat(e,"_hit"),variant:e})}))),{},{swirl:Object(o.m)(c.e.swirl.variants,(function(e){return Object(u.f)(Object(u.n)(Object(u.f)(Object(u.n)(c.e.swirl.multi,b),{asConst:true}),Object(u.v)(u.y,f,i.b.total.swirl_dmg_),i.b.enemy["".concat(e,"_resMulti")]),{key:"".concat(e,"_swirl_hit"),variant:e})}))}),p={anemo:{electroSwirl:j.swirl.electro,pyroSwirl:j.swirl.pyro,cryoSwirl:j.swirl.cryo,hydroSwirl:j.swirl.hydro,shattered:j.shattered},geo:Object(a.a)(Object(a.a)({},Object(o.m)(["pyro","electro","cryo","hydro"],(function(e){return Object(u.n)(2.5,l)}))),{},{shattered:j.shattered}),electro:{overloaded:j.overloaded,electrocharged:j.electrocharged,superconduct:j.superconduct,shattered:j.shattered},hydro:{electrocharged:j.electrocharged,shattered:j.shattered},pyro:{overloaded:j.overloaded,shattered:j.shattered},cryo:{superconduct:j.superconduct,shattered:j.shattered}}},312:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return O}));var r=n(16),a=n(8),c=n(10),o=n(14),i=n(25),u=n(317),s=n(268),d={min:function(e){return Math.min.apply(Math,Object(o.a)(e))},max:function(e){return Math.max.apply(Math,Object(o.a)(e))},add:function(e){return e.reduce((function(e,t){return e+t}),0)},mul:function(e){return e.reduce((function(e,t){return e*t}),1)}},l=Object(c.a)(Object(c.a)({},d),{},{res:function(e){var t=Object(a.a)(e,1)[0];return t<0?1-t/2:t>=.75?1/(4*t+1):1-t},sum_frac:function(e){return e[0]/e.reduce((function(e,t){return e+t}))},threshold:function(e){var t=Object(a.a)(e,4),n=t[0],r=t[1],c=t[2],o=t[3];return n>=r?c:o}}),b=new Set(Object.keys(d));function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!1};return e=p(e=j(e=O(e,t,n)))}function j(e){return Object(u.b)(e,(function(e){return e}),(function(e){var t=e;if(b.has(e.operation)){var n=e,r=n.operation,a=!1,o=n.operands.flatMap((function(e){return e.operation===r?(a=!0,e.operands):[e]}));t=a?Object(c.a)(Object(c.a)({},n),{},{operands:o}):n}return t}))}function p(e){function t(e){var t,n=new Map,a=Object(r.a)(e);try{for(a.s();!(t=a.n()).done;){var c,o=t.value;n.set(o,(null!==(c=n.get(o))&&void 0!==c?c:0)+1)}}catch(i){a.e(i)}finally{a.f()}return n}for(var n={common:{counts:new Map,formulas:new Set,operation:"add"}},i=function(){for(var i,s=void 0,l={operation:n.common.operation,operands:(i=n.common.counts,Object(o.a)(i).flatMap((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Array(r).fill(n)})))},f=new Map,j=0,p=Object.keys(d);j<p.length;j++){var O=p[j];f.set(O,[])}if(e=Object(u.b)(e,(function(e){if(n.common.formulas.has(e)){var t=e,r=new Map(n.common.counts),a=t.operands.filter((function(e){var t=r.get(e);return!t||(r.set(e,t-1),!1)}));return a.length?(a.push(l),Object(c.a)(Object(c.a)({},t),{},{operands:a})):l}return e}),(function(e){if(!b.has(e.operation))return e;var n=e;if(s){if(s.operation===n.operation){var c,o=t(n.operands),i=new Map,u=s.counts,d=0,l=Object(r.a)(o.entries());try{for(l.s();!(c=l.n()).done;){var j,p=Object(a.a)(c.value,2),O=p[0],v=p[1],m=Math.min(v,null!==(j=u.get(O))&&void 0!==j?j:0);m?(i.set(O,m),d+=m):i.delete(O)}}catch(B){l.e(B)}finally{l.f()}d>1&&(s.counts=i,s.formulas.add(n))}}else{var h,y=f.get(n.operation),g=t(n.operands),_=Object(r.a)(y);try{for(_.s();!(h=_.n()).done;){var k,x=Object(a.a)(h.value,2),w=x[0],M=x[1],N=0,S=new Map,C=Object(r.a)(M.entries());try{for(C.s();!(k=C.n()).done;){var I,E=Object(a.a)(k.value,2),R=E[0],D=E[1],A=Math.min(D,null!==(I=g.get(R))&&void 0!==I?I:0);A&&(S.set(R,A),N+=A)}}catch(B){C.e(B)}finally{C.f()}if(N>1){s={counts:S,formulas:new Set([n,w]),operation:n.operation},f.clear();break}}}catch(B){_.e(B)}finally{_.f()}s||y.push([n,g])}return n})),!s)return"break";n.common=s};;){if("break"===i())break}return e}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!1},r={data:[],processed:new Map},u=new Map([[r,new Map]]);function d(e,t){var b,f=t.processed.get(e);if(f)return f;var j,p=e.operation;switch(p){case"const":return e;case"add":case"mul":case"max":case"min":var O=l[p],v=[],m=e.operands.filter((function(e){var n=d(e,t);return"const"!==n.operation||(v.push(n.value),!1)})).map((function(e){return d(e,t)})),h=O(v);if(isFinite(h)){if("mul"===p&&0===h){j=Object(s.a)(h);break}}else if("mul"!==p&&("max"!==p||h>0)&&("min"!==p||h<0)){j=Object(s.a)(h);break}h!==O([])&&m.push(Object(s.a)(h)),j=m.length<=1?null!==(b=m[0])&&void 0!==b?b:Object(s.a)(O([])):{operation:p,operands:m};break;case"res":case"sum_frac":var y=e.operands.map((function(e){return d(e,t)})),g=l[p];j=y.every((function(e){return"const"===e.operation}))?Object(s.a)(g(y.map((function(e){return e.value})))):Object(c.a)(Object(c.a)({},e),{},{operands:y});break;case"lookup":var _=d(e.operands[0],t);if("const"===_.operation){var k,x=null!==(k=e.table[_.value])&&void 0!==k?k:e.operands[1];if(x){j=d(x,t);break}}throw new Error("Unsupported ".concat(p," node while folding"));case"prio":var w=e.operands.find((function(e){var n=d(e,t);if("const"!==n.operation)throw new Error("Unsupported ".concat(p," node while folding"));return void 0!==n.value}));if(!w)throw new Error("Unsupported ".concat(p," node while folding"));j=d(w,t);break;case"match":var M=e.operands.map((function(e){return d(e,t)})),N=Object(a.a)(M,4),S=N[0],C=N[1],I=N[2],E=N[3];if("const"!==S.operation||"const"!==C.operation)throw new Error("Unsupported ".concat(p," node while folding"));j=S.value===C.value?I:E;break;case"threshold":var R=e.operands.map((function(e){return d(e,t)})),D=Object(a.a)(R,4),A=D[0],B=D[1],T=D[2],K=D[3];j="const"===A.operation&&"const"===B.operation?A.value>=B.value?T:K:Object(c.a)(Object(c.a)({},e),{},{operands:[A,B,T,K]});break;case"subscript":var W=e.operands.map((function(e){return d(e,t)})),F=Object(a.a)(W,1)[0];j="const"===F.operation?Object(s.a)(e.list[F.value]):Object(c.a)(Object(c.a)({},e),{},{operands:[F]});break;case"read":var z=t.data.map((function(t){return Object(i.l)(t,e.path)})).filter((function(e){return e}));if(0===z.length)if(n(e)){var G=e.accu;j=void 0===G?"string"===e.type?Object(s.a)(void 0):Object(s.a)(NaN):Object(s.a)(l[G]([]))}else j=e;else j=void 0===e.accu?d(z[0],t):d({operation:e.accu,operands:z},t);break;case"data":e.reset&&(t=r);var P=u.get(t),L=P.get(e.data);L||(L={data:[].concat(Object(o.a)(t.data),[e.data]),processed:new Map},u.set(L,new Map),P.set(e.data,L)),j=d(e.operands[0],L);break;default:Object(i.a)(p)}return t.processed.set(e,j),j}var b={data:[t],processed:new Map};return u.set(b,new Map),u.get(r).set(t,b),e.map((function(e){return d(e,b)}))}},316:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=["hp","hp_","atk","atk_","def_","eleMas","enerRech_","critRate_","critDMG_","physical_dmg_","anemo_dmg_","geo_dmg_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_","heal_"],a=["hp","hp_","atk","atk_","def_","def","eleMas","enerRech_","critRate_","critDMG_"]},317:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));n(8);var r=n(10),a=n(268);function c(e,t,n){var r=new Set,a=new Set;e.forEach((function e(c){a.has(c)||(r.has(c)?console.error("Found cyclical dependency during formula traversal"):(r.add(c),t(c),c.operands.forEach(e),n(c),r.delete(c),a.add(c)))}))}function o(e,t,n){var c=new Set,o=new Map,u=new Map;function s(e){var d=o.get(e);if(d)return d;d=t(e);var l=u.get(d);return l||(c.has(d)?(console.error("Found cyclical dependency during formula mapping"),Object(a.a)(NaN)):(c.add(d),l=n(function(e){var t=e.operands.map(s);return i(t,e.operands)?e:Object(r.a)(Object(r.a)({},e),{},{operands:t})}(d),e),c.delete(d),o.set(e,l),u.set(d,l),l))}return e.map(s)}function i(e,t){return void 0===e?void 0===t:void 0!==t&&(e.length===t.length&&e.every((function(e,n){return e===t[n]})))}}}]);
//# sourceMappingURL=4.cc27da56.chunk.js.map