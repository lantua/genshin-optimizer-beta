{"version":3,"sources":["Formula/index.ts","Components/Card/CardLight.tsx","Formula/utils.ts","ReactHooks/usePromise.tsx","DataContext.tsx","Components/Card/CardDark.tsx","Components/Image/ImgIcon.tsx","Components/SqBadge.tsx","Data/Artifacts/ArtifactSheet.tsx","Components/DropdownMenu/DropdownButton.tsx","Data/Characters/CharacterSheet.tsx","Assets/icon_bow.png","Assets/Assets.ts","Assets/icon_catalyst.png","Assets/icon_claymore.png","Assets/icon_polearm.png","Assets/icon_sword.png","Assets/Item_Fragile_Resin.png","Assets/Item_Condensed_Resin.png","Assets/Item_Wanderer's_Advice.png","Assets/Item_Hero's_Wit.png","Assets/Item_Adventurer's_Experience.png","Data/Weapons/WeaponSheet.tsx","Components/StarDisplay.tsx","Formula/api.tsx","Components/StatIcon.tsx","Components/FieldDisplay.tsx","Components/CloseButton.tsx","Formula/uiData.tsx","Components/CustomNumberInput.tsx","Components/ModalWrapper.tsx","ReactHooks/useCharacterReducer.tsx","Components/SolidToggleButtonGroup.tsx","Components/BootstrapTooltip.tsx","Components/Character/CharacterDropdownButton.tsx","Components/Character/ThumbSide.tsx","ReactHooks/useForceUpdate.tsx","Components/DocumentDisplay.tsx","Components/ExpandButton.tsx","ReactHooks/useTeamData.tsx","Components/ConditionalWrapper.tsx","Components/Character/LocationName.tsx","Components/ToggleButton/WeaponToggle.tsx","ReactHooks/useWeapon.tsx","ReactHooks/useCharSelectionCallback.tsx","Util/CharacterUtil.tsx","Stat.tsx","Data/Characters/SheetUtil.tsx","Conditional/ConditionalSelector.tsx","Components/ConditionalDisplay.tsx","Util/SortByFilters.ts","Formula/reaction.ts","Components/SortByButton.tsx","Formula/DisplayUtil.tsx","PageArtifact/RollProbability.ts","Formula/optimization.ts","PageArtifact/PercentBadge.tsx","Components/TextButton.tsx","PageCharacter/StatInput.tsx","Formula/internal.ts","Components/Weapon/WeaponSelectionModal.tsx","PageArtifact/ArtifactCard.tsx","ReactHooks/useArtifact.tsx","Components/Character/CharacterDropdownButton_WR.tsx","PageWeapon/WeaponCard.tsx","../node_modules/@mui/material/utils/shouldSpreadAdditionalProps.js","PageCharacter/CharacterCard.tsx","Components/Artifact/SetEffectDisplay.tsx","Components/Character/CharacterSelectionModal.tsx","Util/CharacterSort.ts","Components/Character/StatDisplayComponent.tsx","Components/EnemyEditor.tsx","Components/HitModeEditor.tsx","../node_modules/@mui/material/Accordion/AccordionContext.js","PageWeapon/WeaponDisplayCard.tsx","Components/SolidColoredToggleButton.tsx","Components/ToggleButton/ElementToggle.tsx","../node_modules/@mui/material/CardHeader/cardHeaderClasses.js","../node_modules/@mui/material/CardHeader/CardHeader.js","../node_modules/@mui/icons-material/esm/ExpandMore.js","../node_modules/@mui/utils/esm/useControlled.js","../node_modules/@mui/system/esm/styled.js","../node_modules/@mui/icons-material/esm/BusinessCenter.js","../node_modules/@mui/icons-material/esm/Replay.js","../node_modules/@mui/icons-material/esm/CheckBox.js","../node_modules/@mui/icons-material/esm/CheckBoxOutlineBlank.js","../node_modules/@mui/material/Alert/alertClasses.js","../node_modules/@mui/material/Alert/Alert.js","../node_modules/@mui/material/internal/svg-icons/SuccessOutlined.js","../node_modules/@mui/material/internal/svg-icons/ReportProblemOutlined.js","../node_modules/@mui/material/internal/svg-icons/ErrorOutline.js","../node_modules/@mui/material/internal/svg-icons/InfoOutlined.js","../node_modules/@mui/material/internal/svg-icons/Close.js","Components/FormulaCalcCard.tsx","PageCharacter/CharacterDisplay/CharacterArtifactPane.tsx","PageCharacter/CharacterDisplay/CharacterTeamBuffsPane.tsx","PageCharacter/CharacterDisplay/CharacterOverviewPane.tsx","PageCharacter/CharacterDisplay/CharacterTalentPane.tsx","PageCharacter/CharacterDisplayCard.tsx","../node_modules/@mui/material/Collapse/collapseClasses.js","../node_modules/@mui/material/Collapse/Collapse.js","../node_modules/@mui/icons-material/esm/Lock.js","../node_modules/@mui/icons-material/esm/LockOpen.js","../node_modules/@mui/material/ListItem/listItemClasses.js","../node_modules/@mui/material/ListItemSecondaryAction/listItemSecondaryActionClasses.js","../node_modules/@mui/material/ListItemSecondaryAction/ListItemSecondaryAction.js","../node_modules/@mui/material/ListItem/ListItem.js","../node_modules/@mui/material/internal/svg-icons/Cancel.js","../node_modules/@mui/material/Chip/chipClasses.js","../node_modules/@mui/material/Chip/Chip.js","../node_modules/@mui/material/CardMedia/cardMediaClasses.js","../node_modules/@mui/material/CardMedia/CardMedia.js","../node_modules/@mui/material/CardActionArea/cardActionAreaClasses.js","../node_modules/@mui/material/CardActionArea/CardActionArea.js","../node_modules/@mui/system/esm/Box/Box.js","../node_modules/@mui/icons-material/esm/SwapHoriz.js","../node_modules/@mui/material/CardActions/cardActionsClasses.js","../node_modules/@mui/material/CardActions/CardActions.js","../node_modules/@mui/lab/Masonry/masonryClasses.js","../node_modules/@mui/lab/Masonry/Masonry.js","../node_modules/@mui/icons-material/esm/PersonAdd.js","../node_modules/@mui/utils/esm/usePreviousProps.js","../node_modules/@mui/base/BadgeUnstyled/badgeUnstyledClasses.js","../node_modules/@mui/base/BadgeUnstyled/BadgeUnstyled.js","../node_modules/@mui/base/BadgeUnstyled/useBadge.js","../node_modules/@mui/material/Badge/Badge.js","../node_modules/@mui/material/Accordion/accordionClasses.js","../node_modules/@mui/material/Accordion/Accordion.js","../node_modules/@babel/runtime/helpers/esm/toArray.js","../node_modules/@mui/material/AccordionSummary/accordionSummaryClasses.js","../node_modules/@mui/material/AccordionSummary/AccordionSummary.js","../node_modules/@mui/material/AccordionDetails/accordionDetailsClasses.js","../node_modules/@mui/material/AccordionDetails/AccordionDetails.js","../node_modules/@mui/base/ClickAwayListener/ClickAwayListener.js","../node_modules/@mui/material/SnackbarContent/snackbarContentClasses.js","../node_modules/@mui/material/SnackbarContent/SnackbarContent.js","../node_modules/@mui/material/Snackbar/snackbarClasses.js","../node_modules/@mui/material/Snackbar/Snackbar.js","PageFlex/FlexDisplay.tsx"],"names":["pivot","allElements","allElementsWithPhy","allTalents","allMoves","allArtModStats","allArtNonModStats","allTransformative","allAmplifying","allModStats","map","x","allNonModStats","allEleEnemyResKeys","talent","objectKeyMap","_","read","allModStatNodes","key","undefined","allNonModStatNodes","ele","info","variant","reaction","withDefaultInfo","value","deepClone","crawlObject","operation","accu","input","setReadNodeKeys","activeCharKey","stringRead","charKey","charEle","infusion","weaponType","lvl","prefix","constellation","asc","special","base","customBonus","bonus","premod","total","objectKeyValueMap","cappedCritRate","art","asConst","allSlotKeys","id","set","artSet","allArtifactSets","weapon","type","refinement","refineIndex","main","sub","sub2","team","enemy","def","level","defRed","defIgn","hit","move","hitMode","dmgBonus","dmgInc","dmg","stat","auto","skill","burst","atk","critRate_","baseAmpBonus","sum","unit","prod","frac","eleMas","effectiveReaction","lookup","pyro","vaporize","constant","melt","hydro","equalStr","cryo","common","operands","push","percent","filter","stamina","max","min","naught","all_dmg_","all_dmgInc","NaN","critHit","critDMG_","avgHit","enemyDefRed_","res","infoMut","target","tally","allRegions","uiInput","CardLight","styled","Card","backgroundColor","theme","palette","contentLight","Number","MAX_VALUE","Infinity","node","index","table","defaultV","intoV","values","intoOps","c","equal","v1","v2","pass","emptyOn","unequal","greaterEq","greaterEqStr","lessThan","nodeList","Error","path","Object","keys","data","resetData","reset","customRead","customStringRead","stringPrio","subscript","list","matchFull","match","unmatch","usePromise","promise","dependencies","useState","setRes","useEffect","pending","then","console","error","DataContext","createContext","CardDark","contentDark","ImgIcon","name","slot","size","display","width","height","verticalAlign","SqBadge","color","padding","fontSize","fontWeight","lineHeight","textAlign","whiteSpace","borderRadius","contrastText","artifactSheets","imp","default","tr","setKey","strKey","ns","key18","allData","as","mergeData","s","ArtifactSheet","sheet","getSlotName","slotKey","getSlotDesc","setEffectDesc","setNum","setEffectDocument","setEffects","document","hasEnough","get","this","slots","slotIcons","src","rarity","icons","a","sheets","grouped","entries","forEach","Math","artifactSetEffect","setNums","k","parseInt","sn","length","conditionalHeader","img","title","icon","sx","m","action","DropdownButton","children","props","anchorEl","setAnchorEl","open","Boolean","handleClick","useCallback","event","currentTarget","handleClose","fallback","endIcon","onClick","onClose","MenuListProps","characterSheets","CharacterSheet","charSheet","isMelee","weaponTypeKey","getTalent","eleKey","talents","getTalentOfKey","talentKey","thumbImgSide","marginTop","marginLeft","cardImg","thumbImg","bannerImg","elementKey","constellationName","getLevelString","ascension","ascensionMaxLevel","talentTemplate","fields","conditional","sections","text","talentStrMap","passive","passive1","passive2","passive3","sprint","constellation1","constellation2","constellation3","constellation4","constellation5","constellation6","normalSrc","weaponKey","Assets","weaponTypes","bow","catalyst","claymore","polearm","sword","resin","fragile","condensed","exp_books","advice","wit","experience","weaponSheets","WeaponSheet","weaponSheet","weaponData","passiveDescription","iconAwaken","w","getWeaponsOfType","fromEntries","imgAwaken","conditionaldesc","StarIcon","faStar","Stars","stars","colored","component","Array","i","inferInfoMut","source","slice","reference","objPathValue","dataObjForArtifact","mainStatAssumptionLevel","mainStatVal","Artifact","mainStatValue","mainStatKey","stats","substats","accurateValue","endsWith","dataObjForCharacter","char","result","enemyOverride","enemyLevel","bonusStats","enemyDefIgn_","basic","reactions","layeredAssignment","dataObjForWeapon","teamBuff","uiDataForTeam","teamData","mergedData","targetRef","buffs","calcs","customReadNodes","getReadNode","custom","newNode","sourceKey","sourceBuff","buff","calc","readNode","targetKey","assign","origin","UIData","internal","Set","flatMap","computeUIData","HPIcon","className","faHpPrimary","faHpSecondary","style","CdRedIcon","faCdReductionPrimary","faCdReductionSecondary","EnerRechIcon","faEnergyRechargePrimary","faEnergyRechargeSecondary","uncoloredEleIcons","anemo","faAnemo","geo","faGeo","electro","faElectro","faHydro","faPyro","faCryo","dendro","faDendro","physical","faPhysicalDmgBonus","coloredEleIcon","StatIcon","characterHP","finalHP","hp_","hp","baseATK","faAtk","characterATK","finalATK","atk_","characterDEF","faDef","finalDEF","def_","faElementalMastery","faCritRate","faDiceD20","enerRech_","heal_","faHealingBonus","cdRed_","shield_","faShieldStrength","faMaxStamina","FieldDisplay","field","fieldContext","useContext","oldData","useMemo","canShow","dataNode","isEmpty","oldNode","oldValue","NodeFieldDisplay","suffix","textSuffix","BasicFieldDisplay","v","evalIfFunc","justifyContent","toFixed","fixed","fieldText","KeyMap","fieldFormulaText","formula","fieldVal","diff","valueString","formulaTextOverlay","placement","cursor","ml","faQuestionCircle","FieldDisplayList","List","shape","overflow","margin","contentDarker","CloseButton","large","t","useTranslation","startIcon","p","minWidth","shouldWrap","isFinite","isInteger","abs","parent","Map","nodes","processed","getAll","calculated","trace","formulas","old","assignment","empty","computeNodeDisplay","computeNode","_compute","_threshold","_constant","_subscript","_read","_data","_match","_lookup","first","find","illformed","assertUnreachable","mayNeedWrapping","valueDisplay","prefixDisplay","getPrefixStr","sourceDisplay","getNoUnit","createDisplay","readFirst","_accumulate","readAll","selected","v1Node","v2Node","matchNode","unmatchNode","matching","makeEmpty","valueNode","thresholdNode","fail","threshold","child","operand","unique","delete","next","mergeVariants","identity","allOperations","fStr","separator","every","strings","predisplay","string","item","array","itemFormula","createFormulaComponent","add","mergeFormulaComponents","components","emptyValue","StyledInputBase","InputBase","primary","transition","dark","Wrapper","Button","CustomNumberInputButtonGroupWrapper","disableRipple","disableFocusRipple","disableTouchRipple","CustomNumberInput","onChange","disabled","float","number","setNumber","focused","setFocus","parseFunc","parseFloat","onBlur","onFocus","onInputChange","e","onKeyDOwn","onKeyDown","ScrollModal","Modal","paddingTop","spacing","paddingBottom","ModalContainer","Container","minHeight","flexDirection","pointerEvents","ModalWrapper","containerProps","useCharacterReducer","characterKey","database","DatabaseContext","setWeaponLocation","character","_getChar","statKey","updateChar","newCharKey","oldCharKey","oldChar","newChar","tChar","tind","SolidToggleButtonGroup","ToggleButtonGroup","shouldForwardProp","prop","baseColor","selectedColor","BootstrapTooltip","arrow","classes","popper","tooltipClasses","black","tooltip","CharacterDropdownButton","unSelectText","unSelectIcon","inventory","noUnselect","characterSheet","characterKeys","_getCharKeys","ck","sort","noWrap","CharacterMenuItemArray","selectedCharacterKey","ThumbSide","marginRight","marginBottom","useForceUpdate","stateDirty","update","DocumentDisplay","sectionsDisplay","section","talentText","gap","ListItem","hideDesc","ExpandButton","expand","other","transform","transitions","create","duration","shortest","useTeamData","dbDirty","setDbDirty","teamDataBundle","setTeamdataBundle","getTeamData","r","teamBundle","t1","t2","t3","t4","followChar","calcData","objectMap","obj","rest","overrideArt","getCharDataBundle","char1DataBundle","Promise","all","databundle","_getWeapon","equippedWeapon","getAllData","artifactSheetsData","artifacts","equippedArtifacts","_getArt","ConditionalWrapper","condition","wrapper","falseWrapper","LocationName","location","nameWIthIcon","WeaponToggle","cb","newVal","exclusive","allWeaponTypeKeys","wt","useWeapon","weaponID","setWeapon","followWeapon","useCharSelectionCallback","history","useHistory","reactionMode","buildSettings","initialBuildSettings","infusionAura","compareData","defaultInitialWeapon","weaponId","createWeapon","Stat","printStat","st","Translate","sgt","ConditionalSelector","conditionalValue","characterDispatch","setConditional","conditionalValues","states","stateKey","badge","fullWidth","CheckBox","CheckBoxOutlineBlank","state","MenuItem","Divider","ConditionalDisplay","hideHeader","condVal","description","header","CardHeader","avatar","titleTypographyProps","CardContent","Box","mb","sortFunction","sortby","ascending","configs","Sort","b","config","aV","getValue","bV","localeCompare","filterOption","tieBreaker","filterFunction","filterOptions","filterConfigs","optionKey","optionVal","crystalizeMulti1","crystalizeLevelMultipliers","crystalizeElemas","crystalizeHit","transMulti1","transformativeReactionLevelMultipliers","transMulti2","trans","transformativeReactions","multi","variants","swirl","swirl_dmg_","electroSwirl","pyroSwirl","cryoSwirl","hydroSwirl","shattered","overloaded","electrocharged","superconduct","SortByButton","sortKeys","onChangeAsc","i18nKey","faSortAmountDownAlt","faSortAmountUp","errHeader","talentMap","normal","charged","plunging","range","getDisplayHeader","sectionKey","includes","split","namespace","defIconSrc","cKey","cEle","actionText","getDisplaySections","getDisplay","startsWith","artifact","allWeights","fWeight","pFillerSeq","populatePFillerSeq","prob","sumProb","current","cnr","fill","n","pNExtra","last","reduce","probability","_target","required","numFillerSlots","maxLevel","ArtifactMainStatsData","has","numUpgradeRolls","rollsRemaining","ceil","maxSubstatValues","minTotalUpgrades","targetEntries","filler","minUpgrade","reverse","additionalUpgradeRolls","targetIndex","M","rolls","extra","pExtra","_remaining","remaining","pRolls","pow","mainStat","mainStatRatio","pFillerRolls","numUnusedSubstats","pSuffixFillerSeq","ratio","requiredCount","currentCount","calculatePFillerRolls","allCommutativeMonoidOperations","mul","sum_frac","commutativeMonoidOperationSet","optimize","topLevelData","shouldFold","_formula","deduplicate","flatten","constantFold","mapFormulas","f","flattened","dep","elementCounts","wrap","counts","factored","count","candidatesByOperation","remainingCounts","currentCounts","commonCounts","nextCounts","dependency","commonCount","candidates","candidate","candidateCounts","candidateCount","clear","nextContextMap","fold","context","numericOperands","formulaOperands","folded","numericValue","op","nextContext","PercentBadge","valid","clamp","floor","badgeColor","DisabledButton","secondary","TextButton","FlexButtonGroup","ButtonGroup","StatInput","placeholder","defaultValue","onValueChange","onReset","restProps","flexBasis","flexGrow","px","inputProps","endAdornment","forEachNodes","topDown","bottomUp","visiting","visited","traverse","topDownMap","bottomUpMap","topDownMapped","bottomUpMapped","check","arrayEqual","WeaponSelectionModal","show","onHide","onSelect","propWeaponFilter","weaponFilter","setWeaponfilter","weaponIdList","allWeaponKeys","wKey","py","container","lg","md","allSubstatFilter","allSubstats","ArtifactCard","artifactId","artifactObj","onEdit","onDelete","effFilter","probabilityFilter","databaseArtifact","artifactID","setArtifact","followArt","useArtifact","editable","localDatabase","lock","exclude","mainStatLevel","levelVariant","valueStringWithUnit","getArtifactEfficiency","currentEfficiency","maxEfficiency","artifactValid","slotName","slotDesc","slotDescTooltip","Typography","faInfoCircle","setDescTooltip","setNumKey","Skeleton","pt","pb","pr","alignItems","Chip","label","pl","IconButton","updateArt","Lock","LockOpen","Grid","flexWrap","maxWidth","mt","alignSelf","CardMedia","image","numRolls","rollColor","efficiency","effOpacity","statName","mr","opacity","my","CardActions","xs","flexShrink","setArtLocation","faEdit","Tooltip","faBan","faChartLine","faTrashAlt","BusinessCenter","Replay","ListItemIcon","WeaponCard","canEquip","cs","actionWrapperFunc","CardActionArea","equipOnChar","updateWeapon","alignContent","displayVal","shouldSpreadAdditionalProps","Slot","isHostComponent","CharacterCard","artifactChildren","weaponChildren","characterChildren","onClickHeader","footer","teamDataContext","onClickHandler","dataContextObj","Provider","Header","Weapon","ArtifactDisplay","Stats","characterEle","characterLevel","autoBoost","skillBoost","burstBoost","tAuto","tSkill","tBurst","position","content","left","top","backgroundImage","backgroundPosition","backgroundSize","zIndex","textShadow","mainVal","subKey","subVal","levelName","statkeys","val","SetEffectDisplay","setEffectText","defaultSortKeys","CharacterSelectionModal","newFirst","sortBy","setsortBy","setascending","elementalFilter","setelementalFilter","setweaponFilter","sortConfigs","characterSortConfigs","characterFilterConfigs","characterKeyList","allCharacterKeys","element","CharacterBtn","characterSortKeys","new","StatDisplayComponent","columns","sm","Nodes","Section","displayNs","displayNsReads","nodeKey","EnemyExpandCard","expanded","setexpanded","toggle","eLvlNode","eDefRed","eDefIgn","EnemyResText","in","timeout","unmountOnExit","EnemyEditor","bsProps","href","rel","bgcolor","getStr","elementImmunity","faCheckSquare","faSquare","infusionVals","InfusionAuraDropdown","ReactionToggle","charEleKey","HitModeToggle","DamageOptionsCard","AccordionContext","React","WeaponDisplayCard","propWeaponId","weaponDispatch","newWeapon","setLevel","findIndex","ascenML","setAscension","lowerAscension","ws","initialWeaponFilter","showModal","setshowModal","weaponUIData","startAdornment","ambiguousLevel","milestoneLevels","lv","lvlstr","SwapBtn","onChangeId","process","passiveName","gutterBottom","setShow","close","clickHandler","weapons","dbWeapon","SolidColoredToggleButton","ToggleButton","ElementToggle","getCardHeaderUtilityClass","generateUtilityClass","cardHeaderClasses","generateUtilityClasses","_excluded","CardHeaderRoot","overridesResolver","styles","_extends","subheader","root","CardHeaderAvatar","flex","CardHeaderAction","CardHeaderContent","inProps","ref","useThemeProps","disableTypography","subheaderProp","subheaderTypographyProps","titleProp","_objectWithoutPropertiesLoose","ownerState","composeClasses","useUtilityClasses","_jsx","_jsxs","clsx","createSvgIcon","d","useControlled","controlled","defaultProp","isControlled","valueState","setValue","newValue","createStyled","getAlertUtilityClass","_CloseIcon","alertClasses","AlertRoot","Paper","capitalize","severity","getColor","mode","darken","lighten","getBackgroundColor","typography","body2","light","border","fontWeightMedium","AlertIcon","AlertMessage","message","AlertAction","defaultIconMapping","success","SuccessOutlinedIcon","warning","ReportProblemOutlinedIcon","ErrorOutlineIcon","InfoOutlinedIcon","Alert","closeText","iconMapping","role","elevation","CloseIcon","FormulaCalcCard","ExpandMore","Collapse","CalculationDisplay","FormulaCalc","Accordion","AccordionSummary","expandIcon","AccordionDetails","subform","CharacterArtifactPane","newBuild","edit","artid","pathname","artToEditId","followAnyArt","equipArts","window","confirm","equipArtifacts","unequipArts","artIds","setNumKeyArr","CharacterTeamBuffsPane","TeamBuffDisplay","TeammateDisplay","statBreakpoint","teamBuffs","getTeamBuff","columnSpacing","rowSpacing","dataContext","active","activeCharacterDispatch","activeCharacterKey","dataBundle","teamMateDataContext","PersonAdd","CharArtifactCondDisplay","CharWeaponCondDisplay","CharTalentCondDisplay","DisplaySectionsTeamCond","sts","CharacterOverviewPane","tlvl","tBoost","tKey","Badge","badgeContent","overlap","anchorOrigin","vertical","horizontal","MainStatsCards","mainSubKeys","mainReadNodes","mainEditKeys","otherStatReadNodes","otherStatKeys","miscStatReadNodes","normal_dmg_","normal_critRate_","charged_dmg_","charged_critRate_","plunging_dmg_","plunging_critRate_","skill_dmg_","skill_critRate_","burst_dmg_","burst_critRate_","amplifyingReactions","miscStatkeys","StatDisplayContent","rn","specialNode","StatDisplayCard","editContent","setedit","faSave","CharacterTalentPane","ReactionDisplay","tText","SkillDisplayCard","subtitle","enabled","onClickTitle","ReactionComponents","swirlEleToDisplay","setele","information","Ele","talentLimits","actionWrapeprFunc","levelBoost","newTalentLevelKey","talentSheet","TabPanel","hidden","CharacterDisplayCard","newteamData","tabName","isFlex","charUIData","tab","settab","onTab","dataContextValue","CharSelectDropdown","Tabs","Tab","setCharacter","getCollapseUtilityClass","CollapseRoot","orientation","entered","collapsedSize","visibility","CollapseWrapper","CollapseWrapperInner","wrapperInner","addEndListener","collapsedSizeProp","easing","inProp","onEnter","onEntered","onEntering","onExit","onExited","onExiting","standard","TransitionComponent","Transition","useTheme","timer","wrapperRef","autoTransitionDuration","isHorizontal","clearTimeout","nodeRef","handleRef","useForkRef","normalizedTransitionCallback","callback","maybeIsAppearing","getWrapperSize","handleEnter","isAppearing","handleEntering","wrapperSize","getTransitionProps","transitionDuration","transitionTimingFunction","duration2","getAutoHeightDuration","handleEntered","handleExit","handleExited","handleExiting","setTimeout","childProps","muiSupportAuto","getListItemUtilityClass","listItemClasses","getListItemSecondaryActionClassesUtilityClass","ListItemSecondaryActionRoot","disableGutters","right","ListItemSecondaryAction","ListContext","muiName","_excluded2","ListItemRoot","dense","alignItemsFlexStart","divider","gutters","disablePadding","button","hasSecondaryAction","secondaryAction","textDecoration","boxSizing","paddingLeft","paddingRight","listItemButtonClasses","focusVisible","focus","alpha","selectedOpacity","focusOpacity","disabledOpacity","borderBottom","backgroundClip","hover","hoverOpacity","ListItemContainer","autoFocus","childrenProp","componentProp","componentsProps","ContainerComponent","ContainerProps","ContainerClassName","focusVisibleClassName","childContext","listItemRef","useEnhancedEffect","toArray","isMuiElement","Root","rootProps","componentProps","Component","ButtonBase","pop","getChipUtilityClass","chipClasses","ChipRoot","clickable","deleteIcon","deletable","deleteIconColor","fontFamily","pxToRem","outline","grey","avatarColorPrimary","avatarColorSecondary","avatarSmall","WebkitTapHighlightColor","userSelect","boxShadow","shadows","iconSmall","deleteIconSmall","ChipLabel","textOverflow","isDeleteKeyboardEvent","keyboardEvent","avatarProp","clickableProp","ComponentProp","deleteIconProp","iconProp","onKeyUp","chipRef","handleDeleteIconClick","stopPropagation","small","moreProps","customClasses","CancelIcon","preventDefault","blur","getCardMediaUtilityClass","CardMediaRoot","isMediaComponent","isImageComponent","media","backgroundRepeat","objectFit","MEDIA_COMPONENTS","IMAGE_COMPONENTS","indexOf","composedStyle","getCardActionAreaUtilityClass","cardActionAreaClasses","CardActionAreaRoot","focusHighlight","CardActionAreaFocusHighlight","bottom","short","createBox","getCardActionsUtilityClass","CardActionsRoot","disableSpacing","getMasonryUtilityClass","parseToNumber","replace","MasonryRoot","flexFlow","stylesSSR","isSSR","orderStyleSSR","defaultSpacing","defaultColumns","order","defaultHeight","spacingValues","resolveBreakpointValues","breakpoints","transformer","createUnarySpacing","deepmerge","handleBreakpoints","propValue","themeSpacingValue","maxColumnHeight","columnValues","columnValue","breakpoint","lastBreakpoint","column","Masonry","masonryRef","setMaxColumnHeight","numberOfLineBreaks","setNumberOfLineBreaks","observer","ResizeObserver","masonryChildren","masonry","masonryFirstChild","firstChild","parentWidth","clientWidth","firstChildWidth","firstChildComputedStyle","getComputedStyle","firstChildMarginLeft","firstChildMarginRight","currentNumberOfColumns","round","columnHeights","skip","childNodes","nodeType","Node","ELEMENT_NODE","dataset","class","childComputedStyle","childMarginTop","childMarginBottom","childHeight","nestedChild","tagName","clientHeight","currentMinColumnIndex","resizeObserver","childNode","observe","disconnect","lineBreakStyle","lineBreaks","usePreviousProps","getBadgeUtilityClass","badgeUnstyledClasses","BadgeUnstyled","anchorOriginProp","classesProp","maxProp","showZero","variantProp","badgeContentProp","invisibleProp","invisible","prevProps","displayValue","useBadge","appendOwnerState","badgeProps","badgeClasses","BadgeRoot","BadgeBadge","RADIUS_STANDARD","easeInOut","enteringScreen","RADIUS_DOT","transformOrigin","leavingScreen","_componentsProps$root","_componentsProps$badg","overlapProp","colorProp","extendUtilityClasses","getAccordionUtilityClass","accordionClasses","AccordionRoot","region","square","rounded","overflowAnchor","disabledBackground","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","arr","defaultExpanded","expandedProp","TransitionProps","setExpandedState","handleChange","arrayWithHoles","iterableToArray","unsupportedIterableToArray","nonIterableRest","summary","contextValue","getAccordionSummaryUtilityClass","accordionSummaryClasses","AccordionSummaryRoot","AccordionSummaryContent","AccordionSummaryExpandIconWrapper","expandIconWrapper","focusRipple","getAccordionDetailsUtilityClass","AccordionDetailsRoot","mapEventPropToEvent","eventProp","substring","toLowerCase","ClickAwayListener","disableReactTree","mouseEvent","onClickAway","touchEvent","movedRef","activatedRef","syntheticEventRef","handleClickAway","useEventCallback","insideReactTree","doc","ownerDocument","documentElement","clientX","clientY","clickedRootScrollbar","composedPath","contains","createHandleSynthetic","handlerName","childrenPropsHandler","childrenProps","mappedTouchEvent","handleTouchMove","addEventListener","removeEventListener","mappedMouseEvent","getSnackbarContentUtilityClass","SnackbarContentRoot","emphasis","emphasize","background","getContrastText","up","SnackbarContentMessage","SnackbarContentAction","SnackbarContent","getSnackbarUtilityClass","SnackbarRoot","center","isRtl","snackbar","Snackbar","autoHideDuration","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","onMouseEnter","onMouseLeave","resumeHideDuration","Grow","enter","exit","direction","timerAutoHide","exited","setExited","setAutoHideTimer","autoHideDurationParam","handlePause","handleResume","handleKeyDown","nativeEvent","defaultPrevented","appear","FlexDisplay","useLocation","searchStr","search","Database","Display","to","setOpen","reason","copyToClipboard","url","navigator","clipboard","writeText","catch","faLink","readOnly","selectionStart","selectionEnd"],"mappings":"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","file":"static/js/11.b414c650.chunk.js","sourcesContent":["import { allEleEnemyResKeys } from \"../KeyMap\"\nimport { allArtifactSets, allElementsWithPhy, allRegions, allSlotKeys } from \"../Types/consts\"\nimport { crawlObject, deepClone, objectKeyMap, objectKeyValueMap } from \"../Util/Util\"\nimport { Data, Info, NumNode, ReadNode, StrNode } from \"./type\"\nimport { constant, equalStr, frac, infoMut, lookup, max, min, naught, percent, prod, read, res, setReadNodeKeys, stringRead, sum, unit } from \"./utils\"\n\nconst asConst = true as const, pivot = true as const\n\nconst allElements = allElementsWithPhy\nconst allTalents = [\"auto\", \"skill\", \"burst\"] as const\nconst allMoves = [\"normal\", \"charged\", \"plunging\", \"skill\", \"burst\", \"elemental\"] as const\nconst allArtModStats = [\"hp\", \"hp_\", \"atk\", \"atk_\", \"def\", \"def_\", \"eleMas\", \"enerRech_\", \"critRate_\", \"critDMG_\"] as const\nconst allArtNonModStats = [\"physical_dmg_\", \"anemo_dmg_\", \"geo_dmg_\", \"electro_dmg_\", \"hydro_dmg_\", \"pyro_dmg_\", \"cryo_dmg_\", \"heal_\"] as const\nconst allTransformative = [\"overloaded\", \"shattered\", \"electrocharged\", \"superconduct\", \"swirl\"] as const\nconst allAmplifying = [\"vaporize\", \"melt\"] as const\nconst allMisc = [\n  \"stamina\", \"staminaDec_\", \"staminaSprintDec_\", \"staminaGlidingDec_\", \"staminaChargedDec_\",\n  \"incHeal_\", \"shield_\", \"cdRed_\", \"moveSPD_\", \"atkSPD_\", \"weakspotDMG_\"\n] as const\n\nconst allModStats = [\n  ...allArtModStats,\n  ...([\"all\", \"burning\", ...allTransformative, ...allAmplifying, ...allMoves] as const).map(x => `${x}_dmg_` as const),\n]\nconst allNonModStats = [\n  ...allArtNonModStats,\n  ...([\"all\", ...allMoves] as const).map(x => `${x}_dmgInc` as const),\n  ...([...allElements] as const).map(x => `${x}_critDMG_` as const),\n  ...allElements.map(x => `${x}_res_` as const),\n  ...allMoves.map(x => `${x}_critRate_` as const),\n  ...allEleEnemyResKeys,\n  \"enemyDefRed_\" as const,\n  ...allMisc,\n]\n\nconst talent = objectKeyMap(allTalents, _ => read())\nconst allModStatNodes = objectKeyMap(allModStats, key => read(undefined, { key }))\nconst allNonModStatNodes = objectKeyMap(allNonModStats, key => read(undefined, { key }))\n\nfor (const ele of allElements) {\n  allNonModStatNodes[`${ele}_res_`].info!.variant = ele\n  allNonModStatNodes[`${ele}_enemyRes_`].info!.variant = ele\n  allNonModStatNodes[`${ele}_critDMG_`].info!.variant = ele\n  allNonModStatNodes[`${ele}_dmg_`].info!.variant = ele\n}\nfor (const reaction of [...allTransformative, ...allAmplifying]) {\n  allModStatNodes[`${reaction}_dmg_`].info!.variant = reaction\n}\n\nfunction withDefaultInfo<T>(info: Info, value: T): T {\n  value = deepClone(value)\n  crawlObject(value, [], (x: any) => x.operation, (x: NumNode | StrNode) => x.info = { ...info, ...x.info, })\n  return value\n}\nfunction markAccu<T>(accu: ReadNode<number>[\"accu\"], value: T): void {\n  crawlObject(value, [], (x: any) => x.operation, (x: NumNode | StrNode) => {\n    if (x.operation === \"read\" && x.type === \"number\") x.accu = accu\n  })\n}\n\n/** All read nodes */\nconst input = setReadNodeKeys(deepClone({\n  activeCharKey: stringRead(),\n  charKey: stringRead(), charEle: stringRead(), infusion: stringRead(), weaponType: stringRead(),\n  lvl: read(undefined, { key: \"level\", prefix: \"char\" }), constellation: read(), asc: read(), special: read(),\n\n  base: objectKeyMap(['atk', 'hp', 'def'], key => read(\"add\", { key })),\n  customBonus: withDefaultInfo({ prefix: \"custom\", pivot }, {\n    ...allModStatNodes, ...allNonModStatNodes,\n  }),\n  bonus: { ...talent },\n  premod: { ...talent, ...allModStatNodes, ...allNonModStatNodes },\n  total: withDefaultInfo({ prefix: \"total\", pivot }, {\n    ...talent, ...objectKeyValueMap(allTalents, talent => [`${talent}Index`, read()]),\n    ...allModStatNodes, ...allNonModStatNodes,\n    /** Total Crit Rate capped to [0%, 100%] */\n    cappedCritRate: read(undefined, { key: \"critRate_\" }),\n  }),\n\n  art: withDefaultInfo({ prefix: \"art\", asConst }, {\n    ...objectKeyMap(allArtModStats, key => allModStatNodes[key]),\n    ...objectKeyMap(allArtNonModStats, key => allNonModStatNodes[key]),\n    ...objectKeyMap(allSlotKeys, _ => ({ id: stringRead(), set: stringRead() })),\n  }),\n  artSet: objectKeyMap(allArtifactSets, set => read(\"add\", { key: set })),\n\n  weapon: withDefaultInfo({ prefix: \"weapon\", asConst }, {\n    key: stringRead(), type: stringRead(),\n\n    lvl: read(), asc: read(), refinement: read(), refineIndex: read(),\n    main: read(), sub: read(), sub2: read(),\n  }),\n\n  team: { infusion: stringRead() },\n\n  enemy: {\n    def: read(\"add\", { key: \"enemyDef_multi\", pivot }),\n    ...objectKeyMap(allElements.map(ele => `${ele}_resMulti` as const), _ => read()),\n\n    level: read(undefined, { key: \"enemyLevel\" }),\n    ...objectKeyValueMap(allElements, ele => [`${ele}_res_`, read(undefined)]),\n    defRed: read(undefined),\n    defIgn: read(\"add\", { key: \"enemyDefIgn_\", pivot }),\n  },\n\n  hit: {\n    ele: stringRead(), reaction: stringRead(), move: stringRead(), hitMode: stringRead(),\n    base: read(\"add\", { key: \"base\" }),\n\n    dmgBonus: read(undefined, { key: \"dmg_\", pivot }),\n    dmgInc: read(undefined, { key: \"dmgInc\", pivot }),\n    dmg: read(),\n  },\n}))\n\nconst { base, bonus, customBonus, premod, total, art, hit, enemy } = input\n\n// Adjust `info` for printing\nmarkAccu('add', {\n  bonus, customBonus, premod, art,\n  total: objectKeyMap(allModStats, stat => total[stat]),\n})\nbonus.auto.info = { key: \"autoBoost\" }\nbonus.skill.info = { key: \"skillBoost\" }\nbonus.burst.info = { key: \"burstBoost\" }\nbase.atk.info = { key: \"atk\", prefix: \"base\", pivot }\ndelete total.critRate_.info!.pivot\ntotal.critRate_.info!.prefix = \"uncapped\"\n\n// Nodes that are not used anywhere else but `common` below\n\n/** Base Amplifying Bonus */\nconst baseAmpBonus = sum(unit, prod(25 / 9, frac(total.eleMas, 1400)))\n/** Effective reaction, taking into account the hit's element */\nexport const effectiveReaction = lookup(hit.ele, {\n  pyro: lookup(hit.reaction, { vaporize: constant(\"vaporize\"), melt: constant(\"melt\") }, undefined),\n  hydro: equalStr(hit.reaction, \"vaporize\", \"vaporize\"),\n  cryo: equalStr(hit.reaction, \"melt\", \"melt\"),\n}, undefined)\n\nconst common: Data = {\n  premod: {\n    ...objectKeyMap(allTalents, talent => bonus[talent]),\n    ...objectKeyMap(allNonModStats, key => customBonus[key]),\n    ...objectKeyMap([...allModStats, ...allArtNonModStats] as const, key => {\n      const operands: NumNode[] = []\n      switch (key) {\n        case \"atk\": case \"def\": case \"hp\":\n          operands.push(prod(base[key], sum(unit, premod[`${key}_`])))\n          break\n        case \"critRate_\":\n          operands.push(percent(0.05, { key, prefix: \"default\" }),\n            lookup(hit.move, objectKeyMap(allMoves, move => customBonus[`${move}_critRate_`]), 0))\n          break\n        case \"critDMG_\":\n          operands.push(percent(0.5, { key, prefix: \"default\" }),\n            lookup(hit.ele, objectKeyMap(allElements, ele => customBonus[`${ele}_critDMG_`]), 0))\n          break\n        case \"enerRech_\":\n          operands.push(percent(1, { key, prefix: \"default\" }))\n          break\n      }\n      return sum(...[...operands, art[key], customBonus[key]].filter(x => x))\n    }),\n  },\n  total: {\n    ...objectKeyMap(allTalents, talent => premod[talent]),\n    ...objectKeyMap(allModStats, key => premod[key]),\n    ...objectKeyMap(allNonModStats, key => premod[key]),\n    ...objectKeyValueMap(allTalents, talent => [`${talent}Index`, sum(total[talent], -1)]),\n    stamina: sum(constant(100, { key: \"stamina\", prefix: \"default\" }), customBonus.stamina),\n\n    cappedCritRate: max(min(total.critRate_, unit), naught),\n  },\n\n  hit: {\n    dmgBonus: sum(\n      total.all_dmg_,\n      lookup(effectiveReaction, objectKeyMap(allAmplifying, reaction => total[`${reaction}_dmg_`]), naught),\n      lookup(hit.move, objectKeyMap(allMoves, move => total[`${move}_dmg_`]), naught),\n      lookup(hit.ele, objectKeyMap(allElements, ele => total[`${ele}_dmg_`]), naught)\n    ),\n    dmgInc: sum(\n      total.all_dmgInc,\n      lookup(hit.move, objectKeyMap(allMoves, move => total[`${move}_dmgInc`]), NaN)\n    ),\n    dmg: prod(\n      sum(hit.base, hit.dmgInc),\n      sum(unit, hit.dmgBonus),\n      lookup(hit.hitMode, {\n        hit: unit,\n        critHit: sum(unit, total.critDMG_),\n        avgHit: sum(unit, prod(total.cappedCritRate, total.critDMG_)),\n      }, NaN),\n      enemy.def,\n      lookup(hit.ele,\n        objectKeyMap(allElements, ele => enemy[`${ele}_resMulti` as const]), NaN),\n      lookup(effectiveReaction, {\n        melt: lookup(hit.ele, {\n          pyro: prod(2, baseAmpBonus),\n          cryo: prod(1.5, baseAmpBonus),\n        }, 1, { key: \"melt_dmg_\" }),\n        vaporize: lookup(hit.ele, {\n          hydro: prod(2, baseAmpBonus),\n          pyro: prod(1.5, baseAmpBonus),\n        }, 1, { key: \"vaporize_dmg_\" }),\n      }, 1),\n    ),\n  },\n\n  enemy: {\n    // TODO: shred cap of 90%\n    def: frac(sum(input.lvl, 100), prod(sum(enemy.level, 100), sum(unit, prod(-1, enemy.defRed)), sum(unit, prod(-1, enemy.defIgn)))),\n    defRed: total.enemyDefRed_,\n    ...objectKeyValueMap(allElements, ele =>\n      [`${ele}_resMulti`, res(infoMut(sum(enemy[`${ele}_res_`], total[`${ele}_enemyRes_`]), { key: `${ele}_res_`, variant: ele }))]),\n  },\n}\n\nconst target = setReadNodeKeys(deepClone(input), [\"target\"])\nconst tally = setReadNodeKeys(objectKeyMap([...allElements, ...allRegions], _ => read(\"add\")), [\"tally\"])\n\n/**\n * List of `input` nodes, rearranged to conform to the needs of the\n * UI code. This is a separate list so that the evolution of the UIs\n * does not rely on the structure of `input`. So the UI code can rearrange\n * nodes as it sees fit without requiring updates to data sheets, which\n * pertains ~90% of all `input`-related code, and so are very sensitive\n * to any changes to `input`. For zero overhead, use the nodes directly\n * from `input` instead of a copy.\n */\nconst uiInput = input\n\nexport {\n  input, uiInput, common, customBonus,\n\n  target, tally,\n}\n","import { Card, styled } from \"@mui/material\";\n\nconst CardLight = styled(Card)(({ theme }) => ({\n  backgroundColor: theme.palette.contentLight.main\n}));\n\nexport default CardLight","\nimport { objectKeyMap } from \"../Util/Util\"\nimport type { AnyNode, Data, DataNode, Info, LookupNode, MatchNode, NumNode, ReadNode, StrNode, SubscriptNode } from \"./type\"\n\ntype Num = number | NumNode\ntype Str = string | undefined | StrNode\ntype Any = Num | Str\n\nexport const todo: NumNode = constant(NaN, { key: \"TODO\" })\nexport const unit = percent(1), naught = percent(0)\n\nexport function constant(value: number, info?: Info): NumNode\nexport function constant(value: string | undefined, info?: Info): StrNode\nexport function constant(value: number | string | undefined, info?: Info): AnyNode\nexport function constant(value: number | string | undefined, info?: Info): AnyNode {\n  return { operation: \"const\", operands: [], value, info }\n}\n/** `value` in percentage. The value is written as non-percentage, e.g., `percent(1)` for 100% */\nexport function percent(value: number, info?: Info): NumNode {\n  if (value >= Number.MAX_VALUE / 100) value = Infinity\n  if (value <= -Number.MAX_VALUE / 100) value = -Infinity\n  return constant(value, { key: \"_\", ...info })\n}\n/** Inject `info` to the node in-place */\nexport function infoMut(node: NumNode, info: Info): NumNode\nexport function infoMut(node: StrNode, info: Info): StrNode\nexport function infoMut(node: NumNode | StrNode, info: Info): NumNode | StrNode {\n  if (info) node.info = { ...node.info, ...info }\n  return node\n}\n\n/** `table[string] ?? defaultNode` */\nexport function lookup(index: StrNode, table: Dict<string, NumNode>, defaultV: Num | \"none\", info?: Info): NumNode\nexport function lookup(index: StrNode, table: Dict<string, StrNode>, defaultV: Str | \"none\", info?: Info): StrNode\nexport function lookup(index: StrNode, table: Dict<string, AnyNode>, defaultV: Any | \"none\", info?: Info): LookupNode<any> {\n  const operands = defaultV !== \"none\" ? [intoV(index), intoV(defaultV)] as const : [intoV(index)] as const\n  return { operation: \"lookup\", operands, table, info }\n}\n\n/** min( x1, x2, ... ) */\nexport function min(...values: Num[]): NumNode {\n  return { operation: \"min\", operands: intoOps(values) }\n}\n/** max( x1, x2, ... ) */\nexport function max(...values: Num[]): NumNode {\n  return { operation: \"max\", operands: intoOps(values) }\n}\n/** x1 + x2 + ... */\nexport function sum(...values: Num[]): NumNode {\n  return { operation: \"add\", operands: intoOps(values) }\n}\n/** x1 * x2 * ... */\nexport function prod(...values: Num[]): NumNode {\n  return { operation: \"mul\", operands: intoOps(values) }\n}\n/** x / (x + c) */\nexport function frac(x: Num, c: Num): NumNode {\n  return { operation: \"sum_frac\", operands: intoOps([x, c]) }\n}\nexport function res(base: Num): NumNode {\n  return { operation: \"res\", operands: intoOps([base]) }\n}\n\n/** v1 == v2 ? pass : 0 */\nexport function equal(v1: Num, v2: Num, pass: Num, info?: Info): MatchNode<NumNode, NumNode>\nexport function equal(v1: Str, v2: Str, pass: Num, info?: Info): MatchNode<NumNode, NumNode>\nexport function equal(v1: Num | Str, v2: Num | Str, pass: Num, info?: Info): MatchNode<NumNode | StrNode, NumNode | StrNode> {\n  return { operation: \"match\", operands: [intoV(v1), intoV(v2), intoV(pass), intoV(0)], info, emptyOn: \"unmatch\" }\n}\n/** v1 == v2 ? pass : `undefined` */\nexport function equalStr(v1: Num, v2: Num, pass: Str, info?: Info): MatchNode<StrNode, NumNode>\nexport function equalStr(v1: Str, v2: Str, pass: Str, info?: Info): MatchNode<StrNode, NumNode>\nexport function equalStr(v1: Num | Str, v2: Num | Str, pass: Str, info?: Info): MatchNode<StrNode, NumNode | StrNode> {\n  return { operation: \"match\", operands: [intoV(v1), intoV(v2), intoV(pass), intoV(undefined)], info, emptyOn: \"unmatch\" }\n}\n/** v1 != v2 ? pass : 0 */\nexport function unequal(v1: Num, v2: Num, pass: Num, info?: Info): MatchNode<NumNode, NumNode>\nexport function unequal(v1: Str, v2: Str, pass: Num, info?: Info): MatchNode<NumNode, NumNode>\nexport function unequal(v1: Num | Str, v2: Num | Str, pass: Num | Str, info?: Info): MatchNode<NumNode | StrNode, NumNode | StrNode> {\n  return { operation: \"match\", operands: [intoV(v1), intoV(v2), intoV(0), intoV(pass)], info, emptyOn: \"match\" }\n}\n/** v1 >= v2 ? pass : 0 */\nexport function greaterEq(v1: Num, v2: Num, pass: Num, info?: Info): NumNode\nexport function greaterEq(v1: Num, v2: Num, pass: Num, info?: Info): NumNode {\n  const operands = [intoV(v1), intoV(v2), intoV(pass), intoV(0)] as any\n  return { operation: \"threshold\", operands, info, emptyOn: \"l\" }\n}\n/** v1 >= v2 ? pass : `undefined` */\nexport function greaterEqStr(v1: Num, v2: Num, pass: Str, info?: Info): StrNode\nexport function greaterEqStr(v1: Num, v2: Num, pass: Str, info?: Info): NumNode | StrNode {\n  const operands = [intoV(v1), intoV(v2), intoV(pass), intoV(undefined)] as any\n  return { operation: \"threshold\", operands, info, emptyOn: \"l\" }\n}\n/** v1 < v2 ? pass : 0 */\nexport function lessThan(v1: Num, v2: Num, pass: Num, info?: Info): NumNode\nexport function lessThan(v1: Num, v2: Num, pass: Num | Str, info?: Info): NumNode | StrNode {\n  const operands = [intoV(v1), intoV(v2), intoV(0), intoV(pass)] as any\n  return { operation: \"threshold\", operands, info, emptyOn: \"ge\" }\n}\n\nexport function setReadNodeKeys<T extends NodeList>(nodeList: T, prefix: string[] = []): T {\n  if (nodeList.operation) {\n    if (nodeList.operation !== \"read\")\n      throw new Error(`Found ${(nodeList as any).operation} node while making reader`)\n    return { ...nodeList, path: prefix }\n  } else {\n    return objectKeyMap(Object.keys(nodeList), key =>\n      setReadNodeKeys(nodeList[key], [...prefix, key])) as any\n  }\n}\nexport function data(base: NumNode, data: Data): DataNode<NumNode>\nexport function data(base: StrNode, data: Data): DataNode<StrNode>\nexport function data(base: NumNode | StrNode, data: Data): DataNode<NumNode> | DataNode<StrNode>\nexport function data(base: AnyNode, data: Data): DataNode<AnyNode> {\n  return { operation: \"data\", operands: [base], data }\n}\nexport function resetData(base: NumNode, data: Data, info?: Info): NumNode\nexport function resetData(base: StrNode, data: Data, info?: Info): StrNode\nexport function resetData(base: NumNode | StrNode, data: Data, info?: Info): DataNode<NumNode | StrNode>\nexport function resetData(base: AnyNode, data: Data, info?: Info): DataNode<any> {\n  return { operation: \"data\", operands: [base], data, reset: true, info }\n}\n\n\nexport function customRead(path: readonly string[], info?: Info): ReadNode<number> {\n  return { operation: \"read\", operands: [], path, info, type: \"number\" }\n}\nexport function customStringRead(path: readonly string[]): ReadNode<string> {\n  return { operation: \"read\", operands: [], path, type: \"string\" }\n}\nexport function read(accu?: ReadNode<number>[\"accu\"], info?: Info): ReadNode<number> {\n  return { operation: \"read\", operands: [], path: [], accu, info, type: \"number\" }\n}\nexport function stringRead(): ReadNode<string | undefined> {\n  return { operation: \"read\", operands: [], path: [], type: \"string\" }\n}\nexport function stringPrio(...operands: Str[]): StrNode {\n  return { operation: \"prio\", operands: intoOps(operands) }\n}\n/** list[index] */\nexport function subscript<V>(index: NumNode, list: V[], info?: Info): SubscriptNode<V> {\n  return { operation: \"subscript\", operands: [index], list, info }\n}\n\nfunction intoOps(values: Num[]): NumNode[]\nfunction intoOps(values: Str[]): StrNode[]\nfunction intoOps(values: Any[]): AnyNode[]\nfunction intoOps(values: Any[]): AnyNode[] {\n  return values.map(value => typeof value === \"object\" ? value : constant(value))\n}\nfunction intoV(value: Num): NumNode\nfunction intoV(value: Str): StrNode\nfunction intoV(value: Num | Str): NumNode | StrNode\nfunction intoV(value: Any): AnyNode {\n  return (typeof value !== \"object\") ? constant(value) : value\n}\n\ntype _NodeList = {\n  [key: string]: NodeList\n} & {\n  operation?: never\n}\ntype NodeList = _NodeList | ReadNode<number> | ReadNode<string>\n\n/*\n * Deprecated\n */\n\n/**\n * value >= threshold ? value : emptyValue\n * @deprecated Use `greaterEq`, `lessEq`, or `greaterEqStr` instead\n */\nexport function threshold(value: Num, threshold: Num, pass: Str, fail: Str, info?: Info): StrNode\nexport function threshold(value: Num, threshold: Num, pass: Num, fail: Num, info?: Info): NumNode\nexport function threshold(value: Num, threshold: Num, pass: Num | Str, fail: Num | Str, info?: Info): NumNode | StrNode {\n  const operands = [intoV(value), intoV(threshold), intoV(pass), intoV(fail)] as any\n  return { operation: \"threshold\", operands, info }\n}\n/**\n * value >= threshold ? addition : 0\n * @deprecated Use `greaterEq` or `lessEq` instead\n */\nexport function threshold_add(value: Num, thres: Num, addition: Num, info?: Info): NumNode {\n  return threshold(value, thres, addition, 0, info)\n}\n\n/**\n * `v1` === `v2` ? `match` : 0\n * @deprecated Use `equal` instead\n */\nexport function match(v1: Str, v2: Str, match: Num, info?: Info): NumNode {\n  return { operation: \"match\", operands: [intoV(v1), intoV(v2), intoV(match), intoV(0)], info, emptyOn: \"unmatch\" }\n}\n/**\n * `v1` === `v2` ? 0 : `unmatch`\n * @deprecated Use `unequal` instead\n */\nexport function unmatch(v1: Str, v2: Str, unmatch: Num, info?: Info): NumNode {\n  return { operation: \"match\", operands: [intoV(v1), intoV(v2), intoV(0), intoV(unmatch)], info, emptyOn: \"match\" }\n}\n/**\n * `v1` === `v2` ? `match` : `unmatch`\n * @deprecated Use `equal`, `unequal`, or `equalStr` instead\n */\nexport function matchFull(v1: Num, v2: Num, match: Num, unmatch: Num, info?: Info): MatchNode<NumNode, NumNode>\nexport function matchFull(v1: Num, v2: Num, match: Str, unmatch: Str, info?: Info): MatchNode<StrNode, NumNode>\nexport function matchFull(v1: Str, v2: Str, match: Num, unmatch: Num, info?: Info): MatchNode<NumNode, StrNode>\nexport function matchFull(v1: Str, v2: Str, match: Str, unmatch: Str, info?: Info): MatchNode<StrNode, StrNode>\nexport function matchFull(v1: Num | Str, v2: Num | Str, match: Num | Str, unmatch: Num | Str, info?: Info): MatchNode<NumNode | StrNode, NumNode | StrNode> {\n  return { operation: \"match\", operands: [intoV(v1), intoV(v2), intoV(match), intoV(unmatch)], info }\n}\n","import { useEffect, useState } from \"react\";\n\nexport default function usePromise<T>(promise: Promise<T> | undefined, dependencies: any[]): T | undefined {\n  const [res, setRes] = useState<T | undefined>(undefined);\n  useEffect(() => {\n    let pending = true\n    promise?.then(res => pending && setRes(() => res), console.error) ?? setRes(undefined)\n    return () => {\n      pending = false\n      setRes(undefined)\n    }\n  }, dependencies)// eslint-disable-line react-hooks/exhaustive-deps\n  return res\n}","import { createContext } from \"react\"\nimport CharacterSheet from \"./Data/Characters/CharacterSheet\"\nimport { UIData } from \"./Formula/uiData\"\nimport { ICachedCharacter } from \"./Types/character_WR\"\nimport { CharacterKey } from \"./Types/consts\"\nimport { ICachedWeapon } from \"./Types/weapon_WR\"\nimport WeaponSheet from \"./Data/Weapons/WeaponSheet\"\nexport type TeamData = Partial<Record<CharacterKey, {\n  target: UIData\n  buffs: Dict<CharacterKey, UIData>\n  character: ICachedCharacter\n  weapon: ICachedWeapon\n  characterSheet: CharacterSheet\n  weaponSheet: WeaponSheet\n}>>\nexport type dataContextObj = {\n  character: ICachedCharacter\n  characterSheet: CharacterSheet\n  data: UIData\n  oldData?: UIData\n  mainStatAssumptionLevel: number\n  teamData: TeamData\n  characterDispatch: (_: any) => void\n}\n\n// If using this context without a Provider, then stuff will crash...\n// In theory, none of the components that uses this context should work without a provider...\nexport const DataContext = createContext({} as dataContextObj)\n","import { Card, styled } from \"@mui/material\";\n\nconst CardDark = styled(Card)(({ theme }) => ({\n  backgroundColor: theme.palette.contentDark.main\n}));\n\nexport default CardDark","import { styled } from \"@mui/material\"\ninterface ImgIconProps {\n  size?: number;\n}\nconst ImgIcon = styled(\"img\", {\n  name: 'ImgIcon',\n  slot: 'Root',\n})<ImgIconProps>(({ size = 1 }) => ({\n  display: \"inline-block\",\n  width: \"auto\",\n  height: `${size * 1.2}em`,\n  verticalAlign: \"text-bottom\"\n}))\n\nexport default ImgIcon","import { styled } from \"@mui/material\";\n\nconst SqBadge = styled(\"span\", {\n  name: 'SqBadge',\n  slot: 'Root',\n})(({ theme, color = \"primary\" }) => ({\n  display: \"inline-block\",\n  padding: \".25em .4em\",\n  fontSize: \"75%\",\n  fontWeight: 700,\n  lineHeight: 1,\n  textAlign: \"center\",\n  whiteSpace: \"nowrap\",\n  verticalAlign: \"baseline\",\n  borderRadius: \".25em\",\n  backgroundColor: theme.palette[color]?.main,\n  color: theme.palette[color]?.contrastText\n}))\nexport default SqBadge","import ImgIcon from \"../../Components/Image/ImgIcon\";\nimport { Translate } from \"../../Components/Translate\";\nimport { mergeData } from \"../../Formula/api\";\nimport { Data } from \"../../Formula/type\";\nimport { allSlotKeys, ArtifactRarity, ArtifactSetKey, SetNum, SlotKey } from \"../../Types/consts\";\nimport { DocumentSection } from \"../../Types/sheet\";\nimport { UIData } from \"../../Formula/uiData\"\nimport { input } from \"../../Formula\"\nimport SqBadge from \"../../Components/SqBadge\";\nimport IConditional from \"../../Types/IConditional_WR\";\n\n// TODO: remove typecasting once all sheets populated\nconst artifactSheets = import(\".\").then(imp => imp.default)\n\nexport interface IArtifactSheet {\n  name: string, // only to stored the English name for OCR, otherwise, should come from localization pipeline\n  rarity: readonly ArtifactRarity[],\n  icons: Dict<SlotKey, string>,\n  setEffects: Dict<SetNum, SetEffectEntry>\n}\nexport interface SetEffectEntry {\n  document?: DocumentSection[],\n}\n\n\nconst tr = (setKey: string, strKey: string) => <Translate ns={`artifact_${setKey}_gen`} key18={strKey} />\nconst allData = artifactSheets.then(as => mergeData(Object.values(as).map(s => s.data)))\nexport class ArtifactSheet {\n  readonly sheet: IArtifactSheet\n  readonly key: ArtifactSetKey\n  readonly data: Data\n  constructor(setKey: ArtifactSetKey, sheet: IArtifactSheet, data: Data) {\n    this.sheet = sheet\n    this.key = setKey\n    this.data = data\n  }\n\n  get name() { return tr(this.key, \"setName\") }\n  get defIconSrc() {\n    const slotKey = this.slots[0]\n    if (!this.slotIcons[slotKey]) return undefined\n    return this.slotIcons[slotKey]\n  }\n  /**\n   * @deprecated use src directly\n   */\n  get nameWithIcon() {\n    const slotKey = this.slots[0]\n    return <span><ImgIcon src={this.slotIcons[slotKey]} /> {tr(this.key, \"setName\")}</span>\n  }\n\n  //This is only for OCR, because we only scan in english right now.\n  get nameRaw(): string { return this.sheet.name }\n  get rarity(): readonly ArtifactRarity[] { return this.sheet.rarity }\n  get slots(): SlotKey[] {\n    switch (this.key) {\n      // TODO: Prayer sets\n      // case \"PrayersForDestiny\":\n      // case \"PrayersForIllumination\":\n      // case \"PrayersForWisdom\":\n      // case \"PrayersToSpringtime\": return [\"circlet\"]\n      default: return [...allSlotKeys]\n    }\n  }\n  get slotIcons(): Dict<SlotKey, string> { return this.sheet.icons }\n  get setEffects(): Dict<SetNum, SetEffectEntry> { return this.sheet.setEffects }\n  getSlotName = (slotKey: SlotKey) => tr(this.key, `pieces.${slotKey}.name`)\n  getSlotDesc = (slotKey: SlotKey) => tr(this.key, `pieces.${slotKey}.desc`)\n  setEffectDesc = (setNum: SetNum): Displayable => tr(this.key, `setEffects.${setNum}`)\n  setEffectDocument = (setNum: SetNum) => this.sheet.setEffects[setNum]?.document\n\n  static get(set: ArtifactSetKey | undefined): Promise<ArtifactSheet> | undefined { return set ? artifactSheets.then(a => a[set]) : undefined }\n  static get getAll() { return artifactSheets }\n  static get getAllData() { return allData }\n  static setKeysByRarities(sheets: StrictDict<ArtifactSetKey, ArtifactSheet>): Dict<ArtifactRarity, ArtifactSetKey[]> {\n    const grouped: Dict<ArtifactRarity, ArtifactSetKey[]> = {}\n    Object.entries(sheets).forEach(([key, sheet]) => {\n      const rarity = Math.max(...sheet.rarity) as ArtifactRarity\n      if (grouped[rarity]) grouped[rarity]!.push(key)\n      else grouped[rarity] = [key]\n    })\n    return grouped\n  }\n\n  static setEffects(sheets: StrictDict<ArtifactSetKey, ArtifactSheet>, data: UIData) {\n    const artifactSetEffect: Partial<Record<ArtifactSetKey, SetNum[]>> = {}\n    Object.entries(sheets).forEach(([setKey, sheet]) => {\n      const setNums = (Object.keys(sheet.setEffects).map(k => parseInt(k)) as SetNum[]).filter(sn => sheet.hasEnough(sn, data))\n      if (setNums.length) artifactSetEffect[setKey] = setNums\n    })\n    return artifactSetEffect\n  }\n  hasEnough = (setNum: SetNum, data: UIData) => (data.get(input.artSet[this.key]).value ?? 0) >= setNum\n}\nexport const conditionalHeader = (tr: (string) => Displayable, img: string): IConditional[\"header\"] => {\n  return {\n    title: tr(\"setName\"),\n    icon: <ImgIcon size={2} sx={{ m: -1 }} src={img} />,\n    action: <SqBadge color=\"success\">4-set</SqBadge>\n  }\n}\n","import { KeyboardArrowDown } from \"@mui/icons-material\";\nimport { Button, ButtonProps, Menu, Skeleton } from \"@mui/material\";\nimport { Suspense, useCallback, useState } from \"react\";\n\nexport type DropdownButtonProps = Omit<ButtonProps, \"title\"> & {\n  title: React.ReactNode,\n  id?: string,\n  children: React.ReactNode\n}\nexport default function DropdownButton({ title, children, id = \"dropdownbtn\", ...props }: DropdownButtonProps) {\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => setAnchorEl(event.currentTarget),\n    [setAnchorEl],\n  )\n  const handleClose = useCallback(\n    () => setAnchorEl(null),\n    [setAnchorEl],\n  )\n\n  return <Suspense fallback={<Button endIcon={<KeyboardArrowDown />}{...props}><Skeleton width={50} /></Button>} >\n    <Button\n      {...props}\n      id={id}\n      aria-controls=\"basic-menu\"\n      aria-haspopup=\"true\"\n      aria-expanded={open ? 'true' : undefined}\n      onClick={handleClick}\n      endIcon={<KeyboardArrowDown />}\n    >\n      {title}\n    </Button>\n    <Menu\n      id=\"basic-menu\"\n      anchorEl={anchorEl}\n      open={open}\n      onClose={handleClose}\n      MenuListProps={{\n        'aria-labelledby': id,\n      }}\n      onClick={handleClose}\n    >\n      {/* set Skeleton to be really high so the taller dropdowns can still be placed properly... */}\n      <Suspense fallback={<Skeleton width=\"100%\" height=\"1000\" />}>\n        {children}\n      </Suspense>\n    </Menu>\n  </Suspense>\n}","import ImgIcon from \"../../Components/Image/ImgIcon\";\nimport { ascensionMaxLevel } from \"../LevelData\";\nimport { Data } from \"../../Formula/type\";\nimport { TalentSheet, TalentSheetElement, TalentSheetElementKey } from \"../../Types/character_WR\";\nimport { CharacterKey, ElementKey, Rarity, WeaponTypeKey } from \"../../Types/consts\";\nimport SqBadge from \"../../Components/SqBadge\";\nimport Assets from \"../../Assets/Assets\";\nimport IConditional from \"../../Types/IConditional_WR\";\nimport { IFieldDisplay } from \"../../Types/IFieldDisplay_WR\";\n\nconst characterSheets = import('.').then(imp => imp.default)\n\ninterface ICharacterSheetBase {\n  name: Displayable\n  cardImg: string\n  thumbImg: string\n  thumbImgSide: string\n  barImg?: string\n  bannerImg?: string\n  rarity: Rarity\n  weaponTypeKey: WeaponTypeKey\n  gender: string\n  constellationName: Displayable\n  title: Displayable\n}\ninterface ICharacterSheetTalent extends ICharacterSheetBase {\n  elementKey: ElementKey\n  talent: TalentSheet\n}\ninterface ICharacterSheetTalents extends ICharacterSheetBase {\n  talents: Dict<ElementKey, TalentSheet>\n}\nexport type ICharacterSheet = ICharacterSheetTalent | ICharacterSheetTalents\n\nexport default class CharacterSheet {\n  sheet: ICharacterSheet;\n  data: Data;\n  constructor(charSheet: ICharacterSheet, data: Data) {\n    this.sheet = charSheet\n    this.data = data\n  }\n  static get = (charKey: CharacterKey | \"\"): Promise<CharacterSheet> | undefined => charKey ? characterSheets.then(c => c[charKey]) : undefined\n  static get getAll() { return characterSheets }\n  get name() { return this.sheet.name }\n  get nameWIthIcon() { return <span><ImgIcon src={this.thumbImgSide} sx={{ height: \"2em\", marginTop: \"-2em\", marginLeft: \"-0.5em\" }} /> {this.name}</span> }\n  get cardImg() { return this.sheet.cardImg }\n  get thumbImg() { return this.sheet.thumbImg }\n  get thumbImgSide() { return this.sheet.thumbImgSide }\n  get bannerImg() { return this.sheet.bannerImg }\n  get rarity() { return this.sheet.rarity }\n  get elementKey() { return \"elementKey\" in this.sheet ? this.sheet.elementKey : undefined }\n  get weaponTypeKey() { return this.sheet.weaponTypeKey }\n  get constellationName() { return this.sheet.constellationName }\n\n  isMelee = () => {\n    const weaponTypeKey = this.sheet.weaponTypeKey\n    return weaponTypeKey === \"sword\" || weaponTypeKey === \"polearm\" || weaponTypeKey === \"claymore\"\n  }\n  get isTraveler() {\n    return \"talents\" in this.sheet\n  }\n  getTalent = (eleKey: ElementKey = \"anemo\"): TalentSheet | undefined => {\n    if (\"talent\" in this.sheet) return this.sheet.talent\n    else return this.sheet.talents[eleKey]\n  }\n  getTalentOfKey = (talentKey: TalentSheetElementKey, eleKey: ElementKey = \"anemo\") => this.getTalent(eleKey)?.sheets[talentKey]\n\n  static getLevelString = (level: number, ascension: number): string =>\n    `${level}/${ascensionMaxLevel[ascension]}`\n}\n\nexport const talentTemplate = (talentKey: TalentSheetElementKey, tr: (string) => Displayable, img: string, fields?: IFieldDisplay[], conditional?: IConditional): TalentSheetElement => ({\n  name: tr(`${talentKey}.name`),\n  img,\n  sections: [{\n    text: tr(`${talentKey}.description`),\n    fields,\n    conditional,\n  }],\n})\n\nconst talentStrMap: Record<TalentSheetElementKey, string> = {\n  auto: \"Auto\",\n  skill: \"Skill\",\n  burst: \"Burst\",\n  passive: \"Passive\",\n  passive1: \"Ascension 1\",\n  passive2: \"Ascension 4\",\n  passive3: \"Passive\",\n  sprint: \"Sprint\",\n  constellation1: \"C1\",\n  constellation2: \"C2\",\n  constellation3: \"C3\",\n  constellation4: \"C4\",\n  constellation5: \"C5\",\n  constellation6: \"C6\"\n}\nexport const conditionalHeader = (talentKey: TalentSheetElementKey, tr: (string) => Displayable, img: string): IConditional[\"header\"] => {\n  return {\n    title: tr(`${talentKey}.name`),\n    icon: <ImgIcon size={2} sx={{ m: -1 }} src={img} />,\n    action: <SqBadge color=\"success\">{talentStrMap[talentKey]}</SqBadge>,\n  }\n}\n\nexport const normalSrc = (weaponKey: WeaponTypeKey) => Assets.weaponTypes[weaponKey]\n","export default __webpack_public_path__ + \"static/media/icon_bow.7ceaa8e2.png\";","import bow from './icon_bow.png'\nimport catalyst from './icon_catalyst.png'\nimport claymore from './icon_claymore.png'\nimport polearm from './icon_polearm.png'\nimport sword from './icon_sword.png'\n\nimport fragile from './Item_Fragile_Resin.png'\nimport condensed from './Item_Condensed_Resin.png'\n\n//EXP BOOKS\nimport advice from './Item_Wanderer\\'s_Advice.png'\nimport wit from './Item_Hero\\'s_Wit.png'\nimport experience from './Item_Adventurer\\'s_Experience.png'\n\nconst Assets = {\n  weaponTypes: { bow, catalyst, claymore, polearm, sword },\n  resin: {\n    fragile,\n    condensed\n  },\n  exp_books: {\n    advice,\n    wit,\n    experience,\n  }\n};\nexport default Assets;","export default __webpack_public_path__ + \"static/media/icon_catalyst.db078b7b.png\";","export default __webpack_public_path__ + \"static/media/icon_claymore.63b1abb8.png\";","export default __webpack_public_path__ + \"static/media/icon_polearm.e5f4a2a1.png\";","export default __webpack_public_path__ + \"static/media/icon_sword.619c9c2d.png\";","export default __webpack_public_path__ + \"static/media/Item_Fragile_Resin.f9ec8223.png\";","export default __webpack_public_path__ + \"static/media/Item_Condensed_Resin.1cecf64a.png\";","export default __webpack_public_path__ + \"static/media/Item_Wanderer's_Advice.58c62cf7.png\";","export default __webpack_public_path__ + \"static/media/Item_Hero's_Wit.a79e36d0.png\";","export default __webpack_public_path__ + \"static/media/Item_Adventurer's_Experience.92b5d195.png\";","import { Translate } from '../../Components/Translate';\nimport { Data } from '../../Formula/type';\nimport { Rarity, WeaponKey, WeaponTypeKey } from '../../Types/consts';\nimport { DocumentSection } from '../../Types/sheet';\nimport { ICachedWeapon } from '../../Types/weapon_WR';\nimport { ascensionMaxLevel } from '../LevelData';\nimport type { WeaponData } from 'pipeline';\nimport IConditional from '../../Types/IConditional_WR';\nimport ImgIcon from '../../Components/Image/ImgIcon';\nimport { input } from '../../Formula';\nconst weaponSheets = import('.').then(imp => imp.default)\n\nexport interface IWeaponSheet {\n  icon: string,\n  iconAwaken: string,\n  document: DocumentSection[],\n}\n\nexport default class WeaponSheet {\n  readonly key: WeaponKey;\n  readonly sheet: IWeaponSheet;\n  readonly data: Data;\n  readonly rarity: Rarity;\n  readonly weaponType: WeaponTypeKey;\n  constructor(key: WeaponKey, weaponSheet: IWeaponSheet, weaponData: WeaponData, data: Data) {\n    this.rarity = weaponData.rarity\n    this.weaponType = weaponData.weaponType\n    this.key = key\n    this.sheet = weaponSheet\n    this.data = data\n  }\n  static get = (weaponKey: WeaponKey | \"\"): Promise<WeaponSheet> | undefined => weaponKey ? weaponSheets.then(w => w[weaponKey]) : undefined\n  static get getAll() { return weaponSheets }\n  static getWeaponsOfType = (sheets: StrictDict<WeaponKey, WeaponSheet>, weaponType: string): Dict<WeaponKey, WeaponSheet> => Object.fromEntries(Object.entries(sheets).filter(([key, sheet]) => (sheet as WeaponSheet).weaponType === weaponType))\n  static getLevelString = (weapon: ICachedWeapon): string => `${weapon.level}/${ascensionMaxLevel[weapon.ascension]}`\n  tr = (strKey: string) => <Translate ns={`weapon_${this.key}_gen`} key18={strKey} />\n  get name() { return this.tr(\"name\") }\n  //when there is no substat, assume there is no passive.\n  get passiveName() { return this.rarity > 2 ? this.tr(\"passiveName\") : \"\" }\n  get description() { return this.tr(\"description\") }\n  passiveDescription = (refineIndex: number) => this.rarity > 2 ? this.tr(`passiveDescription.${refineIndex}`) : \"\"\n  get img() { return this.sheet.icon }\n  get imgAwaken() { return this.sheet.iconAwaken }\n  get document() { return this.sheet.document }\n}\nexport const conditionalHeader = (tr: (string) => Displayable, img: string, imgAwaken: string): IConditional[\"header\"] => ({\n  title: tr(`passiveName`),\n  icon: data => <ImgIcon size={2} sx={{ m: -1 }} src={data.get(input.weapon.asc).value < 2 ? img : imgAwaken} />,\n})\n\nexport const conditionaldesc = (tr: (string) => Displayable) =>\n  data => tr(`passiveDescription.${data.get(input.weapon.refineIndex).value}`)\n","import { faStar } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Typography } from '@mui/material'\nimport { Rarity } from '../Types/consts'\n\nconst StarIcon = () => <FontAwesomeIcon icon={faStar} />\nconst Stars = ({ stars, colored = false }: { stars: Rarity, colored?: boolean }) =>\n  <Typography color={colored ? \"warning.main\" : undefined} component=\"span\">\n    {stars ? [...Array(stars).keys()].map((_, i) => <StarIcon key={i} />) : null}\n  </Typography>\n\nexport {\n  StarIcon,\n  Stars\n}\n","import Artifact from \"../Data/Artifacts/Artifact\";\nimport { ICachedArtifact, MainStatKey, SubstatKey } from \"../Types/artifact\";\nimport { ICachedCharacter } from \"../Types/character_WR\";\nimport { allElementsWithPhy, ArtifactSetKey, CharacterKey } from \"../Types/consts\";\nimport { ICachedWeapon } from \"../Types/weapon\";\nimport { crawlObject, deepClone, layeredAssignment, objectKeyMap, objPathValue } from \"../Util/Util\";\nimport { input } from \"./index\";\nimport { reactions } from \"./reaction\";\nimport { Data, DisplaySub, Info, Input, NumNode, ReadNode, StrNode } from \"./type\";\nimport { NodeDisplay, UIData, valueString } from \"./uiData\";\nimport { constant, customRead, percent, resetData, setReadNodeKeys } from \"./utils\";\n\nconst asConst = true as const, pivot = true as const\n\nfunction inferInfoMut(data: Data, source?: Info[\"source\"]): Data {\n  crawlObject(data, [], (x: any) => x.operation, (x: NumNode, path: string[]) => {\n    if (path[0] === \"teamBuff\") path = path.slice(1)\n    const reference = objPathValue(input, path) as ReadNode<number> | undefined\n    if (reference)\n      x.info = { ...reference.info, prefix: undefined, source }\n    else if (path[0] !== \"tally\")\n      console.error(`Detect ${source} buff into non-existant key path ${path}`)\n  })\n\n  return data\n}\nfunction dataObjForArtifact(art: ICachedArtifact, mainStatAssumptionLevel: number = 0): Data {\n  const mainStatVal = Artifact.mainStatValue(art.mainStatKey, art.rarity, Math.max(Math.min(mainStatAssumptionLevel, art.rarity * 4), art.level))\n  const stats: [ArtifactSetKey | MainStatKey | SubstatKey, number][] = []\n  stats.push([art.mainStatKey, mainStatVal])\n  art.substats.forEach(({ key, accurateValue }) => key && stats.push([key, accurateValue]))\n  return {\n    art: {\n      ...Object.fromEntries(stats.map(([key, value]) =>\n        key.endsWith(\"_\") ? [key, percent(value / 100)] : [key, constant(value)])),\n      [art.slotKey]: {\n        id: constant(art.id), set: constant(art.setKey)\n      },\n    },\n    artSet: {\n      [art.setKey]: constant(1)\n    }\n  }\n}\nfunction dataObjForCharacter(char: ICachedCharacter): Data {\n  const result: Data = {\n    lvl: constant(char.level),\n    constellation: constant(char.constellation),\n    asc: constant(char.ascension),\n\n    premod: {\n      auto: constant(char.talent.auto),\n      skill: constant(char.talent.skill),\n      burst: constant(char.talent.burst),\n    },\n    enemy: {\n      ...objectKeyMap(allElementsWithPhy.map(ele => `${ele}_res_`), ele =>\n        percent((char.enemyOverride[`${ele.slice(0, -5)}_enemyRes_`] ?? 10) / 100)),\n      level: constant(char.enemyOverride.enemyLevel ?? char.level),\n    },\n    hit: {\n      hitMode: constant(char.hitMode)\n    },\n    customBonus: {},\n  }\n\n  for (const [key, value] of Object.entries(char.bonusStats))\n    result.customBonus![key] = key.endsWith('_') ? percent(value / 100) : constant(value)\n\n  if (char.enemyOverride.enemyDefRed_)\n    result.premod!.enemyDefRed_ = percent(char.enemyOverride.enemyDefRed_)\n  if (char.enemyOverride.enemyDefIgn_)\n    result.enemy!.defIgn = percent(char.enemyOverride.enemyDefIgn_)\n  if (char.elementKey) {\n    result.charEle = constant(char.elementKey)\n    result.display = {\n      basic: { [`${char.elementKey}_dmg_`]: input.total[`${char.elementKey}_dmg_`] },\n      reaction: reactions[char.elementKey]\n    }\n    layeredAssignment(result, [\"teamBuff\", \"tally\", char.elementKey], constant(1))\n  }\n\n  crawlObject(char.conditional, [\"conditional\"], (x: any) => typeof x === \"string\", (x: string, keys: string[]) =>\n    layeredAssignment(result, keys, constant(x)))\n  return result\n}\nfunction dataObjForWeapon(weapon: ICachedWeapon): Data {\n  return {\n    weapon: {\n      lvl: constant(weapon.level),\n      asc: constant(weapon.ascension),\n      refinement: constant(weapon.refinement),\n      refineIndex: constant(weapon.refinement - 1)\n    },\n  }\n}\n/** These read nodes are very context-specific, and cannot be used anywhere else outside of `uiDataForTeam` */\nconst teamBuff = setReadNodeKeys(deepClone(input), [\"teamBuff\"]); // Use ONLY by dataObjForTeam\nfunction uiDataForTeam(teamData: Dict<CharacterKey, Data[]>, activeCharKey?: CharacterKey): Dict<CharacterKey, { target: UIData, buffs: Dict<CharacterKey, UIData> }> {\n  // May the goddess of wisdom bless any and all souls courageous\n  // enough to attempt for the understanding of this abomination.\n\n  const mergedData = Object.entries(teamData).map(([key, data]) => [key, { ...mergeData(data) }] as [CharacterKey, Data])\n  const result = Object.fromEntries(mergedData.map(([key]) =>\n    [key, { targetRef: {} as Data, buffs: [] as Data[], calcs: {} as Dict<CharacterKey, Data> }]))\n\n  const customReadNodes = {}\n  function getReadNode(path: readonly string[]): ReadNode<number> {\n    const base = (path[0] === \"teamBuff\")\n      ? objPathValue(teamBuff, path.slice(1))\n      : objPathValue(input, path)\n    if (base) return base\n    const custom = objPathValue(customReadNodes, path)\n    if (custom) return custom\n    const newNode = customRead(path)\n    if (path[0] === \"teamBuff\" && path[1] === \"tally\") newNode.accu = \"add\"\n    layeredAssignment(customReadNodes, path, newNode)\n    return newNode\n  }\n\n  Object.values(result).forEach(({ targetRef, buffs, calcs }) =>\n    mergedData.forEach(([sourceKey, source]) => {\n      const sourceBuff = source.teamBuff\n      // Create new copy of `calc` as we're mutating it later\n      const buff: Data = {}, calc: Data = deepClone({ teamBuff: sourceBuff })\n      buffs.push(buff)\n      calcs[sourceKey] = calc\n\n      // This construction creates a `Data` representing buff\n      // from `source` applying to `target`. It has 3 data:\n      // - `target` contains the reference for the final\n      //   data. It is not populated at this stage,\n      // - `calc` contains the calculation of the buffs,\n      // - `buff` contains read nodes that point to the\n      //   calculation in `calc`.\n\n      crawlObject(sourceBuff, [], (x: any) => x.operation, (x: NumNode | StrNode, path: string[]) => {\n        const info: Info = { ...objPathValue(input, path), source: sourceKey, prefix: undefined, asConst }\n        layeredAssignment(buff, path, resetData(getReadNode([\"teamBuff\", ...path]), calc, info))\n\n        crawlObject(x, [], (x: any) => x?.operation === \"read\", (x: ReadNode<number | string>) => {\n          if (x.path[0] === \"targetBuff\") return // Ignore teamBuff access\n\n          let readNode: ReadNode<number | string> | undefined, data: Data\n          if (x.path[0] === \"target\") { // Link the node to target data\n            readNode = getReadNode(x.path.slice(1))\n            data = targetRef\n          } else { // Link the node to source data\n            readNode = x\n            data = result[sourceKey].targetRef\n          }\n          layeredAssignment(calc, x.path, resetData(readNode, data))\n        })\n      })\n    })\n  )\n  mergedData.forEach(([targetKey, data]) => {\n    delete data.teamBuff\n    const { targetRef, buffs } = result[targetKey]\n    const buff = mergeData(buffs)\n    crawlObject(buff ?? {}, [], (x => x.operation), (x: NumNode, path: string[]) => {\n      // CAUTION\n      // This is safe only because `buff` is created using only `resetData`\n      // and `mergeData`. So every node here is created from either of the\n      // two functions, so the mutation wont't affect existing nodes.\n      x.info = { ...(objPathValue(teamBuff, path) as ReadNode<number> | undefined)?.info, prefix: \"teamBuff\", pivot }\n    })\n    Object.assign(targetRef, mergeData([data, buff, { teamBuff: buff, activeCharKey: constant(activeCharKey) }]))\n    targetRef[\"target\"] = targetRef\n  })\n  const origin = new UIData(undefined as any, undefined)\n  const uiDataResult = Object.fromEntries(Object.entries(result).map(([key, value]) =>\n    [key, {\n      target: new UIData(value.targetRef, origin),\n      buff: Object.fromEntries(Object.entries(value.calcs).map(([key, value]) =>\n        [key, new UIData(value, origin)]))\n    }]))\n  return uiDataResult\n}\nfunction mergeData(data: Data[]): Data {\n  function internal(data: any[], path: string[]): any {\n    if (data.length <= 1) return data[0]\n    if (data[0].operation) {\n      if (path[0] === \"teamBuff\") path = path.slice(1)\n      const accu = path[0] === \"tally\"\n        ? \"add\" : (objPathValue(input, path) as ReadNode<number> | undefined)?.accu\n      if (accu === undefined) {\n        if (data.length !== 1)\n          throw new Error(`Multiple entries when merging \\`unique\\` for key ${path}`)\n        return data[0]\n      }\n      const result: NumNode = { operation: accu, operands: data }\n      return result\n    } else {\n      return Object.fromEntries([...new Set(data.flatMap(x => Object.keys(x) as string[]))]\n        .map(key => [key, internal(data.map(x => x[key]).filter(x => x), [...path, key])]))\n    }\n  }\n  return data.length ? internal(data, []) : {}\n}\n\nfunction computeUIData(data: Data[]): UIData {\n  return new UIData(mergeData(data), undefined)\n}\ntype ComparedNodeDisplay<V = number> = NodeDisplay<V> & { diff: V }\nfunction compareTeamBuffUIData(uiData1: UIData, uiData2: UIData): Input<ComparedNodeDisplay, ComparedNodeDisplay<string>> {\n  return compareInternal(uiData1.getTeamBuff(), uiData2.getTeamBuff())\n}\nfunction compareDisplayUIData(uiData1: UIData, uiData2: UIData): { [key: string]: DisplaySub<ComparedNodeDisplay> } {\n  return compareInternal(uiData1.getDisplay(), uiData2.getDisplay())\n}\nfunction compareInternal(data1: any | undefined, data2: any | undefined): any {\n  if (data1?.operation || data2?.operation) {\n    const d1 = data1 as NodeDisplay | undefined\n    const d2 = data2 as NodeDisplay | undefined\n\n    if ((d1 && !d1.operation) || (d2 && !d2.operation))\n      throw new Error(\"Unmatched structure when comparing UIData\")\n\n    const result: ComparedNodeDisplay = {\n      operation: true,\n      value: 0,\n      isEmpty: true,\n      unit: d2?.unit!,\n      formulas: [],\n      ...d1,\n      diff: (d2?.value ?? 0) - (d1?.value ?? 0)\n    }\n    if (typeof d1?.value === \"string\" || typeof d2?.value === \"string\") {\n      // In case `string` got involved, just use the other value\n      result.value = d1?.value ?? \"\" as any\n      result.diff = d2?.value ?? \"\" as any\n    }\n    return result\n  }\n\n  if (data1 || data2) {\n    const keys = new Set([...Object.keys(data1 ?? {}), ...Object.keys(data2 ?? {})])\n    return Object.fromEntries([...keys].map(key => [key, compareInternal(data1?.[key], data2?.[key])]))\n  }\n}\n\nexport type { NodeDisplay, UIData };\nexport {\n  dataObjForArtifact, dataObjForCharacter, dataObjForWeapon,\n  mergeData, computeUIData, valueString, inferInfoMut,\n  uiDataForTeam, compareTeamBuffUIData, compareDisplayUIData\n};\n","import { faDiceD20 } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faAnemo, faAtk, faCdReductionPrimary, faCdReductionSecondary, faCritRate, faCryo, faDef, faDendro, faElectro, faElementalMastery, faEnergyRechargePrimary, faEnergyRechargeSecondary, faGeo, faHealingBonus, faHpPrimary, faHpSecondary, faHydro, faMaxStamina, faPhysicalDmgBonus, faPyro, faShieldStrength } from './faIcons'\nimport { objectKeyMap } from '../Util/Util'\nimport ColorText from './ColoredText'\n\nexport function HPIcon() {\n  return <span className=\"fa-layers \">\n    <FontAwesomeIcon icon={faHpPrimary as any} />\n    <FontAwesomeIcon icon={faHpSecondary as any} style={{ color: \"grey\" }} />\n  </span>\n}\n\nexport function CdRedIcon() {\n  return <span className=\"fa-layers \">\n    <FontAwesomeIcon icon={faCdReductionPrimary as any} />\n    <FontAwesomeIcon icon={faCdReductionSecondary as any} style={{ color: \"grey\" }} />\n  </span>\n}\n\nexport function EnerRechIcon() {\n  return <span className=\"fa-layers \">\n    <FontAwesomeIcon icon={faEnergyRechargePrimary as any} />\n    <FontAwesomeIcon icon={faEnergyRechargeSecondary as any} style={{ color: \"grey\" }} />\n  </span>\n}\nexport const uncoloredEleIcons = {\n  anemo: <FontAwesomeIcon icon={faAnemo as any} />,\n  geo: <FontAwesomeIcon icon={faGeo as any} />,\n  electro: <FontAwesomeIcon icon={faElectro as any} />,\n  hydro: <FontAwesomeIcon icon={faHydro as any} />,\n  pyro: <FontAwesomeIcon icon={faPyro as any} />,\n  cryo: <FontAwesomeIcon icon={faCryo as any} />,\n  dendro: <FontAwesomeIcon icon={faDendro as any} />,\n  physical: <FontAwesomeIcon icon={faPhysicalDmgBonus as any} />,\n} as const\nconst coloredEleIcon = objectKeyMap(Object.keys(uncoloredEleIcons), key => <ColorText color={key} >{uncoloredEleIcons[key]}</ColorText>)\n\nconst StatIcon = {\n  characterHP: <HPIcon />,\n  finalHP: <HPIcon />,\n  hp_: <HPIcon />,\n  hp: <HPIcon />,\n\n  baseATK: <FontAwesomeIcon icon={faAtk as any} />,\n  characterATK: <FontAwesomeIcon icon={faAtk as any} />,\n  finalATK: <FontAwesomeIcon icon={faAtk as any} />,\n  atk_: <FontAwesomeIcon icon={faAtk as any} />,\n  atk: <FontAwesomeIcon icon={faAtk as any} />,\n\n  characterDEF: <FontAwesomeIcon icon={faDef as any} />,\n  finalDEF: <FontAwesomeIcon icon={faDef as any} />,\n  def_: <FontAwesomeIcon icon={faDef as any} />,\n  def: <FontAwesomeIcon icon={faDef as any} />,\n\n  eleMas: <FontAwesomeIcon icon={faElementalMastery as any} />,\n  critRate_: <FontAwesomeIcon icon={faCritRate as any} />,\n  critDMG_: <FontAwesomeIcon icon={faDiceD20 as any} />,\n  enerRech_: <EnerRechIcon />,\n  heal_: <FontAwesomeIcon icon={faHealingBonus as any} />,\n\n  cdRed_: <CdRedIcon />,\n\n  shield_: <FontAwesomeIcon icon={faShieldStrength as any} />,\n  stamina: <FontAwesomeIcon icon={faMaxStamina as any} />,\n\n  ...coloredEleIcon,\n  ...Object.fromEntries(Object.keys(coloredEleIcon).flatMap(ele => [[`${ele}_dmg_`, coloredEleIcon[ele]], [`${ele}_res_`, coloredEleIcon[ele]]]))\n}\n\nexport default StatIcon\n","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Box, List, styled, Typography } from \"@mui/material\";\nimport React, { useContext, useMemo } from 'react';\nimport { DataContext, dataContextObj } from \"../DataContext\";\nimport { NodeDisplay, valueString } from \"../Formula/api\";\nimport KeyMap from \"../KeyMap\";\nimport { IBasicFieldDisplay, IFieldDisplay } from \"../Types/IFieldDisplay_WR\";\nimport { evalIfFunc } from \"../Util/Util\";\nimport BootstrapTooltip from \"./BootstrapTooltip\";\nimport ColorText from \"./ColoredText\";\nimport StatIcon from \"./StatIcon\";\nimport { data as dataNode } from '../Formula/utils'\nimport { Data } from \"../Formula/type\";\n\nexport default function FieldDisplay({ field, fieldContext, component }: { field: IFieldDisplay, fieldContext?: dataContextObj, component?: React.ElementType }) {\n  const { data, oldData } = useContext(DataContext)\n  const canShow = useMemo(() => field?.canShow?.(data) ?? true, [field, data])\n  if (!canShow) return null\n  if (\"node\" in field) {\n    // TODO: remove as Data\n    const node = fieldContext ? data.get(dataNode(field.node, { target: fieldContext.data.data[0] } as Data)) : data.get(field.node)\n    if (node.isEmpty) return null\n    if (oldData) {\n      const oldNode = fieldContext ? oldData.get(dataNode(field.node, { target: fieldContext.oldData!.data[0] } as Data)) : oldData.get(field.node)\n      const oldValue = oldNode.isEmpty ? 0 : oldNode.value\n      return <NodeFieldDisplay node={node} oldValue={oldValue} suffix={field.textSuffix} component={component} />\n    }\n    else return <NodeFieldDisplay node={node} suffix={field.textSuffix} component={component} />\n  }\n  return <BasicFieldDisplay field={field} component={component} />\n}\n\nfunction BasicFieldDisplay({ field, component }: { field: IBasicFieldDisplay, component?: React.ElementType }) {\n  const { data } = useContext(DataContext)\n  const v = evalIfFunc(field.value, data)\n  const variant = evalIfFunc(field.variant, data)\n  return <Box width=\"100%\" sx={{ display: \"flex\", justifyContent: \"space-between\" }} component={component} >\n    <ColorText color={variant}><b>{field.text}</b></ColorText>\n    <Typography >{typeof v === \"number\" ? v.toFixed?.(field.fixed) : v}{field.unit}</Typography>\n  </Box>\n}\n\nexport function NodeFieldDisplay({ node, oldValue, suffix, component }: { node: NodeDisplay, oldValue?: number, suffix?: Displayable, component?: React.ElementType }) {\n  if (node.isEmpty) return null\n\n  suffix = suffix && <span> {suffix}</span>\n  const fieldText = node.key ? KeyMap.get(node.key) : \"\"\n  const fieldFormulaText = node.formula\n  let fieldVal = \"\" as Displayable\n  if (oldValue) {\n    const diff = node.value - oldValue\n    fieldVal = <span>{valueString(oldValue, node.unit)}{diff ? <ColorText color={diff > 0 ? \"success\" : \"error\"}> {diff > 0 ? \"+\" : \"\"}{valueString(diff, node.unit)}</ColorText> : \"\"}</span>\n  } else fieldVal = valueString(node.value, node.unit)\n  const formulaTextOverlay = !!node.formula && <BootstrapTooltip placement=\"top\" title={<Typography>{fieldFormulaText}</Typography>}>\n    <Box component=\"span\" sx={{ cursor: \"help\", ml: 1 }}><FontAwesomeIcon icon={faQuestionCircle} /></Box>\n  </BootstrapTooltip>\n  return <Box width=\"100%\" sx={{ display: \"flex\", justifyContent: \"space-between\" }} component={component} >\n    <ColorText color={node.variant}>{node.key && (<span>{StatIcon[node.key]} </span>)}<b>{fieldText}</b>{suffix}{formulaTextOverlay}</ColorText>\n    <Typography >{fieldVal}</Typography>\n  </Box>\n}\n\nexport const FieldDisplayList = styled(List)(({ theme }) => ({\n  borderRadius: theme.shape.borderRadius,\n  overflow: \"hidden\",\n  margin: 0,\n  '> .MuiListItem-root:nth-of-type(even)': {\n    backgroundColor: theme.palette.contentDark.main\n  },\n  '> .MuiListItem-root:nth-of-type(odd)': {\n    backgroundColor: theme.palette.contentDarker.main\n  },\n}));\n","import { Close } from \"@mui/icons-material\";\nimport { Button, ButtonProps } from \"@mui/material\";\nimport { useTranslation } from \"react-i18next\";\ntype CloseButtonProps = ButtonProps & {\n  large?: boolean\n}\nexport default function CloseButton({ large = false, ...props }: CloseButtonProps) {\n  const { t } = useTranslation(\"ui\")\n  if (large)\n    return <Button color=\"error\" startIcon={<Close />} {...props} >{t`close`}</Button>\n  return <Button color=\"error\" sx={{ p: 1, minWidth: 0 }} {...props} >\n    <Close />\n  </Button>\n}","import { uiInput } from \".\"\nimport ColorText from \"../Components/ColoredText\"\nimport KeyMap, { KeyMapPrefix, Unit } from \"../KeyMap\"\nimport { assertUnreachable, crawlObject, layeredAssignment, objPathValue } from \"../Util/Util\"\nimport { allOperations } from \"./optimization\"\nimport { ComputeNode, Data, DataNode, DisplaySub, Info, LookupNode, MatchNode, NumNode, ReadNode, StrNode, SubscriptNode, ThresholdNode, UIInput, Variant } from \"./type\"\n\nconst shouldWrap = true\n\nexport function valueString(value: number, unit: Unit, fixed = -1): string {\n  if (!isFinite(value)) {\n    if (value > 0) return `\\u221E`\n    if (value < 0) return `-\\u221E`\n    return 'NaN'\n  }\n  if (unit === \"%\") value *= 100\n  else unit = '' as any\n  if (Number.isInteger(value)) fixed = 0\n  else if (fixed === -1) {\n    if (unit === \"%\") fixed = 1\n    else fixed = Math.abs(value) < 10 ? 3 : Math.abs(value) < 1000 ? 2 : Math.abs(value) < 10000 ? 1 : 0\n  }\n  return `${value.toFixed(fixed)}${unit}`\n}\nexport interface NodeDisplay<V = number> {\n  /** Leave this here to make sure one can use `crawlObject` on hierarchy of `NodeDisplay` */\n  operation: true\n  prefix?: KeyMapPrefix\n  key?: string\n  value: V\n  /** Whether the node fails the conditional test (`threshold_add`, `match`, etc.) or consists solely of empty nodes */\n  isEmpty: boolean\n  unit: Unit\n  variant?: Variant\n  formula?: Displayable\n  formulas: Displayable[]\n}\n\nexport class UIData {\n  origin: UIData\n  children = new Map<Data, UIData>()\n\n  data: Data[]\n  nodes = new Map<NumNode | StrNode, ContextNodeDisplay<number | string | undefined>>()\n  processed = new Map<NumNode | StrNode, NodeDisplay<number | string | undefined>>()\n\n  display: any = undefined\n  teamBuff: any = undefined\n\n  constructor(data: Data, parent: UIData | undefined) {\n    if (data === undefined) {\n      // Secret *origin* initializer\n      this.data = []\n      this.origin = this\n    } else {\n      if (!parent)\n        parent = new UIData(undefined as any, undefined)\n\n      this.data = [data, ...parent.data]\n      this.origin = parent.origin\n    }\n  }\n\n  getDisplay(): {\n    [key: string]: DisplaySub<NodeDisplay>\n  } {\n    if (!this.display) this.display = this.getAll([\"display\"])\n    return this.display\n  }\n  getTeamBuff(): UIInput<NodeDisplay, NodeDisplay<string>> {\n    if (!this.teamBuff) {\n      const calculated = this.getAll([\"teamBuff\"]), result = {} as any\n      // Convert `input` to `uiInput`\n      crawlObject(uiInput, [], (x: any) => x.operation, (x: ReadNode<number> | ReadNode<string>, path: string[]) => {\n        const node = objPathValue(calculated, x.path) as NumNode | undefined\n        if (node) layeredAssignment(result, path, node)\n      })\n      this.teamBuff = result\n    }\n    return this.teamBuff\n  }\n  getAll(prefix: string[]): any {\n    const result = {}\n    for (const data of this.data) {\n      crawlObject(objPathValue(data, prefix) ?? {}, [], (x: any) => x.operation,\n        (x: NumNode, key: string[]) => layeredAssignment(result, key, this.get(x)))\n    }\n    return result\n  }\n  get(node: NumNode): NodeDisplay\n  get(node: StrNode): NodeDisplay<string | undefined>\n  get(node: NumNode | StrNode): NodeDisplay<number | string | undefined>\n  get(node: NumNode | StrNode): NodeDisplay<number | string | undefined> {\n    if (node === undefined) {\n      console.trace(\"Please report this bug with this trace\")\n      return { operation: true, value: undefined, isEmpty: true, unit: \"flat\", formulas: [] }\n    }\n    const old = this.processed.get(node)\n    if (old) return old\n\n    const result = computeNodeDisplay(this.computeNode(node))\n    this.processed.set(node, result)\n    return result\n  }\n  private computeNode(node: NumNode): ContextNodeDisplay\n  private computeNode(node: StrNode): ContextNodeDisplay<string | undefined>\n  private computeNode(node: NumNode | StrNode): ContextNodeDisplay<number | string | undefined>\n  private computeNode(node: NumNode | StrNode): ContextNodeDisplay<number | string | undefined> {\n    const old = this.nodes.get(node)\n    if (old) return old\n\n    const { operation, info } = node\n    let result: ContextNodeDisplay<number | string | undefined>\n    switch (operation) {\n      case \"add\": case \"mul\": case \"min\": case \"max\":\n      case \"res\": case \"sum_frac\":\n        result = this._compute(node); break\n      case \"threshold\": result = this._threshold(node); break\n      case \"const\": result = this._constant(node.value); break\n      case \"subscript\": result = this._subscript(node); break\n      case \"read\": result = this._read(node); break\n      case \"data\": result = this._data(node); break\n      case \"match\": result = this._match(node); break\n      case \"lookup\": result = this._lookup(node); break\n      case \"prio\": {\n        const first = node.operands.find(x => this.computeNode(x).value !== undefined)\n        if (first) result = this.computeNode(first)\n        else result = illformed\n        break\n      }\n      default: assertUnreachable(operation)\n    }\n\n    if (info) {\n      const { key, prefix, source, variant, asConst } = info\n      let { pivot } = info\n      result = { ...result }\n\n      // Pivot all keyed nodes for debugging\n      // if (key) pivot = true\n\n      if (key) result.key = key\n      if (prefix) result.prefix = prefix\n      if (source) result.source = source\n      if (variant) result.variant = variant\n      if (pivot) result.pivot = pivot\n\n      if (asConst) {\n        delete result.formula\n        delete result.assignment\n        result.dependencies = new Set()\n      }\n      if (result.pivot || !result.formula)\n        result.mayNeedWrapping = false\n    }\n    createDisplay(result)\n\n    this.nodes.set(node, result)\n    return result\n  }\n\n  private readAll(path: readonly string[]): ContextNodeDisplay<number | string | undefined>[] {\n    return this.data.map(x => objPathValue(x, path) as NumNode | StrNode).filter(x => x).map(x => this.computeNode(x))\n  }\n  private readFirst(path: readonly string[]): ContextNodeDisplay<number | string | undefined> | undefined {\n    const data = this.data.map(x => objPathValue(x, path) as NumNode | StrNode).find(x => x)\n    return data && this.computeNode(data)\n  }\n\n  private _read(node: ReadNode<number | string | undefined>): ContextNodeDisplay<number | string | undefined> {\n    const { path } = node\n    const result = (node.accu === undefined)\n      ? this.readFirst(path) ?? (node.type === \"string\" ? this._constant(undefined) : illformed)\n      : this._accumulate(node.accu, this.readAll(path) as ContextNodeDisplay[])\n    return result\n  }\n  private _lookup(node: LookupNode<NumNode | StrNode>): ContextNodeDisplay<number | string | undefined> {\n    const key = this.computeNode(node.operands[0]).value\n    const selected = node.table[key!] ?? node.operands[1]\n    if (!selected)\n      throw new Error(`Lookup Fail with key ${key}`)\n    return this.computeNode(selected)\n  }\n  private _match(node: MatchNode<StrNode | NumNode, StrNode | NumNode>): ContextNodeDisplay<number | string | undefined> {\n    const [v1Node, v2Node, matchNode, unmatchNode] = node.operands\n    const v1 = this.computeNode(v1Node), v2 = this.computeNode(v2Node)\n    const matching = v1.value === v2.value\n    let result = this.computeNode(matching ? matchNode : unmatchNode)\n    return ((matching && node.emptyOn === \"match\") || (!matching && node.emptyOn === \"unmatch\"))\n      ? makeEmpty(result.value) : result\n  }\n  private _threshold(node: ThresholdNode<NumNode | StrNode>): ContextNodeDisplay<number | string | undefined> {\n    const [valueNode, thresholdNode, pass, fail] = node.operands\n    const value = this.computeNode(valueNode), threshold = this.computeNode(thresholdNode)\n    const result = value.value >= threshold.value ? this.computeNode(pass) : this.computeNode(fail)\n    return (value.value >= threshold.value)\n      ? (node.emptyOn === \"ge\" ? makeEmpty(result.value) : result)\n      : (node.emptyOn === \"l\" ? makeEmpty(result.value) : result)\n  }\n  private _data(node: DataNode<NumNode | StrNode>): ContextNodeDisplay<number | string | undefined> {\n    let child = this.children.get(node.data)\n    if (!child) {\n      child = new UIData(node.data, node.reset ? this.origin : this)\n      this.children.set(node.data, child)\n    }\n    return child.computeNode(node.operands[0])\n  }\n  private _compute(node: ComputeNode): ContextNodeDisplay {\n    const { operation, operands } = node\n    return this._accumulate(operation, operands.map(x => this.computeNode(x)))\n  }\n  private _subscript(node: SubscriptNode<number>): ContextNodeDisplay {\n    const operand = this.computeNode(node.operands[0])\n    const value = node.list[operand.value] ?? NaN\n    return this._constant(value)\n  }\n  private _constant<V>(value: V): ContextNodeDisplay<V> {\n    return {\n      value, pivot: false,\n      empty: false,\n      mayNeedWrapping: false,\n      dependencies: new Set(),\n    }\n  }\n  private _accumulate(operation: ComputeNode[\"operation\"], operands: ContextNodeDisplay[]): ContextNodeDisplay {\n    let variant: Variant | undefined\n    switch (operation) {\n      case \"add\": case \"mul\": case \"min\": case \"max\":\n      case \"res\": case \"sum_frac\":\n        variant = mergeVariants(operands); break\n      default: assertUnreachable(operation)\n    }\n    switch (operation) {\n      case \"add\": case \"mul\": case \"min\": case \"max\":\n        const identity = allOperations[operation]([])\n        if (process.env.NODE_ENV !== \"development\")\n          operands = operands.filter(operand => operand.value !== identity)\n        if (!operands.length)\n          return variant ? { ...this._constant(identity), variant } : this._constant(identity)\n    }\n\n    let formula: { display: Displayable, dependencies: Displayable[] }\n    let mayNeedWrapping = false\n    switch (operation) {\n      case \"max\": formula = fStr`Max( ${{ operands }} )`; break\n      case \"min\": formula = fStr`Min( ${{ operands }} )`; break\n      case \"add\": formula = fStr`${{ operands, separator: ' + ' }}`; break\n      case \"mul\": formula = fStr`${{ operands, separator: ' * ', shouldWrap }}`; break\n      case \"sum_frac\": formula = fStr`${{ operands: [operands[0]], shouldWrap }} / ( ${{ operands, separator: ' + ' }} )`; break\n      case \"res\": {\n        const base = operands[0].value\n        if (base < 0) {\n          formula = fStr`100% - ${{ operands, shouldWrap }} / 2`\n          mayNeedWrapping = true\n        }\n        else if (base >= 0.75) formula = fStr`100% / ( ${{ operands, shouldWrap }} * 4 + 100% )`\n        else {\n          formula = fStr`100% - ${{ operands, shouldWrap }}`\n          mayNeedWrapping = true\n        }\n        break\n      }\n      default: assertUnreachable(operation)\n    }\n    switch (operation) {\n      case \"add\": case \"mul\":\n        if (operands.length <= 1) mayNeedWrapping = operands[0]?.mayNeedWrapping ?? true\n        else if (operation === \"add\") mayNeedWrapping = true\n    }\n\n    const value = allOperations[operation](operands.map(x => x.value))\n    const dependencies = new Set([...operands.flatMap(x =>\n      x.pivot && x.assignment\n        ? [x.assignment, ...x.dependencies]\n        : [...x.dependencies])])\n    const result: ContextNodeDisplay = {\n      formula: formula.display,\n      empty: operands.every(x => x.empty),\n      value, mayNeedWrapping,\n      pivot: false, dependencies,\n    }\n    if (variant) result.variant = variant\n    return result\n  }\n}\ntype ContextNodeDisplayList = { operands: ContextNodeDisplay[], separator?: string, shouldWrap?: boolean }\nfunction fStr(strings: TemplateStringsArray, ...list: ContextNodeDisplayList[]): { display: Displayable, dependencies: Displayable[] } {\n  const dependencies = new Set<Displayable>()\n  const predisplay: Displayable[] = []\n\n  strings.forEach((string, i) => {\n    predisplay.push(string)\n\n    const key = list[i]\n    if (key) {\n      const { operands, shouldWrap, separator = \", \" } = key\n      operands.forEach((item, i, array) => {\n        let itemFormula: Displayable\n        if (!item.pivot && item.formula) itemFormula = item.formula\n        else itemFormula = createFormulaComponent(item)\n\n        if (shouldWrap && item.mayNeedWrapping) {\n          predisplay.push(\"( \")\n          predisplay.push(itemFormula)\n          predisplay.push(\" )\")\n        } else {\n          predisplay.push(itemFormula)\n        }\n        if (i + 1 < array.length) predisplay.push(separator)\n        item.dependencies.forEach(x => dependencies.add(x))\n      })\n    }\n  })\n  return { display: mergeFormulaComponents(predisplay), dependencies: [...dependencies] }\n}\nfunction mergeVariants<V>(operands: ContextNodeDisplay<V>[]): ContextNodeDisplay<V>[\"variant\"] {\n  const unique = new Set(operands.map(x => x.variant))\n  if (unique.size > 1) unique.delete(undefined)\n  if (unique.size > 1) unique.delete(\"physical\")\n  return unique.values().next().value\n}\nfunction computeNodeDisplay<V>(node: ContextNodeDisplay<V>): NodeDisplay<V> {\n  const { key, prefix, dependencies, value, variant, formula, assignment, empty } = node\n  return {\n    operation: true,\n    key, value, variant, prefix,\n    isEmpty: empty,\n    unit: (key && KeyMap.unit(key)) || \"flat\",\n    formula, formulas: [...(assignment ? [assignment] : []), ...dependencies]\n  }\n}\n\n//* Comment/uncomment this line to toggle between string formulas and JSX formulas\nfunction createDisplay(node: ContextNodeDisplay<number | string | undefined>) {\n  const { key, value, formula, prefix, source, variant } = node\n  if (typeof value !== \"number\") return\n  node.valueDisplay = <ColorText color=\"info\">{valueString(value, key ? KeyMap.unit(key) : \"flat\")}</ColorText>\n  if (key && key !== '_') {\n    const prefixDisplay = (prefix && !source) ? <>{KeyMap.getPrefixStr(prefix)} </> : <></>\n    // TODO: Convert `source` key to actual name\n    const sourceDisplay = source ? <ColorText color=\"secondary\"> ({source})</ColorText> : null\n    node.name = <><ColorText color={variant}>{prefixDisplay}{KeyMap.getNoUnit(key!)}</ColorText>{sourceDisplay}</>\n\n    if (formula)\n      node.assignment = <div id=\"formula\">{node.name} {node.valueDisplay} = {formula}</div>\n  }\n}\nfunction createFormulaComponent(node: ContextNodeDisplay): Displayable {\n  const { name, valueDisplay } = node\n  //TODO: change formula size in the formula display element instead\n  return name ? <><span style={{ fontSize: \"85%\" }}>{name}</span> {valueDisplay}</> : valueDisplay!\n}\nfunction mergeFormulaComponents(components: Displayable[]): Displayable {\n  return <>{components.map((x, i) => <span key={i}>{x}</span>)}</>\n}\n/*/\nfunction createDisplay(node: ContextNodeDisplay<number | string | undefined>) {\n  const { key, value, formula, prefix, source, variant } = node\n  if (typeof value !== \"number\") return\n  node.valueDisplay = valueString(value, key ? KeyMap.unit(key) : \"flat\")\n  if (key && key !== '_') {\n    const prefixDisplay = (prefix && !source) ? `${KeyMap.getPrefixStr(prefix)} ` : \"\"\n    // TODO: Convert `source` key to actual name\n    const sourceDisplay = source ? ` ${source}` : \"\"\n    node.name = `${prefixDisplay}${KeyMap.getNoUnit(key!)}${sourceDisplay}`\n\n    if (formula)\n      node.assignment = `${node.name} ${node.valueDisplay} = ${formula}`\n  }\n}\nfunction createFormulaComponent(node: ContextNodeDisplay): Displayable {\n  const { name, valueDisplay } = node\n  return name ? `${name} ${valueDisplay}` : valueDisplay!\n}\nfunction mergeFormulaComponents(components: Displayable[]): Displayable {\n  return (components as string[]).join(\"\")\n}\n//*/\n\ninterface ContextNodeDisplay<V = number> {\n  key?: Info[\"key\"]\n  prefix?: Info[\"prefix\"]\n  source?: Info[\"source\"]\n  variant?: Info[\"variant\"]\n\n  pivot: boolean\n  empty: boolean\n\n  value: V\n\n  dependencies: Set<Displayable>\n\n  mayNeedWrapping: boolean\n\n  // Don't set these manually outside of `UIData.computeNode`\n  name?: Displayable\n  valueDisplay?: Displayable\n  formula?: Displayable\n  assignment?: Displayable\n}\n\nconst illformed: ContextNodeDisplay = {\n  value: NaN, pivot: true,\n  empty: false,\n  dependencies: new Set(),\n  mayNeedWrapping: false\n}\nfunction makeEmpty(emptyValue: number): ContextNodeDisplay<number>\nfunction makeEmpty(emptyValue: string | undefined): ContextNodeDisplay<string | undefined>\nfunction makeEmpty(emptyValue: number | string | undefined): ContextNodeDisplay<number | string | undefined>\nfunction makeEmpty(emptyValue: number | string | undefined): ContextNodeDisplay<number | string | undefined> {\n  return {\n    value: emptyValue, pivot: false, empty: true, dependencies: new Set(), mayNeedWrapping: false\n  }\n}\n","import { Button, ButtonProps, InputBase, InputProps, styled } from '@mui/material'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\ntype props = Omit<InputProps, \"onChange\"> & {\n  value?: number | undefined,\n  onChange: (newValue: number | undefined) => void,\n  disabled?: boolean\n  float?: boolean,\n  allowEmpty?: boolean,\n}\n\nexport const StyledInputBase = styled(InputBase)(({ theme }) => ({\n  backgroundColor: theme.palette.primary.main,\n  transition: \"all 0.5s ease\",\n  \"&:hover\": {\n    backgroundColor: theme.palette.primary.dark,\n  },\n  \"&.Mui-focused\": {\n    backgroundColor: theme.palette.primary.dark,\n  },\n  \"&.Mui-disabled\": {\n    backgroundColor: theme.palette.primary.dark,\n  },\n}))\n\nconst Wrapper = styled(Button)(({ theme }) => ({\n  backgroundColor: theme.palette.primary.main,\n  padding: 0,\n  overflow: \"hidden\",\n  \"div\": {\n    width: \"100%\",\n    height: \"100%\",\n  },\n}))\n\n// wrap the Input with this when using the input in a buttongroup\nexport function CustomNumberInputButtonGroupWrapper({ children, disableRipple, disableFocusRipple, disableTouchRipple, ...props }: ButtonProps) {\n  return <Wrapper disableRipple disableFocusRipple disableTouchRipple {...props}>{children}</Wrapper>\n}\n\nexport default function CustomNumberInput({ value = 0, onChange, disabled = false, float = false, ...props }: props) {\n  const [number, setNumber] = useState(value)\n  const [focused, setFocus] = useState(false)\n  const parseFunc = useMemo(() => float ? parseFloat : parseInt, [float],)\n  const onBlur = useCallback(\n    () => {\n      onChange(number)\n      setFocus(false)\n    },\n    [onChange, number, setFocus],\n  )\n  const onFocus = useCallback(\n    () => {\n      setFocus(true)\n    },\n    [setFocus],\n  )\n  useEffect(() => setNumber(value), [value, setNumber]) // update value on value change\n  const onInputChange = useCallback(e => setNumber(parseFunc(e.target.value) || 0), [setNumber, parseFunc],)\n  const onKeyDOwn = useCallback(e => e.key === \"Enter\" && onBlur(), [onBlur],)\n  return <StyledInputBase\n    value={(focused && !number) ? \"\" : number}\n    aria-label=\"custom-input\"\n    type=\"number\"\n    onChange={onInputChange}\n    onBlur={onBlur}\n    onFocus={onFocus}\n    disabled={disabled}\n    onKeyDown={onKeyDOwn}\n    {...props}\n  />\n}","import { CardContent, Container, ContainerProps, Modal, ModalProps, Skeleton, styled } from \"@mui/material\"\nimport { Suspense } from \"react\"\nimport CardLight from \"./Card/CardLight\"\n\nconst ScrollModal = styled(Modal)(({ theme }) => ({\n  overflow: \"scroll\",\n  paddingTop: theme.spacing(2),\n  paddingBottom: theme.spacing(2),\n\n}))\nconst ModalContainer = styled(Container)(({ theme }) => ({\n  padding: 0,\n  minHeight: \"100%\",\n  display: \"flex\", flexDirection: \"column\", justifyContent: \"center\",\n  pointerEvents: \"none\",\n  \"& > *\": {\n    pointerEvents: \"auto\"\n  }\n}))\n\ntype ModalWrapperProps = ModalProps & {\n  containerProps?: ContainerProps\n}\nexport default function ModalWrapper({ children, containerProps, ...props }: ModalWrapperProps) {\n  return <ScrollModal {...props}>\n    <ModalContainer {...containerProps}>\n      <Suspense fallback={<CardLight><CardContent><Skeleton variant=\"rectangular\" width=\"100%\" height={300} /></CardContent></CardLight>}>\n        {children}\n      </Suspense>\n    </ModalContainer>\n  </ScrollModal>\n}","import { useCallback, useContext } from \"react\";\nimport { DatabaseContext } from \"../Database/Database\";\nimport { ICachedCharacter } from \"../Types/character\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { deepClone } from \"../Util/Util\";\n\ntype characterEquipWeapon = {\n  type: \"weapon\", id: string\n}\ntype characterReducerBonusStatsAction = {\n  type: \"editStats\",\n  statKey: string\n  value: any | undefined\n}\ntype characterReducerenemyOverrideAction = {\n  type: \"enemyOverride\",\n  statKey: string\n  value: any | undefined\n}\ntype characterReducerResetStatsAction = {\n  type: \"resetStats\",\n  statKey: string\n}\ntype characterTeamAction = {\n  type: \"team\",\n  index: number,\n  charKey: CharacterKey | \"\"\n}\nexport type characterReducerAction = characterEquipWeapon | characterReducerBonusStatsAction | characterReducerenemyOverrideAction | characterReducerResetStatsAction | characterTeamAction | Partial<ICachedCharacter>\n\nexport default function useCharacterReducer(characterKey: CharacterKey | \"\") {\n  const database = useContext(DatabaseContext)\n\n  return useCallback((action: characterReducerAction): void => {\n    if (!characterKey) return\n\n    if (\"type\" in action) switch (action.type) {\n      case \"weapon\":\n        database.setWeaponLocation(action.id, characterKey)\n        break\n      case \"enemyOverride\": {\n        const character = database._getChar(characterKey)!\n        const enemyOverride = character.enemyOverride\n        const { statKey, value } = action\n        if (enemyOverride[statKey] === value) break\n        database.updateChar({ ...character, enemyOverride: { ...enemyOverride, [statKey]: value } })\n        break\n      }\n      case \"editStats\": {\n        const character = database._getChar(characterKey)!\n        const { statKey, value } = action\n\n        const bonusStats = deepClone(character.bonusStats)\n\n        if (bonusStats[statKey] === value) break\n        if (!value) delete bonusStats[statKey]\n        else bonusStats[statKey] = value\n\n        database.updateChar({ ...character, bonusStats })\n        break\n      }\n      case \"resetStats\": {\n        const character = database._getChar(characterKey)!\n        const { statKey } = action\n\n        const bonusStats = character.bonusStats\n        delete bonusStats[statKey]\n\n        database.updateChar({ ...character, bonusStats })\n        break\n      }\n      case \"team\": {\n        const character = database._getChar(characterKey)!\n        const { team } = character\n\n        const { index, charKey: newCharKey } = action\n        const oldCharKey = team[index]\n        team[index] = newCharKey\n\n        // move the old char to \"inventory\"\n        if (oldCharKey) {\n          const oldChar = database._getChar(oldCharKey)\n          if (oldChar) database.updateChar({ ...oldChar, team: [\"\", \"\", \"\"] })\n        }\n\n        // unequip new char from its old teammates\n        if (newCharKey) {\n          const newChar = database._getChar(newCharKey)\n          if (newChar) {\n            newChar.team.forEach(t => {\n              if (!t) return\n              const tChar = database._getChar(t)\n              tChar && database.updateChar({ ...tChar, team: tChar.team.map(c => c === newCharKey ? \"\" : c) as ICachedCharacter[\"team\"] })\n            })\n          }\n        }\n\n        // equip new char to new teammates\n        team.forEach((t, tind) => {\n          if (!t) return\n          const newChar = database._getChar(t)\n          if (newChar) database.updateChar({ ...newChar, team: [characterKey, ...team].filter((_, i) => i !== tind + 1) as ICachedCharacter[\"team\"] })\n        })\n\n        // update src character\n        database.updateChar({ ...character, team })\n      }\n    } else\n      database.updateChar({ ...database._getChar(characterKey)!, ...action })\n  }, [characterKey, database])\n\n}\n","import { ButtonProps, styled, ToggleButtonGroup, ToggleButtonGroupProps } from \"@mui/material\";\n\nexport type SolidToggleButtonGroupProps = SolidToggleButtonGroupPropsPartial & ToggleButtonGroupProps\ntype SolidToggleButtonGroupPropsPartial = {\n  baseColor?: ButtonProps[\"color\"];\n  selectedColor?: ButtonProps[\"color\"];\n}\n\nconst SolidToggleButtonGroup = styled(ToggleButtonGroup, {\n  shouldForwardProp: (prop) => prop !== \"baseColor\" && prop !== \"selectedColor\"\n})<SolidToggleButtonGroupPropsPartial>(({ theme, baseColor = \"primary\", selectedColor = \"success\" }) => ({\n  '& .MuiToggleButtonGroup-grouped': {\n    '&': {\n      backgroundColor: theme.palette[baseColor].main,\n      color: theme.palette[baseColor].contrastText,\n    },\n    '&:hover': {\n      backgroundColor: theme.palette[baseColor].dark,\n    },\n    '&.Mui-selected': {\n      backgroundColor: theme.palette[selectedColor].main,\n      color: theme.palette[selectedColor].contrastText,\n    },\n    '&.Mui-selected:hover': {\n      backgroundColor: theme.palette[selectedColor].dark,\n    },\n    '&.Mui-disabled': {\n      backgroundColor: theme.palette[baseColor].dark,\n    },\n    '&.Mui-selected.Mui-disabled': {\n      backgroundColor: theme.palette[selectedColor].dark,\n    },\n  },\n}));\n\nexport default SolidToggleButtonGroup","import { styled, Tooltip, tooltipClasses, TooltipProps } from \"@mui/material\";\n\nconst BootstrapTooltip = styled(({ className, ...props }: TooltipProps) => (\n  <Tooltip {...props} arrow classes={{ popper: className }} />\n))(({ theme }) => ({\n  [`& .${tooltipClasses.arrow}`]: {\n    color: theme.palette.common.black,\n  },\n  [`& .${tooltipClasses.tooltip}`]: {\n    backgroundColor: theme.palette.common.black,\n  },\n}));\nexport default BootstrapTooltip","import { BusinessCenter, Replay } from \"@mui/icons-material\";\nimport { Divider, ListItemIcon, MenuItem, Typography } from \"@mui/material\";\nimport { useContext } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport CharacterSheet from \"../../Data/Characters/CharacterSheet\";\nimport { DatabaseContext } from \"../../Database/Database\";\nimport usePromise from \"../../ReactHooks/usePromise\";\nimport { CharacterKey } from \"../../Types/consts\";\nimport DropdownButton, { DropdownButtonProps } from \"../DropdownMenu/DropdownButton\";\nimport ThumbSide from \"./ThumbSide\";\n\nexport type CharacterDropdownButtonProps = Omit<DropdownButtonProps, \"title\" | \"onChange\" | \"children\"> & {\n  value: CharacterKey | \"\"\n  onChange: (ck: CharacterKey | \"\") => void\n  filter?: (cs: CharacterSheet, ck: CharacterKey) => boolean\n  inventory?: boolean\n  noUnselect?: boolean,\n  unSelectText?: Displayable,\n  unSelectIcon?: Displayable,\n}\n\nexport default function CharacterDropdownButton({ value, onChange, unSelectText, unSelectIcon, inventory = false, noUnselect = false, filter = () => true, ...props }: CharacterDropdownButtonProps) {\n  const { t } = useTranslation(\"ui\");\n  const database = useContext(DatabaseContext)\n  const characterSheets = usePromise(CharacterSheet.getAll, [])\n  const characterSheet = usePromise(CharacterSheet.get(value), [value])\n  const characterKeys = database._getCharKeys().filter(ck => characterSheets?.[ck] && filter(characterSheets[ck], ck)).sort()\n  return <DropdownButton\n    {...props}\n    title={characterSheet?.name ?? (inventory ? t`inventory` : (unSelectText ?? t`unselect`))}\n    color={value ? \"success\" : \"primary\"}\n    startIcon={characterSheet?.thumbImg ? <ThumbSide src={characterSheet.thumbImgSide} /> : (inventory ? <BusinessCenter /> : (unSelectIcon ?? <Replay />))}>\n    {!noUnselect && (inventory ? <MenuItem onClick={() => onChange(\"\")} selected={value === \"\"} disabled={value === \"\"}>\n      <ListItemIcon>\n        <BusinessCenter />\n      </ListItemIcon>\n      <Typography variant=\"inherit\" noWrap>\n        {t`inventory`}\n      </Typography>\n    </MenuItem> : <MenuItem onClick={() => onChange(\"\")} selected={value === \"\"} disabled={value === \"\"}>\n      <ListItemIcon>\n        <Replay />\n      </ListItemIcon>\n      <Typography variant=\"inherit\" noWrap>\n        {t`unselect`}\n      </Typography>\n    </MenuItem>)}\n    {!noUnselect && <Divider key=\"div\" />}\n    {!!characterSheets && CharacterMenuItemArray(characterSheets, characterKeys, onChange, value)}\n  </DropdownButton >\n}\n\n// Returning an array instead of Fragment because MUI Menu doesn't like fragments.\nexport function CharacterMenuItemArray(characterSheets: StrictDict<CharacterKey, CharacterSheet>, characterKeys: CharacterKey[], onChange: (ck: CharacterKey) => void, selectedCharacterKey: CharacterKey | \"\" = \"\") {\n  return characterKeys.map(characterKey =>\n    <MenuItem onClick={() => onChange(characterKey)} key={characterKey} selected={selectedCharacterKey === characterKey} disabled={selectedCharacterKey === characterKey} >\n      <ListItemIcon>\n        <ThumbSide src={characterSheets[characterKey]?.thumbImgSide} />\n      </ListItemIcon>\n      <Typography variant=\"inherit\" noWrap>\n        {characterSheets?.[characterKey]?.name}\n      </Typography>\n    </MenuItem>)\n}\n","import { styled } from \"@mui/system\";\n\nconst ThumbSide = styled(\"img\")(({ theme }) => ({\n  display: \"inline-block\",\n  width: \"auto\",\n  height: `2.3em`,\n  lineHeight: 1,\n  verticalAlign: \"text-bottom\",\n  marginTop: theme.spacing(-3),\n  marginLeft: theme.spacing(-1.25),\n  marginRight: theme.spacing(-1),\n  marginBottom: theme.spacing(-1),\n}))\n\nexport default ThumbSide","import { useCallback, useState } from \"react\"\n\nexport default function useForceUpdate(): [object, () => void] {\n  const [stateDirty, update] = useState({})\n  const forceUpdateHook = useCallback(() => update({}), [])\n  return [stateDirty, forceUpdateHook]\n}","import { Box, ListItem } from \"@mui/material\"\nimport { useContext } from \"react\"\nimport { DataContext } from \"../DataContext\"\nimport { DocumentSection } from \"../Types/sheet\"\nimport { evalIfFunc } from \"../Util/Util\"\nimport ConditionalDisplay from \"./ConditionalDisplay\"\nimport FieldDisplay, { FieldDisplayList } from \"./FieldDisplay\"\n\nexport default function DocumentDisplay({ sections }: { sections: DocumentSection[] }) {\n  const { data } = useContext(DataContext)\n  const sectionsDisplay = sections?.map((section, i) => {\n    if (section.canShow && !section.canShow(data)) return null\n    const talentText = evalIfFunc(section.text, data)\n    const fields = section.fields ?? []\n    return <Box key={\"section\" + i} display=\"flex\" flexDirection=\"column\" gap={1}>\n      {talentText && <div>{talentText}</div>}\n      {fields.length > 0 && <FieldDisplayList>\n        {fields?.map?.((field, i) => <FieldDisplay key={i} field={field} component={ListItem} />)}\n      </FieldDisplayList>}\n      {!!section.conditional && <ConditionalDisplay conditional={section.conditional} hideDesc />}\n    </Box>\n  }).filter(s => s)\n  if (!sectionsDisplay.length) return null\n  return <Box display=\"flex\" flexDirection=\"column\" gap={1}>{sectionsDisplay}</Box>\n}\n","import { IconButton, IconButtonProps, styled } from \"@mui/material\";\n\ninterface ExpandMoreProps extends IconButtonProps {\n  expand: boolean;\n}\nconst ExpandButton = styled((props: ExpandMoreProps) => {\n  const { expand, ...other } = props;\n  return <IconButton {...other} />;\n})(({ theme, expand }) => ({\n  transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\n  marginLeft: 'auto',\n  transition: (theme as any).transitions.create('transform', {\n    duration: (theme as any).transitions.duration.shortest,\n  }),\n}));\n\nexport default ExpandButton","import { useContext, useEffect, useState } from \"react\";\nimport { ArtifactSheet } from \"../Data/Artifacts/ArtifactSheet\";\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\";\nimport { ArtCharDatabase, DatabaseContext } from \"../Database/Database\";\nimport { TeamData } from \"../DataContext\";\nimport { common } from \"../Formula\";\nimport { dataObjForArtifact, dataObjForCharacter, uiDataForTeam, dataObjForWeapon } from \"../Formula/api\";\nimport { Data } from \"../Formula/type\";\nimport { ICachedArtifact } from \"../Types/artifact_WR\";\nimport { ICachedCharacter } from \"../Types/character_WR\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { ICachedWeapon } from \"../Types/weapon_WR\";\nimport { objectMap } from \"../Util/Util\";\nimport WeaponSheet from \"../Data/Weapons/WeaponSheet\";\nimport useForceUpdate from \"./useForceUpdate\";\n\ntype TeamDataBundle = {\n  team: CharacterKey[],\n  teamData: Dict<CharacterKey, Data[]>\n  teamBundle: Dict<CharacterKey, CharBundle>\n}\n\nexport default function useTeamData(characterKey: CharacterKey | \"\", mainStatAssumptionLevel: number = 0): TeamData | undefined {\n  const database = useContext(DatabaseContext)\n  const [dbDirty, setDbDirty] = useForceUpdate()\n  const [teamDataBundle, setTeamdataBundle] = useState(undefined as TeamDataBundle | undefined)\n  useEffect(() => {\n    getTeamData(database, characterKey, mainStatAssumptionLevel).then(r => setTeamdataBundle(r))\n  }, [dbDirty, characterKey, database, mainStatAssumptionLevel])\n\n  const { team = [], teamData, teamBundle } = teamDataBundle ?? {}\n\n  const [t1, t2, t3, t4] = team\n  useEffect(() =>\n    t1 ? database.followChar(t1, setDbDirty) : undefined,\n    [t1, setDbDirty, database])\n  useEffect(() =>\n    t2 ? database.followChar(t2, setDbDirty) : undefined,\n    [t2, setDbDirty, database])\n  useEffect(() =>\n    t3 ? database.followChar(t3, setDbDirty) : undefined,\n    [t3, setDbDirty, database])\n  useEffect(() =>\n    t4 ? database.followChar(t4, setDbDirty) : undefined,\n    [t4, setDbDirty, database])\n  if (!teamData || !teamBundle) return\n  const calcData = uiDataForTeam(teamData, characterKey as CharacterKey)\n  const data = objectMap(calcData, (obj, ck) => {\n    const { data: _, ...rest } = teamBundle[ck]!\n    return { ...obj, ...rest }\n  })\n\n  return data\n}\n\nexport async function getTeamData(database: ArtCharDatabase, characterKey: CharacterKey | \"\", mainStatAssumptionLevel: number = 0, overrideArt?: ICachedArtifact[]):\n  Promise<TeamDataBundle | undefined> {\n  if (!characterKey) return\n  const char1DataBundle = await getCharDataBundle(database, characterKey, mainStatAssumptionLevel, overrideArt)\n  if (!char1DataBundle) return\n  const team: CharacterKey[] = [characterKey]\n  const teamBundle = { [characterKey]: char1DataBundle }\n  const teamData: Dict<CharacterKey, Data[]> = { [characterKey]: char1DataBundle.data }\n\n  await Promise.all(char1DataBundle.character.team.map(async (ck) => {\n    if (!ck) return\n    const databundle = await getCharDataBundle(database, ck)\n    if (!databundle) return\n    team.push(ck)\n    teamBundle[ck] = databundle\n    teamData[ck] = databundle.data\n  }))\n\n  return { team, teamData, teamBundle }\n}\ntype CharBundle = {\n  character: ICachedCharacter,\n  weapon: ICachedWeapon,\n  characterSheet: CharacterSheet,\n  weaponSheet: WeaponSheet,\n  data: Data[]\n}\nasync function getCharDataBundle(database: ArtCharDatabase, characterKey: CharacterKey | \"\", mainStatAssumptionLevel: number = 0, overrideArt?: ICachedArtifact[])\n  : Promise<CharBundle | undefined> {\n  if (!characterKey) return\n  const character = database._getChar(characterKey)\n  if (!character) return\n  const weapon = database._getWeapon(character.equippedWeapon)\n  if (!weapon) return\n  const characterSheet = await CharacterSheet.get(characterKey)\n  const weaponSheet = await WeaponSheet.get(weapon.key)\n  const artifactSheetsData = await ArtifactSheet.getAllData\n  if (!characterSheet || !weaponSheet || !artifactSheetsData) return\n  const artifacts = (overrideArt ?? Object.values(character.equippedArtifacts).map(a => database._getArt(a))).filter(a => a) as ICachedArtifact[]\n  const data = [\n    ...artifacts.map(a => dataObjForArtifact(a, mainStatAssumptionLevel)),\n    dataObjForCharacter(character),\n    characterSheet.data,\n    dataObjForWeapon(weapon),\n    weaponSheet.data,\n    artifactSheetsData,\n    common, // NEED TO PUT THIS AT THE END\n  ]\n  return { character, weapon, characterSheet, weaponSheet, data }\n}\n","import { ReactNode } from \"react\";\n\ntype Prop = {\n  condition: boolean,\n  wrapper: (children: ReactNode) => ReactNode\n  falseWrapper?: (children: ReactNode) => ReactNode\n  children: ReactNode\n}\n// Wrap children with element provided by wrapper func when condition is true.\nexport default function ConditionalWrapper({ condition, wrapper, falseWrapper, children }: Prop) {\n  return (condition ? wrapper(children) : (falseWrapper ? falseWrapper(children) : children)) as JSX.Element;\n}","import { BusinessCenter } from \"@mui/icons-material\";\nimport { Typography } from \"@mui/material\";\nimport { useTranslation } from \"react-i18next\";\nimport CharacterSheet from \"../../Data/Characters/CharacterSheet\";\nimport usePromise from \"../../ReactHooks/usePromise\";\n\nexport default function LocationName({ location }) {\n  const { t } = useTranslation(\"ui\");\n  const characterSheet = usePromise(CharacterSheet.get(location ?? \"\"), [location])\n  return <Typography component=\"span\">\n    {characterSheet?.name ? characterSheet.nameWIthIcon : <span><BusinessCenter sx={{ verticalAlign: \"text-bottom\" }} /> {t`inventory`}</span>}\n  </Typography>\n\n}\n","import { ToggleButton } from \"@mui/material\";\nimport { useCallback } from \"react\";\nimport Assets from \"../../Assets/Assets\";\nimport { allWeaponTypeKeys, WeaponTypeKey } from \"../../Types/consts\";\nimport ImgIcon from \"../Image/ImgIcon\";\nimport SolidToggleButtonGroup, { SolidToggleButtonGroupProps } from \"../SolidToggleButtonGroup\";\ntype WeaponToggleProps = Omit<SolidToggleButtonGroupProps, \"onChange\" | \"value\"> & {\n  onChange: (value: WeaponTypeKey | \"\") => void\n  value: WeaponTypeKey | \"\"\n}\nexport default function WeaponToggle({ value, onChange, ...props }: WeaponToggleProps) {\n  const cb = useCallback((e, newVal) => onChange(newVal || \"\"), [onChange])\n  return <SolidToggleButtonGroup exclusive onChange={cb} value={value || allWeaponTypeKeys} {...props}>\n    {allWeaponTypeKeys.map(wt => <ToggleButton key={wt} value={wt}>\n      <ImgIcon src={Assets.weaponTypes?.[wt]} size={2} />\n    </ToggleButton>)}\n  </SolidToggleButtonGroup>\n}","import { useContext, useEffect, useState } from \"react\";\nimport { DatabaseContext } from \"../Database/Database\";\n\nexport default function useWeapon(weaponID: string | undefined = \"\") {\n  const database = useContext(DatabaseContext)\n  const [weapon, setWeapon] = useState(database._getWeapon(weaponID))\n  useEffect(() => setWeapon(database._getWeapon(weaponID)), [database, weaponID])\n  useEffect(() =>\n    weaponID ? database.followWeapon(weaponID, setWeapon) : undefined,\n    [weaponID, setWeapon, database])\n  return weapon\n}","import { useCallback, useContext } from \"react\";\nimport { useHistory } from \"react-router\";\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\";\nimport { initialCharacter } from \"../Util/CharacterUtil\";\nimport { DatabaseContext } from \"../Database/Database\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { defaultInitialWeapon } from \"../Util/WeaponUtil\";\n\n/**\n * Basically a history hook to go to the dedicated character page. Will create the character if it doesn't exist.\n * @returns\n */\nexport default function useCharSelectionCallback() {\n  const database = useContext(DatabaseContext)\n  const history = useHistory()\n  const cb = useCallback(\n    async (characterKey: CharacterKey) => {\n      const character = database._getChar(characterKey)\n      // Create a new character + weapon, with linking if char isnt in db.\n      if (!character) {\n        const newChar = initialCharacter(characterKey)\n        database.updateChar(newChar)\n        const characterSheet = await CharacterSheet.get(characterKey)\n        if (!characterSheet) return\n        const weapon = defaultInitialWeapon(characterSheet.weaponTypeKey)\n        const weaponId = database.createWeapon(weapon)\n        database.setWeaponLocation(weaponId, characterKey)\n      }\n      history.push(`/character/${characterKey}`)\n    },\n    [history, database],\n  )\n  return cb\n}\n","import { initialBuildSettings } from \"../PageBuild/BuildSetting\"\nimport { ICachedCharacter } from \"../Types/character_WR\"\nimport { allSlotKeys, CharacterKey } from \"../Types/consts\"\nimport { objectKeyMap } from \"./Util\"\n\nexport function initialCharacter(key: CharacterKey): ICachedCharacter {\n  return {\n    key, // the game character this is based off\n    level: 1,\n    ascension: 0,\n    hitMode: \"avgHit\",\n    reactionMode: \"\",\n    equippedArtifacts: objectKeyMap(allSlotKeys, () => \"\"),\n    equippedWeapon: \"\",\n    conditional: {},\n    bonusStats: {},\n    enemyOverride: {},\n    buildSettings: initialBuildSettings(),\n    talent: {\n      auto: 1,\n      skill: 1,\n      burst: 1,\n    },\n    infusionAura: \"\",\n    constellation: 0,\n    team: [\"\", \"\", \"\"],\n    compareData: false,\n  }\n}\n","/**\n * @deprecated\n */\nexport default class Stat {\n  //do not instantiate.\n  constructor() {\n    if (this instanceof Stat)\n      throw Error('A static class cannot be instantiated.');\n  }\n  static printStat = (statKey, stats, premod = false) => <></>\n}\n","import Assets from \"../../Assets/Assets\";\nimport { getTalentStatKey, getTalentStatKeyVariant } from \"../../PageBuild/Build\";\nimport ImgIcon from \"../../Components/Image/ImgIcon\";\nimport SqBadge from \"../../Components/SqBadge\";\nimport { Translate } from \"../../Components/Translate\";\nimport Stat from \"../../Stat\";\nimport { DocumentSection, TalentSheetElement, TalentSheetElementKey } from \"../../Types/character\";\nimport { ElementKey, WeaponTypeKey } from \"../../Types/consts\";\nimport IConditional from \"../../Types/IConditional\";\n/**\n * @deprecated\n */\nexport const st = (strKey: string) => <Translate ns=\"sheet\" key18={strKey} />\n/**\n * @deprecated\n */\nexport const sgt = (strKey: string) => <Translate ns=\"sheet_gen\" key18={strKey} />\n\n//this template only works if there is no variation in normal attacks.(no multi hits)\n/**\n * @deprecated\n */\nexport const normalDocSection = (tr, formula, data) => ({\n  text: tr(`auto.fields.normal`),\n  fields: data.normal.hitArr.map((percentArr, i) =>\n  ({\n    text: sgt(`normal.hit${i + 1}`),\n    formulaText: stats => <span>{percentArr[stats.tlvl.auto]}% {Stat.printStat(getTalentStatKey(\"normal\", stats), stats)}</span>,\n    formula: formula.normal[i],\n    variant: stats => getTalentStatKeyVariant(\"normal\", stats),\n  }))\n})\n/**\n * @deprecated\n */\nexport const chargedDocSection = (tr, formula, data, stamina = 25): DocumentSection => ({\n  text: tr(`auto.fields.charged`),\n  fields: [{\n    text: sgt(`charged.dmg`),\n    formulaText: stats => <span>{data.charged.dmg[stats.tlvl.auto]}% {Stat.printStat(getTalentStatKey(\"charged\", stats), stats)}</span>,\n    formula: formula.charged.dmg,\n    variant: stats => getTalentStatKeyVariant(\"charged\", stats),\n  }, {\n    text: sgt(\"charged.stamina\"),\n    value: stamina,\n  }]\n})\n/**\n * @deprecated\n */\nexport const chargedHitsDocSection = (tr, formula, data, stamina = 20): DocumentSection => ({\n  text: tr(`auto.fields.charged`),\n  fields: [...data.charged.hitArr.map((percentArr, i) =>\n  ({\n    text: sgt(`normal.hit${i + 1}`),\n    formulaText: stats => <span>{percentArr[stats.tlvl.auto]}% {Stat.printStat(getTalentStatKey(\"charged\", stats), stats)}</span>,\n    formula: formula.charged[i],\n    variant: stats => getTalentStatKeyVariant(\"charged\", stats),\n  })), {\n    text: sgt(\"charged.stamina\"),\n    value: stamina\n  }]\n})\n/**\n * @deprecated\n */\nexport const plungeDocSection = (tr, formula, data): DocumentSection => ({\n  text: tr`auto.fields.plunging`,\n  fields: [{\n    text: sgt(`plunging.dmg`),\n    formulaText: stats => <span>{data.plunging.dmg[stats.tlvl.auto]}% {Stat.printStat(getTalentStatKey(\"plunging\", stats), stats)}</span>,\n    formula: formula.plunging.dmg,\n    variant: stats => getTalentStatKeyVariant(\"plunging\", stats),\n  }, {\n    text: sgt(\"plunging.low\"),\n    formulaText: stats => <span>{data.plunging.low[stats.tlvl.auto]}% {Stat.printStat(getTalentStatKey(\"plunging\", stats), stats)}</span>,\n    formula: formula.plunging.low,\n    variant: stats => getTalentStatKeyVariant(\"plunging\", stats),\n  }, {\n    text: sgt(\"plunging.high\"),\n    formulaText: stats => <span>{data.plunging.high[stats.tlvl.auto]}% {Stat.printStat(getTalentStatKey(\"plunging\", stats), stats)}</span>,\n    formula: formula.plunging.high,\n    variant: stats => getTalentStatKeyVariant(\"plunging\", stats),\n  }]\n})\n/**\n * @deprecated\n */\nexport const claymoreChargedDocSection = (tr, formula, data): DocumentSection => ({\n  text: tr(\"auto.fields.charged\"),\n  fields: [{\n    text: sgt(\"charged.spinning\"),\n    formulaText: stats => <span>{data.charged.spinning[stats.tlvl.auto]}% {Stat.printStat(getTalentStatKey(\"charged\", stats), stats)}</span>,\n    formula: formula.charged.spinning,\n    variant: stats => getTalentStatKeyVariant(\"charged\", stats),\n  }, {\n    text: sgt(\"charged.final\"),\n    formulaText: stats => <span>{data.charged.final[stats.tlvl.auto]}% {Stat.printStat(getTalentStatKey(\"charged\", stats), stats)}</span>,\n    formula: formula.charged.final,\n    variant: stats => getTalentStatKeyVariant(\"charged\", stats),\n  }, {\n    text: sgt(\"charged.stamina\"),\n    value: data.charged.stam ?? 40,\n    unit: \"/s\"\n  }, {\n    text: sgt(\"maxDuration\"),\n    value: data.charged.maxDuration ?? 5,\n    unit: \"s\"\n  }]\n})\n/**\n * @deprecated\n */\nexport const bowChargedDocSection = (tr, formula, data, elementKey: ElementKey): DocumentSection => ({\n  text: tr(\"auto.fields.charged\"),\n  fields: [{\n    text: sgt(\"charged.aimed\"),\n    formulaText: stats => <span>{data.charged.hit[stats.tlvl.auto]}% {Stat.printStat(getTalentStatKey(\"charged\", stats), stats)}</span>,\n    formula: formula.charged.hit,\n    variant: stats => getTalentStatKeyVariant(\"charged\", stats),\n  }, {\n    text: sgt(\"charged.fullyAimed\"),\n    formulaText: stats => <span>{data.charged.full[stats.tlvl.auto]}% {Stat.printStat(getTalentStatKey(\"charged\", stats, elementKey), stats)}</span>,\n    formula: formula.charged.full,\n    variant: stats => getTalentStatKeyVariant(\"charged\", stats, elementKey),\n  }]\n})\ntype BoostKey = \"autoBoost\" | \"skillBoost\" | \"burstBoost\"\n/**\n * @deprecated\n */\nexport const talentTemplate = (talentKey: TalentSheetElementKey, tr: (string) => Displayable, img: string, boostKey?: BoostKey, boostAmt: number = 3): TalentSheetElement => ({\n  name: tr(`${talentKey}.name`),\n  img,\n  sections: [{\n    text: tr(`${talentKey}.description`),\n    ...(boostKey ? {\n      conditional: {\n        key: boostKey,\n        canShow: stats => stats.constellation >= parseInt(talentKey.split(\"constellation\")[1] ?? 3),\n        maxStack: 0,\n        stats: {\n          [boostKey]: boostAmt\n        }\n      }\n    } : {})\n  }],\n})\n\nconst talentStrMap: Record<TalentSheetElementKey, string> = {\n  auto: \"Auto\",\n  skill: \"Skill\",\n  burst: \"Burst\",\n  passive: \"Passive\",\n  passive1: \"Ascension 1\",\n  passive2: \"Ascension 4\",\n  passive3: \"Passive\",\n  sprint: \"Sprint\",\n  constellation1: \"C1\",\n  constellation2: \"C2\",\n  constellation3: \"C3\",\n  constellation4: \"C4\",\n  constellation5: \"C5\",\n  constellation6: \"C6\"\n}\n/**\n * @deprecated\n */\nexport const conditionalHeader = (talentKey: TalentSheetElementKey, tr: (string) => Displayable, img: string): IConditional[\"header\"] => {\n  return {\n    title: tr(`${talentKey}.name`),\n    icon: <ImgIcon size={2} sx={{ m: -1 }} src={img} />,\n    action: <SqBadge color=\"success\">{talentStrMap[talentKey]}</SqBadge>,\n  }\n}\n/**\n * @deprecated\n */\nexport const normalSrc = (weaponKey: WeaponTypeKey) => Assets.weaponTypes[weaponKey]\n","import { CheckBox, CheckBoxOutlineBlank } from '@mui/icons-material';\nimport { Button, Divider, MenuItem } from '@mui/material';\nimport React, { useCallback, useContext } from 'react';\nimport DropdownButton from '../Components/DropdownMenu/DropdownButton';\nimport SqBadge from '../Components/SqBadge';\nimport { DataContext } from '../DataContext';\nimport IConditional from '../Types/IConditional_WR';\nimport { deepClone, layeredAssignment } from '../Util/Util';\n\nexport default function ConditionalSelector({ conditional, conditionalValue, disabled = false, }:\n  { conditional: IConditional, conditionalValue?: string, disabled?: boolean }) {\n  const { character, characterDispatch } = useContext(DataContext)\n  const setConditional = useCallback((v?: string) => {\n    const conditionalValues = deepClone(character.conditional)\n    layeredAssignment(conditionalValues, conditional.path, v)\n    characterDispatch({ conditional: conditionalValues })\n  }, [conditional, character, characterDispatch])\n\n  if (Object.keys(conditional.states).length === 1) {\n    const [stateKey, st] = Object.entries(conditional.states)[0]\n    const badge = st.name && <SqBadge color={\"success\"}>{st.name}</SqBadge>\n    return <Button fullWidth size=\"small\" onClick={() => setConditional(conditionalValue ? undefined : stateKey)} disabled={disabled} startIcon={conditionalValue ? <CheckBox /> : <CheckBoxOutlineBlank />}>\n      {conditional.name} {badge}\n    </Button>\n  } else {//complex conditional\n    const state = conditionalValue ? conditional.states[conditionalValue] : undefined\n    const badge = state?.name && <SqBadge color={state ? \"success\" : \"secondary\"}>{state ? state.name : \"Not Active\"}</SqBadge>\n    return <DropdownButton fullWidth size=\"small\" title={<span>{conditional.name} {badge}</span>} disabled={disabled}>\n      <MenuItem onClick={() => setConditional()} selected={!state} disabled={!state}>\n        <span>Not Active</span>\n      </MenuItem>\n      <Divider />\n      {Object.entries(conditional.states).map(([stateKey, st]) =>\n        <MenuItem key={stateKey} onClick={() => setConditional(stateKey)} selected={conditionalValue === stateKey} disabled={conditionalValue === stateKey} >{st.name}</MenuItem>)}\n    </DropdownButton>\n  }\n}\n","import { Box, CardContent, CardHeader, Divider, ListItem } from \"@mui/material\"\nimport { useContext } from \"react\"\nimport ConditionalSelector from \"../Conditional/ConditionalSelector\"\nimport { DataContext, dataContextObj } from \"../DataContext\"\nimport IConditional from \"../Types/IConditional_WR\"\nimport { evalIfFunc } from \"../Util/Util\"\nimport CardDark from \"./Card/CardDark\"\nimport FieldDisplay, { FieldDisplayList } from \"./FieldDisplay\"\nimport { data as dataNode } from '../Formula/utils'\nimport { Data } from \"../Formula/type\"\n\ntype ConditionalDisplayProps = {\n  conditional: IConditional,\n  hideHeader?: boolean,\n  hideDesc?: boolean,\n  fieldContext?: dataContextObj\n}\n\nexport default function ConditionalDisplay({ conditional, hideHeader = false, hideDesc = false, fieldContext }: ConditionalDisplayProps) {\n  const dataContext = useContext(DataContext)\n  const { data } = dataContext\n  // TODO: as Data\n  const canShow = conditional.canShow ? !(fieldContext ? data.get(dataNode(conditional.canShow, { target: fieldContext.data.data[0] } as Data)).isEmpty : data.get(conditional.canShow).isEmpty) : true\n  if (!canShow) return null\n  const condVal = data.get(conditional.value).value\n\n  const description = !hideDesc && evalIfFunc(conditional.description, data)\n  let { icon, title, action } = conditional.header ?? {}\n  icon = evalIfFunc(icon, data)\n  const fields = condVal && conditional.states[condVal]?.fields\n\n  return <CardDark>\n    {!hideHeader && conditional.header && <CardHeader avatar={icon} title={title} action={action} titleTypographyProps={{ variant: \"subtitle2\" }} />}\n    {!hideHeader && conditional.header && <Divider />}\n    {!!conditional.name && <CardContent>\n      {description && <Box mb={1}>{description}</Box>}\n      <ConditionalSelector\n        conditional={conditional}\n        conditionalValue={condVal} />\n    </CardContent>}\n    {fields &&\n      <FieldDisplayList sx={{ m: 0 }}>\n        {fields.map((field, i) => <FieldDisplay key={i} field={field} fieldContext={fieldContext} component={ListItem} />)}\n      </FieldDisplayList>\n    }\n  </CardDark>\n}\n","type SortConfig<T> = {\n  getValue: (id: T) => number | string\n  tieBreaker?: string\n}\nexport type SortConfigs<Keys extends string, T> = Record<Keys, SortConfig<T>>\n\nexport function sortFunction<Keys extends string, T>(sortby: string, ascending: boolean, configs: SortConfigs<Keys, T>) {\n  function Sort(a: T, b: T, ascending: boolean, config: SortConfig<T>) {\n    const aV = config.getValue(a)\n    const bV = config.getValue(b)\n    let diff = 0\n    if (typeof aV === \"string\" && typeof bV === \"string\")\n      diff = aV.localeCompare(bV)\n    else\n      diff = ((bV as number) - (aV as number))\n    return (ascending ? -1 : 1) * diff\n  }\n  return (a: T, b: T) => {\n    if (!configs[sortby]) return 0\n    const filterOption = configs[sortby]\n    let diff = Sort(a, b, ascending, filterOption)\n    if (!diff && filterOption.tieBreaker && configs[filterOption.tieBreaker])\n      diff = Sort(a, b, ascending, configs[filterOption.tieBreaker])\n    return diff\n  }\n}\n\ntype FilterConfig<T> = (obj: T, filter: any) => boolean\nexport type FilterConfigs<Keys extends string, T> = Record<Keys, FilterConfig<T>>\nexport function filterFunction<Keys extends string, T>(filterOptions: Record<Keys, any>, filterConfigs: FilterConfigs<Keys, T>) {\n  return (obj: T) => Object.entries(filterOptions).every(([optionKey, optionVal]) => filterConfigs[optionKey as any](obj, optionVal))\n}","import { crystalizeLevelMultipliers, transformativeReactionLevelMultipliers, transformativeReactions } from \"../StatConstants\";\nimport { objectKeyMap } from \"../Util/Util\";\nimport { input } from \"./index\";\nimport { frac, infoMut, prod, subscript, sum, unit } from \"./utils\";\n\nconst asConst = true as const\n\nconst crystalizeMulti1 = subscript(input.lvl, crystalizeLevelMultipliers)\nconst crystalizeElemas = prod(4000 / 9, frac(input.total.eleMas, 1400))\nconst crystalizeHit = infoMut(prod(sum(unit, /** + Crystalize bonus */ crystalizeElemas), crystalizeMulti1), { /** Crystalize Shield HP */ })\n\nconst transMulti1 = subscript(input.lvl, transformativeReactionLevelMultipliers)\nconst transMulti2 = prod(16, frac(input.total.eleMas, 2000))\nconst trans = {\n  ...objectKeyMap([\"overloaded\", \"electrocharged\", \"superconduct\", \"shattered\"] as const, reaction => {\n    const { multi, variants: [ele] } = transformativeReactions[reaction]\n    return infoMut(prod(\n      infoMut(prod(multi, transMulti1), { asConst }),\n      sum(unit, transMulti2, input.total[`${reaction}_dmg_`]),\n      input.enemy[`${ele}_resMulti`]),\n      { key: `${reaction}_hit`, variant: reaction })\n  }),\n  swirl: objectKeyMap(transformativeReactions.swirl.variants, ele => infoMut(\n    prod(\n      infoMut(prod(transformativeReactions.swirl.multi, transMulti1), { asConst }),\n      sum(unit, transMulti2, input.total.swirl_dmg_),\n      input.enemy[`${ele}_resMulti`]),\n    { key: `${ele}_swirl_hit`, variant: ele }))\n}\nexport const reactions = {\n  anemo: {\n    electroSwirl: trans.swirl.electro,\n    pyroSwirl: trans.swirl.pyro,\n    cryoSwirl: trans.swirl.cryo,\n    hydroSwirl: trans.swirl.hydro,\n    shattered: trans.shattered,\n  },\n  geo: {\n    ...objectKeyMap([\"pyro\", \"electro\", \"cryo\", \"hydro\"] as const, _ =>\n      prod(2.5, crystalizeHit)),\n    shattered: trans.shattered,\n  },\n  electro: {\n    overloaded: trans.overloaded,\n    electrocharged: trans.electrocharged,\n    superconduct: trans.superconduct,\n    shattered: trans.shattered,\n  },\n  hydro: {\n    electrocharged: trans.electrocharged,\n    shattered: trans.shattered,\n  },\n  pyro: {\n    overloaded: trans.overloaded,\n    shattered: trans.shattered,\n  },\n  cryo: {\n    superconduct: trans.superconduct,\n    shattered: trans.shattered,\n  },\n}\n","import { faSortAmountDownAlt, faSortAmountUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Button, ButtonGroup, ButtonGroupProps, MenuItem } from \"@mui/material\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport DropdownButton from \"./DropdownMenu/DropdownButton\";\n\ntype SortByButtonProps = ButtonGroupProps & {\n  sortKeys: string[]\n  value: string\n  onChange: (value: string) => void\n  ascending: boolean\n  onChangeAsc: (value: boolean) => void\n}\n// Assumes that all the sortKeys has corresponding translations in ui.json sortMap\nexport default function SortByButton({ sortKeys, value, onChange, ascending, onChangeAsc, ...props }: SortByButtonProps) {\n  const { t } = useTranslation(\"ui\")\n  return <ButtonGroup {...props} >\n    <DropdownButton title={<Trans t={t} i18nKey=\"sortByFormat\" value={t(`sortMap.${value}`) as any}>Sort By: {{ value: t(`sortMap.${value}`) }}</Trans>}>\n      {sortKeys.map(key =>\n        <MenuItem key={key} selected={value === key} disabled={value === key} onClick={() => onChange(key)}>{t(`sortMap.${key}`) as any}</MenuItem>)}\n    </DropdownButton>\n    <Button onClick={() => onChangeAsc(!ascending)} startIcon={<FontAwesomeIcon icon={ascending ? faSortAmountDownAlt : faSortAmountUp} className=\"fa-fw\" />}>\n      {ascending ? <Trans t={t} i18nKey=\"ascending\" >Ascending</Trans> : <Trans t={t} i18nKey=\"descending\" >Descending</Trans>}\n    </Button>\n  </ButtonGroup>\n}","import { Typography } from \"@mui/material\";\nimport { input } from \".\";\nimport { ArtifactSheet } from \"../Data/Artifacts/ArtifactSheet\";\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\";\nimport ColorText from \"../Components/ColoredText\";\nimport SqBadge from \"../Components/SqBadge\";\nimport { ArtifactSetKey, CharacterKey, ElementKey, WeaponKey } from \"../Types/consts\";\nimport { range } from \"../Util/Util\";\nimport WeaponSheet from \"../Data/Weapons/WeaponSheet\";\nimport { DisplaySub } from \"./type\";\nimport { NodeDisplay, UIData } from \"./uiData\";\n\nconst errHeader = {\n  title: <ColorText color=\"warning\">ERROR</ColorText>\n}\n\nconst talentMap = {\n  normal: \"Normal Atk.\",\n  charged: \"Charged Atk.\",\n  plunging: \"Plunging Atk.\",\n  skill: \"Ele. Skill\",\n  burst: \"Ele. Burst\",\n  passive: \"Passive\",\n  passive1: \"1st Asc. Pass.\",\n  passive2: \"4th Asc. Pass.\",\n  passive3: \"Util. Pass.\",\n  ...Object.fromEntries(range(1, 6).map(i => [`constellation${i}`, `Const. ${i}`]))\n}\nexport async function getDisplayHeader(data: UIData, sectionKey: string): Promise<{\n  title: Displayable,\n  icon?: string,\n  action?: Displayable\n}> {\n  if (!sectionKey) return errHeader\n  if (sectionKey === \"basic\") return { title: \"Basic Stats\" }\n  else if (sectionKey === \"reaction\") return { title: \"Transformative Reactions\" }\n  else if (sectionKey.includes(\":\")) {\n    const [namespace, key] = sectionKey.split(\":\")\n    if (namespace === \"artifact\") {\n      const sheet = await ArtifactSheet.get(key as ArtifactSetKey)\n      if (!sheet) return errHeader\n      return {\n        title: sheet.name,\n        icon: sheet.defIconSrc\n      }\n    } else if (namespace === \"weapon\") {\n      const sheet = await WeaponSheet.get(key as WeaponKey)\n      if (!sheet) return errHeader\n      const asc = data.get(input.weapon.asc).value\n      return {\n        title: sheet.name,\n        icon: asc < 2 ? sheet.img : sheet.imgAwaken\n      }\n    }\n  } else {\n    const cKey = data.get(input.charKey).value\n    const cEle = data.get(input.charEle).value\n    if (!cKey || !cEle) return errHeader\n    const sheet = await CharacterSheet.get(cKey as CharacterKey)\n    const talentKey = [\"normal\", \"charged\", \"plunging\"].includes(sectionKey) ? \"auto\" : sectionKey\n    const talent = sheet?.getTalentOfKey(talentKey as any, cEle as ElementKey)\n    if (!talent) return errHeader\n    const actionText = talentMap[sectionKey]\n    return {\n      icon: talent.img,\n      title: talent.name,\n      action: actionText ? <SqBadge ><Typography variant=\"subtitle2\">{actionText}</Typography></SqBadge> : undefined\n    }\n  }\n  return errHeader\n}\n/**\n * Use this function to reorganize the sections to have basic stats at the beginning, and reation at the end.\n * @param data\n * @returns\n */\nexport function getDisplaySections(data: UIData,): [string, DisplaySub<NodeDisplay>][] {\n  const display = data.getDisplay()\n  const sections = Object.entries(display)\n  const basic = sections.filter(([k]) => k === \"basic\")\n  const reaction = sections.filter(([k]) => k === \"reaction\")\n  const weapon = sections.filter(([k]) => k.startsWith(\"weapon\"))\n  const artifact = sections.filter(([k]) => k.startsWith(\"artifact\"))\n  const rest = sections.filter(([k]) => k !== \"basic\" && k !== \"reaction\" && !k.startsWith(\"weapon\") && !k.startsWith(\"artifact\"))\n\n  return [\n    ...basic,\n    ...rest,\n    ...weapon,\n    ...artifact,\n    ...reaction\n  ]\n}\n","import { IArtifact, ISubstat, MainStatKey, SubstatKey } from '../Types/artifact'\nimport { crawlObject, layeredAssignment } from '../Util/Util'\nimport Artifact from '../Data/Artifacts/Artifact'\nimport ArtifactMainStatsData from '../Data/Artifacts/artifact_main_gen.json'\n\n// We separate rolls into \"filler rolls\" that occurs when there are less than 4 substats,\n// and \"upgrade rolls\" that occurs when all 4 substats are added. They have different\n// probability distribution and require separate consideration.\n\n// Notations for the remainder of this file.\n//\n// i, j, k := substat\n// E(i) := Extra substat that rolls into substat i\n// T(i) := Targetted (extra) substat for substat i\n// Nf(i) := # of filler roll into substat i (0 <= Nfi <= 1)\n// Nu(i) := # of upgrade rolls into substat i\n//\n// E := { E1, E2, ... }\n// T := { T1, T2, ... }\n// N(i) := Nf(i) + Nu(i)\n// Nf := Nf(1) + Nf(2) + ...\n// Nu := Nu(1) + Nu(2) + ...\n//\n// For example, if the artifact has 14 atk, and the target atk is 30,\n// in a scenario where we roll 2 rolls of 16 and 18 into atk, then\n//\n// i = atk, E(atk) = 16 + 18, T(atk) = 30 - 14, Nf(atk) = 0 roll, Nu(atk) = 2 rolls\n\nconst allWeights = [3, 4, 6] as const\ntype Weight = typeof allWeights[number]\n\n/**\n * Weight used when rolling a filler roll. Each roll will choose from available\n * substats (excluding main stat and existing substats) with these weights.\n */\nconst fWeight: StrictDict<SubstatKey, Weight> = {\n  hp: 6, atk: 6, def: 6,\n  hp_: 4, atk_: 4, def_: 4, eleMas: 4, enerRech_: 4,\n  critRate_: 3, critDMG_: 3\n}\n\n/**\n * Probability of observing a filler sequence with particular weights\n *\n * pFillerSeq[w0][w1][w2][...] = Pr [ fWeight[main stat] = w0, fWeight[substat1] = w1, fWeight[substat2] = w2, ... ]\n */\nconst pFillerSeq: Dict<0 | Weight, Dict<Weight, Dict<Weight, Dict<Weight, Dict<Weight, number>>>>> = {}\nfunction populatePFillerSeq(prefix: (0 | Weight)[], prob: { [key in Weight]: number }, sumProb: number, current: number) {\n  if (prefix.length === 5) {\n    layeredAssignment(pFillerSeq, prefix as any, current)\n    return\n  }\n\n  for (const i of allWeights)\n    if (prob[i] > 0)\n      populatePFillerSeq([...prefix, i], { ...prob, [i]: prob[i] - i }, sumProb - i, current * prob[i] / sumProb)\n}\npopulatePFillerSeq([0], { 3: 6, 4: 20, 6: 18 }, 44, 1)\n\npopulatePFillerSeq([3], { 3: 3, 4: 20, 6: 18 }, 41, 1)\npopulatePFillerSeq([4], { 3: 6, 4: 16, 6: 18 }, 40, 1)\npopulatePFillerSeq([6], { 3: 6, 4: 20, 6: 12 }, 38, 1)\n\n/**\n * cnr[n][r] = C(n, r) = n! / (r!(n-r)!)\n *\n * 0 <= n <= 5; 0 <= r <= n\n */\nconst cnr = Array(6).fill(0).map((_, n) => {\n  const result = [1]\n  let r = 0, value = 1\n  while (++r <= n) {\n    value *= n - r + 1\n    value /= r\n    result.push(value)\n  }\n\n  return result\n})\n\n/**\n * pNExtra[n][i] = Pr[ E(k) >= (i - 7n) * alpha(i) | N(k) = n ]\n *               = Pr[ (E(k) / alpha(k)) - 7n >= i | N(k) = n ]\n *\n * 0 <= n <= 5; 0 <= i < 3*n + 1\n */\nconst pNExtra = [[1]]\nwhile (pNExtra.length < 6) {\n  const last = pNExtra[pNExtra.length - 1]\n  const next = Array(last.length + 3).fill(0)\n  last.forEach((value, i) => {\n    for (const j of [0, 1, 2, 3]) {\n      next[i + j] += value\n    }\n  })\n\n  pNExtra.push(next.map(x => x / 4))\n}\nfor (const array of pNExtra) {\n  let accu = array.reduce((a, b) => a + b)\n  array.forEach((x, i, array) => {\n    array[i] = accu\n    accu -= x\n  })\n}\n\n/** Probability that `artifact` will have at least `target` stats at max level */\nfunction probability(artifact: IArtifact, _target: { [key in SubstatKey]?: number }): number {\n  if (artifact.rarity <= 2) return NaN // Doesn't work with 1* and 2* should we decide to add them\n\n  const { rarity, level, substats } = artifact\n\n  // `target = target - mainstat - substat` to find the extra substats we need\n  // Also count filler rolls (4 - # of substats) while we're at it\n  const target = { ..._target }, required = new Set(Object.keys(target))\n  let numFillerSlots = 0\n  {\n    const key = artifact.mainStatKey\n    if (key in target) {\n      const maxLevel = rarity * 4 // Note: this formula doesn't work with 1* and 2* artifacts\n      const maxLevelMainStat = ArtifactMainStatsData[rarity][key][maxLevel]\n      if (maxLevelMainStat < target[key]!) return 0 // Main stat won't meet the target\n\n      delete target[key]\n      required.delete(key as SubstatKey)\n    }\n  }\n  for (const { key, value } of substats) {\n    if (key) {\n      if (required.has(key)) {\n        required.delete(key)\n        if (target[key]! > value)\n          target[key]! -= value\n        else delete target[key] // Requirement already met\n      }\n    } else numFillerSlots += 1\n  }\n  numFillerSlots += 4 - substats.length\n\n  if (required.size > numFillerSlots || Object.keys(target).length > 4) return 0 // Not enough filler rolls\n\n  const numUpgradeRolls = Artifact.rollsRemaining(level, rarity) - numFillerSlots\n\n  // normalize `target`\n  for (const [key, value] of Object.entries(target))\n    target[key] = Math.max(Math.ceil(10 * value / Artifact.maxSubstatValues(key, rarity)), 1)\n\n  let minTotalUpgrades = 0\n  const targetEntries = Object.entries(target).map(([key, target]) => {\n    const filler = required.has(key) ? 1 : 0 // Nf(i)\n    const minUpgrade = Math.ceil(target / 10) - filler // Minimum # of upgrade rolls to ensure E(i) > T(i)\n    minTotalUpgrades += minUpgrade\n    return { target, filler, minUpgrade }\n  }).reverse()\n\n  if (minTotalUpgrades > numUpgradeRolls) return 0 // Not enough upgrade rolls\n\n  /**\n   * The optimization trick here is to write Pr[ E > T | N ] using a recursive relation. Let\n   *\n   *  f(n, t) = Pr[ E(i) >= t | N(i) = n ]\n   *  g(k, n) = Pr[ E(1) >= T(1), E(2) >= T(2), ..., E(k) >= T(k) | Nu - Nu(1) - Nu(2) - ... - Nu(k) = n ]\n   *  h(n, m, M) = Pr[ Nu(k) = m | 0 <= Nu(k) <= n, |K| = M ]\n   *\n   * Then\n   *\n   *  Pr [ E > T | N ] = Pr[ Nf(k) = I(k requires filler) for all k | N ] sum{0 <= n <= Nu} g(|K|, n)\n   *\n   * where I(X) is the indicator function, and |K| is the number of substat constraints, and\n   *\n   *  f(n, e * alpha(i)) = pNExtra[n][ e - 7n ]\n   *  h(n, m, M) = C(n, m) (M-1)^(n - m) M^(-n) = pRollInto(n, m, M)\n   *  g(0, N) = 1\n   *  g(0, n) = 0 for n != N\n   *\n   *  g(k + 1, n) = sum{0 <= m <= n} g(k, n + m) f(m + Nf(k), T(k)) h(n + m, m, |K| - k)\n   */\n\n  // At this point,\n  //  `target` = ceil(T / alpha)\n  //  `numUpgradeRolls` = Nu\n\n  let result = { [numUpgradeRolls]: 1 }, additionalUpgradeRolls = numUpgradeRolls - minTotalUpgrades\n\n  // Keep applying `target` from first to last.\n  // At each step i in the loop, `result[n]` = g(i, n)\n  targetEntries.forEach(({ target, filler, minUpgrade }, targetIndex) => {\n    const next: typeof result = {}\n\n    for (let rolls = minUpgrade; rolls <= minUpgrade + additionalUpgradeRolls; rolls++) {\n      // rolls = m; extra = T(i) / alpha - 7n\n\n      // Extra substat (mutiple of alpha) required from upgrade & filler rolls\n      const extra = target - 7 * (rolls + filler)\n      // pExtra = Pr[ Has at least `extra` * alpha from `rolls` upgrade or filler rolls into `key` ]\n      //        = f(m + Nf(i), T(i))\n      const pExtra = (extra > 0 ? pNExtra[rolls + filler][extra] : 1)\n\n      for (const [_remaining, probability] of Object.entries(result)) {\n        const remaining = parseInt(_remaining)\n        if (remaining < rolls) continue\n\n        // n := remaining - m\n        // remaining = n + m\n        // probability = g(i, n + m)\n\n        // `pRolls` = Pr[ Has `rolls` rolls into `key` from `remaining` upgrade rolls ]\n        //          = h(n + m, m, |K| - i)\n        const pRolls = pRollInto(remaining, rolls, 4 - targetIndex)\n        const index = remaining - rolls // n\n\n        // g(i + 1, n) += g(i, n + m) f(m + Nf(i), T(i)) h(n + m, m, |K| - i)\n        next[index] = (next[index] ?? 0) + probability * pExtra * pRolls\n      }\n    }\n    result = next\n  })\n\n  // At this point, `result[i]` = g(|K|, i)\n\n  return calculatePFillerRolls(artifact.mainStatKey, substats, required) * Object.values(result).reduce((a, b) => a + b)\n}\n\n/**\n * Pr[ N(k) = n | N = m, |K| = M ]\n *\n * 0 <= n <= N <= 5; 0 <= M <= 4\n */\nfunction pRollInto(m: number, n: number, M: number) {\n  return cnr[m][n] * Math.pow(M - 1, m - n) / Math.pow(M, m)\n}\n\n// Given a list of substat (in that order), calculate the probability that filler rolls will have all `required` substats in any order\nfunction calculatePFillerRolls(mainStat: MainStatKey, substats: ISubstat[], required: Set<SubstatKey>) {\n  // Instead of picking substats in a particular order [critDMG_, atk_, ...],\n  // We pick substat weights first [3, 4, 3, ...], then assign proper substats\n  // that corresponds to that weight: 3 => critDMG_ | critRate_ ; 4 => atk_, etc.\n  // This reduces the search space significantly (5040 substat sequences => 71 weight sequences).\n\n  const mainStatRatio = fWeight[mainStat] ?? 0\n  let pFillerRolls = 0 // Pr[ filler rolls include all `required` substats, Substats are in the same order as `substats` ]\n\n  const numUnusedSubstats = { 3: 2, 4: 5, 6: 3 } // # of substat not used by main stat or substats\n  let pSuffixFillerSeq: any = pFillerSeq[mainStatRatio] // Suffix of `pFillerSeq` that excludes the `substats` portion\n  for (const { key } of substats) {\n    if (key) {\n      const ratio = fWeight[key]\n      pSuffixFillerSeq = pSuffixFillerSeq[ratio]\n      numUnusedSubstats[ratio] -= 1\n    }\n  }\n  if (mainStatRatio) numUnusedSubstats[mainStatRatio] -= 1\n\n  const requiredCount = { 3: 0, 4: 0, 6: 0 }\n  for (const key of required) requiredCount[fWeight[key]] += 1\n\n  let total = 0\n  crawlObject(pSuffixFillerSeq, [], obj => typeof obj === \"number\", (prob: number, path: string[]) => {\n    total += prob\n    const currentCount = { 3: 0, 4: 0, 6: 0 }\n    for (const key of path) currentCount[key] += 1\n\n    let sum = prob\n    for (const i of allWeights) {\n      const current = currentCount[i], required = requiredCount[i]\n      if (current < required) return\n      sum *= cnr[current][required]\n    }\n\n    pFillerRolls += sum\n  })\n\n  for (const i of allWeights)\n    pFillerRolls /= cnr[numUnusedSubstats[i]][requiredCount[i]]\n  return pFillerRolls / total\n}\n\nexport { probability }\n","import { assertUnreachable, objPathValue } from \"../Util/Util\"\nimport { forEachNodes, mapFormulas } from \"./internal\"\nimport { constant } from \"./utils\"\nimport { CommutativeMonoidOperation, ComputeNode, ConstantNode, Data, NumNode, Operation, ReadNode, StrNode } from \"./type\"\n\nconst allCommutativeMonoidOperations: StrictDict<CommutativeMonoidOperation, (_: number[]) => number> = {\n  min: (x: number[]): number => Math.min(...x),\n  max: (x: number[]): number => Math.max(...x),\n  add: (x: number[]): number => x.reduce((a, b) => a + b, 0),\n  mul: (x: number[]): number => x.reduce((a, b) => a * b, 1),\n}\nexport const allOperations: StrictDict<Operation | \"threshold\", (_: number[]) => number> = {\n  ...allCommutativeMonoidOperations,\n  res: ([res]: number[]): number => {\n    if (res < 0) return 1 - res / 2\n    else if (res >= 0.75) return 1 / (res * 4 + 1)\n    return 1 - res\n  },\n  sum_frac: (x: number[]): number => x[0] / x.reduce((a, b) => a + b),\n  threshold: ([value, threshold, pass, fail]: number[]): number => value >= threshold ? pass : fail,\n}\n\nconst commutativeMonoidOperationSet = new Set(Object.keys(allCommutativeMonoidOperations) as (NumNode[\"operation\"])[])\n\nexport function optimize(formulas: NumNode[], topLevelData: Data, shouldFold = (_formula: ReadNode<number | string | undefined>) => false): NumNode[] {\n  formulas = constantFold(formulas, topLevelData, shouldFold)\n  formulas = flatten(formulas)\n  formulas = deduplicate(formulas)\n  return formulas\n}\nexport function precompute(formulas: NumNode[], binding: (readNode: ReadNode<number>) => string): (values: Dict<string, number>) => number[] {\n  // TODO: Use min-cut to minimize the size of interim array\n  type Reference = string | number | { ins: Reference[] }\n\n  const uniqueReadStrings = new Set<string>()\n  const uniqueNumbers = new Set<number>()\n  const mapping = new Map<NumNode, Reference>()\n\n  forEachNodes(formulas, _ => { }, f => {\n    const { operation } = f\n    switch (operation) {\n      case \"read\":\n        if (f.type !== \"number\" || (f.accu && f.accu !== \"add\"))\n          throw new Error(`Unsupported ${operation} node in precompute`)\n        const name = binding(f)\n        uniqueReadStrings.add(name)\n        mapping.set(f, name)\n        break\n      case \"add\": case \"min\": case \"max\": case \"mul\":\n      case \"threshold\": case \"res\": case \"sum_frac\":\n        mapping.set(f, { ins: f.operands.map(op => mapping.get(op)!) })\n        break\n      case \"const\":\n        if (typeof f.value !== \"number\")\n          throw new Error(\"Found string constant while precomputing\")\n        const value = f.value\n        uniqueNumbers.add(value)\n        mapping.set(f as ConstantNode<number>, value)\n        break\n      case \"match\": case \"lookup\": case \"subscript\":\n      case \"prio\":\n      case \"data\": throw new Error(`Unsupported ${operation} node in precompute`)\n      default: assertUnreachable(operation)\n    }\n  })\n\n  /**\n   * [ Outputs , Input , Constants, Deduplicated Compute ]\n   *\n   * Note that only Compute nodes are deduplicated. Outputs are arranged\n   * in the same order as formulas even when they are duplicated. Inputs\n   * are arranged in the same order as the read strings, even when they\n   * overlap with outputs. If an output is a constant or a compute node,\n   * only put the data in the output region.\n   */\n  const locations = new Map<NumNode | number | string, number>()\n\n  const readStrings = [...uniqueReadStrings], readOffset = formulas.length\n  const constValues = [...uniqueNumbers]\n  const computations: { out: number, ins: number[], op: (_: number[]) => number, buff: number[] }[] = []\n\n  formulas.forEach((f, i) => {\n    locations.set(f, i)\n    if (f.operation === \"const\") locations.set(f.value, i)\n  })\n  // After this line, if some outputs are also read node, `locations`\n  // will point to the one in the read node portion instead.\n  readStrings.forEach((str, i) => locations.set(str, i + formulas.length))\n  let offset = formulas.length + readStrings.length\n  constValues.forEach(value => locations.has(value) || locations.set(value, offset++))\n\n  // `locations` is stable from this point on. We now only append new values.\n  // There is no change to existing values.\n  //\n  // DO NOT read from `location` prior to this line.\n  mapping.forEach((ref, node) => {\n    if (typeof ref !== \"object\") {\n      locations.set(node, locations.get(ref)!)\n      return\n    }\n    if (!locations.has(node)) locations.set(node, offset++)\n    computations.push({\n      out: locations.get(node)!,\n      ins: node.operands.map(op => locations.get(op)!),\n      op: allOperations[node.operation],\n      buff: Array(node.operands.length).fill(0),\n    })\n  })\n\n  const buffer = Array(offset).fill(0)\n  buffer.forEach((_, i, array) => array[i] = NaN)\n  uniqueNumbers.forEach(number => buffer[locations.get(number)!] = number)\n\n  // Copy target for when some outputs are duplicated\n  const copyList = formulas.map((node, i) => {\n    const src = locations.get(node)!\n    return src !== i ? [src, i] : undefined!\n  }).filter(x => x)\n  const copyFormula = copyList.length ? () => {\n    copyList.forEach(([src, dst]) => buffer[dst] = buffer[src])\n  } : undefined\n\n  return values => {\n    readStrings.forEach((id, i) => buffer[readOffset + i] = values[id] ?? 0)\n    computations.forEach(({ out, ins, op, buff }) => {\n      ins.forEach((i, j) => buff[j] = buffer[i])\n      buffer[out] = op(buff)\n    })\n    copyFormula?.()\n    return buffer\n  }\n}\n\nfunction flatten(formulas: NumNode[]): NumNode[] {\n  return mapFormulas(formulas, f => f, _formula => {\n    let result = _formula\n    if (commutativeMonoidOperationSet.has(_formula.operation as any)) {\n      const formula = _formula as ComputeNode\n      const { operation } = formula\n\n      let flattened = false\n      const operands = formula.operands.flatMap(dep =>\n        (dep.operation === operation) ? (flattened = true, dep.operands) : [dep])\n      result = flattened ? { ...formula, operands } : formula\n    }\n\n    return result\n  })\n}\nfunction deduplicate(formulas: NumNode[]): NumNode[] {\n  function elementCounts<T>(array: readonly T[]): Map<T, number> {\n    const result = new Map<T, number>()\n    for (const value of array) result.set(value, (result.get(value) ?? 0) + 1)\n    return result\n  }\n  function arrayFromCounts<T>(counts: Map<T, number>): T[] {\n    return [...counts].flatMap(([dep, count]) => Array(count).fill(dep))\n  }\n\n  const wrap = {\n    common: {\n      counts: new Map<NumNode, number>(),\n      formulas: new Set<NumNode>(),\n      operation: \"add\" as Operation\n    }\n  }\n\n  while (true) {\n    let next: typeof wrap.common | undefined\n\n    const factored: ComputeNode = { operation: wrap.common.operation, operands: arrayFromCounts(wrap.common.counts) }\n\n    let candidatesByOperation = new Map<Operation, [ComputeNode, Map<NumNode, number>][]>()\n    for (const operation of Object.keys(allCommutativeMonoidOperations))\n      candidatesByOperation.set(operation, [])\n\n    formulas = mapFormulas(formulas, _formula => {\n      if (wrap.common.formulas.has(_formula as NumNode)) {\n        const formula = _formula as ComputeNode\n        const remainingCounts = new Map(wrap.common.counts)\n        const operands = formula.operands.filter(dep => {\n          const count = remainingCounts.get(dep)\n          if (count) {\n            remainingCounts.set(dep, count - 1)\n            return false\n          }\n          return true\n        })\n\n        if (!operands.length)\n          return factored\n        operands.push(factored)\n        return { ...formula, operands }\n      }\n      return _formula\n    }, _formula => {\n      if (!commutativeMonoidOperationSet.has(_formula.operation as any)) return _formula\n      const formula = _formula as ComputeNode\n\n      if (next) {\n        if (next.operation === formula.operation) {\n          const currentCounts = elementCounts(formula.operands), commonCounts = new Map<NumNode, number>()\n          const nextCounts = next.counts\n          let total = 0\n\n          for (const [dependency, currentCount] of currentCounts.entries()) {\n            const commonCount = Math.min(currentCount, nextCounts.get(dependency) ?? 0)\n            if (commonCount) {\n              commonCounts.set(dependency, commonCount)\n              total += commonCount\n            } else commonCounts.delete(dependency)\n          }\n          if (total > 1) {\n            next.counts = commonCounts\n            next.formulas.add(formula)\n          }\n        }\n      } else {\n        const candidates = candidatesByOperation.get(formula.operation)!\n        const counts = elementCounts(formula.operands)\n\n        for (const [candidate, candidateCounts] of candidates) {\n          let total = 0\n\n          const commonCounts = new Map<NumNode, number>()\n          for (const [dependency, candidateCount] of candidateCounts.entries()) {\n            const count = Math.min(candidateCount, counts.get(dependency) ?? 0)\n            if (count) {\n              commonCounts.set(dependency, count)\n              total += count\n            }\n          }\n          if (total > 1) {\n            next = {\n              counts: commonCounts,\n              formulas: new Set([formula, candidate]),\n              operation: formula.operation\n            }\n            candidatesByOperation.clear()\n            break\n          }\n        }\n        if (!next) candidates.push([formula, counts])\n      }\n\n      return formula\n    })\n\n    if (next) wrap.common = next\n    else break\n  }\n\n  return formulas\n}\n\n/**\n * Replace nodes with known values with appropriate constants,\n * avoiding removal of any nodes that pass `isFixed` predicate\n */\nexport function constantFold(formulas: NumNode[], topLevelData: Data, shouldFold = (_formula: ReadNode<number | string | undefined>) => false): NumNode[] {\n  type Context = { data: Data[], processed: Map<NumNode | StrNode, NumNode | StrNode> }\n  const origin: Context = { data: [], processed: new Map() }\n  const nextContextMap = new Map([[origin, new Map<Data, Context>()]])\n\n  function fold(formula: StrNode, context: Context): StrNode\n  function fold(formula: NumNode, context: Context): NumNode\n  function fold(formula: NumNode | StrNode, context: Context): NumNode | StrNode\n  function fold(formula: NumNode | StrNode, context: Context): NumNode | StrNode {\n    const old = context.processed.get(formula)\n    if (old) return old\n\n    const { operation } = formula\n    let result: NumNode | StrNode\n    switch (operation) {\n      case \"const\": return formula\n      case \"add\": case \"mul\": case \"max\": case \"min\":\n        const f = allOperations[operation]\n        const numericOperands: number[] = []\n        const formulaOperands: NumNode[] = formula.operands.filter(formula => {\n          const folded = fold(formula, context)\n          return (folded.operation === \"const\")\n            ? (numericOperands.push(folded.value), false)\n            : true\n        }).map(x => fold(x, context))\n        const numericValue = f(numericOperands)\n\n        // Fold degenerate cases. This may incorrectly compute NaN\n        // results, which shouldn't appear under expected usage.\n        // - zero\n        //   - 0 * ... = 0\n        // - infinity\n        //   - max(infinity, ...) = infinity\n        //   - infinity + ... = infinity\n        // - (-infinity)\n        //   - min(-infinity, ...) - infinity\n        //   - (-infinity) + ... = -infinity\n        // - NaN\n        //   - operation(NaN, ...) = NaN\n        if (!isFinite(numericValue)) {\n          if ((operation !== \"mul\") &&\n            (operation !== \"max\" || numericValue > 0) &&\n            (operation !== \"min\" || numericValue < 0)) {\n            result = constant(numericValue)\n            break\n          }\n        } else if (operation === \"mul\" && numericValue === 0) {\n          result = constant(numericValue)\n          break\n        }\n\n        if (numericValue !== f([])) // Skip vacuous values\n          formulaOperands.push(constant(numericValue))\n        if (formulaOperands.length <= 1) result = formulaOperands[0] ?? constant(f([]))\n        else result = { operation, operands: formulaOperands }\n        break\n      case \"res\": case \"sum_frac\": {\n        const operands = formula.operands.map(x => fold(x, context))\n        const f = allOperations[operation]\n        if (operands.every(x => x.operation === \"const\"))\n          result = constant(f(operands.map(x => (x as ConstantNode<number>).value)))\n        else result = { ...formula, operands }\n        break\n      }\n      case \"lookup\": {\n        const index = fold(formula.operands[0], context)\n        if (index.operation === \"const\") {\n          const selected = formula.table[index.value!] ?? formula.operands[1]\n          if (selected) {\n            result = fold(selected, context)\n            break\n          }\n        }\n        throw new Error(`Unsupported ${operation} node while folding`)\n      }\n      case \"prio\": {\n        const first = formula.operands.find(op => {\n          const folded = fold(op, context)\n          if (folded.operation !== \"const\")\n            throw new Error(`Unsupported ${operation} node while folding`)\n          return folded.value !== undefined\n        })\n        if (!first)\n          throw new Error(`Unsupported ${operation} node while folding`)\n        result = fold(first, context)\n        break\n      }\n      case \"match\": {\n        const [v1, v2, match, unmatch] = formula.operands.map((x: NumNode | StrNode) => fold(x, context))\n        if (v1.operation !== \"const\" || v2.operation !== \"const\")\n          throw new Error(`Unsupported ${operation} node while folding`)\n        result = (v1.value === v2.value) ? match : unmatch\n        break\n      }\n      case \"threshold\": {\n        const [value, threshold, pass, fail] = formula.operands.map(x => fold(x, context))\n        if (value.operation === \"const\" && threshold.operation === \"const\")\n          result = value.value >= threshold.value ? pass : fail\n        else\n          result = { ...formula, operands: [value, threshold, pass, fail] }\n        break\n      }\n      case \"subscript\": {\n        const [index] = formula.operands.map(x => fold(x, context))\n        result = (index.operation === \"const\")\n          ? constant(formula.list[index.value])\n          : { ...formula, operands: [index] }\n        break\n      }\n      case \"read\": {\n        const operands = context.data\n          .map(x => objPathValue(x, formula.path) as (NumNode | StrNode))\n          .filter(x => x)\n\n        if (operands.length === 0) {\n          if (shouldFold(formula)) {\n            const { accu } = formula\n            if (accu === undefined)\n              result = formula.type === \"string\" ? constant(undefined) : constant(NaN)\n            else result = constant(allOperations[accu]([]))\n          } else result = formula\n        } else if (formula.accu === undefined)\n          result = fold(operands[0], context)\n        else\n          result = fold({ operation: formula.accu, operands } as ComputeNode, context)\n        break\n      }\n      case \"data\":\n        if (formula.reset) context = origin\n        const map = nextContextMap.get(context)!\n        let nextContext = map.get(formula.data)\n        if (!nextContext) {\n          nextContext = { data: [...context.data, formula.data], processed: new Map() }\n          nextContextMap.set(nextContext, new Map())\n          map.set(formula.data, nextContext)\n        }\n        result = fold(formula.operands[0], nextContext)\n        break\n      default: assertUnreachable(operation)\n    }\n\n    context.processed.set(formula, result)\n    return result\n  }\n\n  const context = { data: [topLevelData], processed: new Map() }\n  nextContextMap.set(context, new Map())\n  nextContextMap.get(origin)!.set(topLevelData, context)\n  return formulas.map(x => fold(x, context))\n}\n\nexport const testing = {\n  constantFold, flatten, deduplicate\n}\n","import SqBadge from '../Components/SqBadge';\nimport { clamp } from '../Util/Util';\n\nexport default function PercentBadge({ value, valid }: Data) {\n  let [badgeColor, text] = typeof value === 'number' ?\n    [`roll${clamp(Math.floor(value * 0.05) + 1, 1, 6)}`, value.toFixed(2) + \"%\"] : [\"secondary\", value]\n  if (!valid) badgeColor = \"error\"\n  return <SqBadge color={badgeColor} >{text}</SqBadge>\n}\n\ntype Data = {\n  valid: boolean,\n  value: number | string,\n}\n","import { Button, ButtonProps, styled } from \"@mui/material\";\n\nconst DisabledButton = styled(Button)(({ theme }) => ({\n  \"&.Mui-disabled\": {\n    backgroundColor: theme.palette.primary.dark,\n    color: theme.palette.text.secondary,\n  }\n}))\n\nexport default function TextButton({ children, disabled, ...props }: ButtonProps) {\n  return <DisabledButton {...props} disabled  >\n    {children}\n  </DisabledButton>\n}\n","import { Replay } from \"@mui/icons-material\"\nimport { Button, ButtonGroup, ButtonGroupProps, styled } from \"@mui/material\"\nimport { ReactNode } from \"react\"\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from \"../Components/CustomNumberInput\"\nimport TextButton from \"../Components/TextButton\"\n\ntype StatInputInput = ButtonGroupProps & {\n  name: Displayable,\n  children?: ReactNode,\n  value: number,\n  placeholder?: string,\n  defaultValue?: number,\n  onValueChange: (newValue: number | undefined) => void,\n  percent?: boolean,\n  disabled?: boolean,\n  onReset?: () => void\n}\nconst FlexButtonGroup = styled(ButtonGroup)({\n  display: \"flex\"\n})\n\nexport default function StatInput({ name, children, value, placeholder, defaultValue = 0, onValueChange, percent = false, disabled = false, onReset, ...restProps }: StatInputInput) {\n\n  return <FlexButtonGroup {...restProps} >\n    {children}\n    <TextButton sx={{ whiteSpace: \"nowrap\" }} >\n      {name}\n    </TextButton>\n    <CustomNumberInputButtonGroupWrapper sx={{ flexBasis: 30, flexGrow: 1 }} >\n      <CustomNumberInput\n        sx={{ px: 1 }}\n        inputProps={{\n          sx: { textAlign: \"right\" }\n        }}\n        float={percent}\n        placeholder={placeholder}\n        value={value}\n        onChange={onValueChange}\n        disabled={disabled}\n        endAdornment={percent ? \"%\" : undefined}\n      />\n    </CustomNumberInputButtonGroupWrapper>\n    <Button onClick={() => onReset ? onReset() : onValueChange(defaultValue)} disabled={disabled || value === defaultValue} >\n      <Replay />\n    </Button>\n  </FlexButtonGroup>\n}\n","import { AnyNode, NumNode, StrNode } from \"./type\"\nimport { constant } from \"./utils\"\n\nexport function forEachNodes(formulas: (NumNode | StrNode)[], topDown: (formula: (NumNode | StrNode)) => void, bottomUp: (formula: (NumNode | StrNode)) => void): void {\n  const visiting = new Set<(NumNode | StrNode)>(), visited = new Set<(NumNode | StrNode)>()\n\n  function traverse(formula: (NumNode | StrNode)) {\n    if (visited.has(formula)) return\n\n    if (visiting.has(formula)) {\n      console.error(\"Found cyclical dependency during formula traversal\")\n      return\n    }\n    visiting.add(formula)\n\n    topDown(formula)\n\n    formula.operands.forEach(traverse)\n\n    bottomUp(formula)\n\n    visiting.delete(formula)\n    visited.add(formula)\n  }\n\n  formulas.forEach(traverse)\n}\n\nexport function mapFormulas(formulas: NumNode[], topDownMap: (formula: (NumNode | StrNode)) => (NumNode | StrNode), bottomUpMap: (current: (NumNode | StrNode), orig: (NumNode | StrNode)) => (NumNode | StrNode)): NumNode[]\nexport function mapFormulas(formulas: (NumNode | StrNode)[], topDownMap: (formula: (NumNode | StrNode)) => (NumNode | StrNode), bottomUpMap: (current: (NumNode | StrNode), orig: (NumNode | StrNode)) => (NumNode | StrNode)): (NumNode | StrNode)[] {\n  const visiting = new Set<(NumNode | StrNode)>()\n  const topDownMapped = new Map<(NumNode | StrNode), (NumNode | StrNode)>()\n  const bottomUpMapped = new Map<(NumNode | StrNode), (NumNode | StrNode)>()\n\n  function check(formula: (NumNode | StrNode)): (NumNode | StrNode) {\n    let topDown = topDownMapped.get(formula)\n    if (topDown) return topDown\n    topDown = topDownMap(formula)\n\n    let bottomUp = bottomUpMapped.get(topDown)\n    if (bottomUp) return bottomUp\n\n    if (visiting.has(topDown)) {\n      console.error(\"Found cyclical dependency during formula mapping\")\n      return constant(NaN)\n    }\n    visiting.add(topDown)\n\n    bottomUp = bottomUpMap(traverse(topDown), formula)\n\n    visiting.delete(topDown)\n\n    topDownMapped.set(formula, bottomUp)\n    bottomUpMapped.set(topDown, bottomUp)\n    return bottomUp\n  }\n\n  function traverse(formula: (NumNode | StrNode)): (NumNode | StrNode) {\n    const operands = formula.operands.map(check)\n    return arrayEqual(operands, formula.operands) ? formula : { ...formula, operands } as any\n  }\n\n  const result = formulas.map(check)\n  return arrayEqual(result, formulas) ? formulas : result\n}\n\nexport function mapContextualFormulas(formulas: NumNode[], baseContextId: number, topDownMap: (formula: AnyNode, contextId: ContextID) => [AnyNode, ContextID], bottomUpMap: (formula: AnyNode, orig: AnyNode, contextId: ContextID, origContextId: ContextID) => AnyNode): NumNode[]\nexport function mapContextualFormulas(formulas: AnyNode[], baseContextId: number, topDownMap: (formula: AnyNode, contextId: ContextID) => [AnyNode, ContextID], bottomUpMap: (formula: AnyNode, orig: AnyNode, contextId: ContextID, origContextId: ContextID) => AnyNode): AnyNode[] {\n  const visiting = new Set<AnyNode>()\n  const topDownByContext = new Map<ContextID, Map<AnyNode, AnyNode>>()\n  const bottomUpByContext = new Map<ContextID, Map<AnyNode, AnyNode>>()\n\n  function check(formula: AnyNode, parentContextId: ContextID): AnyNode {\n    let topDownMapping = topDownByContext.get(parentContextId)\n    if (!topDownMapping) {\n      topDownMapping = new Map()\n      topDownByContext.set(parentContextId, topDownMapping)\n    }\n\n    let topDown = topDownMapping.get(formula)\n    if (topDown) return topDown\n    let topDownContextId: number\n    [topDown, topDownContextId] = topDownMap(formula, parentContextId)\n\n    if (visiting.has(topDown)) {\n      console.error(\"Found cyclical dependency during formula mapping\")\n      return constant(NaN)\n    }\n\n    let bottomUpMapping = bottomUpByContext.get(topDownContextId)\n    if (!bottomUpMapping) {\n      bottomUpMapping = new Map()\n      bottomUpByContext.set(topDownContextId, bottomUpMapping)\n    }\n\n    let bottomUp = bottomUpMapping.get(topDown)\n    if (bottomUp) return bottomUp\n\n    visiting.add(topDown)\n    bottomUp = bottomUpMap(traverse(topDown, topDownContextId), formula, topDownContextId, parentContextId)\n    visiting.delete(topDown)\n\n    bottomUpMapping.set(topDown, bottomUp)\n    topDownMapping.set(formula, bottomUp)\n    return bottomUp\n  }\n\n  function traverse(formula: AnyNode, contextId: ContextID): AnyNode {\n    const operands = formula.operands.map(f => check(f, contextId))\n    return arrayEqual(operands, formula.operands) ? formula : { ...formula, operands }\n  }\n\n  const result = formulas.map(f => check(f, baseContextId))\n  return arrayEqual(formulas, result) ? formulas : result\n}\n\ntype ContextID = number\n\nfunction arrayEqual<T>(a: readonly T[] | undefined, b: readonly T[] | undefined): boolean {\n  if (a === undefined) return b === undefined\n  if (b === undefined) return false\n\n  return a.length === b.length && a.every((value, i) => value === b[i])\n}\n","import { Box, CardActionArea, CardContent, Divider, Grid, Typography } from \"@mui/material\"\nimport { useEffect, useState } from \"react\"\nimport Assets from \"../../Assets/Assets\"\nimport usePromise from \"../../ReactHooks/usePromise\"\nimport { allWeaponKeys, WeaponKey, WeaponTypeKey } from \"../../Types/consts\"\nimport WeaponSheet from \"../../Data/Weapons/WeaponSheet\"\nimport CardDark from \"../Card/CardDark\"\nimport CardLight from \"../Card/CardLight\"\nimport CloseButton from \"../CloseButton\"\nimport ImgIcon from \"../Image/ImgIcon\"\nimport ModalWrapper from \"../ModalWrapper\"\nimport { Stars } from \"../StarDisplay\"\nimport WeaponToggle from \"../ToggleButton/WeaponToggle\"\n\ntype WeaponSelectionModalProps = {\n  show: boolean,\n  onHide: () => void,\n  onSelect: (wKey: WeaponKey) => void,\n  filter?: (sheet: WeaponSheet) => boolean,\n  weaponFilter?: WeaponTypeKey,\n}\n\nexport default function WeaponSelectionModal({ show, onHide, onSelect, filter = () => true, weaponFilter: propWeaponFilter }: WeaponSelectionModalProps) {\n  const weaponSheets = usePromise(WeaponSheet.getAll, [])\n  const [weaponFilter, setWeaponfilter] = useState<WeaponTypeKey | \"\">(propWeaponFilter ?? \"\")\n\n  useEffect(() => propWeaponFilter && setWeaponfilter(propWeaponFilter), [propWeaponFilter])\n\n  const weaponIdList = !weaponSheets ? [] : [...new Set(allWeaponKeys)].filter(wKey => filter(weaponSheets[wKey]))\n    .filter(wKey => {\n      if (weaponFilter && weaponFilter !== weaponSheets?.[wKey]?.weaponType) return false\n      return true\n    })\n    .sort((a, b) => (weaponSheets?.[b]?.rarity ?? 0) - (weaponSheets?.[a]?.rarity ?? 0))\n\n  if (!weaponSheets) return null\n\n  return <ModalWrapper open={show} onClose={onHide}>\n    <CardDark>\n      <CardContent sx={{ py: 1 }}>\n        <Grid container>\n          <Grid item flexGrow={1}>\n            <WeaponToggle value={weaponFilter} onChange={setWeaponfilter} disabled={!!propWeaponFilter} size=\"small\" />\n          </Grid >\n          <Grid item>\n            <CloseButton onClick={onHide} />\n          </Grid >\n        </Grid>\n      </CardContent>\n      <Divider />\n      <CardContent><Grid container spacing={1}>\n        {weaponIdList.map(weaponKey => {\n          const weaponSheet = weaponSheets[weaponKey]\n          return <Grid item key={weaponKey} lg={3} md={4}>\n            <CardLight sx={{ height: \"100%\" }} >\n              <CardActionArea onClick={() => { onHide(); onSelect(weaponKey) }} sx={{ display: \"flex\" }}>\n                <Box component=\"img\" src={weaponSheet.img} sx={{ width: 100, height: \"auto\" }} className={` grad-${weaponSheet.rarity}star`} />\n                <Box sx={{ flexGrow: 1, px: 1 }}>\n                  <Typography variant=\"subtitle1\">{weaponSheet.name}</Typography>\n                  <Typography><ImgIcon src={Assets.weaponTypes?.[weaponSheet.weaponType]} /> <Stars stars={weaponSheet.rarity} colored /></Typography>\n                </Box>\n              </CardActionArea>\n            </CardLight>\n          </Grid>\n        })}\n      </Grid></CardContent>\n      <Divider />\n      <CardContent sx={{ py: 1 }}>\n        <CloseButton large onClick={onHide} />\n      </CardContent>\n    </CardDark>\n  </ModalWrapper>\n}\n","import { faBan, faChartLine, faEdit, faInfoCircle, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Lock, LockOpen } from '@mui/icons-material';\nimport { Box, Button, ButtonGroup, CardActions, CardContent, CardMedia, Chip, Grid, IconButton, Skeleton, Tooltip, Typography } from '@mui/material';\nimport React, { Suspense, useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport BootstrapTooltip from '../Components/BootstrapTooltip';\nimport CardLight from '../Components/Card/CardLight';\nimport CharacterDropdownButton from '../Components/Character/CharacterDropdownButton';\nimport LocationName from '../Components/Character/LocationName';\nimport ColorText from '../Components/ColoredText';\nimport SqBadge from '../Components/SqBadge';\nimport { Stars } from '../Components/StarDisplay';\nimport { database as localDatabase, DatabaseContext } from '../Database/Database';\nimport useArtifact from '../ReactHooks/useArtifact';\nimport usePromise from '../ReactHooks/usePromise';\nimport { allSubstats, ICachedArtifact, ICachedSubstat, SubstatKey } from '../Types/artifact';\nimport { CharacterKey } from '../Types/consts';\nimport { valueStringWithUnit } from '../Util/UIUtil';\nimport { clamp } from '../Util/Util';\nimport Artifact from '../Data/Artifacts/Artifact';\nimport { ArtifactSheet } from '../Data/Artifacts/ArtifactSheet';\nimport SlotNameWithIcon from '../Components/Artifact/SlotNameWIthIcon';\nimport PercentBadge from './PercentBadge';\nimport { probability } from './RollProbability';\nimport KeyMap from '../KeyMap';\n\ntype Data = {\n  artifactId?: string,\n  artifactObj?: ICachedArtifact,\n  onEdit?: (string) => void,\n  onDelete?: (string) => void, mainStatAssumptionLevel?: number,\n  effFilter?: Set<SubstatKey>,\n  probabilityFilter?: Dict<SubstatKey, number>\n}\nconst allSubstatFilter = new Set(allSubstats)\n\nexport default function ArtifactCard({ artifactId, artifactObj, onEdit, onDelete, mainStatAssumptionLevel = 0, effFilter = allSubstatFilter, probabilityFilter }: Data): JSX.Element | null {\n  const { t } = useTranslation([\"artifact\"]);\n  const database = useContext(DatabaseContext)\n  const databaseArtifact = useArtifact(artifactId)\n  const sheet = usePromise(ArtifactSheet.get((artifactObj ?? databaseArtifact)?.setKey), [artifactObj, databaseArtifact])\n  const equipOnChar = (charKey: CharacterKey | \"\") => database.setArtLocation(artifactId!, charKey)\n\n  const editable = !artifactObj && database === localDatabase // dont allow edit for flex artifacts\n  const art = artifactObj ?? databaseArtifact\n  if (!art) return null\n\n  const { id, lock, slotKey, rarity, level, mainStatKey, substats, exclude, location = \"\" } = art\n  const mainStatLevel = Math.max(Math.min(mainStatAssumptionLevel, rarity * 4), level)\n  const levelVariant = \"roll\" + (Math.floor(Math.max(level, 0) / 4) + 1)\n  const mainStatVal = <ColorText color={mainStatLevel !== level ? \"warning\" : undefined}>{valueStringWithUnit(Artifact.mainStatValue(mainStatKey, rarity, mainStatLevel) ?? 0, KeyMap.unit(mainStatKey))}</ColorText>\n  const { currentEfficiency, maxEfficiency } = Artifact.getArtifactEfficiency(art, effFilter)\n  const artifactValid = maxEfficiency !== 0\n  const slotName = sheet?.getSlotName(slotKey) || \"Unknown Piece Name\"\n  const slotDesc = sheet?.getSlotDesc(slotKey)\n  const slotDescTooltip = slotDesc && <BootstrapTooltip placement=\"top\" title={<Typography>{slotDesc}</Typography>}>\n    <span><FontAwesomeIcon icon={faInfoCircle} /></span>\n  </BootstrapTooltip>\n  const setEffects = sheet?.setEffects\n  const setDescTooltip = sheet && setEffects && <BootstrapTooltip placement=\"top\" title={\n    <span>\n      {Object.keys(setEffects).map(setNumKey => <span key={setNumKey}>\n        <Typography variant=\"h6\"><SqBadge color=\"success\">{t(`setEffectNum`, { setNum: setNumKey })}</SqBadge></Typography>\n        <Typography>{sheet.setEffectDesc(setNumKey as any)}</Typography>\n      </span>)}\n    </span>\n  }>\n    <span><FontAwesomeIcon icon={faInfoCircle} /></span>\n  </BootstrapTooltip>\n\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 350 }} />}>\n    <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\n      <CardContent className={`grad-${rarity}star`} sx={{ pt: 1, pb: 0, pr: 0 }}>\n        <Box component=\"div\" sx={{ display: \"flex\", alignItems: \"center\", pr: 1 }}>\n          <Chip size=\"small\" label={<strong>{` +${level}`}</strong>} color={levelVariant as any} />\n          <Typography sx={{ pl: 1, flexGrow: 1 }}>{slotName} {slotDescTooltip}</Typography>\n          <IconButton color=\"primary\" disabled={!editable} onClick={() => database.updateArt({ lock: !lock }, id)}>\n            {lock ? <Lock /> : <LockOpen />}\n          </IconButton>\n        </Box>\n        <Grid container sx={{ flexWrap: \"nowrap\" }}>\n          <Grid item flexGrow={1}>\n            <Typography color=\"text.secondary\" variant=\"body2\">\n              <SlotNameWithIcon slotKey={slotKey} />\n            </Typography>\n            <Typography variant=\"h6\">\n              {KeyMap.get(mainStatKey)}\n            </Typography>\n            <Typography variant=\"h5\">\n              <strong>{mainStatVal}</strong>\n            </Typography>\n            <Stars stars={rarity} colored />\n            {/* {process.env.NODE_ENV === \"development\" && <Typography color=\"common.black\">{id || `\"\"`} </Typography>} */}\n          </Grid>\n          <Grid item maxWidth=\"40%\" sx={{ mt: -3, mb: -1, pl: -2 }} alignSelf=\"flex-end\">\n            <CardMedia\n              component=\"img\"\n              image={sheet?.slotIcons[slotKey] ?? \"\"}\n              width=\"100%\"\n              height=\"auto\"\n            />\n          </Grid>\n        </Grid>\n      </CardContent>\n      <CardContent sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\", pt: 1, pb: 0 }}>\n        {substats.map((stat: ICachedSubstat, i) => {\n          if (!stat.value) return null\n          const numRolls = stat.rolls?.length ?? 0\n          const rollColor = `roll${clamp(numRolls, 1, 6)}`\n          const efficiency = stat.efficiency ?? 0\n          const effOpacity = 0.3 + (efficiency / 100) * 0.7\n          const statName = KeyMap.get(stat.key)\n          return (<Box key={i} sx={{ display: \"flex\" }}>\n            <Box sx={{ flexGrow: 1 }}>\n              <SqBadge color={(numRolls ? rollColor : \"error\") as any} sx={{ mr: 1 }}><strong>{numRolls ? numRolls : \"?\"}</strong></SqBadge>\n              <Typography color={(numRolls ? `${rollColor}.main` : \"error.main\") as any} component=\"span\">{statName}{`+${valueStringWithUnit(stat.value, KeyMap.unit(stat.key))}`}</Typography>\n            </Box>\n            <Typography sx={{ opacity: effOpacity }}>{stat.key && effFilter.has(stat.key) ? valueStringWithUnit(efficiency, \"eff\") : \"-\"}</Typography>\n          </Box>)\n        })}\n        <Box sx={{ display: \"flex\", my: 1 }}>\n          <Typography color=\"text.secondary\" component=\"span\" variant=\"caption\" sx={{ flexGrow: 1 }}>{t`editor.curSubEff`}</Typography>\n          <PercentBadge value={currentEfficiency} valid={artifactValid} />\n        </Box>\n        {currentEfficiency !== maxEfficiency && <Box sx={{ display: \"flex\", mb: 1 }}>\n          <Typography color=\"text.secondary\" component=\"span\" variant=\"caption\" sx={{ flexGrow: 1 }}>{t`editor.maxSubEff`}</Typography>\n          <PercentBadge value={maxEfficiency} valid={artifactValid} />\n        </Box>}\n        <Box flexGrow={1} />\n        {probabilityFilter && <strong>Probability: {(probability(art, probabilityFilter) * 100).toFixed(2)}%</strong>}\n        <Typography color=\"success.main\">{sheet?.name ?? \"Artifact Set\"} {setDescTooltip}</Typography>\n      </CardContent>\n      <CardActions>\n        <Grid container sx={{ flexWrap: \"nowrap\" }}>\n          <Grid item xs=\"auto\" flexShrink={1}>\n            {editable ?\n              <CharacterDropdownButton size=\"small\" inventory value={location} onChange={equipOnChar} /> : <LocationName location={location} />}\n          </Grid>\n          <Grid item flexGrow={1} sx={{ mr: 1 }} />\n          {editable && <Grid item xs=\"auto\">\n            <ButtonGroup sx={{ height: \"100%\" }}>\n              {!!onEdit && <Button color=\"info\" onClick={() => onEdit(id)} size=\"small\">\n                <FontAwesomeIcon icon={faEdit} className=\"fa-fw\" />\n              </Button>}\n              <Tooltip title={<Typography>{t`excludeArtifactTip`}</Typography>} placement=\"top\" arrow>\n                <Button onClick={() => database.updateArt({ exclude: !exclude }, id)} color={exclude ? \"error\" : \"success\"} size=\"small\">\n                  <FontAwesomeIcon icon={exclude ? faBan : faChartLine} className=\"fa-fw\" />\n                </Button>\n              </Tooltip>\n              {!!onDelete && <Button color=\"error\" size=\"small\" onClick={() => onDelete(id)} disabled={lock}>\n                <FontAwesomeIcon icon={faTrashAlt} className=\"fa-fw\" />\n              </Button>}\n            </ButtonGroup>\n          </Grid>}\n        </Grid>\n      </CardActions>\n    </CardLight >\n  </Suspense>\n}\n","import { useContext, useEffect, useState } from \"react\";\nimport { DatabaseContext } from \"../Database/Database\";\n\nexport default function useArtifact(artifactID: string | undefined = \"\") {\n  const database = useContext(DatabaseContext)\n  const [artifact, setArtifact] = useState(database._getArt(artifactID))\n  useEffect(() => setArtifact(database._getArt(artifactID)), [database, artifactID])\n  useEffect(() =>\n    artifactID ? database.followArt(artifactID, setArtifact) : undefined,\n    [artifactID, setArtifact, database])\n  return artifact\n}","import { BusinessCenter, Replay } from \"@mui/icons-material\";\nimport { Divider, ListItemIcon, MenuItem, Typography } from \"@mui/material\";\nimport { useContext } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport CharacterSheet from \"../../Data/Characters/CharacterSheet\";\nimport { DatabaseContext } from \"../../Database/Database\";\nimport usePromise from \"../../ReactHooks/usePromise\";\nimport { CharacterKey } from \"../../Types/consts\";\nimport DropdownButton, { DropdownButtonProps } from \"../DropdownMenu/DropdownButton\";\nimport ThumbSide from \"./ThumbSide\";\n\nexport type CharacterDropdownButtonProps = Omit<DropdownButtonProps, \"title\" | \"onChange\" | \"children\"> & {\n  value: CharacterKey | \"\"\n  onChange: (ck: CharacterKey | \"\") => void\n  filter?: (cs: CharacterSheet, ck: CharacterKey) => boolean\n  inventory?: boolean\n  noUnselect?: boolean,\n  unSelectText?: Displayable,\n  unSelectIcon?: Displayable,\n}\n\nexport default function CharacterDropdownButton({ value, onChange, unSelectText, unSelectIcon, inventory = false, noUnselect = false, filter = () => true, ...props }: CharacterDropdownButtonProps) {\n  const { t } = useTranslation(\"ui\");\n  const database = useContext(DatabaseContext)\n  const characterSheets = usePromise(CharacterSheet.getAll, [])\n  const characterSheet = usePromise(CharacterSheet.get(value), [value])\n  const characterKeys = database._getCharKeys().filter(ck => characterSheets?.[ck] && filter(characterSheets[ck], ck)).sort()\n  return <DropdownButton\n    {...props}\n    title={characterSheet?.name ?? (inventory ? t`inventory` : (unSelectText ?? t`unselect`))}\n    color={value ? \"success\" : \"primary\"}\n    startIcon={characterSheet?.thumbImg ? <ThumbSide src={characterSheet.thumbImgSide} /> : (inventory ? <BusinessCenter /> : (unSelectIcon ?? <Replay />))}>\n    {!noUnselect && (inventory ? <MenuItem onClick={() => onChange(\"\")} selected={value === \"\"} disabled={value === \"\"}>\n      <ListItemIcon>\n        <BusinessCenter />\n      </ListItemIcon>\n      <Typography variant=\"inherit\" noWrap>\n        {t`inventory`}\n      </Typography>\n    </MenuItem> : <MenuItem onClick={() => onChange(\"\")} selected={value === \"\"} disabled={value === \"\"}>\n      <ListItemIcon>\n        <Replay />\n      </ListItemIcon>\n      <Typography variant=\"inherit\" noWrap>\n        {t`unselect`}\n      </Typography>\n    </MenuItem>)}\n    {!noUnselect && <Divider key=\"div\" />}\n    {!!characterSheets && CharacterMenuItemArray(characterSheets, characterKeys, onChange, value)}\n  </DropdownButton >\n}\n\n// Returning an array instead of Fragment because MUI Menu doesn't like fragments.\nexport function CharacterMenuItemArray(characterSheets: StrictDict<CharacterKey, CharacterSheet>, characterKeys: CharacterKey[], onChange: (ck: CharacterKey) => void, selectedCharacterKey: CharacterKey | \"\" = \"\") {\n  return characterKeys.map(characterKey =>\n    <MenuItem onClick={() => onChange(characterKey)} key={characterKey} selected={selectedCharacterKey === characterKey} disabled={selectedCharacterKey === characterKey} >\n      <ListItemIcon>\n        <ThumbSide src={characterSheets[characterKey].thumbImgSide} />\n      </ListItemIcon>\n      <Typography variant=\"inherit\" noWrap>\n        {characterSheets?.[characterKey]?.name}\n      </Typography>\n    </MenuItem>)\n}\n","import { faEdit, faTrashAlt } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { Lock, LockOpen } from \"@mui/icons-material\"\nimport { Box, Button, ButtonGroup, CardActionArea, CardContent, CardHeader, Grid, IconButton, Skeleton, Typography } from \"@mui/material\"\nimport { Suspense, useCallback, useContext, useMemo } from \"react\"\nimport Assets from \"../Assets/Assets\"\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\"\nimport CardLight from \"../Components/Card/CardLight\"\nimport CharacterDropdownButton from '../Components/Character/CharacterDropdownButton_WR'\nimport LocationName from \"../Components/Character/LocationName\"\nimport ConditionalWrapper from \"../Components/ConditionalWrapper\"\nimport ImgIcon from \"../Components/Image/ImgIcon\"\nimport { Stars } from \"../Components/StarDisplay\"\nimport StatIcon from \"../Components/StatIcon\"\nimport { ascensionMaxLevel } from \"../Data/LevelData\"\nimport { DatabaseContext } from \"../Database/Database\"\nimport { uiInput as input } from \"../Formula\"\nimport { computeUIData, valueString, dataObjForWeapon } from \"../Formula/api\"\nimport usePromise from \"../ReactHooks/usePromise\"\nimport useWeapon from \"../ReactHooks/useWeapon\"\nimport KeyMap from \"../KeyMap\"\nimport { CharacterKey } from \"../Types/consts\"\nimport WeaponSheet from \"../Data/Weapons/WeaponSheet\"\n\ntype WeaponCardProps = { weaponId: string, onClick?: (weaponId: string) => void, onEdit?: (weaponId: string) => void, onDelete?: (weaponId: string) => void, canEquip?: boolean }\nexport default function WeaponCard({ weaponId, onClick, onEdit, onDelete, canEquip = false }: WeaponCardProps) {\n  const database = useContext(DatabaseContext)\n  const databaseWeapon = useWeapon(weaponId)\n  const weapon = databaseWeapon\n  const weaponSheet = usePromise(weapon?.key ? WeaponSheet.get(weapon.key) : undefined, [weapon?.key])\n\n  const filter = useCallback(\n    (cs: CharacterSheet) => cs.weaponTypeKey === weaponSheet?.weaponType,\n    [weaponSheet],\n  )\n\n  const actionWrapperFunc = useCallback(\n    children => <CardActionArea onClick={() => onClick?.(weaponId)} sx={{ height: \"100%\" }}>{children}</CardActionArea>,\n    [onClick, weaponId],\n  )\n\n  const equipOnChar = useCallback((charKey: CharacterKey | \"\") => database.setWeaponLocation(weaponId, charKey), [database, weaponId],)\n\n  const UIData = useMemo(() => weaponSheet && weapon && computeUIData([weaponSheet.data, dataObjForWeapon(weapon)]), [weaponSheet, weapon])\n\n  if (!weapon || !weaponSheet || !UIData) return null;\n  const { level, ascension, refinement, id, location = \"\", lock } = weapon\n  const weaponTypeKey = UIData.get(input.weapon.type).value!\n  const stats = [input.weapon.main, input.weapon.sub, input.weapon.sub2].map(x => UIData.get(x))\n  const img = ascension < 2 ? weaponSheet?.img : weaponSheet?.imgAwaken\n\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 300 }} />}>\n    <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc}>\n      <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\n        <div className={`grad-${weaponSheet.rarity}star`} >\n          <CardHeader title={weaponSheet.name} avatar={<ImgIcon sx={{ fontSize: \"2em\" }} src={Assets.weaponTypes?.[weaponTypeKey]} />} titleTypographyProps={{ variant: \"h6\" }}\n            action={!onClick && <IconButton color=\"primary\" onClick={() => database.updateWeapon({ lock: !lock }, id)}>\n              {lock ? <Lock /> : <LockOpen />}\n            </IconButton>} />\n          <Grid container sx={{ flexWrap: \"nowrap\", pl: 2 }}>\n            <Grid item flexGrow={1}>\n              <Typography component=\"span\" variant=\"h4\">Lv. {level}</Typography>\n              <Typography component=\"span\" variant=\"h4\" color=\"text.secondary\">/{ascensionMaxLevel[ascension]}</Typography>\n              <Typography variant=\"h6\">Refinement <strong>{refinement}</strong></Typography>\n              <Typography><Stars stars={weaponSheet.rarity} colored /></Typography>\n            </Grid>\n            {/* use flex-end here to align the image to the bottom. */}\n            <Grid item container maxWidth=\"40%\" alignContent=\"flex-end\" sx={{ mt: -3 }}>\n              <Box component=\"img\" src={img} width=\"100%\" height=\"auto\" />\n            </Grid>\n          </Grid>\n        </div>\n        <CardContent>\n          {stats.map(node => {\n            if (!node.key) return null\n            const displayVal = valueString(node.value, node.unit, node.unit === \"flat\" ? 0 : undefined)\n            return <Box key={node.key} sx={{ display: \"flex\" }}>\n              <Typography flexGrow={1}>{StatIcon[node.key]} {KeyMap.get(node.key)}</Typography>\n              <Typography>{displayVal}</Typography>\n            </Box>\n          })}\n        </CardContent>\n        {/* grow to fill the 100% heigh */}\n        <Box flexGrow={1} />\n        <CardContent sx={{ py: 1 }}>\n          <Grid container sx={{ flexWrap: \"nowrap\" }} >\n            <Grid item xs=\"auto\" flexShrink={1}>\n              {canEquip ? <CharacterDropdownButton size=\"small\" noUnselect inventory value={location} onChange={equipOnChar} filter={filter} /> : <LocationName location={location} />}\n            </Grid>\n            <Grid item flexGrow={1} sx={{ mr: 1 }} />\n            <Grid item xs=\"auto\">\n              <ButtonGroup sx={{ height: \"100%\" }}>\n                {!!onEdit && <Button color=\"info\" size=\"small\" onClick={() => onEdit(id)} >\n                  <FontAwesomeIcon icon={faEdit} className=\"fa-fw\" />\n                </Button>}\n                {!!onDelete && <Button color=\"error\" size=\"small\" onClick={() => onDelete(id)} disabled={!!location || lock} >\n                  <FontAwesomeIcon icon={faTrashAlt} className=\"fa-fw\" />\n                </Button>}\n              </ButtonGroup>\n            </Grid>\n          </Grid>\n        </CardContent>\n\n      </CardLight>\n    </ConditionalWrapper>\n  </Suspense>\n}\n","import { isHostComponent } from '@mui/base';\n\nconst shouldSpreadAdditionalProps = Slot => {\n  return !Slot || !isHostComponent(Slot);\n};\n\nexport default shouldSpreadAdditionalProps;","import { Box, CardActionArea, CardContent, Chip, Grid, Skeleton, Typography } from '@mui/material';\nimport { Suspense, useCallback, useContext, useMemo } from 'react';\nimport { ArtifactSheet } from '../Data/Artifacts/ArtifactSheet';\nimport CardDark from '../Components/Card/CardDark';\nimport CardLight from '../Components/Card/CardLight';\nimport ConditionalWrapper from '../Components/ConditionalWrapper';\nimport ImgIcon from '../Components/Image/ImgIcon';\nimport SqBadge from '../Components/SqBadge';\nimport { Stars } from '../Components/StarDisplay';\nimport StatIcon from '../Components/StatIcon';\nimport { ascensionMaxLevel } from '../Data/LevelData';\nimport { DatabaseContext } from '../Database/Database';\nimport { DataContext, dataContextObj, TeamData } from '../DataContext';\nimport { uiInput as input } from '../Formula';\nimport { computeUIData, dataObjForWeapon, valueString } from '../Formula/api';\nimport { NumNode } from '../Formula/type';\nimport KeyMap from '../KeyMap';\nimport useCharacterReducer from '../ReactHooks/useCharacterReducer';\nimport usePromise from '../ReactHooks/usePromise';\nimport useTeamData from '../ReactHooks/useTeamData';\nimport { ICachedArtifact } from '../Types/artifact_WR';\nimport { allSlotKeys, CharacterKey, ElementKey, SlotKey } from '../Types/consts';\nimport { ICachedWeapon } from '../Types/weapon_WR';\nimport WeaponSheet from '../Data/Weapons/WeaponSheet';\n\ntype CharacterCardProps = {\n  characterKey: CharacterKey | \"\",\n  onClick?: (characterKey: CharacterKey) => void,\n  onClickHeader?: (characterKey: CharacterKey) => void,\n  artifactChildren?: Displayable,\n  weaponChildren?: Displayable,\n  characterChildren?: Displayable,\n  footer?: Displayable,\n}\nexport default function CharacterCard({ characterKey, artifactChildren, weaponChildren, characterChildren, onClick, onClickHeader, footer }: CharacterCardProps) {\n  const { teamData: teamDataContext } = useContext(DataContext)\n  const teamData = useTeamData(teamDataContext ? \"\" : characterKey) ?? (teamDataContext as TeamData | undefined)\n  const { character, characterSheet, target: data } = teamData?.[characterKey] ?? {}\n  const onClickHandler = useCallback(() => characterKey && onClick?.(characterKey), [characterKey, onClick])\n  const actionWrapperFunc = useCallback(\n    children => <CardActionArea onClick={onClickHandler} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\n    [onClickHandler],\n  )\n  const characterDispatch = useCharacterReducer(characterKey)\n  if (!teamData || !character || !characterSheet || !data) return null;\n  const dataContextObj: dataContextObj = {\n    character,\n    data,\n    characterSheet,\n    mainStatAssumptionLevel: 0,\n    teamData,\n    characterDispatch\n  }\n\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 350 }} />}>\n    <DataContext.Provider value={dataContextObj}>\n      <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\n        <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc} >\n          <Header onClick={!onClick ? onClickHeader : undefined} />\n          <CardContent sx={{ width: \"100%\", display: \"flex\", flexDirection: \"column\", gap: 1, flexGrow: 1 }}>\n            <Weapon weaponId={character.equippedWeapon} />\n            {weaponChildren}\n            {/* will grow to fill the 100% height */}\n            <Box flexGrow={1} display=\"flex\" flexDirection=\"column\" gap={1}>\n              <ArtifactDisplay />\n              {artifactChildren}\n            </Box>\n            <Stats />\n            {characterChildren}\n          </CardContent>\n        </ConditionalWrapper>\n        {footer}\n      </CardLight>\n    </DataContext.Provider>\n  </Suspense>\n}\nfunction Header({ onClick }: { onClick?: (characterKey: CharacterKey) => void }) {\n  const { data, characterSheet } = useContext(DataContext)\n  const characterKey = data.get(input.charKey).value as CharacterKey\n  const characterEle = data.get(input.charEle).value as ElementKey\n  const characterLevel = data.get(input.lvl).value\n  const constellation = data.get(input.constellation).value\n  const ascension = data.get(input.asc).value\n  const autoBoost = data.get(input.bonus.auto).value\n  const skillBoost = data.get(input.bonus.skill).value\n  const burstBoost = data.get(input.bonus.burst).value\n\n  const tAuto = data.get(input.total.auto).value\n  const tSkill = data.get(input.total.skill).value\n  const tBurst = data.get(input.total.burst).value\n\n  const actionWrapperFunc = useCallback(\n    children => <CardActionArea onClick={() => characterKey && onClick?.(characterKey)} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\n    [onClick, characterKey],\n  )\n  return <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc} >\n    <Box display=\"flex\"\n      position=\"relative\"\n      className={`grad-${characterSheet.rarity}star`}\n      sx={{\n        \"&::before\": {\n          content: '\"\"',\n          display: \"block\", position: \"absolute\",\n          left: 0, top: 0,\n          width: \"100%\", height: \"100%\",\n          opacity: 0.7,\n          backgroundImage: `url(${characterSheet.bannerImg})`, backgroundPosition: \"center\", backgroundSize: \"cover\",\n        }\n      }}\n      width=\"100%\" >\n      <Box flexShrink={1} sx={{ maxWidth: { xs: \"40%\", lg: \"40%\" } }} alignSelf=\"flex-end\" display=\"flex\" flexDirection=\"column\" zIndex={1}>\n        <Box\n          component=\"img\"\n          src={characterSheet.thumbImg}\n          width=\"100%\"\n          height=\"auto\"\n          maxWidth={256}\n          sx={{ mt: \"auto\" }}\n        />\n      </Box>\n      <Box flexGrow={1} sx={{ py: 1, pr: 1 }} display=\"flex\" flexDirection=\"column\" zIndex={1}>\n        <Chip label={<Typography variant=\"subtitle1\">{characterSheet.name}</Typography>} size=\"small\" color={characterEle} />\n        <Grid container spacing={1} flexWrap=\"nowrap\">\n          <Grid item sx={{ textShadow: \"0 0 5px gray\" }}>\n            <Typography component=\"span\" variant=\"h6\" whiteSpace=\"nowrap\" >Lv. {characterLevel}</Typography>\n            <Typography component=\"span\" variant=\"h6\" color=\"text.secondary\">/{ascensionMaxLevel[ascension]}</Typography>\n          </Grid>\n          <Grid item>\n            <Typography variant=\"h6\"><SqBadge>C{constellation}</SqBadge></Typography>\n          </Grid>\n        </Grid>\n        <Grid container spacing={1} flexWrap=\"nowrap\">\n          <Grid item>\n            <Chip color={autoBoost ? \"info\" : \"secondary\"} label={<strong >{tAuto}</strong>} />\n          </Grid>\n          <Grid item>\n            <Chip color={skillBoost ? \"info\" : \"secondary\"} label={<strong >{tSkill}</strong>} />\n          </Grid>\n          <Grid item>\n            <Chip color={burstBoost ? \"info\" : \"secondary\"} label={<strong >{tBurst}</strong>} />\n          </Grid>\n        </Grid>\n        <Typography mt={1} ><Stars stars={characterSheet.rarity} colored /></Typography>\n      </Box>\n    </Box>\n  </ConditionalWrapper>\n}\nfunction Weapon({ weaponId }: { weaponId: string }) {\n  const database = useContext(DatabaseContext)\n  const weapon = database._getWeapon(weaponId)\n  const weaponSheet = usePromise(weapon?.key && WeaponSheet.get(weapon.key), [weapon?.key])\n  const UIData = useMemo(() => weaponSheet && weapon && computeUIData([weaponSheet.data, dataObjForWeapon(weapon)]), [weaponSheet, weapon])\n  if (!weapon || !weaponSheet || !UIData) return null;\n  const name = weaponSheet?.name\n  const mainVal = valueString(UIData.get(input.weapon.main).value, UIData.get(input.weapon.main).unit, 0)\n  const subKey = UIData.get(input.weapon.sub).key\n  const subVal = valueString(UIData.get(input.weapon.sub).value, UIData.get(input.weapon.sub).unit, UIData.get(input.weapon.sub).unit === \"flat\" ? 0 : undefined)\n  const levelName = WeaponSheet.getLevelString(weapon as ICachedWeapon)\n  return <CardDark>\n    <Box display=\"flex\" >\n      <Box flexShrink={1} maxWidth=\"35%\" display=\"flex\" flexDirection=\"column\" alignContent=\"flex-end\" className={`grad-${weaponSheet.rarity}star`} >\n        <Box\n          component=\"img\"\n          src={weaponSheet.img}\n          width=\"100%\"\n          height=\"auto\"\n          sx={{ mt: \"auto\" }}\n        />\n      </Box>\n      <Box flexGrow={1} sx={{ p: 1 }}>\n        <Typography variant=\"body2\"><strong>{name}</strong></Typography>\n        <Typography whiteSpace=\"nowrap\" lineHeight={1}>\n          <SqBadge color=\"primary\" sx={{ mr: 1 }}>Lv. {levelName}</SqBadge>\n          {subKey && <SqBadge color=\"info\"> Refinement {weapon.refinement}</SqBadge>}\n        </Typography>\n        <Typography variant=\"subtitle1\">ATK: {mainVal}</Typography>\n        {subKey && <Typography variant=\"subtitle2\" lineHeight={1}>{KeyMap.get(subKey)}: {subVal}</Typography>}\n      </Box>\n    </Box>\n  </CardDark>\n}\nfunction ArtifactDisplay() {\n  const database = useContext(DatabaseContext)\n  const { data } = useContext(DataContext)\n  const artifactSheets = usePromise(ArtifactSheet.getAll, [])\n  const artifacts = useMemo(() =>\n    allSlotKeys.map(k => [k, database._getArt(data.get(input.art[k].id).value ?? \"\")]),\n    [data, database]) as Array<[SlotKey, ICachedArtifact | undefined]>;\n  if (!artifactSheets) return null\n  return <Grid container spacing={1} >\n    {artifacts.map(([key, art]) => {\n      if (!art) return null\n      const { setKey, slotKey, mainStatKey } = art\n      return <Grid item key={key} flexGrow={1}>\n        <Chip color=\"secondary\" sx={{ width: \"100%\" }} icon={<ImgIcon src={artifactSheets?.[setKey].slotIcons[slotKey]} size={2.5} />}\n          label={<span>{KeyMap.get(mainStatKey)}</span>} />\n      </Grid>\n    })}\n  </Grid>\n}\nfunction Stats() {\n  const { data } = useContext(DataContext)\n  const statkeys = [\"hp\", \"atk\", \"def\", \"eleMas\", \"critRate_\", \"critDMG_\", \"enerRech_\",]\n  statkeys.push(`${data.get(input.charEle).value}_dmg_`)\n  if (data.get(input.weaponType).value !== \"catalyst\")\n    statkeys.push(\"physical_dmg_\")\n\n  return <Box sx={{ width: \"100%\" }} >\n    {statkeys.map(statKey => {\n      const stat = data.get(input.total[statKey] as NumNode)\n      const val = valueString(stat.value, stat.unit, stat.unit === \"flat\" ? 0 : undefined)\n      return <Box sx={{ display: \"flex\" }} key={statKey}>\n        <Typography flexGrow={1} color={`${stat.variant}.main`}><strong>{StatIcon[statKey]} {KeyMap.get(stat.key!)}</strong></Typography>\n        <Typography>{val}</Typography>\n      </Box>\n    })}\n    {data.get(input.special).key && <Box sx={{ display: \"flex\" }} >\n      <Typography flexGrow={1}><strong>Specialized:</strong></Typography>\n      <Typography>{KeyMap.get(data.get(input.special).key!)}</Typography>\n    </Box>}\n  </Box>\n}\n","import { Box, CardContent, Typography } from \"@mui/material\"\nimport CardDark from \"../Card/CardDark\"\nimport DocumentDisplay from \"../DocumentDisplay\"\nimport SqBadge from \"../SqBadge\"\nimport usePromise from \"../../ReactHooks/usePromise\"\nimport { ArtifactSetKey, SetNum } from \"../../Types/consts\"\nimport { ArtifactSheet } from \"../../Data/Artifacts/ArtifactSheet\"\n\ntype Data = {\n  setKey: ArtifactSetKey,\n  setNumKey: SetNum\n}\n\nexport default function SetEffectDisplay({ setKey, setNumKey }: Data) {\n  const sheet = usePromise(ArtifactSheet.get(setKey), [setKey])\n  if (!sheet) return null\n\n  const setEffectText = sheet.setEffectDesc(setNumKey)\n  const document = sheet.setEffectDocument(setNumKey)\n  return <Box display=\"flex\" flexDirection=\"column\" gap={1}>\n    <CardDark>\n      <CardContent>\n        <Typography><SqBadge color=\"success\">{setNumKey}-Set</SqBadge> {setEffectText}</Typography>\n      </CardContent>\n    </CardDark>\n    {document ? <DocumentDisplay sections={document} /> : null}\n  </Box>\n}\n","import { Box, CardActionArea, CardContent, Divider, Grid, Typography } from \"@mui/material\";\nimport { useContext, useMemo, useState } from \"react\";\nimport Assets from \"../../Assets/Assets\";\nimport CharacterSheet from \"../../Data/Characters/CharacterSheet\";\nimport { DatabaseContext } from \"../../Database/Database\";\nimport { uiInput as input } from \"../../Formula\";\nimport usePromise from \"../../ReactHooks/usePromise\";\nimport useTeamData from \"../../ReactHooks/useTeamData\";\nimport { ICachedCharacter } from \"../../Types/character_WR\";\nimport { allCharacterKeys, CharacterKey, ElementKey, WeaponTypeKey } from \"../../Types/consts\";\nimport { characterFilterConfigs, characterSortConfigs } from \"../../Util/CharacterSort\";\nimport { filterFunction, sortFunction } from \"../../Util/SortByFilters\";\nimport CardDark from \"../Card/CardDark\";\nimport CardLight from \"../Card/CardLight\";\nimport CloseButton from \"../CloseButton\";\nimport ImgIcon from \"../Image/ImgIcon\";\nimport ModalWrapper from \"../ModalWrapper\";\nimport SortByButton from \"../SortByButton\";\nimport SqBadge from \"../SqBadge\";\nimport { Stars } from \"../StarDisplay\";\nimport StatIcon from \"../StatIcon\";\nimport ElementToggle from \"../ToggleButton/ElementToggle\";\nimport WeaponToggle from \"../ToggleButton/WeaponToggle\";\n\nconst defaultSortKeys = [\"level\", \"rarity\", \"name\"]\n\ntype characterFilter = (character: ICachedCharacter | undefined, sheet: CharacterSheet) => boolean\n\ntype CharacterSelectionModalProps = {\n  show: boolean,\n  newFirst?: boolean\n  onHide: () => void,\n  onSelect?: (ckey: CharacterKey) => void,\n  filter?: characterFilter\n}\n\nexport function CharacterSelectionModal({ show, onHide, onSelect, filter = () => true, newFirst = false }: CharacterSelectionModalProps) {\n  const sortKeys = useMemo(() => newFirst ? [\"new\", ...defaultSortKeys] : defaultSortKeys, [newFirst])\n  const database = useContext(DatabaseContext)\n\n  const [sortBy, setsortBy] = useState(sortKeys[0])\n  const [ascending, setascending] = useState(false)\n  const [elementalFilter, setelementalFilter] = useState<ElementKey | \"\">(\"\")\n  const [weaponFilter, setweaponFilter] = useState<WeaponTypeKey | \"\">(\"\")\n\n  const characterSheets = usePromise(CharacterSheet.getAll, [])\n\n  const sortConfigs = useMemo(() => characterSheets && characterSortConfigs(database, characterSheets), [database, characterSheets])\n  const filterConfigs = useMemo(() => characterSheets && characterFilterConfigs(characterSheets), [characterSheets])\n  const characterKeyList = useMemo(() => (characterSheets && sortConfigs && filterConfigs) ?\n    [...new Set(allCharacterKeys)].filter(cKey => filter(database._getChar(cKey), characterSheets[cKey]))\n      .filter(filterFunction({ element: elementalFilter, weaponType: weaponFilter }, filterConfigs))\n      .sort(sortFunction(sortBy, ascending, sortConfigs) as (a: CharacterKey, b: CharacterKey) => number) : [],\n    [database, characterSheets, filter, elementalFilter, weaponFilter, sortBy, ascending, sortConfigs, filterConfigs])\n\n  if (!characterSheets) return null\n  return <ModalWrapper open={show} onClose={onHide} >\n    <CardDark>\n      <CardContent sx={{ py: 1 }}>\n        <Grid container spacing={1} >\n          <Grid item>\n            <WeaponToggle sx={{ height: \"100%\" }} onChange={setweaponFilter} value={weaponFilter} size=\"small\" />\n          </Grid>\n          <Grid item flexGrow={1}>\n            <ElementToggle sx={{ height: \"100%\" }} onChange={setelementalFilter} value={elementalFilter} size=\"small\" />\n          </Grid>\n\n          <Grid item flexGrow={1} />\n\n          <Grid item >\n            <SortByButton sx={{ height: \"100%\" }}\n              sortKeys={sortKeys} value={sortBy} onChange={setsortBy as any}\n              ascending={ascending} onChangeAsc={setascending} />\n          </Grid>\n          <Grid item>\n            <CloseButton onClick={onHide} />\n          </Grid>\n        </Grid>\n      </CardContent>\n      <Divider />\n      <CardContent><Grid container spacing={1}>\n        {characterKeyList.map(characterKey => <Grid item key={characterKey} xs={6} md={4} lg={3} >\n          <CharacterBtn key={characterKey} characterKey={characterKey} onClick={() => { onHide(); onSelect?.(characterKey) }} />\n        </Grid>)}\n      </Grid></CardContent>\n    </CardDark>\n  </ModalWrapper>\n}\n\nfunction CharacterBtn({ onClick, characterKey }: { onClick: () => void, characterKey: CharacterKey }) {\n  const characterSheet = usePromise(CharacterSheet.get(characterKey), [characterKey])\n  const teamData = useTeamData(characterKey)\n  const { target: data } = teamData?.[characterKey] ?? {}\n  if (!characterSheet) return null\n  const rarity = characterSheet.rarity\n  return <CardActionArea onClick={onClick} >\n    <CardLight sx={{ display: \"flex\", alignItems: \"center\" }}  >\n      <Box component=\"img\" src={characterSheet.thumbImg} sx={{ width: 130, height: \"auto\" }} className={`grad-${rarity}star`} />\n      <Box sx={{ pl: 1 }}>\n        <Typography><strong>{characterSheet.name}</strong></Typography>\n        {data ? <>\n          <Typography variant=\"h6\"> {characterSheet.elementKey && StatIcon[characterSheet.elementKey]} <ImgIcon src={Assets.weaponTypes?.[characterSheet.weaponTypeKey]} />{` `}{CharacterSheet.getLevelString(data.get(input.lvl).value, data.get(input.asc).value)}</Typography>\n          <Typography >\n            <SqBadge color=\"success\">{`C${data.get(input.constellation).value}`}</SqBadge>{` `}\n            <SqBadge color={data.get(input.bonus.auto).value ? \"info\" : \"secondary\"}><strong >{data.get(input.total.auto).value}</strong></SqBadge>{` `}\n            <SqBadge color={data.get(input.bonus.skill).value ? \"info\" : \"secondary\"}><strong >{data.get(input.total.skill).value}</strong></SqBadge>{` `}\n            <SqBadge color={data.get(input.bonus.burst).value ? \"info\" : \"secondary\"}><strong >{data.get(input.total.burst).value}</strong></SqBadge>\n          </Typography>\n        </> : <>\n          <Typography variant=\"h6\"><SqBadge color=\"primary\">NEW</SqBadge></Typography>\n        </>}\n        <small><Stars stars={rarity} colored /></small>\n      </Box>\n    </CardLight>\n  </CardActionArea >\n}\n","import CharacterSheet from \"../Data/Characters/CharacterSheet\";\nimport { ArtCharDatabase } from \"../Database/Database\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { FilterConfigs, SortConfigs } from \"./SortByFilters\";\nexport const characterSortKeys = [\"level\", \"rarity\", \"name\"]\nexport type CharacterSortKey = typeof characterSortKeys[number]\n\nexport function characterSortConfigs(database: ArtCharDatabase, characterSheets: Record<CharacterKey, CharacterSheet>): SortConfigs<CharacterSortKey, CharacterKey> {\n  return {\n    new: {\n      getValue: (ck) => database._getChar(ck as CharacterKey) ? 0 : 1,\n      tieBreaker: \"name\"\n    },\n    name: {\n      getValue: (ck) => ck,\n    },\n    level: {\n      getValue: (ck) => database._getChar(ck as CharacterKey)?.level ?? 0,\n      tieBreaker: \"rarity\"\n    },\n    rarity: {\n      getValue: (ck) => characterSheets?.[ck]?.rarity,\n      tieBreaker: \"level\"\n    }\n  }\n}\n\nexport function characterFilterConfigs(characterSheets: Record<CharacterKey, CharacterSheet>): FilterConfigs<\"element\" | \"weaponType\", CharacterKey> {\n  return {\n    element: (ck, filter) => !filter || (filter === characterSheets?.[ck]?.elementKey),\n    weaponType: (ck, filter) => !filter || (filter === characterSheets?.[ck]?.weaponTypeKey),\n  }\n}\n","import { Masonry } from \"@mui/lab\"\nimport { CardContent, CardHeader, Divider } from \"@mui/material\"\nimport { Box } from \"@mui/system\"\nimport { useContext, useMemo } from \"react\"\nimport CardDark from \"../Card/CardDark\"\nimport { NodeFieldDisplay } from \"../FieldDisplay\"\nimport ImgIcon from \"../Image/ImgIcon\"\nimport { DataContext } from \"../../DataContext\"\nimport { getDisplayHeader, getDisplaySections } from \"../../Formula/DisplayUtil\"\nimport { DisplaySub } from \"../../Formula/type\"\nimport { NodeDisplay } from \"../../Formula/uiData\"\nimport { customRead } from \"../../Formula/utils\"\nimport usePromise from \"../../ReactHooks/usePromise\"\nimport { objectMap } from \"../../Util/Util\"\n\nexport default function StatDisplayComponent() {\n  const { data } = useContext(DataContext)\n  const sections = getDisplaySections(data)\n  return <Box sx={{ mr: -1, mb: -1 }}>\n    <Masonry columns={{ xs: 1, sm: 2, md: 3 }} spacing={1}>\n      {sections.map(([key, Nodes]) =>\n        <Section key={key} displayNs={Nodes} sectionKey={key} />)}\n    </Masonry >\n  </Box>\n}\n\nfunction Section({ displayNs, sectionKey }: { displayNs: DisplaySub<NodeDisplay>, sectionKey: string }) {\n  const { data, oldData } = useContext(DataContext)\n  const header = usePromise(getDisplayHeader(data, sectionKey), [data, sectionKey])\n  const displayNsReads = useMemo(() => objectMap(displayNs, (n, nodeKey) => customRead([\"display\", sectionKey, nodeKey])), [displayNs, sectionKey]);\n  // TODO: Should still show the section if `oldData` contains some non-empty entries\n  if (!header || Object.values(displayNs).every(x => x.isEmpty)) return null\n  const { title, icon, action } = header\n  return <CardDark >\n    <CardHeader avatar={icon && <ImgIcon size={2} sx={{ m: -1 }} src={icon} />} title={title} action={action} titleTypographyProps={{ variant: \"subtitle1\" }} />\n    <Divider />\n    <CardContent>\n      {Object.entries(displayNs).map(([nodeKey, n]) => <NodeFieldDisplay key={nodeKey} node={n} oldValue={oldData ? oldData.get(displayNsReads[nodeKey]!).value : undefined} />)}\n    </CardContent>\n  </CardDark>\n}\n","import { faCheckSquare, faSquare } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { ExpandMore } from \"@mui/icons-material\";\nimport { Button, CardContent, Chip, Collapse, Grid, Typography } from \"@mui/material\";\nimport { useCallback, useContext, useState } from 'react';\nimport StatInput from \"../PageCharacter/StatInput\";\nimport { DataContext } from \"../DataContext\";\nimport { uiInput as input } from \"../Formula\";\nimport { valueString } from \"../Formula/uiData\";\nimport KeyMap from '../KeyMap';\nimport { allElementsWithPhy, ElementKeyWithPhy } from \"../Types/consts\";\nimport CardLight from \"./Card/CardLight\";\nimport ColorText from \"./ColoredText\";\nimport ExpandButton from \"./ExpandButton\";\nimport { uncoloredEleIcons } from \"./StatIcon\";\n\nexport function EnemyExpandCard() {\n  const { data } = useContext(DataContext)\n  const [expanded, setexpanded] = useState(false)\n  const toggle = useCallback(() => setexpanded(!expanded), [setexpanded, expanded])\n  const eLvlNode = data.get(input.enemy.level)\n  const eDefRed = data.get(input.enemy.defRed)\n  const eDefIgn = data.get(input.enemy.defIgn)\n  return <CardLight>\n    <CardContent>\n      <Grid container>\n        <Grid item flexGrow={1} alignItems=\"center\">\n          <Grid container spacing={1}>\n            <Grid item>\n              <Chip size=\"small\" color=\"success\" label={<span>{KeyMap.get(eLvlNode.key)} <strong>{eLvlNode.value}</strong></span>} />\n            </Grid>\n            {allElementsWithPhy.map(element => <Grid item key={element}>\n              <Typography key={element} ><EnemyResText element={element} /></Typography>\n            </Grid>)}\n            <Grid item>\n              <Typography>DEF Reduction {valueString(eDefRed.value, eDefRed.unit)}</Typography>\n            </Grid>\n            <Grid item>\n              <Typography>DEF Ignore {valueString(eDefIgn.value, eDefIgn.unit)}</Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item>\n          <ExpandButton\n            expand={expanded}\n            onClick={toggle}\n            aria-expanded={expanded}\n            aria-label=\"show more\"\n            size=\"small\"\n            sx={{ p: 0 }}\n          >\n            <ExpandMore />\n          </ExpandButton>\n        </Grid>\n      </Grid>\n    </CardContent>\n    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n      <CardContent sx={{ pt: 0 }}>\n        <EnemyEditor />\n      </CardContent>\n    </Collapse>\n  </CardLight>\n}\n\nexport function EnemyResText({ element }: { element: ElementKeyWithPhy }) {\n  const { data } = useContext(DataContext)\n  const node = data.get(input.enemy[`${element}_res_`])\n  const immune = !isFinite(node.value)\n  const content = immune ? <span >{uncoloredEleIcons[element]} IMMUNE</span> :\n    <span >{uncoloredEleIcons[element]}RES <strong>{valueString(node.value, node.unit)}</strong></span>\n  return <ColorText color={element}>{content}</ColorText>\n}\n\nexport function EnemyEditor({ bsProps = { xs: 12, md: 6 } }: { bsProps?: object }) {\n  const { data, characterDispatch } = useContext(DataContext)\n  const defaultVal = 10\n\n  const eLvlNode = data.get(input.enemy.level)\n  const eDefRed = data.get(input.enemy.defRed)\n  const eDefIgn = data.get(input.enemy.defIgn)\n  return <Grid container spacing={1}>\n    <Grid item {...bsProps}>\n      <Button fullWidth sx={{ height: \"100%\" }} size=\"small\" component=\"a\" color=\"warning\" href=\"https://genshin-impact.fandom.com/wiki/Resistance#Base_Enemy_Resistances\" target=\"_blank\" rel=\"noreferrer\">\n        To get the specific resistance values of enemies, please visit the wiki.\n      </Button>\n    </Grid>\n    <Grid item {...bsProps}>\n      <StatInput\n        sx={{ bgcolor: t => t.palette.contentLight.main, width: \"100%\" }}\n        name={<b>{KeyMap.get(eLvlNode.key)}</b>}\n        value={eLvlNode.value}\n        placeholder={KeyMap.getStr(eLvlNode.key)}\n        defaultValue={data.get(input.lvl).value}\n        onValueChange={value => characterDispatch({ type: \"enemyOverride\", statKey: \"enemyLevel\", value })}\n        onReset={() => characterDispatch({ type: \"enemyOverride\", statKey: \"enemyLevel\", value: undefined })}\n      />\n    </Grid>\n    {allElementsWithPhy.map(eleKey => {\n      const statKey = `${eleKey}_enemyRes_`\n      const node = data.get(input.enemy[`${eleKey}_res_`])\n      const elementImmunity = !isFinite(node.value)\n      return <Grid item key={eleKey} {...bsProps}>\n        <StatInput\n          sx={{ bgcolor: t => t.palette.contentLight.main, width: \"100%\" }}\n          name={<b>{KeyMap.get(node.key)}</b>}\n          value={node.value * 100}\n          placeholder={KeyMap.getStr(node.key)}\n          defaultValue={defaultVal}\n          onValueChange={value => characterDispatch({ type: \"enemyOverride\", statKey, value })}\n          disabled={elementImmunity}\n          percent\n        >\n          <Button color={eleKey} onClick={() => characterDispatch({ type: \"enemyOverride\", statKey, value: elementImmunity ? defaultVal : Number.MAX_VALUE })} >\n            <FontAwesomeIcon icon={elementImmunity ? faCheckSquare : faSquare} className=\"fa-fw\" /> Immunity\n          </Button>\n        </StatInput>\n      </Grid>\n    })}\n    <Grid item {...bsProps}>\n      <StatInput\n        sx={{ bgcolor: t => t.palette.contentLight.main, width: \"100%\" }}\n        name={<b>{KeyMap.get(eDefRed.key)}</b>}\n        value={eDefRed.value}\n        placeholder={KeyMap.getStr(eDefRed.key)}\n        defaultValue={0}\n        onValueChange={value => characterDispatch({ type: \"enemyOverride\", statKey: \"enemyDefRed_\", value })}\n        percent\n      />\n    </Grid>\n    <Grid item {...bsProps}>\n      <StatInput\n        sx={{ bgcolor: t => t.palette.contentLight.main, width: \"100%\" }}\n        name={<b>{KeyMap.get(eDefIgn.key)}</b>}\n        value={eDefIgn.value}\n        placeholder={KeyMap.getStr(eDefIgn.key)}\n        defaultValue={0}\n        onValueChange={value => characterDispatch({ type: \"enemyOverride\", statKey: \"enemyDefIgn_\", value })}\n        percent\n      />\n    </Grid>\n    <Grid item xs={12}>\n      <small>Note: Genshin Impact halves resistance shred values below 0%. For the sake of calculations enter the RAW value and GO will do the rest. (e.g. 10% - 20% = -10%)</small>\n    </Grid>\n  </Grid>\n}\n","import { CardContent, Grid, MenuItem, ToggleButton, ToggleButtonGroupProps } from \"@mui/material\";\nimport { useContext } from 'react';\nimport { DataContext } from \"../DataContext\";\nimport { uiInput as input } from \"../Formula\";\nimport { ElementKey } from \"../Types/consts\";\nimport CardLight from \"./Card/CardLight\";\nimport ColorText from \"./ColoredText\";\nimport DropdownButton, { DropdownButtonProps } from \"./DropdownMenu/DropdownButton\";\nimport SolidToggleButtonGroup from \"./SolidToggleButtonGroup\";\nimport StatIcon, { uncoloredEleIcons } from \"./StatIcon\";\nconst infusionVals = {\n  \"\": <span>No External Infusion</span>,\n  \"pyro\": <span >{uncoloredEleIcons.pyro} Pyro Infusion</span>,\n  \"cryo\": <span >{uncoloredEleIcons.cryo} Cryo Infusion</span>,\n}\ntype InfusionAuraDropdownProps = Omit<DropdownButtonProps, \"title\" | \"onChange\" | \"children\">\nexport function InfusionAuraDropdown(props: InfusionAuraDropdownProps) {\n  const { characterSheet, character: { infusionAura }, characterDispatch } = useContext(DataContext)\n  if (!characterSheet?.isMelee()) return null\n  return <DropdownButton title={infusionVals[infusionAura]} color={infusionAura || \"secondary\"} {...props}>\n    {Object.entries(infusionVals).map(([key, text]) =>\n      <MenuItem key={key} sx={key ? { color: `${key}.main` } : undefined}\n        selected={key === infusionAura} disabled={key === infusionAura}\n        onClick={() => characterDispatch({ infusionAura: key })}>{text}</MenuItem>)}\n  </DropdownButton>\n}\n\ntype ReactionToggleProps = Omit<ToggleButtonGroupProps, \"color\">\nexport function ReactionToggle(props: ReactionToggleProps) {\n  const { data, character: { reactionMode, infusionAura }, characterDispatch } = useContext(DataContext)\n  const charEleKey = data.get(input.charEle).value as ElementKey\n  if (![\"pyro\", \"hydro\", \"cryo\"].includes(charEleKey) && ![\"pyro\", \"hydro\", \"cryo\"].includes(infusionAura)) return null\n  return <SolidToggleButtonGroup exclusive baseColor=\"secondary\"\n    value={reactionMode} onChange={(e, reactionMode) => characterDispatch({ reactionMode })} {...props}>\n    <ToggleButton value=\"\" >No Reactions</ToggleButton >\n    {(charEleKey === \"pyro\" || infusionAura === \"pyro\") && <ToggleButton value=\"pyro_vaporize\"  >\n      <ColorText color=\"vaporize\">Vaporize(Pyro){StatIcon.hydro}+{StatIcon.pyro}</ColorText>\n    </ToggleButton >}\n    {(charEleKey === \"pyro\" || infusionAura === \"pyro\") && <ToggleButton value={\"pyro_melt\"}  >\n      <ColorText color=\"melt\">Melt(Pyro) {StatIcon.cryo}+{StatIcon.pyro}</ColorText>\n    </ToggleButton >}\n    {(charEleKey === \"hydro\" || infusionAura === \"hydro\") && <ToggleButton value={\"hydro_vaporize\"}  >\n      <ColorText color=\"vaporize\">Vaporize(Hydro) {StatIcon.pyro}+{StatIcon.hydro}</ColorText>\n    </ToggleButton >}\n    {(charEleKey === \"cryo\" || infusionAura === \"cryo\") && <ToggleButton value={\"cryo_melt\"}  >\n      <ColorText color=\"melt\">Melt(Cryo) {StatIcon.pyro}+{StatIcon.cryo}</ColorText>\n    </ToggleButton >}\n  </SolidToggleButtonGroup>\n}\ntype HitModeToggleProps = Omit<ToggleButtonGroupProps, \"color\">\nexport function HitModeToggle(props: HitModeToggleProps) {\n  const { character: { hitMode }, characterDispatch } = useContext(DataContext)\n  return <SolidToggleButtonGroup exclusive baseColor=\"secondary\"\n    value={hitMode} onChange={(e, hitMode) => characterDispatch({ hitMode })} {...props} >\n    <ToggleButton value=\"avgHit\">Avg. DMG</ToggleButton>\n    <ToggleButton value=\"hit\">Non Crit DMG</ToggleButton>\n    <ToggleButton value=\"critHit\">Crit Hit DMG</ToggleButton>\n  </SolidToggleButtonGroup>\n}\n\n\nexport function DamageOptionsCard() {\n  return <CardLight>\n    <CardContent>\n      <Grid container spacing={1}>\n        <Grid item><HitModeToggle size=\"small\" /></Grid>\n        <Grid item><InfusionAuraDropdown /></Grid>\n        <Grid item><ReactionToggle size=\"small\" /></Grid>\n      </Grid>\n    </CardContent>\n  </CardLight>\n}\n","import * as React from 'react';\n/**\n * @ignore - internal component.\n * @type {React.Context<{} | {expanded: boolean, disabled: boolean, toggle: () => void}>}\n */\n\nconst AccordionContext = /*#__PURE__*/React.createContext({});\n\nif (process.env.NODE_ENV !== 'production') {\n  AccordionContext.displayName = 'AccordionContext';\n}\n\nexport default AccordionContext;","import { Lock, LockOpen, SwapHoriz } from \"@mui/icons-material\"\nimport { Box, Button, ButtonGroup, CardContent, Divider, Grid, ListItem, MenuItem, Typography } from \"@mui/material\"\nimport { useCallback, useContext, useMemo, useState } from \"react\"\nimport Assets from \"../Assets/Assets\"\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\"\nimport CardDark from \"../Components/Card/CardDark\"\nimport CardLight from \"../Components/Card/CardLight\"\nimport CharacterDropdownButton from \"../Components/Character/CharacterDropdownButton\"\nimport CloseButton from \"../Components/CloseButton\"\nimport ColorText from \"../Components/ColoredText\"\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from \"../Components/CustomNumberInput\"\nimport DocumentDisplay from \"../Components/DocumentDisplay\"\nimport DropdownButton from \"../Components/DropdownMenu/DropdownButton\"\nimport { FieldDisplayList, NodeFieldDisplay } from \"../Components/FieldDisplay\"\nimport ImgIcon from \"../Components/Image/ImgIcon\"\nimport ModalWrapper from \"../Components/ModalWrapper\"\nimport SqBadge from \"../Components/SqBadge\"\nimport { Stars } from \"../Components/StarDisplay\"\nimport WeaponSelectionModal from \"../Components/Weapon/WeaponSelectionModal\"\nimport { ambiguousLevel, ascensionMaxLevel, milestoneLevels } from \"../Data/LevelData\"\nimport { database as localDatabase, DatabaseContext } from \"../Database/Database\"\nimport { uiInput as input } from \"../Formula\"\nimport { computeUIData, dataObjForWeapon } from \"../Formula/api\"\nimport usePromise from \"../ReactHooks/usePromise\"\nimport useWeapon from \"../ReactHooks/useWeapon\"\nimport { CharacterKey } from \"../Types/consts\"\nimport { ICachedWeapon } from \"../Types/weapon\"\nimport { clamp } from \"../Util/Util\"\nimport WeaponCard from \"./WeaponCard\"\nimport WeaponSheet from \"../Data/Weapons/WeaponSheet\"\nimport { DataContext } from \"../DataContext\"\n\ntype WeaponStatsEditorCardProps = {\n  weaponId: string\n  footer?: boolean\n  onClose?: () => void\n}\nexport default function WeaponDisplayCard({\n  weaponId: propWeaponId,\n  footer = false,\n  onClose\n}: WeaponStatsEditorCardProps) {\n  const { data } = useContext(DataContext)\n\n  const database = useContext(DatabaseContext)\n  const weapon = useWeapon(propWeaponId)\n  const { key = \"\", level, refinement = 0, ascension = 0, lock, location = \"\", id } = weapon ?? {}\n  const weaponSheet = usePromise(WeaponSheet.get(key), [key])\n  const weaponTypeKey = weaponSheet?.weaponType\n\n  const weaponDispatch = useCallback((newWeapon: Partial<ICachedWeapon>) => {\n    database.updateWeapon(newWeapon, propWeaponId)\n  }, [propWeaponId, database])\n\n  const setLevel = useCallback(level => {\n    level = clamp(level, 1, 90)\n    const ascension = ascensionMaxLevel.findIndex(ascenML => level <= ascenML)\n    weaponDispatch({ level, ascension })\n  }, [weaponDispatch])\n\n  const setAscension = useCallback(() => {\n    const lowerAscension = ascensionMaxLevel.findIndex(ascenML => level !== 90 && level === ascenML)\n    if (ascension === lowerAscension) weaponDispatch({ ascension: ascension + 1 })\n    else weaponDispatch({ ascension: lowerAscension })\n  }, [weaponDispatch, ascension, level])\n\n  const characterSheet = usePromise(location ? CharacterSheet.get(location) : undefined, [location])\n  const weaponFilter = characterSheet ? (ws) => ws.weaponType === characterSheet.weaponTypeKey : undefined\n  const initialWeaponFilter = characterSheet && characterSheet.weaponTypeKey\n\n  const equipOnChar = useCallback((charKey: CharacterKey | \"\") => id && database.setWeaponLocation(id, charKey), [database, id])\n  const filter = useCallback(\n    (cs: CharacterSheet) => cs.weaponTypeKey === weaponSheet?.weaponType,\n    [weaponSheet],\n  )\n  const [showModal, setshowModal] = useState(false)\n  const img = ascension < 2 ? weaponSheet?.img : weaponSheet?.imgAwaken\n\n  const weaponUIData = useMemo(() => weaponSheet && weapon && computeUIData([weaponSheet.data, dataObjForWeapon(weapon)]), [weaponSheet, weapon])\n  return <CardLight>\n    <CardContent sx={{ py: 1 }}>\n      <Grid container spacing={1}>\n        <Grid item flexGrow={1}>\n          <Grid container spacing={1}>\n            <Grid item >\n              <WeaponSelectionModal show={showModal} onHide={() => setshowModal(false)} onSelect={k => weaponDispatch({ key: k })} filter={weaponFilter} weaponFilter={initialWeaponFilter} />\n              <ButtonGroup>\n                <Button onClick={() => setshowModal(true)} >{weaponSheet?.name ?? \"Select a Weapon\"}</Button>\n                <DropdownButton title={`Refinement ${refinement}`}>\n                  <MenuItem>Select Weapon Refinement</MenuItem>\n                  <Divider />\n                  {[...Array(5).keys()].map(key =>\n                    <MenuItem key={key} onClick={() => weaponDispatch({ refinement: key + 1 })} selected={refinement === (key + 1)} disabled={refinement === (key + 1)}>\n                      {`Refinement ${key + 1}`}\n                    </MenuItem>)}\n                </DropdownButton>\n              </ButtonGroup>\n            </Grid>\n            <Grid item >\n              <ButtonGroup sx={{ bgcolor: t => t.palette.contentLight.main }} >\n                <CustomNumberInputButtonGroupWrapper >\n                  <CustomNumberInput onChange={setLevel} value={level}\n                    startAdornment=\"Lvl. \"\n                    inputProps={{ min: 1, max: 90, sx: { textAlign: \"center\" } }}\n                    sx={{ width: \"100%\", height: \"100%\", pl: 2 }}\n                  />\n                </CustomNumberInputButtonGroupWrapper>\n                <Button sx={{ pl: 1 }} disabled={!ambiguousLevel(level)} onClick={setAscension}><strong>/ {ascensionMaxLevel[ascension]}</strong></Button>\n                <DropdownButton title={\"Select Level\"} >\n                  {milestoneLevels.map(([lv, as]) => {\n                    const sameLevel = lv === ascensionMaxLevel[as]\n                    const lvlstr = sameLevel ? `Lv. ${lv}` : `Lv. ${lv}/${ascensionMaxLevel[as]}`\n                    const selected = lv === level && as === ascension\n                    return <MenuItem key={`${lv}/${as}`} selected={selected} disabled={selected} onClick={() => weaponDispatch({ level: lv, ascension: as })}>{lvlstr}</MenuItem>\n                  })}\n                </DropdownButton>\n              </ButtonGroup>\n            </Grid>\n            <Grid item>\n              <Button color=\"error\" onClick={() => id && database.updateWeapon({ lock: !lock }, id)} startIcon={lock ? <Lock /> : <LockOpen />}>\n                {lock ? \"Locked\" : \"Unlocked\"}\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n        {!!onClose && <Grid item  >\n          <CloseButton onClick={onClose} />\n        </Grid>}\n        {database === localDatabase && <Grid item >\n          <SwapBtn weaponTypeKey={weaponTypeKey} onChangeId={id => database.setWeaponLocation(id, data.get(input.charKey).value as CharacterKey)} />\n        </Grid>}\n      </Grid>\n    </CardContent>\n    <Divider />\n    <CardContent >\n      {weaponSheet && weaponUIData && <Box display=\"flex\" gap={{ xs: 1, md: 1.5, lg: 2 }} >\n        <Box sx={{ maxWidth: 256 }} flexShrink={1} minWidth=\"25%\">\n          <Box component=\"img\" src={img} className={`grad-${weaponSheet.rarity}star`} sx={{ maxWidth: 256, width: \"100%\", height: \"auto\", borderRadius: 1 }} />\n          <Typography><small>{weaponSheet.description}</small></Typography>\n        </Box>\n        <Box sx={{ mb: -1 }} flexGrow={1} >\n          <Typography variant=\"h6\" >{process.env.NODE_ENV === \"development\" && <ColorText color=\"warning\">{id || `\"\"`} </ColorText>}{weaponSheet.name} Lv. {weapon && WeaponSheet.getLevelString(weapon)} {weaponSheet.rarity > 2 && <SqBadge color=\"info\">Refinement {refinement}</SqBadge>}</Typography>\n          <Typography><Stars stars={weaponSheet.rarity} /></Typography>\n          <Typography variant=\"subtitle1\">{weaponSheet.passiveName}</Typography>\n          <Typography gutterBottom>{weaponSheet.passiveName && weaponSheet.passiveDescription(weaponUIData.get(input.weapon.refineIndex).value)}</Typography>\n          <Box display=\"flex\" flexDirection=\"column\" gap={1}>\n            <CardDark >\n              <CardContent>\n                <Typography>Main Stats</Typography>\n              </CardContent>\n              <FieldDisplayList>\n                {[input.weapon.main, input.weapon.sub, input.weapon.sub2].map((node, i) => {\n                  const n = weaponUIData.get(node)\n                  if (n.isEmpty || !n.value) return null\n                  return <NodeFieldDisplay key={n.key} node={n} component={ListItem} />\n                })}\n              </FieldDisplayList>\n            </CardDark>\n            {data && weaponSheet.document && <DocumentDisplay sections={weaponSheet.document} />}\n          </Box>\n        </Box>\n      </Box>}\n    </CardContent>\n    {footer && id && <CardContent sx={{ py: 1 }}>\n      <Grid container>\n        <Grid item flexGrow={1}>\n          <CharacterDropdownButton noUnselect inventory value={location} onChange={equipOnChar} filter={filter} />\n        </Grid>\n        {!!onClose && <Grid item><CloseButton large onClick={onClose} /></Grid>}\n      </Grid>\n    </CardContent>}\n  </CardLight>\n}\nfunction SwapBtn({ onChangeId, weaponTypeKey }) {\n  const database = useContext(DatabaseContext)\n  const [show, setShow] = useState(false)\n  const open = () => setShow(true)\n  const close = () => setShow(false)\n\n  const clickHandler = (id) => {\n    onChangeId(id)\n    close()\n  }\n\n  const weaponSheets = usePromise(WeaponSheet.getAll, [])\n\n  const weaponIdList = database.weapons.keys.filter(wKey => {\n    const dbWeapon = database._getWeapon(wKey)\n    if (!dbWeapon) return false\n    if (weaponTypeKey && weaponTypeKey !== weaponSheets?.[dbWeapon.key]?.weaponType) return false\n    return true\n  })\n\n\n  return <>\n    <Button color=\"info\" onClick={open} startIcon={<SwapHoriz />} >SWAP WEAPON</Button>\n    <ModalWrapper open={show} onClose={close} >\n      <CardDark>\n        <CardContent sx={{ py: 1 }}>\n          <Grid container>\n            <Grid item flexGrow={1}>\n              <Typography variant=\"h6\">{weaponTypeKey ? <ImgIcon src={Assets.weaponTypes[weaponTypeKey]} /> : null} Swap Weapon</Typography>\n            </Grid>\n            <Grid item>\n              <CloseButton onClick={close} />\n            </Grid>\n          </Grid>\n        </CardContent>\n        <Divider />\n        <CardContent>\n          <Grid container spacing={1}>\n            {weaponIdList.map(weaponId =>\n              <Grid item key={weaponId} xs={6} sm={6} md={4} lg={3} >\n                <WeaponCard\n                  weaponId={weaponId}\n                  onClick={clickHandler}\n                />\n              </Grid>)}\n          </Grid>\n        </CardContent>\n      </CardDark>\n    </ModalWrapper>\n  </>\n}\n","import { ButtonProps, ToggleButton, ToggleButtonProps, styled } from \"@mui/material\";\n\ntype SolidColoredToggleButtonPartial = {\n  baseColor?: ButtonProps[\"color\"];\n  selectedColor?: ButtonProps[\"color\"];\n}\nexport type SolidColoredToggleButtonProps = SolidColoredToggleButtonPartial & ToggleButtonProps\n\n\nconst SolidColoredToggleButton = styled(ToggleButton, {\n  shouldForwardProp: (prop) => prop !== \"baseColor\" && prop !== \"selectedColor\"\n})<SolidColoredToggleButtonPartial>(({ theme, baseColor = \"primary\", selectedColor = \"success\" }) => ({\n  '&': {\n    backgroundColor: theme.palette[baseColor].main,\n    color: theme.palette[baseColor].contrastText,\n  },\n  '&:hover': {\n    backgroundColor: theme.palette[baseColor].dark,\n  },\n  '&.Mui-selected': {\n    backgroundColor: theme.palette[selectedColor].main,\n    color: theme.palette[selectedColor].contrastText,\n  },\n  '&.Mui-selected:hover': {\n    backgroundColor: theme.palette[selectedColor].dark,\n  },\n  '&.Mui-disabled': {\n    backgroundColor: theme.palette[baseColor].dark,\n  },\n  '&.Mui-selected.Mui-disabled': {\n    backgroundColor: theme.palette[selectedColor].dark,\n  },\n}));\n\nexport default SolidColoredToggleButton","import { Box, ToggleButtonGroup } from \"@mui/material\";\nimport { useCallback } from \"react\";\nimport { allElements, ElementKey } from \"../../Types/consts\";\nimport SolidColoredToggleButton from \"../SolidColoredToggleButton\";\nimport { SolidToggleButtonGroupProps } from \"../SolidToggleButtonGroup\";\nimport { uncoloredEleIcons } from \"../StatIcon\";\ntype ElementToggleProps = Omit<SolidToggleButtonGroupProps, \"onChange\" | \"value\"> & {\n  onChange: (value: ElementKey | \"\") => void\n  value: ElementKey | \"\"\n}\nexport default function ElementToggle({ value, onChange, ...props }: ElementToggleProps) {\n  const cb = useCallback((e, newVal) => onChange(newVal || \"\"), [onChange])\n  return <ToggleButtonGroup exclusive onChange={cb} value={value || allElements} {...props}>\n    {allElements.map(ele => <SolidColoredToggleButton key={ele} value={ele} selectedColor={ele} >\n      <Box sx={{ fontSize: \"2em\", lineHeight: 1 }}>{uncoloredEleIcons[ele]}</Box>\n    </SolidColoredToggleButton>)}\n  </ToggleButtonGroup>\n}\n","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardHeaderUtilityClass(slot) {\n  return generateUtilityClass('MuiCardHeader', slot);\n}\nconst cardHeaderClasses = generateUtilityClasses('MuiCardHeader', ['root', 'avatar', 'action', 'content', 'title', 'subheader']);\nexport default cardHeaderClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"action\", \"avatar\", \"className\", \"component\", \"disableTypography\", \"subheader\", \"subheaderTypographyProps\", \"title\", \"titleTypographyProps\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport Typography from '../Typography';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport cardHeaderClasses, { getCardHeaderUtilityClass } from './cardHeaderClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    avatar: ['avatar'],\n    action: ['action'],\n    content: ['content'],\n    title: ['title'],\n    subheader: ['subheader']\n  };\n  return composeClasses(slots, getCardHeaderUtilityClass, classes);\n};\n\nconst CardHeaderRoot = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Root',\n  overridesResolver: (props, styles) => _extends({\n    [`& .${cardHeaderClasses.title}`]: styles.title,\n    [`& .${cardHeaderClasses.subheader}`]: styles.subheader\n  }, styles.root)\n})({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 16\n});\nconst CardHeaderAvatar = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Avatar',\n  overridesResolver: (props, styles) => styles.avatar\n})({\n  display: 'flex',\n  flex: '0 0 auto',\n  marginRight: 16\n});\nconst CardHeaderAction = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Action',\n  overridesResolver: (props, styles) => styles.action\n})({\n  flex: '0 0 auto',\n  alignSelf: 'flex-start',\n  marginTop: -4,\n  marginRight: -8,\n  marginBottom: -4\n});\nconst CardHeaderContent = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Content',\n  overridesResolver: (props, styles) => styles.content\n})({\n  flex: '1 1 auto'\n});\nconst CardHeader = /*#__PURE__*/React.forwardRef(function CardHeader(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardHeader'\n  });\n\n  const {\n    action,\n    avatar,\n    className,\n    component = 'div',\n    disableTypography = false,\n    subheader: subheaderProp,\n    subheaderTypographyProps,\n    title: titleProp,\n    titleTypographyProps\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    component,\n    disableTypography\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  let title = titleProp;\n\n  if (title != null && title.type !== Typography && !disableTypography) {\n    title = /*#__PURE__*/_jsx(Typography, _extends({\n      variant: avatar ? 'body2' : 'h5',\n      className: classes.title,\n      component: \"span\",\n      display: \"block\"\n    }, titleTypographyProps, {\n      children: title\n    }));\n  }\n\n  let subheader = subheaderProp;\n\n  if (subheader != null && subheader.type !== Typography && !disableTypography) {\n    subheader = /*#__PURE__*/_jsx(Typography, _extends({\n      variant: avatar ? 'body2' : 'body1',\n      className: classes.subheader,\n      color: \"text.secondary\",\n      component: \"span\",\n      display: \"block\"\n    }, subheaderTypographyProps, {\n      children: subheader\n    }));\n  }\n\n  return /*#__PURE__*/_jsxs(CardHeaderRoot, _extends({\n    className: clsx(classes.root, className),\n    as: component,\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [avatar && /*#__PURE__*/_jsx(CardHeaderAvatar, {\n      className: classes.avatar,\n      ownerState: ownerState,\n      children: avatar\n    }), /*#__PURE__*/_jsxs(CardHeaderContent, {\n      className: classes.content,\n      ownerState: ownerState,\n      children: [title, subheader]\n    }), action && /*#__PURE__*/_jsx(CardHeaderAction, {\n      className: classes.action,\n      ownerState: ownerState,\n      children: action\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardHeader.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display in the card header.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The Avatar element to display.\n   */\n  avatar: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, `subheader` and `title` won't be wrapped by a Typography component.\n   * This can be useful to render an alternative Typography variant by wrapping\n   * the `title` text, and optional `subheader` text\n   * with the Typography component.\n   * @default false\n   */\n  disableTypography: PropTypes.bool,\n\n  /**\n   * The content of the component.\n   */\n  subheader: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the subheader\n   * (as long as disableTypography is not `true`).\n   */\n  subheaderTypographyProps: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The content of the component.\n   */\n  title: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the title\n   * (as long as disableTypography is not `true`).\n   */\n  titleTypographyProps: PropTypes.object\n} : void 0;\nexport default CardHeader;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');","/* eslint-disable react-hooks/rules-of-hooks, react-hooks/exhaustive-deps */\nimport * as React from 'react';\nexport default function useControlled({\n  controlled,\n  default: defaultProp,\n  name,\n  state = 'value'\n}) {\n  // isControlled is ignored in the hook dependency lists as it should never change.\n  const {\n    current: isControlled\n  } = React.useRef(controlled !== undefined);\n  const [valueState, setValue] = React.useState(defaultProp);\n  const value = isControlled ? controlled : valueState;\n\n  if (process.env.NODE_ENV !== 'production') {\n    React.useEffect(() => {\n      if (isControlled !== (controlled !== undefined)) {\n        console.error([`MUI: A component is changing the ${isControlled ? '' : 'un'}controlled ${state} state of ${name} to be ${isControlled ? 'un' : ''}controlled.`, 'Elements should not switch from uncontrolled to controlled (or vice versa).', `Decide between using a controlled or uncontrolled ${name} ` + 'element for the lifetime of the component.', \"The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.\", 'More info: https://fb.me/react-controlled-components'].join('\\n'));\n      }\n    }, [state, name, controlled]);\n    const {\n      current: defaultValue\n    } = React.useRef(defaultProp);\n    React.useEffect(() => {\n      if (!isControlled && defaultValue !== defaultProp) {\n        console.error([`MUI: A component is changing the default ${state} state of an uncontrolled ${name} after being initialized. ` + `To suppress this warning opt to use a controlled ${name}.`].join('\\n'));\n      }\n    }, [JSON.stringify(defaultProp)]);\n  }\n\n  const setValueIfUncontrolled = React.useCallback(newValue => {\n    if (!isControlled) {\n      setValue(newValue);\n    }\n  }, []);\n  return [value, setValueIfUncontrolled];\n}","import createStyled from './createStyled';\nconst styled = createStyled();\nexport default styled;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z\"\n}), 'BusinessCenter');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\"\n}), 'Replay');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getAlertUtilityClass(slot) {\n  return generateUtilityClass('MuiAlert', slot);\n}\nconst alertClasses = generateUtilityClasses('MuiAlert', ['root', 'action', 'icon', 'message', 'filled', 'filledSuccess', 'filledInfo', 'filledWarning', 'filledError', 'outlined', 'outlinedSuccess', 'outlinedInfo', 'outlinedWarning', 'outlinedError', 'standard', 'standardSuccess', 'standardInfo', 'standardWarning', 'standardError']);\nexport default alertClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _CloseIcon;\n\nconst _excluded = [\"action\", \"children\", \"className\", \"closeText\", \"color\", \"icon\", \"iconMapping\", \"onClose\", \"role\", \"severity\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { darken, lighten } from '@mui/system';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport capitalize from '../utils/capitalize';\nimport Paper from '../Paper';\nimport alertClasses, { getAlertUtilityClass } from './alertClasses';\nimport IconButton from '../IconButton';\nimport SuccessOutlinedIcon from '../internal/svg-icons/SuccessOutlined';\nimport ReportProblemOutlinedIcon from '../internal/svg-icons/ReportProblemOutlined';\nimport ErrorOutlineIcon from '../internal/svg-icons/ErrorOutline';\nimport InfoOutlinedIcon from '../internal/svg-icons/InfoOutlined';\nimport CloseIcon from '../internal/svg-icons/Close';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    variant,\n    color,\n    severity,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', `${variant}${capitalize(color || severity)}`, `${variant}`],\n    icon: ['icon'],\n    message: ['message'],\n    action: ['action']\n  };\n  return composeClasses(slots, getAlertUtilityClass, classes);\n};\n\nconst AlertRoot = styled(Paper, {\n  name: 'MuiAlert',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], styles[`${ownerState.variant}${capitalize(ownerState.color || ownerState.severity)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const getColor = theme.palette.mode === 'light' ? darken : lighten;\n  const getBackgroundColor = theme.palette.mode === 'light' ? lighten : darken;\n  const color = ownerState.color || ownerState.severity;\n  return _extends({}, theme.typography.body2, {\n    backgroundColor: 'transparent',\n    display: 'flex',\n    padding: '6px 16px'\n  }, color && ownerState.variant === 'standard' && {\n    color: getColor(theme.palette[color].light, 0.6),\n    backgroundColor: getBackgroundColor(theme.palette[color].light, 0.9),\n    [`& .${alertClasses.icon}`]: {\n      color: theme.palette.mode === 'dark' ? theme.palette[color].main : theme.palette[color].light\n    }\n  }, color && ownerState.variant === 'outlined' && {\n    color: getColor(theme.palette[color].light, 0.6),\n    border: `1px solid ${theme.palette[color].light}`,\n    [`& .${alertClasses.icon}`]: {\n      color: theme.palette.mode === 'dark' ? theme.palette[color].main : theme.palette[color].light\n    }\n  }, color && ownerState.variant === 'filled' && {\n    color: '#fff',\n    fontWeight: theme.typography.fontWeightMedium,\n    backgroundColor: theme.palette.mode === 'dark' ? theme.palette[color].dark : theme.palette[color].main\n  });\n});\nconst AlertIcon = styled('div', {\n  name: 'MuiAlert',\n  slot: 'Icon',\n  overridesResolver: (props, styles) => styles.icon\n})({\n  marginRight: 12,\n  padding: '7px 0',\n  display: 'flex',\n  fontSize: 22,\n  opacity: 0.9\n});\nconst AlertMessage = styled('div', {\n  name: 'MuiAlert',\n  slot: 'Message',\n  overridesResolver: (props, styles) => styles.message\n})({\n  padding: '8px 0'\n});\nconst AlertAction = styled('div', {\n  name: 'MuiAlert',\n  slot: 'Action',\n  overridesResolver: (props, styles) => styles.action\n})({\n  display: 'flex',\n  alignItems: 'flex-start',\n  padding: '4px 0 0 16px',\n  marginLeft: 'auto',\n  marginRight: -8\n});\nconst defaultIconMapping = {\n  success: /*#__PURE__*/_jsx(SuccessOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  warning: /*#__PURE__*/_jsx(ReportProblemOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  error: /*#__PURE__*/_jsx(ErrorOutlineIcon, {\n    fontSize: \"inherit\"\n  }),\n  info: /*#__PURE__*/_jsx(InfoOutlinedIcon, {\n    fontSize: \"inherit\"\n  })\n};\nconst Alert = /*#__PURE__*/React.forwardRef(function Alert(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAlert'\n  });\n\n  const {\n    action,\n    children,\n    className,\n    closeText = 'Close',\n    color,\n    icon,\n    iconMapping = defaultIconMapping,\n    onClose,\n    role = 'alert',\n    severity = 'success',\n    variant = 'standard'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    color,\n    severity,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(AlertRoot, _extends({\n    role: role,\n    elevation: 0,\n    ownerState: ownerState,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other, {\n    children: [icon !== false ? /*#__PURE__*/_jsx(AlertIcon, {\n      ownerState: ownerState,\n      className: classes.icon,\n      children: icon || iconMapping[severity] || defaultIconMapping[severity]\n    }) : null, /*#__PURE__*/_jsx(AlertMessage, {\n      ownerState: ownerState,\n      className: classes.message,\n      children: children\n    }), action != null ? /*#__PURE__*/_jsx(AlertAction, {\n      className: classes.action,\n      children: action\n    }) : null, action == null && onClose ? /*#__PURE__*/_jsx(AlertAction, {\n      ownerState: ownerState,\n      className: classes.action,\n      children: /*#__PURE__*/_jsx(IconButton, {\n        size: \"small\",\n        \"aria-label\": closeText,\n        title: closeText,\n        color: \"inherit\",\n        onClick: onClose,\n        children: _CloseIcon || (_CloseIcon = /*#__PURE__*/_jsx(CloseIcon, {\n          fontSize: \"small\"\n        }))\n      })\n    }) : null]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Alert.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the alert.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Override the default label for the *close popup* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   * @default 'Close'\n   */\n  closeText: PropTypes.string,\n\n  /**\n   * The main color for the alert. Unless provided, the value is taken from the `severity` prop.\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * Override the icon displayed before the children.\n   * Unless provided, the icon is mapped to the value of the `severity` prop.\n   * Set to `false` to remove the `icon`.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The component maps the `severity` prop to a range of different icons,\n   * for instance success to `<SuccessOutlined>`.\n   * If you wish to change this mapping, you can provide your own.\n   * Alternatively, you can use the `icon` prop to override the icon displayed.\n   */\n  iconMapping: PropTypes.shape({\n    error: PropTypes.node,\n    info: PropTypes.node,\n    success: PropTypes.node,\n    warning: PropTypes.node\n  }),\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * When provided and no `action` prop is set, a close icon button is displayed that triggers the callback when clicked.\n   * @param {React.SyntheticEvent} event The event source of the callback.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * The ARIA role attribute of the element.\n   * @default 'alert'\n   */\n  role: PropTypes.string,\n\n  /**\n   * The severity of the alert. This defines the color and icon used.\n   * @default 'success'\n   */\n  severity: PropTypes.oneOf(['error', 'info', 'success', 'warning']),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The variant to use.\n   * @default 'standard'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['filled', 'outlined', 'standard']), PropTypes.string])\n} : void 0;\nexport default Alert;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z\"\n}), 'SuccessOutlined');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z\"\n}), 'ReportProblemOutlined');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'ErrorOutline');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z\"\n}), 'InfoOutlined');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n *\n * Alias to `Clear`.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');","import { ExpandMore } from \"@mui/icons-material\"\nimport { Accordion, AccordionDetails, AccordionSummary, Box, CardContent, CardHeader, Collapse, Divider, Grid, Skeleton, Typography } from \"@mui/material\"\nimport { Suspense, useCallback, useContext, useState } from \"react\"\nimport { DataContext } from \"../DataContext\"\nimport { getDisplayHeader, getDisplaySections } from \"../Formula/DisplayUtil\"\nimport { DisplaySub } from \"../Formula/type\"\nimport { NodeDisplay, valueString } from \"../Formula/uiData\"\nimport KeyMap from \"../KeyMap\"\nimport usePromise from \"../ReactHooks/usePromise\"\nimport CardDark from \"./Card/CardDark\"\nimport CardLight from \"./Card/CardLight\"\nimport ColorText from \"./ColoredText\"\nimport ExpandButton from \"./ExpandButton\"\nimport ImgIcon from \"./Image/ImgIcon\"\n\nexport default function FormulaCalcCard() {\n  const [expanded, setexpanded] = useState(false)\n  const toggle = useCallback(() => setexpanded(!expanded), [setexpanded, expanded])\n  return <CardLight>\n    <CardContent>\n      <Grid container>\n        <Grid item flexGrow={1}>\n          <Typography>Formulas {\"&\"} Calculations</Typography>\n          <Typography variant=\"caption\" color=\"text.secondary\">Expand to see every formula and all their calculations.</Typography>\n        </Grid>\n        <Grid item>\n          <ExpandButton\n            expand={expanded}\n            onClick={toggle}\n            aria-expanded={expanded}\n            aria-label=\"show more\"\n          >\n            <ExpandMore />\n          </ExpandButton>\n        </Grid>\n      </Grid>\n    </CardContent>\n    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n      <CardContent sx={{ pt: 0 }}>\n        <CalculationDisplay />\n      </CardContent>\n    </Collapse>\n  </CardLight>\n}\n\nfunction CalculationDisplay() {\n  const { data } = useContext(DataContext)\n  const sections = getDisplaySections(data)\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" width=\"100%\" height={1000} />} >\n    <Box sx={{ mr: -1, mb: -1 }}>\n      {sections.map(([key, Nodes]) =>\n        <FormulaCalc key={key} displayNs={Nodes} sectionKey={key} />)}\n    </Box>\n  </Suspense>\n}\nfunction FormulaCalc({ sectionKey, displayNs }: { displayNs: DisplaySub<NodeDisplay>, sectionKey: string }) {\n  const { data } = useContext(DataContext)\n  const header = usePromise(getDisplayHeader(data, sectionKey), [data, sectionKey])\n  if (!header) return null\n  const { title, icon, action } = header\n  return <CardDark sx={{ mb: 1 }}>\n    <CardHeader avatar={icon && <ImgIcon size={2} sx={{ m: -1 }} src={icon} />} title={title} action={action} titleTypographyProps={{ variant: \"subtitle1\" }} />\n    <Divider />\n    <CardContent>\n      {Object.entries(displayNs).map(([key, node]) =>\n        !node.isEmpty && <Accordion sx={{ bgcolor: \"contentLight.main\" }} key={key}>\n          <AccordionSummary expandIcon={<ExpandMore />}>\n            <Typography><ColorText color={node.variant}>{KeyMap.get(node.key ?? \"\")}</ColorText> <strong>{valueString(node.value, node.unit)}</strong></Typography>\n          </AccordionSummary>\n          <AccordionDetails>\n            {node.formulas.map((subform, i) => <Typography key={i}>{subform}</Typography>)}\n          </AccordionDetails>\n        </Accordion>)}\n    </CardContent>\n  </CardDark>\n}\n","import { Button, Card, CardContent, CardHeader, Divider, Grid, Typography } from '@mui/material';\nimport { useCallback, useContext, useEffect, useMemo } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport ArtifactCard from '../../PageArtifact/ArtifactCard';\nimport { ArtifactSheet } from '../../Data/Artifacts/ArtifactSheet';\nimport SetEffectDisplay from '../../Components/Artifact/SetEffectDisplay';\nimport CardLight from '../../Components/Card/CardLight';\nimport ImgIcon from '../../Components/Image/ImgIcon';\nimport { database as localDatabase, DatabaseContext } from '../../Database/Database';\nimport { DataContext } from '../../DataContext';\nimport { uiInput as input } from '../../Formula';\nimport useForceUpdate from '../../ReactHooks/useForceUpdate';\nimport usePromise from '../../ReactHooks/usePromise';\nimport { allSlotKeys, SlotKey } from '../../Types/consts';\nimport { objectKeyMap } from '../../Util/Util';\nimport StatDisplayComponent from '../../Components/Character/StatDisplayComponent';\n\nfunction CharacterArtifactPane({ newBuild = false }: { newBuild?: boolean }) {\n  const { data, character, mainStatAssumptionLevel } = useContext(DataContext)\n\n  const database = useContext(DatabaseContext)\n  const history = useHistory()\n  const edit = useCallback(\n    artid => history.push({\n      pathname: \"/artifact\",\n      artToEditId: artid\n    } as any), [history])\n  const artifactSheets = usePromise(ArtifactSheet.getAll, [])\n\n  // TODO: We can also listen only to equipped artifacts\n  const [, updateArt] = useForceUpdate()\n  useEffect(() => database.followAnyArt(updateArt))\n\n  const equipArts = useCallback(() => {\n    if (!window.confirm(\"Do you want to equip this artifact build to this character?\")) return\n    const newBuild = Object.fromEntries(allSlotKeys.map(s => [s, data.get(input.art[s].id).value])) as Record<SlotKey, string>\n    database.equipArtifacts(character.key, newBuild)\n  }, [character, data, database])\n\n  const unequipArts = useCallback(() => {\n    if (!character) return\n    if (!window.confirm(\"Do you want to move all currently equipped artifacts to inventory?\")) return\n    database.equipArtifacts(character.key, objectKeyMap(allSlotKeys, _ => \"\"))\n  }, [character, database])\n  const artIds = allSlotKeys.map(slotKey => data.get(input.art[slotKey].id).value)\n  const setEffects = useMemo(() => artifactSheets && ArtifactSheet.setEffects(artifactSheets, data), [artifactSheets, data])\n  return <>\n    <CardLight sx={{ mb: 1 }}>\n      <CardContent>\n        <StatDisplayComponent />\n      </CardContent>\n      <Divider />\n      <CardContent sx={{ py: 1 }}>\n        <Grid container spacing={1}>\n          <Grid item>\n            {newBuild ? <Button onClick={equipArts} className=\"mr-2\">Equip artifacts</Button> : (database === localDatabase && <Button color=\"error\" onClick={unequipArts}>Unequip all artifacts</Button>)}\n          </Grid>\n          <Grid item flexGrow={1}></Grid>\n          <Grid item>{!!mainStatAssumptionLevel && <Card sx={{ p: 1, bgcolor: t => t.palette.warning.dark }}><Typography><strong>Assume Main Stats are Level {mainStatAssumptionLevel}</strong></Typography></Card>}</Grid>\n        </Grid>\n      </CardContent>\n    </CardLight>\n    <Grid container spacing={1}>\n      <Grid item xs={12} sm={6} md={4} display=\"flex\" flexDirection=\"column\" gap={1}>\n        {artifactSheets && setEffects && Object.entries(setEffects).map(([setKey, setNumKeyArr]) =>\n          <CardLight key={setKey} sx={{ flexGrow: 1, }} >\n            <CardHeader avatar={<ImgIcon size={2} sx={{ m: -1 }} src={artifactSheets[setKey].defIconSrc} />} title={artifactSheets[setKey].name} titleTypographyProps={{ variant: \"subtitle1\" }} />\n            <Divider />\n            <CardContent >\n              <Grid container spacing={1} flexDirection=\"column\" height=\"100%\" >\n                <Grid item display=\"flex\" flexDirection=\"column\" gap={1}>\n                  {setNumKeyArr.map(setNumKey => <SetEffectDisplay key={setKey + setNumKey} setKey={setKey} setNumKey={setNumKey} />)}\n                </Grid>\n              </Grid>\n            </CardContent>\n          </CardLight>\n        )}\n      </Grid>\n      {artIds.map(id => !!id && <Grid item xs={6} md={4} key={id} >\n        <ArtifactCard artifactId={id} mainStatAssumptionLevel={mainStatAssumptionLevel} onEdit={() => edit(id)} />\n      </Grid>)}\n    </Grid>\n  </>\n}\nexport default CharacterArtifactPane\n","import { PersonAdd } from \"@mui/icons-material\";\nimport { CardContent, Divider, Grid } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React, { useContext, useMemo } from 'react';\nimport CardLight from \"../../Components/Card/CardLight\";\nimport CharacterDropdownButton from \"../../Components/Character/CharacterDropdownButton\";\nimport ConditionalDisplay from \"../../Components/ConditionalDisplay\";\nimport { NodeFieldDisplay } from \"../../Components/FieldDisplay\";\nimport resonanceSheets from \"../../Conditional/Resonance\";\nimport { ArtifactSheet } from \"../../Data/Artifacts/ArtifactSheet\";\nimport { DataContext, dataContextObj } from \"../../DataContext\";\nimport { uiInput as input } from \"../../Formula\";\nimport { NodeDisplay } from \"../../Formula/uiData\";\nimport useCharacterReducer from \"../../ReactHooks/useCharacterReducer\";\nimport useCharSelectionCallback from \"../../ReactHooks/useCharSelectionCallback\";\nimport usePromise from \"../../ReactHooks/usePromise\";\nimport { ElementKey } from \"../../Types/consts\";\nimport { DocumentSection } from \"../../Types/sheet\";\nimport { objPathValue, range } from \"../../Util/Util\";\nimport CharacterCard from \"../CharacterCard\";\n\nexport default function CharacterTeamBuffsPane() {\n  return <Box display=\"flex\" flexDirection=\"column\" gap={1} alignItems=\"stretch\">\n    <TeamBuffDisplay />\n    {/* <ResonanceDisplay characterKey={characterKey} build={build} /> */}\n    <Grid container spacing={1}>\n      {range(0, 2).map(i => <Grid item xs={12} md={6} lg={4} key={i}>\n        <TeammateDisplay index={i} />\n      </Grid>)}\n    </Grid>\n  </Box>\n}\nconst statBreakpoint = {\n  xs: 12, sm: 6, md: 6, lg: 4,\n} as const\nexport function TeamBuffDisplay() {\n  const { data, oldData } = useContext(DataContext)\n  const teamBuffs = data.getTeamBuff()\n  const nodes: Array<[string[], NodeDisplay<number>]> = []\n  Object.entries(teamBuffs.total ?? {}).forEach(([key, node]) => nodes.push([[\"total\", key], node]))\n  Object.entries(teamBuffs.premod ?? {}).forEach(([key, node]) => nodes.push([[\"premod\", key], node]))\n  Object.entries(teamBuffs.enemy ?? {}).forEach(([key, node]) => nodes.push([[\"enemy\", key], node]))\n  if (!nodes.length) return null\n  return <CardLight>\n    <CardContent>\n      Team Buffs\n    </CardContent>\n    <Divider />\n    <CardContent>\n      <Grid container columnSpacing={2} rowSpacing={1}>\n        {nodes.map(([path, n], i) => n && !n.isEmpty && <Grid item {...statBreakpoint} key={n.key} >\n          <NodeFieldDisplay node={n} oldValue={objPathValue(oldData?.getTeamBuff(), path)?.value} />\n        </Grid>)}\n      </Grid>\n    </CardContent>\n  </CardLight>\n}\nfunction ResonanceDisplay() {\n  const { data, characterDispatch } = useContext(DataContext)\n  return <CardLight>\n    <CardContent>\n      Team Resonance\n    </CardContent>\n    <Divider />\n    <CardContent>\n      <Grid container spacing={1}>\n        {/* {resonanceSheets.map((doc, i) =>\n          <Grid item key={i} xs={12} md={6} lg={4} >\n            <CardDark sx={{ opacity: doc.canShow(build) ? 1 : 0.5, height: \"100%\" }}>\n              <CardHeader avatar={doc?.header?.icon} title={doc?.header?.title} action={doc?.header?.action} titleTypographyProps={{ variant: \"subtitle2\" }} />\n              <Divider />\n              <CardContent>\n                {doc.description}\n              </CardContent>\n              {doc.conditionals.map(cond =>\n                <ConditionalDisplay key={cond.key} conditional={cond} stats={build} onChange={val => characterDispatch({ conditionalValues: val })} />\n              )}\n            </CardDark>\n          </Grid>\n        )} */}\n      </Grid>\n    </CardContent>\n  </CardLight>\n}\nfunction TeammateDisplay({ index }: { index: number }) {\n  const dataContext = useContext(DataContext)\n  const { character: active, teamData, characterDispatch: activeCharacterDispatch } = dataContext\n  const activeCharacterKey = active.key\n  const characterKey = active.team[index]\n  const characterDispatch = useCharacterReducer(characterKey)\n  // TODO: this UIData should be fed from the main CharacterDisplayCard for teams.\n  const onClickHandler = useCharSelectionCallback()\n\n  const dataBundle = teamData[characterKey]\n  const teamMateDataContext: dataContextObj | undefined = dataBundle && characterDispatch && {\n    character: dataBundle.character,\n    characterSheet: dataBundle.characterSheet,\n    data: dataBundle.target,\n    teamData: teamData,\n    mainStatAssumptionLevel: 0,\n    characterDispatch\n  }\n  return <CardLight>\n    <CardContent>\n      <CharacterDropdownButton fullWidth value={characterKey}\n        onChange={charKey => activeCharacterDispatch({ type: \"team\", index, charKey })}\n        filter={(_, ck) => ck !== activeCharacterKey && !active.team.includes(ck)} unSelectText={`Teammate ${index + 1}`} unSelectIcon={<PersonAdd />} />\n    </CardContent>\n    {teamMateDataContext && <DataContext.Provider value={teamMateDataContext}>\n      <CharacterCard characterKey={characterKey}\n        onClickHeader={onClickHandler}\n        artifactChildren={<CharArtifactCondDisplay dataContext={dataContext} />}\n        weaponChildren={<CharWeaponCondDisplay dataContext={dataContext} />}\n        characterChildren={<CharTalentCondDisplay dataContext={dataContext} />}\n      />\n    </DataContext.Provider>}\n  </CardLight>\n\n}\nfunction CharArtifactCondDisplay({ dataContext }: { dataContext: dataContextObj }) {\n  const { data, } = useContext(DataContext)\n  const artifactSheets = usePromise(ArtifactSheet.getAll, [])\n  const sections = useMemo(() => artifactSheets &&\n    Object.entries(ArtifactSheet.setEffects(artifactSheets, data))\n      .flatMap(([setKey, setNums]) =>\n        setNums.flatMap(sn => artifactSheets[setKey]!.setEffectDocument(sn)!))\n    , [artifactSheets, data])\n  if (!sections) return null\n  return <DisplaySectionsTeamCond sections={sections} dataContext={dataContext} />\n}\nfunction CharWeaponCondDisplay({ dataContext }: { dataContext: dataContextObj }) {\n  const { data, teamData, character: { key: charKey } } = useContext(DataContext)\n  const weaponSheet = teamData[charKey]!.weaponSheet\n\n  return <DisplaySectionsTeamCond sections={weaponSheet.document} dataContext={dataContext} />\n}\nfunction CharTalentCondDisplay({ dataContext }: { dataContext: dataContextObj }) {\n  const { data, teamData, character: { key: charKey } } = useContext(DataContext)\n  const characterSheet = teamData[charKey]!.characterSheet\n  const talent = characterSheet.getTalent(data.get(input.charEle).value as ElementKey)!\n  const sections = Object.values(talent.sheets).flatMap(sts => sts.sections)\n  return <DisplaySectionsTeamCond sections={sections} dataContext={dataContext} />\n}\n\nfunction DisplaySectionsTeamCond({ sections, dataContext }: { sections: DocumentSection[], dataContext: dataContextObj }) {\n  return <Box display=\"flex\" flexDirection=\"column\" gap={1} pt={0} >\n    {sections.map(section => section.conditional?.teamBuff && <ConditionalDisplay conditional={section.conditional} fieldContext={dataContext} />)}\n  </Box >\n}\n","import { faEdit, faSave } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Badge, Box, Button, CardContent, CardMedia, Divider, Grid, Typography } from \"@mui/material\";\nimport React, { useContext, useState } from \"react\";\nimport Assets from \"../../Assets/Assets\";\nimport CardLight from \"../../Components/Card/CardLight\";\nimport ColorText from \"../../Components/ColoredText\";\nimport { NodeFieldDisplay } from \"../../Components/FieldDisplay\";\nimport ImgIcon from \"../../Components/Image/ImgIcon\";\nimport { Stars } from \"../../Components/StarDisplay\";\nimport StatIcon from \"../../Components/StatIcon\";\nimport { DataContext } from \"../../DataContext\";\nimport { valueString } from \"../../Formula/api\";\nimport { uiInput as input } from \"../../Formula\";\nimport { ReadNode } from \"../../Formula/type\";\nimport KeyMap from \"../../KeyMap\";\nimport useCharacterReducer from \"../../ReactHooks/useCharacterReducer\";\nimport { amplifyingReactions, transformativeReactions } from \"../../StatConstants\";\nimport { TalentSheetElementKey } from \"../../Types/character\";\nimport { allElementsWithPhy, ElementKey } from \"../../Types/consts\";\nimport WeaponDisplayCard from \"../../PageWeapon/WeaponDisplayCard\";\nimport CharacterSheet from \"../../Data/Characters/CharacterSheet\";\nimport StatInput from \"../StatInput\";\nimport { TeamBuffDisplay } from \"./CharacterTeamBuffsPane\";\nimport { range } from \"../../Util/Util\";\nexport default function CharacterOverviewPane() {\n  const { data, characterSheet, character, character: { key: characterKey } } = useContext(DataContext)\n  const characterDispatch = useCharacterReducer(characterKey)\n  const charEle = data.get(input.charEle).value as ElementKey\n  const weaponTypeKey = characterSheet.weaponTypeKey\n  const level = data.get(input.lvl).value\n  const ascension = data.get(input.asc).value\n  const constellation = data.get(input.constellation).value\n  const tlvl = {\n    auto: data.get(input.total.auto).value,\n    skill: data.get(input.total.skill).value,\n    burst: data.get(input.total.burst).value,\n  }\n  const tBoost = {\n    auto: data.get(input.bonus.auto).value,\n    skill: data.get(input.bonus.skill).value,\n    burst: data.get(input.bonus.burst).value,\n  }\n  return <Grid container spacing={1}>\n    <Grid item xs={12} md={3}  >\n      {/* Image card with star and name and level */}\n      <CardLight >\n        <CardMedia src={characterSheet.cardImg} component=\"img\" width=\"100%\" height=\"auto\" />\n        <CardContent>\n          <Typography variant=\"h4\" >{characterSheet.name} <ImgIcon src={Assets.weaponTypes?.[weaponTypeKey]} /> {StatIcon[charEle]} </Typography>\n          <Typography variant=\"h6\"><Stars stars={characterSheet.rarity} colored /></Typography>\n          <Typography variant=\"h5\">Lvl. {CharacterSheet.getLevelString(level, ascension)}</Typography>\n          <Grid container spacing={1} mt={1}>\n            {([\"auto\", \"skill\", \"burst\"] as TalentSheetElementKey[]).map(tKey =>\n              <Grid item xs={4} key={tKey}>\n                <Badge badgeContent={tlvl[tKey]} color={tBoost[tKey] ? \"info\" : \"secondary\"}\n                  overlap=\"circular\"\n                  anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'right',\n                  }}\n                  sx={{\n                    width: \"100%\",\n                    height: \"100%\",\n                    \"& > .MuiBadge-badge\": {\n                      fontSize: \"1.25em\",\n                      padding: \".25em .4em\",\n                      borderRadius: \".5em\",\n                      lineHeight: 1,\n                      height: \"1.25em\"\n                    }\n                  }}>\n                  <Box component=\"img\" src={characterSheet.getTalentOfKey(tKey, charEle)?.img} width=\"100%\" height=\"auto\" />\n                </Badge>\n              </Grid>)}\n          </Grid>\n          <Typography sx={{ textAlign: \"center\", mt: 1 }} variant=\"h6\">{characterSheet.constellationName}</Typography>\n          <Grid container spacing={1}>\n            {range(1, 6).map(i =>\n              <Grid item xs={4} key={i}>\n                <Box component=\"img\" src={characterSheet.getTalentOfKey(`constellation${i}` as TalentSheetElementKey, charEle)?.img}\n                  sx={{\n                    cursor: \"pointer\",\n                    ...(constellation >= i ? {} : { filter: \"brightness(50%)\" })\n                  }}\n                  width=\"100%\" height=\"auto\"\n                  onClick={() => characterDispatch({ constellation: i === constellation ? i - 1 : i })} />\n              </Grid>)}\n          </Grid>\n        </CardContent>\n      </CardLight>\n    </Grid>\n    <Grid item xs={12} md={9} sx={{\n      \"> div:not(:last-child)\": { mb: 1 }\n    }} >\n      <WeaponDisplayCard weaponId={character.equippedWeapon} />\n      <MainStatsCards />\n    </Grid>\n  </Grid >\n}\nconst EDIT = \"Edit Stats\"\nconst EXIT = \"EXIT\"\n\nconst mainBaseKeys = [\"atk\", \"hp\", \"def\"] as const\nconst mainSubKeys = [\"eleMas\", \"critRate_\", \"critDMG_\", \"enerRech_\", \"heal_\"] as const\nconst mainReadNodes = [...mainBaseKeys, ...mainSubKeys].map(k => input.total[k])\nconst mainEditKeys = [\"atk_\", \"atk\", \"hp_\", \"hp\", \"def_\", \"def\", ...mainSubKeys] as const\n\nconst otherStatReadNodes = [\n  ...allElementsWithPhy.map(ele => input.total[`${ele}_dmg_`]),\n  ...allElementsWithPhy.map(ele => input.total[`${ele}_res_`]),\n  ...([\"stamina\", \"incHeal_\", \"shield_\", \"cdRed_\"] as const).map(x => input.total[x])\n]\nconst otherStatKeys = otherStatReadNodes.map(x => x.info!.key!)\n\nconst miscStatReadNodes = [\n  input.total.all_dmg_,\n  ...allElementsWithPhy.map(x => input.total[`${x}_enemyRes_`]),\n  input.total.normal_dmg_, input.total.normal_critRate_,\n  input.total.charged_dmg_, input.total.charged_critRate_,\n  input.total.plunging_dmg_, input.total.plunging_critRate_,\n  input.total.skill_dmg_, input.total.skill_critRate_,\n  input.total.burst_dmg_, input.total.burst_critRate_,\n  ...Object.keys(transformativeReactions).map(x => input.total[`${x}_dmg_`]),\n  ...Object.keys(amplifyingReactions).map(x => input.total[`${x}_dmg_`]),\n  ...([\"moveSPD_\", \"atkSPD_\", \"weakspotDMG_\"] as const).map(x => input.total[x])\n]\nconst miscStatkeys = miscStatReadNodes.map(x => x.info!.key!)\n\nconst statBreakpoint = {\n  xs: 12, sm: 6, md: 6, lg: 4,\n} as const\n\nfunction StatDisplayContent({ nodes, statBreakpoint, extra }: { nodes: ReadNode<number>[], statBreakpoint: object, extra?: Displayable }) {\n  const { data, oldData } = useContext(DataContext)\n  return <Grid container columnSpacing={{ xs: 2, lg: 3 }} rowSpacing={1}>\n    {nodes.map(rn => <Grid item key={rn.info?.key} {...statBreakpoint} >\n      {<NodeFieldDisplay node={data.get(rn)} oldValue={oldData?.get(rn)?.value} />}\n    </Grid>)}\n    {extra}\n  </Grid>\n}\n\nfunction MainStatsCards() {\n  const { data, character, character: { key: characterKey } } = useContext(DataContext)\n  const characterDispatch = useCharacterReducer(characterKey)\n  const specialNode = data.get(input.special)\n\n  return <>\n    <TeamBuffDisplay />\n    <StatDisplayCard\n      title=\"Main Stats\"\n      content={<StatDisplayContent statBreakpoint={statBreakpoint} nodes={mainReadNodes}\n        extra={specialNode && <Grid item {...statBreakpoint} display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\">\n          <span><b>Special:</b> <ColorText color={specialNode.variant}>{specialNode.key && StatIcon[specialNode.key]} {specialNode.key && KeyMap.get(specialNode.key)}</ColorText></span>\n          <span >{valueString(specialNode.value, specialNode.unit)}</span>\n        </Grid>}\n      />}\n      editContent={<Grid container columnSpacing={2} rowSpacing={1}>\n        {mainEditKeys.map(statKey => {\n          const statName = KeyMap.get(statKey)\n          return <Grid item xs={12} lg={6} key={statKey}>\n            <StatInput\n              name={<span>{StatIcon[statKey]} {statName}</span>}\n              placeholder={KeyMap.getStr(statKey)}\n              value={character.bonusStats[statKey] ?? 0}\n              percent={KeyMap.unit(statKey) === \"%\"}\n              onValueChange={value => characterDispatch({ type: \"editStats\", statKey, value })}\n            />\n          </Grid>\n        })}\n      </Grid>}\n    />\n    <StatDisplayCard\n      title=\"Other Stats\"\n      content={<StatDisplayContent statBreakpoint={statBreakpoint} nodes={otherStatReadNodes} />}\n      editContent={<Grid container columnSpacing={2} rowSpacing={1}>\n        {otherStatKeys.map(statKey => {\n          const statName = KeyMap.get(statKey)\n          return <Grid item xs={12} lg={6} key={statKey}>\n            <StatInput\n              name={<span>{StatIcon[statKey]} {statName}</span>}\n              placeholder={KeyMap.getStr(statKey)}\n              value={character.bonusStats[statKey] ?? 0}\n              percent={KeyMap.unit(statKey) === \"%\"}\n              defaultValue={undefined}\n              onValueChange={value => characterDispatch({ type: \"editStats\", statKey, value })}\n            />\n          </Grid>\n        })}\n      </Grid>}\n    />\n    <StatDisplayCard\n      title=\"Misc Stats\"\n      content={<StatDisplayContent statBreakpoint={{\n        xs: 12, sm: 6, md: 6,\n      }} nodes={miscStatReadNodes} />}\n      editContent={<Grid container columnSpacing={2} rowSpacing={1}>\n        {miscStatkeys.map(statKey => {\n          const statName = KeyMap.get(statKey)\n          return <Grid item xs={12} lg={6} key={statKey}>\n            <StatInput\n              name={<span>{StatIcon[statKey]} {statName}</span>}\n              placeholder={KeyMap.getStr(statKey)}\n              value={character.bonusStats[statKey] ?? 0}\n              percent={KeyMap.unit(statKey) === \"%\"}\n              onValueChange={value => characterDispatch({ type: \"editStats\", statKey, value })}\n            />\n          </Grid>\n        })}\n      </Grid>}\n    />\n  </>\n}\nfunction StatDisplayCard({ title, content, editContent }) {\n  const [edit, setedit] = useState(false)\n  return <CardLight>\n    <CardContent sx={{ py: 1 }}>\n      <Box display=\"flex\" justifyContent=\"space-between\">\n        <Typography variant=\"subtitle1\">{title}</Typography>\n        <Button size=\"small\" color={edit ? \"error\" : \"info\"} onClick={() => setedit(!edit)} >\n          <span><FontAwesomeIcon icon={edit ? faSave : faEdit} /> {edit ? EXIT : EDIT}</span>\n        </Button>\n      </Box>\n    </CardContent>\n    <Divider />\n    <CardContent>\n      {edit ? editContent : content}\n    </CardContent>\n  </CardLight>\n}\n","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Box, CardActionArea, CardContent, Divider, Grid, MenuItem, Typography } from \"@mui/material\";\nimport React, { useCallback, useContext, useState } from 'react';\nimport BootstrapTooltip from \"../../Components/BootstrapTooltip\";\nimport CardDark from \"../../Components/Card/CardDark\";\nimport CardLight from \"../../Components/Card/CardLight\";\nimport ColorText from \"../../Components/ColoredText\";\nimport ConditionalWrapper from \"../../Components/ConditionalWrapper\";\nimport DocumentDisplay from \"../../Components/DocumentDisplay\";\nimport DropdownButton from \"../../Components/DropdownMenu/DropdownButton\";\nimport StatIcon from \"../../Components/StatIcon\";\nimport useCharacterReducer from \"../../ReactHooks/useCharacterReducer\";\nimport { TalentSheetElementKey } from \"../../Types/character\";\nimport { DataContext } from '../../DataContext';\nimport { uiInput as input } from \"../../Formula\";\nimport { ElementKey } from \"../../Types/consts\";\nimport KeyMap from '../../KeyMap'\nimport { NodeDisplay, valueString } from '../../Formula/uiData'\nimport { NumNode } from \"../../Formula/type\";\nimport { range } from \"../../Util/Util\";\nexport default function CharacterTalentPane() {\n  const { data, character, characterSheet } = useContext(DataContext)\n  const characterDispatch = useCharacterReducer(character.key)\n  const skillBurstList = [[\"auto\", \"Normal/Charged Attack\"], [\"skill\", \"Elemental Skill\"], [\"burst\", \"Elemental Burst\"]] as [TalentSheetElementKey, string][]\n  const passivesList: [tKey: TalentSheetElementKey, tText: string, asc: number][] = [[\"passive1\", \"Unlocked at Ascension 1\", 1], [\"passive2\", \"Unlocked at Ascension 4\", 4], [\"passive3\", \"Unlocked by Default\", 0]]\n  const charEle = data.get(input.charEle).value as ElementKey | undefined\n  const ascension = data.get(input.asc).value\n  const constellation = data.get(input.constellation).value\n  return <>\n    <ReactionDisplay />\n    <Grid container spacing={1} sx={{ mb: 1 }}>\n      {/* auto, skill, burst */}\n      {skillBurstList.map(([tKey, tText]) =>\n        <Grid item key={tKey} xs={12} md={6} lg={4} >\n          <SkillDisplayCard\n            talentKey={tKey}\n            subtitle={tText}\n          />\n        </Grid>)}\n      {!!characterSheet.getTalentOfKey(\"sprint\", charEle) && <Grid item xs={12} md={6} lg={4} >\n        <SkillDisplayCard\n          talentKey=\"sprint\"\n          subtitle=\"Alternative Sprint\"\n        />\n      </Grid>}\n      {!!characterSheet.getTalentOfKey(\"passive\", charEle) && <Grid item xs={12} md={6} lg={4} >\n        <SkillDisplayCard\n          talentKey=\"passive\"\n          subtitle=\"Passive\"\n        />\n      </Grid>}\n    </Grid>\n    <Grid container spacing={1}>\n      {/* passives */}\n      {passivesList.map(([tKey, tText, asc]) => {\n        let enabled = ascension >= asc\n        if (!characterSheet.getTalentOfKey(tKey, charEle)) return null\n        return <Grid item key={tKey} style={{ opacity: enabled ? 1 : 0.5 }} xs={12} md={4} >\n          <SkillDisplayCard\n            talentKey={tKey}\n            subtitle={tText}\n          />\n        </Grid>\n      })}\n    </Grid>\n    <Typography variant=\"h6\" sx={{ textAlign: \"center\" }}>Constellation Lv. {constellation}</Typography>\n    <Grid container spacing={1}>\n      {/* constellations */}\n      {range(1, 6).map(i => {\n        let tKey = `constellation${i}` as TalentSheetElementKey\n        return <Grid item key={i} xs={12} md={4}\n          sx={{ opacity: constellation >= i ? 1 : 0.5 }}>\n          <SkillDisplayCard\n            talentKey={tKey}\n            subtitle={`Contellation Lv. ${i}`}\n            onClickTitle={() => characterDispatch({ constellation: i === constellation ? i - 1 : i })}\n          />\n        </Grid>\n      })}\n    </Grid>\n  </>\n}\nconst ReactionComponents = {\n  superconduct: SuperConductCard,\n  electrocharged: ElectroChargedCard,\n  overloaded: OverloadedCard,\n  pyroSwirl: SwirlCard,// TODO: Assumes if character can pyro swirl, it can swirl every element. This behaviour will need to be changed for characters that can only swirl specific elements.\n  shattered: ShatteredCard,\n  // crystalize_hit: CrystalizeCard, // TODO: crystallize\n}\nfunction ReactionDisplay() {\n  const { data } = useContext(DataContext)\n  const reaction = data.getDisplay().reaction as { [key: string]: NodeDisplay }\n  return <CardLight sx={{ mb: 1 }}>\n    <CardContent>\n      <Grid container spacing={1}>\n        {Object.entries(reaction).map(([key, node]) => {\n          const Ele = ReactionComponents[key]\n          if (!Ele) return null\n          return <Grid item key={key}><Ele node={node} /></Grid>\n        })}\n      </Grid>\n    </CardContent>\n  </CardLight>\n}\nfunction SuperConductCard({ node }: { node: NodeDisplay }) {\n  return <CardDark><CardContent sx={{ p: 1 }}>\n    <Typography color=\"superconduct.main\">{KeyMap.get(node.key!)} {StatIcon.electro}+{StatIcon.cryo} <strong>{valueString(node.value, node.unit)}</strong></Typography>\n  </CardContent></CardDark>\n}\nfunction ElectroChargedCard({ node }: { node: NodeDisplay }) {\n  return <CardDark><CardContent sx={{ p: 1 }}>\n    <Typography color=\"electrocharged.main\">{KeyMap.get(node.key!)} {StatIcon.electro}+{StatIcon.hydro} <strong>{valueString(node.value, node.unit)}</strong></Typography>\n  </CardContent></CardDark>\n}\nfunction OverloadedCard({ node }: { node: NodeDisplay }) {\n  return <CardDark><CardContent sx={{ p: 1 }}>\n    <Typography color=\"overloaded.main\" >{KeyMap.get(node.key!)} {StatIcon.electro}+{StatIcon.pyro} <strong>{valueString(node.value, node.unit)}</strong></Typography>\n  </CardContent></CardDark>\n}\n\nconst swirlEleToDisplay = {\n  \"pyro\": <span><ColorText color=\"pyro\">{KeyMap.get(\"pyro_swirl_hit\")}</ColorText> {StatIcon.pyro} + {StatIcon.anemo}</span>,\n  \"electro\": <span><ColorText color=\"electro\">{KeyMap.get(\"electro_swirl_hit\")}</ColorText> {StatIcon.electro}+{StatIcon.anemo}</span>,\n  \"cryo\": <span><ColorText color=\"cryo\">{KeyMap.get(\"cryo_swirl_hit\")}</ColorText> {StatIcon.cryo} + {StatIcon.anemo}</span>,\n  \"hydro\": <span><ColorText color=\"hydro\">{KeyMap.get(\"hydro_swirl_hit\")}</ColorText> {StatIcon.hydro} + {StatIcon.anemo}</span>\n} as const\nfunction SwirlCard() {\n  const [ele, setele] = useState(Object.keys(swirlEleToDisplay)[0])\n  const { data } = useContext(DataContext)\n  const node = data.getDisplay().reaction![`${ele}Swirl`]!\n  return <CardDark sx={{ display: \"flex\" }}>\n    <DropdownButton size=\"small\" title={swirlEleToDisplay[ele]} color=\"success\">\n      {Object.entries(swirlEleToDisplay).map(([key, element]) => <MenuItem key={key} selected={ele === key} disabled={ele === key} onClick={() => setele(key)}>{element}</MenuItem>)}\n    </DropdownButton>\n    <Box sx={{ color: `${ele}.main`, p: 1 }}><strong>{valueString(node.value, node.unit)}</strong></Box>\n  </CardDark>\n}\nfunction ShatteredCard({ node }: { node: NodeDisplay }) {\n  const information = <BootstrapTooltip placement=\"top\" title={<Typography>Claymores, Plunging Attacks and <ColorText color=\"geo\">Geo DMG</ColorText></Typography>}>\n    <Box component=\"span\" sx={{ cursor: \"help\" }}><FontAwesomeIcon icon={faQuestionCircle} /></Box>\n  </BootstrapTooltip>\n\n  return <CardDark><CardContent sx={{ p: 1 }}>\n    <ColorText color=\"shattered\">{KeyMap.get(node.key!)} {StatIcon.hydro}+{StatIcon.cryo}+ <ColorText color=\"physical\"><small>Heavy Attack{information} </small></ColorText> <strong>{valueString(node.value, node.unit)}</strong></ColorText>\n  </CardContent></CardDark>\n}\n// TODO: crystallize\nconst crystalizeEleToDisplay = {\n  \"default\": <ColorText color=\"crystalize\">{KeyMap.get(\"crystalize_hit\")} {StatIcon.electro}/{StatIcon.hydro}/{StatIcon.pyro}/{StatIcon.cryo}+{StatIcon.geo}</ColorText>,\n  \"pyro\": <span>{KeyMap.get(\"pyro_crystalize_hit\")} {StatIcon.pyro}+{StatIcon.geo}</span>,\n  \"electro\": <span>{KeyMap.get(\"electro_crystalize_hit\")} {StatIcon.electro}+{StatIcon.geo}</span>,\n  \"cryo\": <span>{KeyMap.get(\"cryo_crystalize_hit\")} {StatIcon.cryo}+{StatIcon.geo}</span>,\n  \"hydro\": <span>{KeyMap.get(\"hydro_crystalize_hit\")} {StatIcon.hydro}+{StatIcon.geo}</span>\n} as const\nfunction CrystalizeCard() {\n  const [ele, setele] = useState(Object.keys(crystalizeEleToDisplay)[0])\n  const sKey = ele === \"default\" ? \"crystalize_hit\" : `${ele}_crystalize_hit`\n  return <CardDark sx={{ display: \"flex\" }}>\n    <DropdownButton size=\"small\" title={crystalizeEleToDisplay[ele]} color=\"success\">\n      {Object.entries(crystalizeEleToDisplay).map(([key, element]) => <MenuItem key={key} selected={ele === key} disabled={ele === key} onClick={() => setele(key)}>{element}</MenuItem>)}\n    </DropdownButton>\n    {/* <Box sx={{ color: `${ele}.main`, p: 1 }}><strong>{stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</strong></Box> */}\n  </CardDark>\n}\n\nconst talentLimits = [1, 1, 2, 4, 6, 8, 10]\ntype SkillDisplayCardProps = {\n  talentKey: TalentSheetElementKey,\n  subtitle: string,\n  onClickTitle?: (any) => any\n}\nfunction SkillDisplayCard({ talentKey, subtitle, onClickTitle }: SkillDisplayCardProps) {\n  const { data, character: { talent }, characterSheet, characterDispatch } = useContext(DataContext)\n\n  const actionWrapeprFunc = useCallback(\n    children => <CardActionArea onClick={onClickTitle}>{children}</CardActionArea>,\n    [onClickTitle],\n  )\n\n  let header: Displayable | null = null\n\n  if (talentKey in talent) {\n    const levelBoost = data.get(input.bonus[talentKey] as NumNode).value\n    const level = data.get(input.total[talentKey]).value\n    const asc = data.get(input.asc).value\n    const setTalentLevel = (tKey, newTalentLevelKey) => {\n      talent[tKey] = newTalentLevelKey\n      characterDispatch({ talent })\n    }\n    header = <>\n      <CardContent sx={{ py: 1 }}>\n        <DropdownButton fullWidth title={`Talent Lv. ${level}`} color={levelBoost ? \"info\" : \"primary\"}>\n          {range(1, talentLimits[asc]).map(i =>\n            <MenuItem key={i} selected={talent[talentKey] === (i)} disabled={talent[talentKey] === (i)} onClick={() => setTalentLevel(talentKey, i)}>Talent Lv. {i + levelBoost}</MenuItem>)}\n        </DropdownButton>\n      </CardContent>\n      <Divider />\n    </>\n  }\n  const talentSheet = characterSheet.getTalentOfKey(talentKey, data.get(input.charEle).value as ElementKey | undefined)\n\n  return <CardLight sx={{ height: \"100%\" }}>\n    {header}\n    <CardContent>\n      <ConditionalWrapper condition={!!onClickTitle} wrapper={actionWrapeprFunc} >\n        <Grid container sx={{ flexWrap: \"nowrap\" }}>\n          <Grid item>\n            <Box component=\"img\" src={talentSheet?.img} sx={{ width: 60, height: \"auto\" }} />\n          </Grid>\n          <Grid item flexGrow={1} sx={{ pl: 1 }}>\n            <Typography variant=\"h6\">{talentSheet?.name}</Typography>\n            <Typography variant=\"subtitle1\">{subtitle}</Typography>\n          </Grid>\n        </Grid>\n      </ConditionalWrapper>\n      {/* Display document sections */}\n      {talentSheet?.sections ? <DocumentDisplay sections={talentSheet.sections} /> : null}\n    </CardContent>\n  </CardLight>\n}\n","import { Button, ButtonGroup, Card, CardContent, Divider, Grid, MenuItem, Skeleton, Tab, Tabs, ToggleButton, Typography } from '@mui/material';\nimport { Suspense, useCallback, useContext, useState } from 'react';\nimport CardDark from '../Components/Card/CardDark';\nimport CardLight from '../Components/Card/CardLight';\nimport { CharacterSelectionModal } from '../Components/Character/CharacterSelectionModal';\nimport ThumbSide from '../Components/Character/ThumbSide';\nimport CloseButton from '../Components/CloseButton';\nimport ColorText from '../Components/ColoredText';\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from '../Components/CustomNumberInput';\nimport DropdownButton from '../Components/DropdownMenu/DropdownButton';\nimport { EnemyExpandCard } from '../Components/EnemyEditor';\nimport FormulaCalcCard from '../Components/FormulaCalcCard';\nimport { DamageOptionsCard } from '../Components/HitModeEditor';\nimport SolidToggleButtonGroup from '../Components/SolidToggleButtonGroup';\nimport { sgt } from '../Data/Characters/SheetUtil';\nimport { ambiguousLevel, ascensionMaxLevel, milestoneLevels } from '../Data/LevelData';\nimport { DataContext, dataContextObj, TeamData } from '../DataContext';\nimport useCharacterReducer from '../ReactHooks/useCharacterReducer';\nimport useCharSelectionCallback from '../ReactHooks/useCharSelectionCallback';\nimport useTeamData from '../ReactHooks/useTeamData';\nimport { CharacterKey } from '../Types/consts';\nimport { clamp } from '../Util/Util';\nimport CharacterArtifactPane from './CharacterDisplay/CharacterArtifactPane';\nimport CharacterOverviewPane from './CharacterDisplay/CharacterOverviewPane';\nimport CharacterTalentPane from './CharacterDisplay/CharacterTalentPane';\nimport CharacterTeamBuffsPane from './CharacterDisplay/CharacterTeamBuffsPane';\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  value: string;\n  current: string | boolean;\n}\n\nfunction TabPanel({ children, current, value, ...other }: TabPanelProps) {\n  if (value !== current) return null\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" width=\"100%\" height={1000} />}>\n    <div\n      role=\"tabpanel\"\n      hidden={value !== current}\n      id={`simple-tabpanel-${value}`}\n      aria-labelledby={`simple-tab-${value}`}\n      {...other}\n    >\n      {children}\n    </div>\n  </Suspense>\n}\n\ntype CharacterDisplayCardProps = {\n  characterKey: CharacterKey,\n  footer?: JSX.Element\n  newteamData?: TeamData,\n  mainStatAssumptionLevel?: number,\n  onClose?: (any) => void,\n  tabName?: string,\n  isFlex?: boolean,\n}\nexport default function CharacterDisplayCard({ characterKey, footer, newteamData, mainStatAssumptionLevel = 0, onClose, tabName, isFlex }: CharacterDisplayCardProps) {\n  const teamData = useTeamData(characterKey, mainStatAssumptionLevel)\n  const { character, characterSheet, target: charUIData } = teamData?.[characterKey] ?? {}\n\n  // set initial state to false, because it fails to check validity of the tab values on 1st load\n  const [tab, settab] = useState<string | boolean>(tabName ? tabName : (newteamData ? \"newartifacts\" : \"character\"))\n  const onTab = useCallback((e, v) => settab(v), [settab])\n\n  const characterDispatch = useCharacterReducer(character?.key ?? \"\")\n  if (!teamData || !character || !characterSheet || !charUIData) return <></>\n  const { compareData } = character\n  // main CharacterDisplayCard\n  const dataContextValue: dataContextObj = {\n    character,\n    characterSheet,\n    mainStatAssumptionLevel,\n    data: (newteamData ? newteamData[characterKey]!.target : charUIData),\n    teamData: (newteamData ? newteamData : teamData),\n    oldData: (compareData && newteamData) ? charUIData : undefined,\n    characterDispatch\n  }\n  return <CardDark >\n    <DataContext.Provider value={dataContextValue}>\n      <CardContent sx={{\n        \"> div:not(:last-child)\": { mb: 1 },\n      }}>\n        <Grid container spacing={1}>\n          <Grid item>\n            <CharSelectDropdown />\n          </Grid>\n          <Grid item>\n            {/* Compare against new build toggle */}\n            {!!newteamData && <SolidToggleButtonGroup exclusive value={compareData} onChange={(e, v) => characterDispatch({ compareData: v })} size=\"small\">\n              <ToggleButton value={false} disabled={!compareData}>\n                <small>Show New artifact Stats</small>\n              </ToggleButton>\n              <ToggleButton value={true} disabled={compareData}>\n                <small>Compare against equipped artifacts</small>\n              </ToggleButton>\n            </SolidToggleButtonGroup>}\n          </Grid>\n          <Grid item flexGrow={1} />\n          {!!mainStatAssumptionLevel && <Grid item><Card sx={{ p: 1, bgcolor: t => t.palette.warning.dark }}><Typography><strong>Assume Main Stats are Level {mainStatAssumptionLevel}</strong></Typography></Card></Grid>}\n          {!!onClose && <Grid item>\n            <CloseButton onClick={onClose} />\n          </Grid>}\n        </Grid>\n        <CardLight>\n          <Tabs\n            onChange={onTab}\n            value={tab}\n            variant=\"fullWidth\"\n          >\n            <Tab value=\"character\" label=\"Character\" />\n            {!!newteamData && <Tab value=\"newartifacts\" label=\"New Artifacts\" />}\n            <Tab value=\"artifacts\" label={newteamData ? \"Current Artifacts\" : \"Artifacts\"} />\n            {!isFlex && <Tab value=\"buffs\" label=\"Team Buffs\" />}\n            <Tab value=\"talent\" label=\"Talents\" />\n          </Tabs>\n        </CardLight>\n        <DamageOptionsCard />\n        <FormulaCalcCard />\n        <EnemyExpandCard />\n\n        {/* Character Panel */}\n        <TabPanel value=\"character\" current={tab}><CharacterOverviewPane /></TabPanel >\n        {/* Artifacts Panel */}\n        <DataContext.Provider value={{ ...dataContextValue, data: charUIData, oldData: undefined }}>\n          <TabPanel value=\"artifacts\" current={tab} ><CharacterArtifactPane /></TabPanel >\n        </DataContext.Provider>\n        {/* new build panel */}\n        <TabPanel value=\"newartifacts\" current={tab} ><CharacterArtifactPane newBuild /></TabPanel >\n        {/* Buffs panel */}\n        <TabPanel value=\"buffs\" current={tab}><CharacterTeamBuffsPane /></TabPanel >\n        {/* talent panel */}\n        <TabPanel value=\"talent\" current={tab}>\n          <CharacterTalentPane />\n        </TabPanel >\n      </CardContent>\n      {!!footer && <Divider />}\n      {footer && <CardContent >\n        {footer}\n      </CardContent>}\n    </DataContext.Provider>\n  </CardDark>\n}\n\n\nfunction CharSelectDropdown() {\n  const { character, characterSheet, characterDispatch } = useContext(DataContext)\n  const [showModal, setshowModal] = useState(false)\n  const setCharacter = useCharSelectionCallback()\n  const setLevel = useCallback((level) => {\n    level = clamp(level, 1, 90)\n    const ascension = ascensionMaxLevel.findIndex(ascenML => level <= ascenML)\n    characterDispatch({ level, ascension })\n  }, [characterDispatch])\n  const setAscension = useCallback(() => {\n    if (!character) return\n    const { level = 1, ascension = 0 } = character\n    const lowerAscension = ascensionMaxLevel.findIndex(ascenML => level !== 90 && level === ascenML)\n    if (ascension === lowerAscension) characterDispatch({ ascension: ascension + 1 })\n    else characterDispatch({ ascension: lowerAscension })\n  }, [characterDispatch, character])\n  const { elementKey = \"anemo\", level = 1, ascension = 0 } = character\n  return <>\n    <CharacterSelectionModal show={showModal} onHide={() => setshowModal(false)} onSelect={setCharacter} />\n    <Grid container spacing={1}>\n      <Grid item>\n        <Button onClick={() => setshowModal(true)} startIcon={<ThumbSide src={characterSheet?.thumbImgSide} />} >{characterSheet?.name ?? \"Select a Character\"}</Button>\n      </Grid>\n      <Grid item>\n        <ButtonGroup sx={{ bgcolor: t => t.palette.contentDark.main }} >\n          {characterSheet?.sheet && \"talents\" in characterSheet?.sheet && <DropdownButton title={<strong><ColorText color={elementKey}>{sgt(`element.${elementKey}`)}</ColorText></strong>}>\n            {Object.keys(characterSheet.sheet.talents).map(eleKey =>\n              <MenuItem key={eleKey} selected={elementKey === eleKey} disabled={elementKey === eleKey} onClick={() => characterDispatch({ elementKey: eleKey })}>\n                <strong><ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText></strong></MenuItem>)}\n          </DropdownButton>}\n          <CustomNumberInputButtonGroupWrapper >\n            <CustomNumberInput onChange={setLevel} value={level}\n              startAdornment=\"Lvl. \"\n              inputProps={{ min: 1, max: 90, sx: { textAlign: \"center\" } }}\n              sx={{ width: \"100%\", height: \"100%\", pl: 2 }}\n              disabled={!characterSheet} />\n          </CustomNumberInputButtonGroupWrapper>\n          <Button sx={{ pl: 1 }} disabled={!ambiguousLevel(level) || !characterSheet} onClick={setAscension}><strong>/ {ascensionMaxLevel[ascension]}</strong></Button>\n          <DropdownButton title={\"Select Level\"} disabled={!characterSheet}>\n            {milestoneLevels.map(([lv, as]) => {\n              const sameLevel = lv === ascensionMaxLevel[as]\n              const lvlstr = sameLevel ? `Lv. ${lv}` : `Lv. ${lv}/${ascensionMaxLevel[as]}`\n              const selected = lv === level && as === ascension\n              return <MenuItem key={`${lv}/${as}`} selected={selected} disabled={selected} onClick={() => characterDispatch({ level: lv, ascension: as })}>{lvlstr}</MenuItem>\n            })}\n          </DropdownButton>\n        </ButtonGroup>\n      </Grid>\n    </Grid>\n  </>\n}\n","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCollapseUtilityClass(slot) {\n  return generateUtilityClass('MuiCollapse', slot);\n}\nconst collapseClasses = generateUtilityClasses('MuiCollapse', ['root', 'horizontal', 'vertical', 'entered', 'hidden', 'wrapper', 'wrapperInner']);\nexport default collapseClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"addEndListener\", \"children\", \"className\", \"collapsedSize\", \"component\", \"easing\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"orientation\", \"style\", \"timeout\", \"TransitionComponent\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { elementTypeAcceptingRef } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { duration } from '../styles/createTransitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nimport { useForkRef } from '../utils';\nimport { getCollapseUtilityClass } from './collapseClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    orientation,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', `${orientation}`],\n    entered: ['entered'],\n    hidden: ['hidden'],\n    wrapper: ['wrapper', `${orientation}`],\n    wrapperInner: ['wrapperInner', `${orientation}`]\n  };\n  return composeClasses(slots, getCollapseUtilityClass, classes);\n};\n\nconst CollapseRoot = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.state === 'entered' && styles.entered, ownerState.state === 'exited' && !ownerState.in && ownerState.collapsedSize === '0px' && styles.hidden];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  height: 0,\n  overflow: 'hidden',\n  transition: theme.transitions.create('height')\n}, ownerState.orientation === 'horizontal' && {\n  height: 'auto',\n  width: 0,\n  transition: theme.transitions.create('width')\n}, ownerState.state === 'entered' && _extends({\n  height: 'auto',\n  overflow: 'visible'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto'\n}), ownerState.state === 'exited' && !ownerState.in && ownerState.collapsedSize === '0px' && {\n  visibility: 'hidden'\n}));\nconst CollapseWrapper = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'Wrapper',\n  overridesResolver: (props, styles) => styles.wrapper\n})(({\n  ownerState\n}) => _extends({\n  // Hack to get children with a negative margin to not falsify the height computation.\n  display: 'flex',\n  width: '100%'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto',\n  height: '100%'\n}));\nconst CollapseWrapperInner = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'WrapperInner',\n  overridesResolver: (props, styles) => styles.wrapperInner\n})(({\n  ownerState\n}) => _extends({\n  width: '100%'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto',\n  height: '100%'\n}));\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/components/steppers/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nconst Collapse = /*#__PURE__*/React.forwardRef(function Collapse(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCollapse'\n  });\n\n  const {\n    addEndListener,\n    children,\n    className,\n    collapsedSize: collapsedSizeProp = '0px',\n    component,\n    easing,\n    in: inProp,\n    onEnter,\n    onEntered,\n    onEntering,\n    onExit,\n    onExited,\n    onExiting,\n    orientation = 'vertical',\n    style,\n    timeout = duration.standard,\n    // eslint-disable-next-line react/prop-types\n    TransitionComponent = Transition\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    orientation,\n    collapsedSize: collapsedSizeProp\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const theme = useTheme();\n  const timer = React.useRef();\n  const wrapperRef = React.useRef(null);\n  const autoTransitionDuration = React.useRef();\n  const collapsedSize = typeof collapsedSizeProp === 'number' ? `${collapsedSizeProp}px` : collapsedSizeProp;\n  const isHorizontal = orientation === 'horizontal';\n  const size = isHorizontal ? 'width' : 'height';\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timer.current);\n    };\n  }, []);\n  const nodeRef = React.useRef(null);\n  const handleRef = useForkRef(ref, nodeRef);\n\n  const normalizedTransitionCallback = callback => maybeIsAppearing => {\n    if (callback) {\n      const node = nodeRef.current; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n      if (maybeIsAppearing === undefined) {\n        callback(node);\n      } else {\n        callback(node, maybeIsAppearing);\n      }\n    }\n  };\n\n  const getWrapperSize = () => wrapperRef.current ? wrapperRef.current[isHorizontal ? 'clientWidth' : 'clientHeight'] : 0;\n\n  const handleEnter = normalizedTransitionCallback((node, isAppearing) => {\n    if (wrapperRef.current && isHorizontal) {\n      // Set absolute position to get the size of collapsed content\n      wrapperRef.current.style.position = 'absolute';\n    }\n\n    node.style[size] = collapsedSize;\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  const handleEntering = normalizedTransitionCallback((node, isAppearing) => {\n    const wrapperSize = getWrapperSize();\n\n    if (wrapperRef.current && isHorizontal) {\n      // After the size is read reset the position back to default\n      wrapperRef.current.style.position = '';\n    }\n\n    const {\n      duration: transitionDuration,\n      easing: transitionTimingFunction\n    } = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'enter'\n    });\n\n    if (timeout === 'auto') {\n      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);\n      node.style.transitionDuration = `${duration2}ms`;\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n    }\n\n    node.style[size] = `${wrapperSize}px`;\n    node.style.transitionTimingFunction = transitionTimingFunction;\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  const handleEntered = normalizedTransitionCallback((node, isAppearing) => {\n    node.style[size] = 'auto';\n\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  });\n  const handleExit = normalizedTransitionCallback(node => {\n    node.style[size] = `${getWrapperSize()}px`;\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  const handleExited = normalizedTransitionCallback(onExited);\n  const handleExiting = normalizedTransitionCallback(node => {\n    const wrapperSize = getWrapperSize();\n    const {\n      duration: transitionDuration,\n      easing: transitionTimingFunction\n    } = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'exit'\n    });\n\n    if (timeout === 'auto') {\n      // TODO: rename getAutoHeightDuration to something more generic (width support)\n      // Actually it just calculates animation duration based on size\n      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);\n      node.style.transitionDuration = `${duration2}ms`;\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n    }\n\n    node.style[size] = collapsedSize;\n    node.style.transitionTimingFunction = transitionTimingFunction;\n\n    if (onExiting) {\n      onExiting(node);\n    }\n  });\n\n  const handleAddEndListener = next => {\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n\n    if (addEndListener) {\n      // Old call signature before `react-transition-group` implemented `nodeRef`\n      addEndListener(nodeRef.current, next);\n    }\n  };\n\n  return /*#__PURE__*/_jsx(TransitionComponent, _extends({\n    in: inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: handleAddEndListener,\n    nodeRef: nodeRef,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other, {\n    children: (state, childProps) => /*#__PURE__*/_jsx(CollapseRoot, _extends({\n      as: component,\n      className: clsx(classes.root, className, {\n        'entered': classes.entered,\n        'exited': !inProp && collapsedSize === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        [isHorizontal ? 'minWidth' : 'minHeight']: collapsedSize\n      }, style),\n      ownerState: _extends({}, ownerState, {\n        state\n      }),\n      ref: handleRef\n    }, childProps, {\n      children: /*#__PURE__*/_jsx(CollapseWrapper, {\n        ownerState: _extends({}, ownerState, {\n          state\n        }),\n        className: classes.wrapper,\n        ref: wrapperRef,\n        children: /*#__PURE__*/_jsx(CollapseWrapperInner, {\n          ownerState: _extends({}, ownerState, {\n            state\n          }),\n          className: classes.wrapperInner,\n          children: children\n        })\n      })\n    }))\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Collapse.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning DOM\n   * node and a done callback. Allows for more fine grained transition end\n   * logic. Note: Timeouts are still used as a fallback if provided.\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * The content node to be collapsed.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The width (horizontal) or height (vertical) of the container when collapsed.\n   * @default '0px'\n   */\n  collapsedSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: elementTypeAcceptingRef,\n\n  /**\n   * The transition timing function.\n   * You may specify a single easing or a object containing enter and exit values.\n   */\n  easing: PropTypes.oneOfType([PropTypes.shape({\n    enter: PropTypes.string,\n    exit: PropTypes.string\n  }), PropTypes.string]),\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * The transition orientation.\n   * @default 'vertical'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   * @default duration.standard\n   */\n  timeout: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nCollapse.muiSupportAuto = true;\nexport default Collapse;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"\n}), 'Lock');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z\"\n}), 'LockOpen');","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getListItemUtilityClass(slot) {\n  return generateUtilityClass('MuiListItem', slot);\n}\nconst listItemClasses = generateUtilityClasses('MuiListItem', ['root', 'container', 'focusVisible', 'dense', 'alignItemsFlexStart', 'disabled', 'divider', 'gutters', 'padding', 'button', 'secondaryAction', 'selected']);\nexport default listItemClasses;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getListItemSecondaryActionClassesUtilityClass(slot) {\n  return generateUtilityClass('MuiListItemSecondaryAction', slot);\n}\nconst listItemSecondaryActionClasses = generateUtilityClasses('MuiListItemSecondaryAction', ['root', 'disableGutters']);\nexport default listItemSecondaryActionClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ListContext from '../List/ListContext';\nimport { getListItemSecondaryActionClassesUtilityClass } from './listItemSecondaryActionClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    disableGutters,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', disableGutters && 'disableGutters']\n  };\n  return composeClasses(slots, getListItemSecondaryActionClassesUtilityClass, classes);\n};\n\nconst ListItemSecondaryActionRoot = styled('div', {\n  name: 'MuiListItemSecondaryAction',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.disableGutters && styles.disableGutters];\n  }\n})(({\n  ownerState\n}) => _extends({\n  position: 'absolute',\n  right: 16,\n  top: '50%',\n  transform: 'translateY(-50%)'\n}, ownerState.disableGutters && {\n  right: 0\n}));\n/**\n * Must be used as the last child of ListItem to function properly.\n */\n\nconst ListItemSecondaryAction = /*#__PURE__*/React.forwardRef(function ListItemSecondaryAction(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItemSecondaryAction'\n  });\n\n  const {\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const context = React.useContext(ListContext);\n\n  const ownerState = _extends({}, props, {\n    disableGutters: context.disableGutters\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(ListItemSecondaryActionRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemSecondaryAction.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component, normally an `IconButton` or selection control.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nListItemSecondaryAction.muiName = 'ListItemSecondaryAction';\nexport default ListItemSecondaryAction;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"],\n      _excluded2 = [\"alignItems\", \"autoFocus\", \"button\", \"children\", \"className\", \"component\", \"components\", \"componentsProps\", \"ContainerComponent\", \"ContainerProps\", \"dense\", \"disabled\", \"disableGutters\", \"disablePadding\", \"divider\", \"focusVisibleClassName\", \"secondaryAction\", \"selected\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses, isHostComponent } from '@mui/base';\nimport { chainPropTypes, elementTypeAcceptingRef } from '@mui/utils';\nimport { alpha } from '@mui/system';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ButtonBase from '../ButtonBase';\nimport isMuiElement from '../utils/isMuiElement';\nimport useEnhancedEffect from '../utils/useEnhancedEffect';\nimport useForkRef from '../utils/useForkRef';\nimport ListContext from '../List/ListContext';\nimport listItemClasses, { getListItemUtilityClass } from './listItemClasses';\nimport { listItemButtonClasses } from '../ListItemButton';\nimport ListItemSecondaryAction from '../ListItemSecondaryAction';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, ownerState.dense && styles.dense, ownerState.alignItems === 'flex-start' && styles.alignItemsFlexStart, ownerState.divider && styles.divider, !ownerState.disableGutters && styles.gutters, !ownerState.disablePadding && styles.padding, ownerState.button && styles.button, ownerState.hasSecondaryAction && styles.secondaryAction];\n};\n\nconst useUtilityClasses = ownerState => {\n  const {\n    alignItems,\n    button,\n    classes,\n    dense,\n    disabled,\n    disableGutters,\n    disablePadding,\n    divider,\n    hasSecondaryAction,\n    selected\n  } = ownerState;\n  const slots = {\n    root: ['root', dense && 'dense', !disableGutters && 'gutters', !disablePadding && 'padding', divider && 'divider', disabled && 'disabled', button && 'button', alignItems === 'flex-start' && 'alignItemsFlexStart', hasSecondaryAction && 'secondaryAction', selected && 'selected'],\n    container: ['container']\n  };\n  return composeClasses(slots, getListItemUtilityClass, classes);\n};\n\nexport const ListItemRoot = styled('div', {\n  name: 'MuiListItem',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  justifyContent: 'flex-start',\n  alignItems: 'center',\n  position: 'relative',\n  textDecoration: 'none',\n  width: '100%',\n  boxSizing: 'border-box',\n  textAlign: 'left'\n}, !ownerState.disablePadding && _extends({\n  paddingTop: 8,\n  paddingBottom: 8\n}, ownerState.dense && {\n  paddingTop: 4,\n  paddingBottom: 4\n}, !ownerState.disableGutters && {\n  paddingLeft: 16,\n  paddingRight: 16\n}, !!ownerState.secondaryAction && {\n  // Add some space to avoid collision as `ListItemSecondaryAction`\n  // is absolutely positioned.\n  paddingRight: 48\n}), !!ownerState.secondaryAction && {\n  [`& > .${listItemButtonClasses.root}`]: {\n    paddingRight: 48\n  }\n}, {\n  [`&.${listItemClasses.focusVisible}`]: {\n    backgroundColor: theme.palette.action.focus\n  },\n  [`&.${listItemClasses.selected}`]: {\n    backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity),\n    [`&.${listItemClasses.focusVisible}`]: {\n      backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  },\n  [`&.${listItemClasses.disabled}`]: {\n    opacity: theme.palette.action.disabledOpacity\n  }\n}, ownerState.alignItems === 'flex-start' && {\n  alignItems: 'flex-start'\n}, ownerState.divider && {\n  borderBottom: `1px solid ${theme.palette.divider}`,\n  backgroundClip: 'padding-box'\n}, ownerState.button && {\n  transition: theme.transitions.create('background-color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  '&:hover': {\n    textDecoration: 'none',\n    backgroundColor: theme.palette.action.hover,\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: 'transparent'\n    }\n  },\n  [`&.${listItemClasses.selected}:hover`]: {\n    backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity)\n    }\n  }\n}, ownerState.hasSecondaryAction && {\n  // Add some space to avoid collision as `ListItemSecondaryAction`\n  // is absolutely positioned.\n  paddingRight: 48\n}));\nconst ListItemContainer = styled('li', {\n  name: 'MuiListItem',\n  slot: 'Container',\n  overridesResolver: (props, styles) => styles.container\n})({\n  position: 'relative'\n});\n/**\n * Uses an additional container component if `ListItemSecondaryAction` is the last child.\n */\n\nconst ListItem = /*#__PURE__*/React.forwardRef(function ListItem(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItem'\n  });\n\n  const {\n    alignItems = 'center',\n    autoFocus = false,\n    button = false,\n    children: childrenProp,\n    className,\n    component: componentProp,\n    components = {},\n    componentsProps = {},\n    ContainerComponent = 'li',\n    ContainerProps: {\n      className: ContainerClassName\n    } = {},\n    dense = false,\n    disabled = false,\n    disableGutters = false,\n    disablePadding = false,\n    divider = false,\n    focusVisibleClassName,\n    secondaryAction,\n    selected = false\n  } = props,\n        ContainerProps = _objectWithoutPropertiesLoose(props.ContainerProps, _excluded),\n        other = _objectWithoutPropertiesLoose(props, _excluded2);\n\n  const context = React.useContext(ListContext);\n  const childContext = {\n    dense: dense || context.dense || false,\n    alignItems,\n    disableGutters\n  };\n  const listItemRef = React.useRef(null);\n  useEnhancedEffect(() => {\n    if (autoFocus) {\n      if (listItemRef.current) {\n        listItemRef.current.focus();\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.error('MUI: Unable to set focus to a ListItem whose component has not been rendered.');\n      }\n    }\n  }, [autoFocus]);\n  const children = React.Children.toArray(childrenProp); // v4 implementation, deprecated in v5, will be removed in v6\n\n  const hasSecondaryAction = children.length && isMuiElement(children[children.length - 1], ['ListItemSecondaryAction']);\n\n  const ownerState = _extends({}, props, {\n    alignItems,\n    autoFocus,\n    button,\n    dense: childContext.dense,\n    disabled,\n    disableGutters,\n    disablePadding,\n    divider,\n    hasSecondaryAction,\n    selected\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const handleRef = useForkRef(listItemRef, ref);\n  const Root = components.Root || ListItemRoot;\n  const rootProps = componentsProps.root || {};\n\n  const componentProps = _extends({\n    className: clsx(classes.root, rootProps.className, className),\n    disabled\n  }, other);\n\n  let Component = componentProp || 'li';\n\n  if (button) {\n    componentProps.component = componentProp || 'div';\n    componentProps.focusVisibleClassName = clsx(listItemClasses.focusVisible, focusVisibleClassName);\n    Component = ButtonBase;\n  } // v4 implementation, deprecated in v5, will be removed in v6\n\n\n  if (hasSecondaryAction) {\n    // Use div by default.\n    Component = !componentProps.component && !componentProp ? 'div' : Component; // Avoid nesting of li > li.\n\n    if (ContainerComponent === 'li') {\n      if (Component === 'li') {\n        Component = 'div';\n      } else if (componentProps.component === 'li') {\n        componentProps.component = 'div';\n      }\n    }\n\n    return /*#__PURE__*/_jsx(ListContext.Provider, {\n      value: childContext,\n      children: /*#__PURE__*/_jsxs(ListItemContainer, _extends({\n        as: ContainerComponent,\n        className: clsx(classes.container, ContainerClassName),\n        ref: handleRef,\n        ownerState: ownerState\n      }, ContainerProps, {\n        children: [/*#__PURE__*/_jsx(Root, _extends({}, rootProps, !isHostComponent(Root) && {\n          as: Component,\n          ownerState: _extends({}, ownerState, rootProps.ownerState)\n        }, componentProps, {\n          children: children\n        })), children.pop()]\n      }))\n    });\n  }\n\n  return /*#__PURE__*/_jsx(ListContext.Provider, {\n    value: childContext,\n    children: /*#__PURE__*/_jsxs(Root, _extends({}, rootProps, {\n      as: Component,\n      ref: handleRef,\n      ownerState: ownerState\n    }, !isHostComponent(Root) && {\n      ownerState: _extends({}, ownerState, rootProps.ownerState)\n    }, componentProps, {\n      children: [children, secondaryAction && /*#__PURE__*/_jsx(ListItemSecondaryAction, {\n        children: secondaryAction\n      })]\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItem.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Defines the `align-items` style property.\n   * @default 'center'\n   */\n  alignItems: PropTypes.oneOf(['center', 'flex-start']),\n\n  /**\n   * If `true`, the list item is focused during the first mount.\n   * Focus will also be triggered if the value changes from false to true.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the list item is a button (using `ButtonBase`). Props intended\n   * for `ButtonBase` can then be applied to `ListItem`.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  button: PropTypes.bool,\n\n  /**\n   * The content of the component if a `ListItemSecondaryAction` is used it must\n   * be the last child.\n   */\n  children: chainPropTypes(PropTypes.node, props => {\n    const children = React.Children.toArray(props.children); // React.Children.toArray(props.children).findLastIndex(isListItemSecondaryAction)\n\n    let secondaryActionIndex = -1;\n\n    for (let i = children.length - 1; i >= 0; i -= 1) {\n      const child = children[i];\n\n      if (isMuiElement(child, ['ListItemSecondaryAction'])) {\n        secondaryActionIndex = i;\n        break;\n      }\n    } //  is ListItemSecondaryAction the last child of ListItem\n\n\n    if (secondaryActionIndex !== -1 && secondaryActionIndex !== children.length - 1) {\n      return new Error('MUI: You used an element after ListItemSecondaryAction. ' + 'For ListItem to detect that it has a secondary action ' + 'you must pass it as the last child to ListItem.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The components used for each slot inside the InputBase.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Root: PropTypes.elementType\n  }),\n\n  /**\n   * The props used for each slot inside the Input.\n   * @default {}\n   */\n  componentsProps: PropTypes.shape({\n    root: PropTypes.object\n  }),\n\n  /**\n   * The container component used when a `ListItemSecondaryAction` is the last child.\n   * @default 'li'\n   * @deprecated\n   */\n  ContainerComponent: elementTypeAcceptingRef,\n\n  /**\n   * Props applied to the container component if used.\n   * @default {}\n   * @deprecated\n   */\n  ContainerProps: PropTypes.object,\n\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input is used.\n   * The prop defaults to the value inherited from the parent List component.\n   * @default false\n   */\n  dense: PropTypes.bool,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, all padding is removed.\n   * @default false\n   */\n  disablePadding: PropTypes.bool,\n\n  /**\n   * If `true`, a 1px light border is added to the bottom of the list item.\n   * @default false\n   */\n  divider: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The element to display at the end of ListItem.\n   */\n  secondaryAction: PropTypes.node,\n\n  /**\n   * Use to apply selected styling.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItem;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getChipUtilityClass(slot) {\n  return generateUtilityClass('MuiChip', slot);\n}\nconst chipClasses = generateUtilityClasses('MuiChip', ['root', 'sizeSmall', 'sizeMedium', 'colorPrimary', 'colorSecondary', 'disabled', 'clickable', 'clickableColorPrimary', 'clickableColorSecondary', 'deletable', 'deletableColorPrimary', 'deletableColorSecondary', 'outlined', 'filled', 'outlinedPrimary', 'outlinedSecondary', 'avatar', 'avatarSmall', 'avatarMedium', 'avatarColorPrimary', 'avatarColorSecondary', 'icon', 'iconSmall', 'iconMedium', 'iconColorPrimary', 'iconColorSecondary', 'label', 'labelSmall', 'labelMedium', 'deleteIcon', 'deleteIconSmall', 'deleteIconMedium', 'deleteIconColorPrimary', 'deleteIconColorSecondary', 'deleteIconOutlinedColorPrimary', 'deleteIconOutlinedColorSecondary', 'focusVisible']);\nexport default chipClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"avatar\", \"className\", \"clickable\", \"color\", \"component\", \"deleteIcon\", \"disabled\", \"icon\", \"label\", \"onClick\", \"onDelete\", \"onKeyDown\", \"onKeyUp\", \"size\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { alpha } from '@mui/system';\nimport CancelIcon from '../internal/svg-icons/Cancel';\nimport useForkRef from '../utils/useForkRef';\nimport unsupportedProp from '../utils/unsupportedProp';\nimport capitalize from '../utils/capitalize';\nimport ButtonBase from '../ButtonBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport chipClasses, { getChipUtilityClass } from './chipClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disabled,\n    size,\n    color,\n    onDelete,\n    clickable,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, disabled && 'disabled', `size${capitalize(size)}`, `color${capitalize(color)}`, clickable && 'clickable', clickable && `clickableColor${capitalize(color)}`, onDelete && 'deletable', onDelete && `deletableColor${capitalize(color)}`, `${variant}${capitalize(color)}`],\n    label: ['label', `label${capitalize(size)}`],\n    avatar: ['avatar', `avatar${capitalize(size)}`, `avatarColor${capitalize(color)}`],\n    icon: ['icon', `icon${capitalize(size)}`, `iconColor${capitalize(color)}`],\n    deleteIcon: ['deleteIcon', `deleteIcon${capitalize(size)}`, `deleteIconColor${capitalize(color)}`, `deleteIconOutlinedColor${capitalize(color)}`]\n  };\n  return composeClasses(slots, getChipUtilityClass, classes);\n};\n\nconst ChipRoot = styled('div', {\n  name: 'MuiChip',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      color,\n      clickable,\n      onDelete,\n      size,\n      variant\n    } = ownerState;\n    return [{\n      [`& .${chipClasses.avatar}`]: styles.avatar\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatar${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatarColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles.icon\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`icon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`iconColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles.deleteIcon\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIcon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIconColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIconOutlinedColor${capitalize(color)}`]\n    }, styles.root, styles[`size${capitalize(size)}`], styles[`color${capitalize(color)}`], clickable && styles.clickable, clickable && color !== 'default' && styles[`clickableColor${capitalize(color)})`], onDelete && styles.deletable, onDelete && color !== 'default' && styles[`deletableColor${capitalize(color)}`], styles[variant], variant === 'outlined' && styles[`outlined${capitalize(color)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const deleteIconColor = alpha(theme.palette.text.primary, 0.26);\n  return _extends({\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.typography.pxToRem(13),\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 32,\n    color: theme.palette.text.primary,\n    backgroundColor: theme.palette.action.selected,\n    borderRadius: 32 / 2,\n    whiteSpace: 'nowrap',\n    transition: theme.transitions.create(['background-color', 'box-shadow']),\n    // label will inherit this from root, then `clickable` class overrides this for both\n    cursor: 'default',\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    textDecoration: 'none',\n    border: 0,\n    // Remove `button` border\n    padding: 0,\n    // Remove `button` padding\n    verticalAlign: 'middle',\n    boxSizing: 'border-box',\n    [`&.${chipClasses.disabled}`]: {\n      opacity: theme.palette.action.disabledOpacity,\n      pointerEvents: 'none'\n    },\n    [`& .${chipClasses.avatar}`]: {\n      marginLeft: 5,\n      marginRight: -6,\n      width: 24,\n      height: 24,\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      fontSize: theme.typography.pxToRem(12)\n    },\n    [`& .${chipClasses.avatarColorPrimary}`]: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.dark\n    },\n    [`& .${chipClasses.avatarColorSecondary}`]: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.dark\n    },\n    [`& .${chipClasses.avatarSmall}`]: {\n      marginLeft: 4,\n      marginRight: -4,\n      width: 18,\n      height: 18,\n      fontSize: theme.typography.pxToRem(10)\n    },\n    [`& .${chipClasses.icon}`]: _extends({\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      marginLeft: 5,\n      marginRight: -6\n    }, ownerState.size === 'small' && {\n      fontSize: 18,\n      marginLeft: 4,\n      marginRight: -4\n    }, ownerState.color !== 'default' && {\n      color: 'inherit'\n    }),\n    [`& .${chipClasses.deleteIcon}`]: _extends({\n      WebkitTapHighlightColor: 'transparent',\n      color: deleteIconColor,\n      fontSize: 22,\n      cursor: 'pointer',\n      margin: '0 5px 0 -6px',\n      '&:hover': {\n        color: alpha(deleteIconColor, 0.4)\n      }\n    }, ownerState.size === 'small' && {\n      fontSize: 16,\n      marginRight: 4,\n      marginLeft: -4\n    }, ownerState.color !== 'default' && {\n      color: alpha(theme.palette[ownerState.color].contrastText, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette[ownerState.color].contrastText\n      }\n    })\n  }, ownerState.size === 'small' && {\n    height: 24\n  }, ownerState.color !== 'default' && {\n    backgroundColor: theme.palette[ownerState.color].main,\n    color: theme.palette[ownerState.color].contrastText\n  }, ownerState.onDelete && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  }, ownerState.onDelete && ownerState.color !== 'default' && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: theme.palette[ownerState.color].dark\n    }\n  });\n}, ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.clickable && {\n  userSelect: 'none',\n  WebkitTapHighlightColor: 'transparent',\n  cursor: 'pointer',\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n  },\n  '&:active': {\n    boxShadow: theme.shadows[1]\n  }\n}, ownerState.clickable && ownerState.color !== 'default' && {\n  [`&:hover, &.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.palette[ownerState.color].dark\n  }\n}), ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.variant === 'outlined' && {\n  backgroundColor: 'transparent',\n  border: `1px solid ${theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[700]}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: theme.palette.action.hover\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.palette.action.focus\n  },\n  [`& .${chipClasses.avatar}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.avatarSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.icon}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.iconSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    marginRight: 5\n  },\n  [`& .${chipClasses.deleteIconSmall}`]: {\n    marginRight: 3\n  }\n}, ownerState.variant === 'outlined' && ownerState.color !== 'default' && {\n  color: theme.palette[ownerState.color].main,\n  border: `1px solid ${alpha(theme.palette[ownerState.color].main, 0.7)}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.focusOpacity)\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    color: alpha(theme.palette[ownerState.color].main, 0.7),\n    '&:hover, &:active': {\n      color: theme.palette[ownerState.color].main\n    }\n  }\n}));\nconst ChipLabel = styled('span', {\n  name: 'MuiChip',\n  slot: 'Label',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      size\n    } = ownerState;\n    return [styles.label, styles[`label${capitalize(size)}`]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  paddingLeft: 12,\n  paddingRight: 12,\n  whiteSpace: 'nowrap'\n}, ownerState.size === 'small' && {\n  paddingLeft: 8,\n  paddingRight: 8\n}));\n\nfunction isDeleteKeyboardEvent(keyboardEvent) {\n  return keyboardEvent.key === 'Backspace' || keyboardEvent.key === 'Delete';\n}\n/**\n * Chips represent complex entities in small blocks, such as a contact.\n */\n\n\nconst Chip = /*#__PURE__*/React.forwardRef(function Chip(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiChip'\n  });\n\n  const {\n    avatar: avatarProp,\n    className,\n    clickable: clickableProp,\n    color = 'default',\n    component: ComponentProp,\n    deleteIcon: deleteIconProp,\n    disabled = false,\n    icon: iconProp,\n    label,\n    onClick,\n    onDelete,\n    onKeyDown,\n    onKeyUp,\n    size = 'medium',\n    variant = 'filled'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const chipRef = React.useRef(null);\n  const handleRef = useForkRef(chipRef, ref);\n\n  const handleDeleteIconClick = event => {\n    // Stop the event from bubbling up to the `Chip`\n    event.stopPropagation();\n\n    if (onDelete) {\n      onDelete(event);\n    }\n  };\n\n  const handleKeyDown = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target && isDeleteKeyboardEvent(event)) {\n      // Will be handled in keyUp, otherwise some browsers\n      // might init navigation\n      event.preventDefault();\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  const handleKeyUp = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target) {\n      if (onDelete && isDeleteKeyboardEvent(event)) {\n        onDelete(event);\n      } else if (event.key === 'Escape' && chipRef.current) {\n        chipRef.current.blur();\n      }\n    }\n\n    if (onKeyUp) {\n      onKeyUp(event);\n    }\n  };\n\n  const clickable = clickableProp !== false && onClick ? true : clickableProp;\n  const small = size === 'small';\n  const component = clickable || onDelete ? ButtonBase : ComponentProp || 'div';\n\n  const ownerState = _extends({}, props, {\n    component,\n    disabled,\n    size,\n    color,\n    onDelete: !!onDelete,\n    clickable,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const moreProps = component === ButtonBase ? _extends({\n    component: ComponentProp || 'div',\n    focusVisibleClassName: classes.focusVisible\n  }, onDelete && {\n    disableRipple: true\n  }) : {};\n  let deleteIcon = null;\n\n  if (onDelete) {\n    const customClasses = clsx(color !== 'default' && (variant === 'outlined' ? classes[`deleteIconOutlinedColor${capitalize(color)}`] : classes[`deleteIconColor${capitalize(color)}`]), small && classes.deleteIconSmall);\n    deleteIcon = deleteIconProp && /*#__PURE__*/React.isValidElement(deleteIconProp) ? /*#__PURE__*/React.cloneElement(deleteIconProp, {\n      className: clsx(deleteIconProp.props.className, classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    }) : /*#__PURE__*/_jsx(CancelIcon, {\n      className: clsx(classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    });\n  }\n\n  let avatar = null;\n\n  if (avatarProp && /*#__PURE__*/React.isValidElement(avatarProp)) {\n    avatar = /*#__PURE__*/React.cloneElement(avatarProp, {\n      className: clsx(classes.avatar, avatarProp.props.className)\n    });\n  }\n\n  let icon = null;\n\n  if (iconProp && /*#__PURE__*/React.isValidElement(iconProp)) {\n    icon = /*#__PURE__*/React.cloneElement(iconProp, {\n      className: clsx(classes.icon, iconProp.props.className)\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (avatar && icon) {\n      console.error('MUI: The Chip component can not handle the avatar ' + 'and the icon prop at the same time. Pick one.');\n    }\n  }\n\n  return /*#__PURE__*/_jsxs(ChipRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    disabled: clickable && disabled ? true : undefined,\n    onClick: onClick,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    ref: handleRef,\n    ownerState: ownerState\n  }, moreProps, other, {\n    children: [avatar || icon, /*#__PURE__*/_jsx(ChipLabel, {\n      className: clsx(classes.label),\n      ownerState: ownerState,\n      children: label\n    }), deleteIcon]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Chip.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The Avatar element to display.\n   */\n  avatar: PropTypes.element,\n\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the chip will appear clickable, and will raise when pressed,\n   * even if the onClick prop is not defined.\n   * If `false`, the chip will not appear clickable, even if onClick prop is defined.\n   * This can be used, for example,\n   * along with the component prop to indicate an anchor Chip is clickable.\n   * Note: this controls the UI and does not affect the onClick event.\n   */\n  clickable: PropTypes.bool,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'default'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Override the default delete icon element. Shown only if `onDelete` is set.\n   */\n  deleteIcon: PropTypes.element,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Icon element.\n   */\n  icon: PropTypes.element,\n\n  /**\n   * The content of the component.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Callback fired when the delete icon is clicked.\n   * If set, the delete icon will be shown.\n   */\n  onDelete: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyUp: PropTypes.func,\n\n  /**\n   * The size of the component.\n   * @default 'medium'\n   */\n  size: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.string]),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The variant to use.\n   * @default 'filled'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string])\n} : void 0;\nexport default Chip;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardMediaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardMedia', slot);\n}\nconst cardMediaClasses = generateUtilityClasses('MuiCardMedia', ['root', 'media', 'img']);\nexport default cardMediaClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"component\", \"image\", \"src\", \"style\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getCardMediaUtilityClass } from './cardMediaClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    isMediaComponent,\n    isImageComponent\n  } = ownerState;\n  const slots = {\n    root: ['root', isMediaComponent && 'media', isImageComponent && 'img']\n  };\n  return composeClasses(slots, getCardMediaUtilityClass, classes);\n};\n\nconst CardMediaRoot = styled('div', {\n  name: 'MuiCardMedia',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      isMediaComponent,\n      isImageComponent\n    } = ownerState;\n    return [styles.root, isMediaComponent && styles.media, isImageComponent && styles.img];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'block',\n  backgroundSize: 'cover',\n  backgroundRepeat: 'no-repeat',\n  backgroundPosition: 'center'\n}, ownerState.isMediaComponent && {\n  width: '100%'\n}, ownerState.isImageComponent && {\n  //  object-fit is not supported by IE11.\n  objectFit: 'cover'\n}));\nconst MEDIA_COMPONENTS = ['video', 'audio', 'picture', 'iframe', 'img'];\nconst IMAGE_COMPONENTS = ['picture', 'img'];\nconst CardMedia = /*#__PURE__*/React.forwardRef(function CardMedia(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardMedia'\n  });\n\n  const {\n    children,\n    className,\n    component = 'div',\n    image,\n    src,\n    style\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const isMediaComponent = MEDIA_COMPONENTS.indexOf(component) !== -1;\n  const composedStyle = !isMediaComponent && image ? _extends({\n    backgroundImage: `url(\"${image}\")`\n  }, style) : style;\n\n  const ownerState = _extends({}, props, {\n    component,\n    isMediaComponent,\n    isImageComponent: IMAGE_COMPONENTS.indexOf(component) !== -1\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardMediaRoot, _extends({\n    className: clsx(classes.root, className),\n    as: component,\n    role: !isMediaComponent && image ? 'img' : undefined,\n    ref: ref,\n    style: composedStyle,\n    ownerState: ownerState,\n    src: isMediaComponent ? image || src : undefined\n  }, other, {\n    children: children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardMedia.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: chainPropTypes(PropTypes.node, props => {\n    if (!props.children && !props.image && !props.src && !props.component) {\n      return new Error('MUI: Either `children`, `image`, `src` or `component` prop must be specified.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Image to be displayed as a background image.\n   * Either `image` or `src` prop must be specified.\n   * Note that caller must specify height otherwise the image will not be visible.\n   */\n  image: PropTypes.string,\n\n  /**\n   * An alias for `image` property.\n   * Available only with media components.\n   * Media components: `video`, `audio`, `picture`, `iframe`, `img`.\n   */\n  src: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardMedia;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardActionAreaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActionArea', slot);\n}\nconst cardActionAreaClasses = generateUtilityClasses('MuiCardActionArea', ['root', 'focusVisible', 'focusHighlight']);\nexport default cardActionAreaClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"focusVisibleClassName\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport cardActionAreaClasses, { getCardActionAreaUtilityClass } from './cardActionAreaClasses';\nimport ButtonBase from '../ButtonBase';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    focusHighlight: ['focusHighlight']\n  };\n  return composeClasses(slots, getCardActionAreaUtilityClass, classes);\n};\n\nconst CardActionAreaRoot = styled(ButtonBase, {\n  name: 'MuiCardActionArea',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  display: 'block',\n  textAlign: 'inherit',\n  width: '100%',\n  [`&:hover .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.hoverOpacity,\n    '@media (hover: none)': {\n      opacity: 0\n    }\n  },\n  [`&.${cardActionAreaClasses.focusVisible} .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.focusOpacity\n  }\n}));\nconst CardActionAreaFocusHighlight = styled('span', {\n  name: 'MuiCardActionArea',\n  slot: 'FocusHighlight',\n  overridesResolver: (props, styles) => styles.focusHighlight\n})(({\n  theme\n}) => ({\n  overflow: 'hidden',\n  pointerEvents: 'none',\n  position: 'absolute',\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  borderRadius: 'inherit',\n  opacity: 0,\n  backgroundColor: 'currentcolor',\n  transition: theme.transitions.create('opacity', {\n    duration: theme.transitions.duration.short\n  })\n}));\nconst CardActionArea = /*#__PURE__*/React.forwardRef(function CardActionArea(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardActionArea'\n  });\n\n  const {\n    children,\n    className,\n    focusVisibleClassName\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(CardActionAreaRoot, _extends({\n    className: clsx(classes.root, className),\n    focusVisibleClassName: clsx(focusVisibleClassName, classes.focusVisible),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [children, /*#__PURE__*/_jsx(CardActionAreaFocusHighlight, {\n      className: classes.focusHighlight,\n      ownerState: ownerState\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActionArea.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardActionArea;","import createBox from '../createBox';\nconst Box = createBox();\nexport default Box;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z\"\n}), 'SwapHoriz');","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardActionsUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActions', slot);\n}\nconst cardActionsClasses = generateUtilityClasses('MuiCardActions', ['root', 'spacing']);\nexport default cardActionsClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"disableSpacing\", \"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getCardActionsUtilityClass } from './cardActionsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disableSpacing\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableSpacing && 'spacing']\n  };\n  return composeClasses(slots, getCardActionsUtilityClass, classes);\n};\n\nconst CardActionsRoot = styled('div', {\n  name: 'MuiCardActions',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disableSpacing && styles.spacing];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 8\n}, !ownerState.disableSpacing && {\n  '& > :not(:first-of-type)': {\n    marginLeft: 8\n  }\n}));\nconst CardActions = /*#__PURE__*/React.forwardRef(function CardActions(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardActions'\n  });\n\n  const {\n    disableSpacing = false,\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    disableSpacing\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardActionsRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActions.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the actions do not have additional margin.\n   * @default false\n   */\n  disableSpacing: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardActions;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getMasonryUtilityClass(slot) {\n  return generateUtilityClass('MuiMasonry', slot);\n}\nconst masonryClasses = generateUtilityClasses('MuiMasonry', ['root']);\nexport default masonryClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"component\", \"columns\", \"spacing\", \"defaultColumns\", \"defaultHeight\", \"defaultSpacing\"];\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport { createUnarySpacing, getValue, handleBreakpoints, unstable_resolveBreakpointValues as resolveBreakpointValues } from '@mui/system';\nimport { deepmerge, unstable_useForkRef as useForkRef } from '@mui/utils';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { getMasonryUtilityClass } from './masonryClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const parseToNumber = val => {\n  return Number(val.replace('px', ''));\n};\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getMasonryUtilityClass, classes);\n};\n\nexport const getStyle = ({\n  ownerState,\n  theme\n}) => {\n  let styles = {\n    width: '100%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    alignContent: 'space-between',\n    boxSizing: 'border-box',\n    '& > *': {\n      boxSizing: 'border-box'\n    }\n  };\n  const stylesSSR = {};\n\n  if (ownerState.isSSR) {\n    const orderStyleSSR = {};\n    const defaultSpacing = Number(theme.spacing(ownerState.defaultSpacing).replace('px', ''));\n\n    for (let i = 1; i <= ownerState.defaultColumns; i += 1) {\n      orderStyleSSR[`&:nth-of-type(${ownerState.defaultColumns}n+${i % ownerState.defaultColumns})`] = {\n        order: i\n      };\n    }\n\n    stylesSSR.height = ownerState.defaultHeight;\n    stylesSSR.margin = -(defaultSpacing / 2);\n    stylesSSR['& > *'] = _extends({}, styles['& > *'], orderStyleSSR, {\n      margin: defaultSpacing / 2,\n      width: `calc(${(100 / ownerState.defaultColumns).toFixed(2)}% - ${defaultSpacing}px)`\n    });\n    return _extends({}, styles, stylesSSR);\n  }\n\n  const spacingValues = resolveBreakpointValues({\n    values: ownerState.spacing,\n    breakpoints: theme.breakpoints.values\n  });\n  const transformer = createUnarySpacing(theme);\n\n  const spacingStyleFromPropValue = propValue => {\n    const themeSpacingValue = Number(propValue);\n    const spacing = Number(getValue(transformer, themeSpacingValue).replace('px', ''));\n    return _extends({\n      margin: -(spacing / 2),\n      '& > *': {\n        margin: spacing / 2\n      }\n    }, ownerState.maxColumnHeight && {\n      height: Math.ceil(ownerState.maxColumnHeight + spacing)\n    });\n  };\n\n  styles = deepmerge(styles, handleBreakpoints({\n    theme\n  }, spacingValues, spacingStyleFromPropValue));\n  const columnValues = resolveBreakpointValues({\n    values: ownerState.columns,\n    breakpoints: theme.breakpoints.values\n  });\n\n  const columnStyleFromPropValue = propValue => {\n    const columnValue = Number(propValue);\n    const width = `${(100 / columnValue).toFixed(2)}%`;\n    const spacing = typeof spacingValues !== 'object' ? getValue(transformer, Number(spacingValues)) : '0px';\n    return {\n      '& > *': {\n        width: `calc(${width} - ${spacing})`\n      }\n    };\n  };\n\n  styles = deepmerge(styles, handleBreakpoints({\n    theme\n  }, columnValues, columnStyleFromPropValue)); // configure width for responsive spacing values\n\n  if (typeof spacingValues === 'object') {\n    styles = deepmerge(styles, handleBreakpoints({\n      theme\n    }, spacingValues, (propValue, breakpoint) => {\n      if (breakpoint) {\n        const themeSpacingValue = Number(propValue);\n        const lastBreakpoint = Object.keys(columnValues).pop();\n        const spacing = getValue(transformer, themeSpacingValue);\n        const column = typeof columnValues === 'object' ? columnValues[breakpoint] || columnValues[lastBreakpoint] : columnValues;\n        const width = `${(100 / column).toFixed(2)}%`;\n        return {\n          '& > *': {\n            width: `calc(${width} - ${spacing})`\n          }\n        };\n      }\n\n      return null;\n    }));\n  }\n\n  return styles;\n};\nconst MasonryRoot = styled('div', {\n  name: 'MuiMasonry',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    return [styles.root];\n  }\n})(getStyle);\nconst Masonry = /*#__PURE__*/React.forwardRef(function Masonry(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiMasonry'\n  });\n\n  const {\n    children,\n    className,\n    component = 'div',\n    columns = 4,\n    spacing = 1,\n    defaultColumns,\n    defaultHeight,\n    defaultSpacing\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const masonryRef = React.useRef();\n  const [maxColumnHeight, setMaxColumnHeight] = React.useState();\n  const isSSR = !maxColumnHeight && defaultHeight && defaultColumns !== undefined && defaultSpacing !== undefined;\n  const [numberOfLineBreaks, setNumberOfLineBreaks] = React.useState(isSSR ? defaultColumns - 1 : 0);\n\n  const ownerState = _extends({}, props, {\n    spacing,\n    columns,\n    maxColumnHeight,\n    defaultColumns,\n    defaultHeight,\n    defaultSpacing,\n    isSSR\n  });\n\n  const classes = useUtilityClasses(ownerState);\n\n  const handleResize = masonryChildren => {\n    if (!masonryRef.current || !masonryChildren || masonryChildren.length === 0) {\n      return;\n    }\n\n    const masonry = masonryRef.current;\n    const masonryFirstChild = masonryRef.current.firstChild;\n    const parentWidth = masonry.clientWidth;\n    const firstChildWidth = masonryFirstChild.clientWidth;\n\n    if (parentWidth === 0 || firstChildWidth === 0) {\n      return;\n    }\n\n    const firstChildComputedStyle = window.getComputedStyle(masonryFirstChild);\n    const firstChildMarginLeft = parseToNumber(firstChildComputedStyle.marginLeft);\n    const firstChildMarginRight = parseToNumber(firstChildComputedStyle.marginRight);\n    const currentNumberOfColumns = Math.round(parentWidth / (firstChildWidth + firstChildMarginLeft + firstChildMarginRight));\n    const columnHeights = new Array(currentNumberOfColumns).fill(0);\n    let skip = false;\n    masonry.childNodes.forEach(child => {\n      if (child.nodeType !== Node.ELEMENT_NODE || child.dataset.class === 'line-break' || skip) {\n        return;\n      }\n\n      const childComputedStyle = window.getComputedStyle(child);\n      const childMarginTop = parseToNumber(childComputedStyle.marginTop);\n      const childMarginBottom = parseToNumber(childComputedStyle.marginBottom); // if any one of children isn't rendered yet, masonry's height shouldn't be computed yet\n\n      const childHeight = parseToNumber(childComputedStyle.height) ? Math.ceil(parseToNumber(childComputedStyle.height)) + childMarginTop + childMarginBottom : 0;\n\n      if (childHeight === 0) {\n        skip = true;\n        return;\n      } // if there is a nested image that isn't rendered yet, masonry's height shouldn't be computed yet\n\n\n      for (let i = 0; i < child.childNodes.length; i += 1) {\n        const nestedChild = child.childNodes[i];\n\n        if (nestedChild.tagName === 'IMG' && nestedChild.clientHeight === 0) {\n          skip = true;\n          break;\n        }\n      }\n\n      if (!skip) {\n        // find the current shortest column (where the current item will be placed)\n        const currentMinColumnIndex = columnHeights.indexOf(Math.min(...columnHeights));\n        columnHeights[currentMinColumnIndex] += childHeight;\n        const order = currentMinColumnIndex + 1;\n        child.style.order = order;\n      }\n    });\n\n    if (!skip) {\n      setMaxColumnHeight(Math.max(...columnHeights));\n      const numOfLineBreaks = currentNumberOfColumns > 0 ? currentNumberOfColumns - 1 : 0;\n      setNumberOfLineBreaks(numOfLineBreaks);\n    }\n  };\n\n  const observer = React.useRef(typeof ResizeObserver === 'undefined' ? undefined : new ResizeObserver(handleResize));\n  React.useEffect(() => {\n    const resizeObserver = observer.current; // IE and old browsers are not supported\n\n    if (resizeObserver === undefined) {\n      return undefined;\n    }\n\n    if (masonryRef.current) {\n      masonryRef.current.childNodes.forEach(childNode => {\n        resizeObserver.observe(childNode);\n      });\n    }\n\n    return () => resizeObserver ? resizeObserver.disconnect() : {};\n  }, [columns, spacing, children]);\n  const handleRef = useForkRef(ref, masonryRef);\n  const lineBreakStyle = {\n    flexBasis: '100%',\n    width: 0,\n    margin: 0,\n    padding: 0\n  }; //  columns are likely to have different heights and hence can start to merge;\n  //  a line break at the end of each column prevents columns from merging\n\n  const lineBreaks = new Array(numberOfLineBreaks).fill('').map((_, index) => /*#__PURE__*/_jsx(\"span\", {\n    \"data-class\": \"line-break\",\n    style: _extends({}, lineBreakStyle, {\n      order: index + 1\n    })\n  }, index));\n  return /*#__PURE__*/_jsxs(MasonryRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    ref: handleRef,\n    ownerState: ownerState\n  }, other, {\n    children: [children, lineBreaks]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Masonry.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Number of columns.\n   * @default 4\n   */\n  columns: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])), PropTypes.number, PropTypes.object, PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The default number of columns of the component. This is provided for server-side rendering.\n   */\n  defaultColumns: PropTypes.number,\n\n  /**\n   * The default height of the component in px. This is provided for server-side rendering.\n   */\n  defaultHeight: PropTypes.number,\n\n  /**\n   * The default spacing of the component. Like `spacing`, it is a factor of the theme's spacing. This is provided for server-side rendering.\n   */\n  defaultSpacing: PropTypes.number,\n\n  /**\n   * Defines the space between children. It is a factor of the theme's spacing.\n   * @default 1\n   */\n  spacing: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])), PropTypes.number, PropTypes.object, PropTypes.string]),\n\n  /**\n   * Allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Masonry;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'PersonAdd');","import * as React from 'react';\n\nconst usePreviousProps = value => {\n  const ref = React.useRef({});\n  React.useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nexport default usePreviousProps;","import generateUtilityClasses from '../generateUtilityClasses';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getBadgeUtilityClass(slot) {\n  return generateUtilityClass('MuiBadge', slot);\n}\nconst badgeUnstyledClasses = generateUtilityClasses('MuiBadge', ['root', 'badge', 'dot', 'standard', 'anchorOriginTopLeft', 'anchorOriginTopRight', 'anchorOriginBottomLeft', 'anchorOriginBottomRight', 'invisible']);\nexport default badgeUnstyledClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"anchorOrigin\", \"classes\", \"badgeContent\", \"component\", \"children\", \"className\", \"components\", \"componentsProps\", \"invisible\", \"max\", \"showZero\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_capitalize as capitalize } from '@mui/utils';\nimport composeClasses from '../composeClasses';\nimport appendOwnerState from '../utils/appendOwnerState';\nimport useBadge from './useBadge';\nimport { getBadgeUtilityClass } from './badgeUnstyledClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    variant,\n    anchorOrigin,\n    invisible,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    badge: ['badge', variant, `anchorOrigin${capitalize(anchorOrigin.vertical)}${capitalize(anchorOrigin.horizontal)}`, invisible && 'invisible']\n  };\n  return composeClasses(slots, getBadgeUtilityClass, classes);\n};\n\nconst BadgeUnstyled = /*#__PURE__*/React.forwardRef(function BadgeUnstyled(props, ref) {\n  const {\n    anchorOrigin: anchorOriginProp = {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    classes: classesProp,\n    component,\n    children,\n    className,\n    components = {},\n    componentsProps = {},\n    max: maxProp = 99,\n    showZero = false,\n    variant: variantProp = 'standard'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const {\n    anchorOrigin,\n    badgeContent,\n    max,\n    variant,\n    displayValue,\n    invisible\n  } = useBadge(_extends({}, props, {\n    anchorOrigin: anchorOriginProp,\n    max: maxProp,\n    variant: variantProp\n  }));\n\n  const ownerState = _extends({}, props, {\n    anchorOrigin,\n    badgeContent,\n    classes: classesProp,\n    invisible,\n    max,\n    variant,\n    showZero\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const Root = component || components.Root || 'span';\n  const rootProps = appendOwnerState(Root, _extends({}, other, componentsProps.root), ownerState);\n  const Badge = components.Badge || 'span';\n  const badgeProps = appendOwnerState(Badge, componentsProps.badge, ownerState);\n  return /*#__PURE__*/_jsxs(Root, _extends({}, rootProps, {\n    ref: ref\n  }, other, {\n    className: clsx(classes.root, rootProps.className, className),\n    children: [children, /*#__PURE__*/_jsx(Badge, _extends({}, badgeProps, {\n      className: clsx(classes.badge, badgeProps.className),\n      children: displayValue\n    }))]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? BadgeUnstyled.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The anchor of the badge.\n   * @default {\n   *   vertical: 'top',\n   *   horizontal: 'right',\n   * }\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The content rendered within the badge.\n   */\n  badgeContent: PropTypes.node,\n\n  /**\n   * The badge will be added relative to this node.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The components used for each slot inside the Badge.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Badge: PropTypes.elementType,\n    Root: PropTypes.elementType\n  }),\n\n  /**\n   * The props used for each slot inside the Badge.\n   * @default {}\n   */\n  componentsProps: PropTypes.shape({\n    badge: PropTypes.object,\n    root: PropTypes.object\n  }),\n\n  /**\n   * If `true`, the badge is invisible.\n   */\n  invisible: PropTypes.bool,\n\n  /**\n   * Max count to show.\n   * @default 99\n   */\n  max: PropTypes.number,\n\n  /**\n   * Controls whether the badge is hidden when `badgeContent` is zero.\n   * @default false\n   */\n  showZero: PropTypes.bool,\n\n  /**\n   * The variant to use.\n   * @default 'standard'\n   */\n  variant: PropTypes.string\n} : void 0;\nexport default BadgeUnstyled;","import { usePreviousProps } from '@mui/utils';\nexport default function useBadge(props) {\n  const {\n    anchorOrigin: anchorOriginProp = {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    badgeContent: badgeContentProp,\n    invisible: invisibleProp,\n    max: maxProp = 99,\n    showZero = false,\n    variant: variantProp = 'standard'\n  } = props;\n  const prevProps = usePreviousProps({\n    anchorOrigin: anchorOriginProp,\n    badgeContent: badgeContentProp,\n    max: maxProp,\n    variant: variantProp\n  });\n  let invisible = invisibleProp;\n\n  if (invisibleProp == null && (badgeContentProp === 0 && !showZero || badgeContentProp == null && variantProp !== 'dot')) {\n    invisible = true;\n  }\n\n  const {\n    anchorOrigin = anchorOriginProp,\n    badgeContent,\n    max = maxProp,\n    variant = variantProp\n  } = invisible ? prevProps : props;\n  let displayValue = '';\n\n  if (variant !== 'dot') {\n    displayValue = badgeContent && Number(badgeContent) > max ? `${max}+` : badgeContent;\n  }\n\n  return {\n    anchorOrigin,\n    badgeContent,\n    invisible,\n    max,\n    variant,\n    displayValue\n  };\n}","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"anchorOrigin\", \"component\", \"components\", \"componentsProps\", \"overlap\", \"color\", \"invisible\", \"badgeContent\", \"showZero\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { usePreviousProps } from '@mui/utils';\nimport { generateUtilityClasses } from '@mui/base';\nimport BadgeUnstyled, { badgeUnstyledClasses, getBadgeUtilityClass } from '@mui/base/BadgeUnstyled';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport shouldSpreadAdditionalProps from '../utils/shouldSpreadAdditionalProps';\nimport capitalize from '../utils/capitalize';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const badgeClasses = _extends({}, badgeUnstyledClasses, generateUtilityClasses('MuiBadge', ['colorError', 'colorInfo', 'colorPrimary', 'colorSecondary', 'colorSuccess', 'colorWarning', 'overlapRectangular', 'overlapCircular', // TODO: v6 remove the overlap value from these class keys\n'anchorOriginTopLeftCircular', 'anchorOriginTopLeftRectangular', 'anchorOriginTopRightCircular', 'anchorOriginTopRightRectangular', 'anchorOriginBottomLeftCircular', 'anchorOriginBottomLeftRectangular', 'anchorOriginBottomRightCircular', 'anchorOriginBottomRightRectangular']));\nconst RADIUS_STANDARD = 10;\nconst RADIUS_DOT = 4;\n\nconst extendUtilityClasses = ownerState => {\n  const {\n    color,\n    anchorOrigin,\n    overlap,\n    classes = {}\n  } = ownerState;\n  return _extends({}, classes, {\n    badge: clsx(classes.badge, getBadgeUtilityClass(`anchorOrigin${capitalize(anchorOrigin.vertical)}${capitalize(anchorOrigin.horizontal)}${capitalize(overlap)}`), getBadgeUtilityClass(`overlap${capitalize(overlap)}`), color !== 'default' && [getBadgeUtilityClass(`color${capitalize(color)}`), classes[`color${capitalize(color)}`]])\n  });\n};\n\nconst BadgeRoot = styled('span', {\n  name: 'MuiBadge',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({\n  position: 'relative',\n  display: 'inline-flex',\n  // For correct alignment with the text.\n  verticalAlign: 'middle',\n  flexShrink: 0\n});\nconst BadgeBadge = styled('span', {\n  name: 'MuiBadge',\n  slot: 'Badge',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.badge, styles[ownerState.variant], styles[`anchorOrigin${capitalize(ownerState.anchorOrigin.vertical)}${capitalize(ownerState.anchorOrigin.horizontal)}${capitalize(ownerState.overlap)}`], ownerState.color !== 'default' && styles[`color${capitalize(ownerState.color)}`], ownerState.invisible && styles.invisible];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  flexDirection: 'row',\n  flexWrap: 'wrap',\n  justifyContent: 'center',\n  alignContent: 'center',\n  alignItems: 'center',\n  position: 'absolute',\n  boxSizing: 'border-box',\n  fontFamily: theme.typography.fontFamily,\n  fontWeight: theme.typography.fontWeightMedium,\n  fontSize: theme.typography.pxToRem(12),\n  minWidth: RADIUS_STANDARD * 2,\n  lineHeight: 1,\n  padding: '0 6px',\n  height: RADIUS_STANDARD * 2,\n  borderRadius: RADIUS_STANDARD,\n  zIndex: 1,\n  // Render the badge on top of potential ripples.\n  transition: theme.transitions.create('transform', {\n    easing: theme.transitions.easing.easeInOut,\n    duration: theme.transitions.duration.enteringScreen\n  })\n}, ownerState.color !== 'default' && {\n  backgroundColor: theme.palette[ownerState.color].main,\n  color: theme.palette[ownerState.color].contrastText\n}, ownerState.variant === 'dot' && {\n  borderRadius: RADIUS_DOT,\n  height: RADIUS_DOT * 2,\n  minWidth: RADIUS_DOT * 2,\n  padding: 0\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'rectangular' && {\n  top: 0,\n  right: 0,\n  transform: 'scale(1) translate(50%, -50%)',\n  transformOrigin: '100% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'rectangular' && {\n  bottom: 0,\n  right: 0,\n  transform: 'scale(1) translate(50%, 50%)',\n  transformOrigin: '100% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, 50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'rectangular' && {\n  top: 0,\n  left: 0,\n  transform: 'scale(1) translate(-50%, -50%)',\n  transformOrigin: '0% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'rectangular' && {\n  bottom: 0,\n  left: 0,\n  transform: 'scale(1) translate(-50%, 50%)',\n  transformOrigin: '0% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, 50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'circular' && {\n  top: '14%',\n  right: '14%',\n  transform: 'scale(1) translate(50%, -50%)',\n  transformOrigin: '100% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'circular' && {\n  bottom: '14%',\n  right: '14%',\n  transform: 'scale(1) translate(50%, 50%)',\n  transformOrigin: '100% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, 50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'circular' && {\n  top: '14%',\n  left: '14%',\n  transform: 'scale(1) translate(-50%, -50%)',\n  transformOrigin: '0% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'circular' && {\n  bottom: '14%',\n  left: '14%',\n  transform: 'scale(1) translate(-50%, 50%)',\n  transformOrigin: '0% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, 50%)'\n  }\n}, ownerState.invisible && {\n  transition: theme.transitions.create('transform', {\n    easing: theme.transitions.easing.easeInOut,\n    duration: theme.transitions.duration.leavingScreen\n  })\n}));\nconst Badge = /*#__PURE__*/React.forwardRef(function Badge(inProps, ref) {\n  var _componentsProps$root, _componentsProps$badg;\n\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiBadge'\n  });\n\n  const {\n    anchorOrigin: anchorOriginProp = {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    component = 'span',\n    components = {},\n    componentsProps = {},\n    overlap: overlapProp = 'rectangular',\n    color: colorProp = 'default',\n    invisible: invisibleProp,\n    badgeContent: badgeContentProp,\n    showZero = false,\n    variant: variantProp = 'standard'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const prevProps = usePreviousProps({\n    anchorOrigin: anchorOriginProp,\n    color: colorProp,\n    overlap: overlapProp\n  });\n  let invisible = invisibleProp;\n\n  if (invisibleProp == null && (badgeContentProp === 0 && !showZero || badgeContentProp == null && variantProp !== 'dot')) {\n    invisible = true;\n  }\n\n  const {\n    color = colorProp,\n    overlap = overlapProp,\n    anchorOrigin = anchorOriginProp\n  } = invisible ? prevProps : props;\n\n  const ownerState = _extends({}, props, {\n    anchorOrigin,\n    invisible,\n    color,\n    overlap\n  });\n\n  const classes = extendUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(BadgeUnstyled, _extends({\n    anchorOrigin: anchorOrigin,\n    invisible: invisibleProp,\n    badgeContent: badgeContentProp,\n    showZero: showZero,\n    variant: variantProp\n  }, other, {\n    components: _extends({\n      Root: BadgeRoot,\n      Badge: BadgeBadge\n    }, components),\n    componentsProps: {\n      root: _extends({}, componentsProps.root, shouldSpreadAdditionalProps(components.Root) && {\n        as: component,\n        ownerState: _extends({}, (_componentsProps$root = componentsProps.root) == null ? void 0 : _componentsProps$root.ownerState, {\n          color,\n          overlap\n        })\n      }),\n      badge: _extends({}, componentsProps.badge, shouldSpreadAdditionalProps(components.Badge) && {\n        ownerState: _extends({}, (_componentsProps$badg = componentsProps.badge) == null ? void 0 : _componentsProps$badg.ownerState, {\n          color,\n          overlap\n        })\n      })\n    },\n    classes: classes,\n    ref: ref\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Badge.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The anchor of the badge.\n   * @default {\n   *   vertical: 'top',\n   *   horizontal: 'right',\n   * }\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The content rendered within the badge.\n   */\n  badgeContent: PropTypes.node,\n\n  /**\n   * The badge will be added relative to this node.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'default'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The components used for each slot inside the Badge.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Badge: PropTypes.elementType,\n    Root: PropTypes.elementType\n  }),\n\n  /**\n   * The props used for each slot inside the Badge.\n   * @default {}\n   */\n  componentsProps: PropTypes.shape({\n    badge: PropTypes.object,\n    root: PropTypes.object\n  }),\n\n  /**\n   * If `true`, the badge is invisible.\n   */\n  invisible: PropTypes.bool,\n\n  /**\n   * Max count to show.\n   * @default 99\n   */\n  max: PropTypes.number,\n\n  /**\n   * Wrapped shape the badge should overlap.\n   * @default 'rectangular'\n   */\n  overlap: PropTypes.oneOf(['circular', 'rectangular']),\n\n  /**\n   * Controls whether the badge is hidden when `badgeContent` is zero.\n   * @default false\n   */\n  showZero: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The variant to use.\n   * @default 'standard'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['dot', 'standard']), PropTypes.string])\n} : void 0;\nexport default Badge;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getAccordionUtilityClass(slot) {\n  return generateUtilityClass('MuiAccordion', slot);\n}\nconst accordionClasses = generateUtilityClasses('MuiAccordion', ['root', 'rounded', 'expanded', 'disabled', 'gutters', 'region']);\nexport default accordionClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"defaultExpanded\", \"disabled\", \"disableGutters\", \"expanded\", \"onChange\", \"square\", \"TransitionComponent\", \"TransitionProps\"];\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Collapse from '../Collapse';\nimport Paper from '../Paper';\nimport AccordionContext from './AccordionContext';\nimport useControlled from '../utils/useControlled';\nimport accordionClasses, { getAccordionUtilityClass } from './accordionClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    square,\n    expanded,\n    disabled,\n    disableGutters\n  } = ownerState;\n  const slots = {\n    root: ['root', !square && 'rounded', expanded && 'expanded', disabled && 'disabled', !disableGutters && 'gutters'],\n    region: ['region']\n  };\n  return composeClasses(slots, getAccordionUtilityClass, classes);\n};\n\nconst AccordionRoot = styled(Paper, {\n  name: 'MuiAccordion',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${accordionClasses.region}`]: styles.region\n    }, styles.root, !ownerState.square && styles.rounded, !ownerState.disableGutters && styles.gutters];\n  }\n})(({\n  theme\n}) => {\n  const transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return {\n    position: 'relative',\n    transition: theme.transitions.create(['margin'], transition),\n    overflowAnchor: 'none',\n    // Keep the same scrolling position\n    '&:before': {\n      position: 'absolute',\n      left: 0,\n      top: -1,\n      right: 0,\n      height: 1,\n      content: '\"\"',\n      opacity: 1,\n      backgroundColor: theme.palette.divider,\n      transition: theme.transitions.create(['opacity', 'background-color'], transition)\n    },\n    '&:first-of-type': {\n      '&:before': {\n        display: 'none'\n      }\n    },\n    [`&.${accordionClasses.expanded}`]: {\n      '&:before': {\n        opacity: 0\n      },\n      '&:first-of-type': {\n        marginTop: 0\n      },\n      '&:last-of-type': {\n        marginBottom: 0\n      },\n      '& + &': {\n        '&:before': {\n          display: 'none'\n        }\n      }\n    },\n    [`&.${accordionClasses.disabled}`]: {\n      backgroundColor: theme.palette.action.disabledBackground\n    }\n  };\n}, ({\n  theme,\n  ownerState\n}) => _extends({}, !ownerState.square && {\n  borderRadius: 0,\n  '&:first-of-type': {\n    borderTopLeftRadius: theme.shape.borderRadius,\n    borderTopRightRadius: theme.shape.borderRadius\n  },\n  '&:last-of-type': {\n    borderBottomLeftRadius: theme.shape.borderRadius,\n    borderBottomRightRadius: theme.shape.borderRadius,\n    // Fix a rendering issue on Edge\n    '@supports (-ms-ime-align: auto)': {\n      borderBottomLeftRadius: 0,\n      borderBottomRightRadius: 0\n    }\n  }\n}, !ownerState.disableGutters && {\n  [`&.${accordionClasses.expanded}`]: {\n    margin: '16px 0'\n  }\n}));\nconst Accordion = /*#__PURE__*/React.forwardRef(function Accordion(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAccordion'\n  });\n\n  const {\n    children: childrenProp,\n    className,\n    defaultExpanded = false,\n    disabled = false,\n    disableGutters = false,\n    expanded: expandedProp,\n    onChange,\n    square = false,\n    TransitionComponent = Collapse,\n    TransitionProps\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const [expanded, setExpandedState] = useControlled({\n    controlled: expandedProp,\n    default: defaultExpanded,\n    name: 'Accordion',\n    state: 'expanded'\n  });\n  const handleChange = React.useCallback(event => {\n    setExpandedState(!expanded);\n\n    if (onChange) {\n      onChange(event, !expanded);\n    }\n  }, [expanded, onChange, setExpandedState]);\n  const [summary, ...children] = React.Children.toArray(childrenProp);\n  const contextValue = React.useMemo(() => ({\n    expanded,\n    disabled,\n    disableGutters,\n    toggle: handleChange\n  }), [expanded, disabled, disableGutters, handleChange]);\n\n  const ownerState = _extends({}, props, {\n    square,\n    disabled,\n    disableGutters,\n    expanded\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(AccordionRoot, _extends({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState,\n    square: square\n  }, other, {\n    children: [/*#__PURE__*/_jsx(AccordionContext.Provider, {\n      value: contextValue,\n      children: summary\n    }), /*#__PURE__*/_jsx(TransitionComponent, _extends({\n      in: expanded,\n      timeout: \"auto\"\n    }, TransitionProps, {\n      children: /*#__PURE__*/_jsx(\"div\", {\n        \"aria-labelledby\": summary.props.id,\n        id: summary.props['aria-controls'],\n        role: \"region\",\n        className: classes.region,\n        children: children\n      })\n    }))]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Accordion.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: chainPropTypes(PropTypes.node.isRequired, props => {\n    const summary = React.Children.toArray(props.children)[0];\n\n    if (isFragment(summary)) {\n      return new Error(\"MUI: The Accordion doesn't accept a Fragment as a child. \" + 'Consider providing an array instead.');\n    }\n\n    if (! /*#__PURE__*/React.isValidElement(summary)) {\n      return new Error('MUI: Expected the first child of Accordion to be a valid element.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, expands the accordion by default.\n   * @default false\n   */\n  defaultExpanded: PropTypes.bool,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, it removes the margin between two expanded accordion items and the increase of height.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, expands the accordion, otherwise collapse it.\n   * Setting this prop enables control over the accordion.\n   */\n  expanded: PropTypes.bool,\n\n  /**\n   * Callback fired when the expand/collapse state is changed.\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback. **Warning**: This is a generic event not a change event.\n   * @param {boolean} expanded The `expanded` state of the accordion.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, rounded corners are disabled.\n   * @default false\n   */\n  square: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The component used for the transition.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   * @default Collapse\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the transition element.\n   * By default, the element is based on this [`Transition`](http://reactcommunity.org/react-transition-group/transition/) component.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default Accordion;","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getAccordionSummaryUtilityClass(slot) {\n  return generateUtilityClass('MuiAccordionSummary', slot);\n}\nconst accordionSummaryClasses = generateUtilityClasses('MuiAccordionSummary', ['root', 'expanded', 'focusVisible', 'disabled', 'gutters', 'contentGutters', 'content', 'expandIconWrapper']);\nexport default accordionSummaryClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"expandIcon\", \"focusVisibleClassName\", \"onClick\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ButtonBase from '../ButtonBase';\nimport AccordionContext from '../Accordion/AccordionContext';\nimport accordionSummaryClasses, { getAccordionSummaryUtilityClass } from './accordionSummaryClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    expanded,\n    disabled,\n    disableGutters\n  } = ownerState;\n  const slots = {\n    root: ['root', expanded && 'expanded', disabled && 'disabled', !disableGutters && 'gutters'],\n    focusVisible: ['focusVisible'],\n    content: ['content', expanded && 'expanded', !disableGutters && 'contentGutters'],\n    expandIconWrapper: ['expandIconWrapper', expanded && 'expanded']\n  };\n  return composeClasses(slots, getAccordionSummaryUtilityClass, classes);\n};\n\nconst AccordionSummaryRoot = styled(ButtonBase, {\n  name: 'MuiAccordionSummary',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme,\n  ownerState\n}) => {\n  const transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return _extends({\n    display: 'flex',\n    minHeight: 48,\n    padding: theme.spacing(0, 2),\n    transition: theme.transitions.create(['min-height', 'background-color'], transition),\n    [`&.${accordionSummaryClasses.focusVisible}`]: {\n      backgroundColor: theme.palette.action.focus\n    },\n    [`&.${accordionSummaryClasses.disabled}`]: {\n      opacity: theme.palette.action.disabledOpacity\n    },\n    [`&:hover:not(.${accordionSummaryClasses.disabled})`]: {\n      cursor: 'pointer'\n    }\n  }, !ownerState.disableGutters && {\n    [`&.${accordionSummaryClasses.expanded}`]: {\n      minHeight: 64\n    }\n  });\n});\nconst AccordionSummaryContent = styled('div', {\n  name: 'MuiAccordionSummary',\n  slot: 'Content',\n  overridesResolver: (props, styles) => styles.content\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  flexGrow: 1,\n  margin: '12px 0'\n}, !ownerState.disableGutters && {\n  transition: theme.transitions.create(['margin'], {\n    duration: theme.transitions.duration.shortest\n  }),\n  [`&.${accordionSummaryClasses.expanded}`]: {\n    margin: '20px 0'\n  }\n}));\nconst AccordionSummaryExpandIconWrapper = styled('div', {\n  name: 'MuiAccordionSummary',\n  slot: 'ExpandIconWrapper',\n  overridesResolver: (props, styles) => styles.expandIconWrapper\n})(({\n  theme\n}) => ({\n  display: 'flex',\n  color: theme.palette.action.active,\n  transform: 'rotate(0deg)',\n  transition: theme.transitions.create('transform', {\n    duration: theme.transitions.duration.shortest\n  }),\n  [`&.${accordionSummaryClasses.expanded}`]: {\n    transform: 'rotate(180deg)'\n  }\n}));\nconst AccordionSummary = /*#__PURE__*/React.forwardRef(function AccordionSummary(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAccordionSummary'\n  });\n\n  const {\n    children,\n    className,\n    expandIcon,\n    focusVisibleClassName,\n    onClick\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const {\n    disabled = false,\n    disableGutters,\n    expanded,\n    toggle\n  } = React.useContext(AccordionContext);\n\n  const handleChange = event => {\n    if (toggle) {\n      toggle(event);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  const ownerState = _extends({}, props, {\n    expanded,\n    disabled,\n    disableGutters\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(AccordionSummaryRoot, _extends({\n    focusRipple: false,\n    disableRipple: true,\n    disabled: disabled,\n    component: \"div\",\n    \"aria-expanded\": expanded,\n    className: clsx(classes.root, className),\n    focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n    onClick: handleChange,\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [/*#__PURE__*/_jsx(AccordionSummaryContent, {\n      className: classes.content,\n      ownerState: ownerState,\n      children: children\n    }), expandIcon && /*#__PURE__*/_jsx(AccordionSummaryExpandIconWrapper, {\n      className: classes.expandIconWrapper,\n      ownerState: ownerState,\n      children: expandIcon\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? AccordionSummary.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The icon to display as the expand indicator.\n   */\n  expandIcon: PropTypes.node,\n\n  /**\n   * This prop can help identify which element has keyboard focus.\n   * The class name will be applied when the element gains the focus through keyboard interaction.\n   * It's a polyfill for the [CSS :focus-visible selector](https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo).\n   * The rationale for using this feature [is explained here](https://github.com/WICG/focus-visible/blob/HEAD/explainer.md).\n   * A [polyfill can be used](https://github.com/WICG/focus-visible) to apply a `focus-visible` class to other components\n   * if needed.\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default AccordionSummary;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getAccordionDetailsUtilityClass(slot) {\n  return generateUtilityClass('MuiAccordionDetails', slot);\n}\nconst accordionDetailsClasses = generateUtilityClasses('MuiAccordionDetails', ['root']);\nexport default accordionDetailsClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getAccordionDetailsUtilityClass } from './accordionDetailsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getAccordionDetailsUtilityClass, classes);\n};\n\nconst AccordionDetailsRoot = styled('div', {\n  name: 'MuiAccordionDetails',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  padding: theme.spacing(1, 2, 2)\n}));\nconst AccordionDetails = /*#__PURE__*/React.forwardRef(function AccordionDetails(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAccordionDetails'\n  });\n\n  const {\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(AccordionDetailsRoot, _extends({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? AccordionDetails.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default AccordionDetails;","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { elementAcceptingRef, exactProp, unstable_ownerDocument as ownerDocument, unstable_useForkRef as useForkRef, unstable_useEventCallback as useEventCallback } from '@mui/utils'; // TODO: return `EventHandlerName extends `on${infer EventName}` ? Lowercase<EventName> : never` once generatePropTypes runs with TS 4.1\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction mapEventPropToEvent(eventProp) {\n  return eventProp.substring(2).toLowerCase();\n}\n\nfunction clickedRootScrollbar(event, doc) {\n  return doc.documentElement.clientWidth < event.clientX || doc.documentElement.clientHeight < event.clientY;\n}\n\n/**\n * Listen for click events that occur somewhere in the document, outside of the element itself.\n * For instance, if you need to hide a menu when people click anywhere else on your page.\n *\n * Demos:\n *\n * - [Click Away Listener](https://mui.com/components/click-away-listener/)\n * - [Menus](https://mui.com/components/menus/)\n *\n * API:\n *\n * - [ClickAwayListener API](https://mui.com/api/click-away-listener/)\n */\nfunction ClickAwayListener(props) {\n  const {\n    children,\n    disableReactTree = false,\n    mouseEvent = 'onClick',\n    onClickAway,\n    touchEvent = 'onTouchEnd'\n  } = props;\n  const movedRef = React.useRef(false);\n  const nodeRef = React.useRef(null);\n  const activatedRef = React.useRef(false);\n  const syntheticEventRef = React.useRef(false);\n  React.useEffect(() => {\n    // Ensure that this component is not \"activated\" synchronously.\n    // https://github.com/facebook/react/issues/20074\n    setTimeout(() => {\n      activatedRef.current = true;\n    }, 0);\n    return () => {\n      activatedRef.current = false;\n    };\n  }, []);\n  const handleRef = useForkRef( // @ts-expect-error TODO upstream fix\n  children.ref, nodeRef); // The handler doesn't take event.defaultPrevented into account:\n  //\n  // event.preventDefault() is meant to stop default behaviors like\n  // clicking a checkbox to check it, hitting a button to submit a form,\n  // and hitting left arrow to move the cursor in a text input etc.\n  // Only special HTML elements have these default behaviors.\n\n  const handleClickAway = useEventCallback(event => {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    const insideReactTree = syntheticEventRef.current;\n    syntheticEventRef.current = false;\n    const doc = ownerDocument(nodeRef.current); // 1. IE11 support, which trigger the handleClickAway even after the unbind\n    // 2. The child might render null.\n    // 3. Behave like a blur listener.\n\n    if (!activatedRef.current || !nodeRef.current || 'clientX' in event && clickedRootScrollbar(event, doc)) {\n      return;\n    } // Do not act if user performed touchmove\n\n\n    if (movedRef.current) {\n      movedRef.current = false;\n      return;\n    }\n\n    let insideDOM; // If not enough, can use https://github.com/DieterHolvoet/event-propagation-path/blob/master/propagationPath.js\n\n    if (event.composedPath) {\n      insideDOM = event.composedPath().indexOf(nodeRef.current) > -1;\n    } else {\n      insideDOM = !doc.documentElement.contains( // @ts-expect-error returns `false` as intended when not dispatched from a Node\n      event.target) || nodeRef.current.contains( // @ts-expect-error returns `false` as intended when not dispatched from a Node\n      event.target);\n    }\n\n    if (!insideDOM && (disableReactTree || !insideReactTree)) {\n      onClickAway(event);\n    }\n  }); // Keep track of mouse/touch events that bubbled up through the portal.\n\n  const createHandleSynthetic = handlerName => event => {\n    syntheticEventRef.current = true;\n    const childrenPropsHandler = children.props[handlerName];\n\n    if (childrenPropsHandler) {\n      childrenPropsHandler(event);\n    }\n  };\n\n  const childrenProps = {\n    ref: handleRef\n  };\n\n  if (touchEvent !== false) {\n    childrenProps[touchEvent] = createHandleSynthetic(touchEvent);\n  }\n\n  React.useEffect(() => {\n    if (touchEvent !== false) {\n      const mappedTouchEvent = mapEventPropToEvent(touchEvent);\n      const doc = ownerDocument(nodeRef.current);\n\n      const handleTouchMove = () => {\n        movedRef.current = true;\n      };\n\n      doc.addEventListener(mappedTouchEvent, handleClickAway);\n      doc.addEventListener('touchmove', handleTouchMove);\n      return () => {\n        doc.removeEventListener(mappedTouchEvent, handleClickAway);\n        doc.removeEventListener('touchmove', handleTouchMove);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, touchEvent]);\n\n  if (mouseEvent !== false) {\n    childrenProps[mouseEvent] = createHandleSynthetic(mouseEvent);\n  }\n\n  React.useEffect(() => {\n    if (mouseEvent !== false) {\n      const mappedMouseEvent = mapEventPropToEvent(mouseEvent);\n      const doc = ownerDocument(nodeRef.current);\n      doc.addEventListener(mappedMouseEvent, handleClickAway);\n      return () => {\n        doc.removeEventListener(mappedMouseEvent, handleClickAway);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, mouseEvent]);\n  return /*#__PURE__*/_jsx(React.Fragment, {\n    children: /*#__PURE__*/React.cloneElement(children, childrenProps)\n  });\n}\n\nprocess.env.NODE_ENV !== \"production\" ? ClickAwayListener.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The wrapped element.\n   */\n  children: elementAcceptingRef.isRequired,\n\n  /**\n   * If `true`, the React tree is ignored and only the DOM tree is considered.\n   * This prop changes how portaled elements are handled.\n   * @default false\n   */\n  disableReactTree: PropTypes.bool,\n\n  /**\n   * The mouse event to listen to. You can disable the listener by providing `false`.\n   * @default 'onClick'\n   */\n  mouseEvent: PropTypes.oneOf(['onClick', 'onMouseDown', 'onMouseUp', false]),\n\n  /**\n   * Callback fired when a \"click away\" event is detected.\n   */\n  onClickAway: PropTypes.func.isRequired,\n\n  /**\n   * The touch event to listen to. You can disable the listener by providing `false`.\n   * @default 'onTouchEnd'\n   */\n  touchEvent: PropTypes.oneOf(['onTouchEnd', 'onTouchStart', false])\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  ClickAwayListener['propTypes' + ''] = exactProp(ClickAwayListener.propTypes);\n}\n\nexport default ClickAwayListener;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getSnackbarContentUtilityClass(slot) {\n  return generateUtilityClass('MuiSnackbarContent', slot);\n}\nconst snackbarContentClasses = generateUtilityClasses('MuiSnackbarContent', ['root', 'message', 'action']);\nexport default snackbarContentClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"action\", \"className\", \"message\", \"role\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { emphasize } from '@mui/system';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Paper from '../Paper';\nimport { getSnackbarContentUtilityClass } from './snackbarContentClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    action: ['action'],\n    message: ['message']\n  };\n  return composeClasses(slots, getSnackbarContentUtilityClass, classes);\n};\n\nconst SnackbarContentRoot = styled(Paper, {\n  name: 'MuiSnackbarContent',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => {\n  const emphasis = theme.palette.mode === 'light' ? 0.8 : 0.98;\n  const backgroundColor = emphasize(theme.palette.background.default, emphasis);\n  return _extends({}, theme.typography.body2, {\n    color: theme.palette.getContrastText(backgroundColor),\n    backgroundColor,\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    padding: '6px 16px',\n    borderRadius: theme.shape.borderRadius,\n    flexGrow: 1,\n    [theme.breakpoints.up('sm')]: {\n      flexGrow: 'initial',\n      minWidth: 288\n    }\n  });\n});\nconst SnackbarContentMessage = styled('div', {\n  name: 'MuiSnackbarContent',\n  slot: 'Message',\n  overridesResolver: (props, styles) => styles.message\n})({\n  padding: '8px 0'\n});\nconst SnackbarContentAction = styled('div', {\n  name: 'MuiSnackbarContent',\n  slot: 'Action',\n  overridesResolver: (props, styles) => styles.action\n})({\n  display: 'flex',\n  alignItems: 'center',\n  marginLeft: 'auto',\n  paddingLeft: 16,\n  marginRight: -8\n});\nconst SnackbarContent = /*#__PURE__*/React.forwardRef(function SnackbarContent(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiSnackbarContent'\n  });\n\n  const {\n    action,\n    className,\n    message,\n    role = 'alert'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(SnackbarContentRoot, _extends({\n    role: role,\n    square: true,\n    elevation: 6,\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    children: [/*#__PURE__*/_jsx(SnackbarContentMessage, {\n      className: classes.message,\n      ownerState: ownerState,\n      children: message\n    }), action ? /*#__PURE__*/_jsx(SnackbarContentAction, {\n      className: classes.action,\n      ownerState: ownerState,\n      children: action\n    }) : null]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? SnackbarContent.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the snackbar.\n   */\n  action: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The message to display.\n   */\n  message: PropTypes.node,\n\n  /**\n   * The ARIA role attribute of the element.\n   * @default 'alert'\n   */\n  role: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default SnackbarContent;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getSnackbarUtilityClass(slot) {\n  return generateUtilityClass('MuiSnackbar', slot);\n}\nconst snackbarClasses = generateUtilityClasses('MuiSnackbar', ['root', 'anchorOriginTopCenter', 'anchorOriginBottomCenter', 'anchorOriginTopRight', 'anchorOriginBottomRight', 'anchorOriginTopLeft', 'anchorOriginBottomLeft']);\nexport default snackbarClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"onEnter\", \"onExited\"],\n      _excluded2 = [\"action\", \"anchorOrigin\", \"autoHideDuration\", \"children\", \"className\", \"ClickAwayListenerProps\", \"ContentProps\", \"disableWindowBlurListener\", \"message\", \"onBlur\", \"onClose\", \"onFocus\", \"onMouseEnter\", \"onMouseLeave\", \"open\", \"resumeHideDuration\", \"TransitionComponent\", \"transitionDuration\", \"TransitionProps\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport ClickAwayListener from '@mui/base/ClickAwayListener';\nimport styled from '../styles/styled';\nimport useTheme from '../styles/useTheme';\nimport useThemeProps from '../styles/useThemeProps';\nimport { duration } from '../styles/createTransitions';\nimport useEventCallback from '../utils/useEventCallback';\nimport capitalize from '../utils/capitalize';\nimport Grow from '../Grow';\nimport SnackbarContent from '../SnackbarContent';\nimport { getSnackbarUtilityClass } from './snackbarClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    anchorOrigin\n  } = ownerState;\n  const slots = {\n    root: ['root', `anchorOrigin${capitalize(anchorOrigin.vertical)}${capitalize(anchorOrigin.horizontal)}`]\n  };\n  return composeClasses(slots, getSnackbarUtilityClass, classes);\n};\n\nconst SnackbarRoot = styled('div', {\n  name: 'MuiSnackbar',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[`anchorOrigin${capitalize(ownerState.anchorOrigin.vertical)}${capitalize(ownerState.anchorOrigin.horizontal)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const center = _extends({}, !ownerState.isRtl && {\n    left: '50%',\n    right: 'auto',\n    transform: 'translateX(-50%)'\n  }, ownerState.isRtl && {\n    right: '50%',\n    left: 'auto',\n    transform: 'translateX(50%)'\n  });\n\n  return _extends({\n    zIndex: theme.zIndex.snackbar,\n    position: 'fixed',\n    display: 'flex',\n    left: 8,\n    right: 8,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }, ownerState.anchorOrigin.vertical === 'top' ? {\n    top: 8\n  } : {\n    bottom: 8\n  }, ownerState.anchorOrigin.horizontal === 'left' && {\n    justifyContent: 'flex-start'\n  }, ownerState.anchorOrigin.horizontal === 'right' && {\n    justifyContent: 'flex-end'\n  }, {\n    [theme.breakpoints.up('sm')]: _extends({}, ownerState.anchorOrigin.vertical === 'top' ? {\n      top: 24\n    } : {\n      bottom: 24\n    }, ownerState.anchorOrigin.horizontal === 'center' && center, ownerState.anchorOrigin.horizontal === 'left' && _extends({}, !ownerState.isRtl && {\n      left: 24,\n      right: 'auto'\n    }, ownerState.isRtl && {\n      right: 24,\n      left: 'auto'\n    }), ownerState.anchorOrigin.horizontal === 'right' && _extends({}, !ownerState.isRtl && {\n      right: 24,\n      left: 'auto'\n    }, ownerState.isRtl && {\n      left: 24,\n      right: 'auto'\n    }))\n  });\n});\nconst Snackbar = /*#__PURE__*/React.forwardRef(function Snackbar(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiSnackbar'\n  });\n\n  const {\n    action,\n    anchorOrigin: {\n      vertical,\n      horizontal\n    } = {\n      vertical: 'bottom',\n      horizontal: 'left'\n    },\n    autoHideDuration = null,\n    children,\n    className,\n    ClickAwayListenerProps,\n    ContentProps,\n    disableWindowBlurListener = false,\n    message,\n    onBlur,\n    onClose,\n    onFocus,\n    onMouseEnter,\n    onMouseLeave,\n    open,\n    resumeHideDuration,\n    TransitionComponent = Grow,\n    transitionDuration = {\n      enter: duration.enteringScreen,\n      exit: duration.leavingScreen\n    },\n    TransitionProps: {\n      onEnter,\n      onExited\n    } = {}\n  } = props,\n        TransitionProps = _objectWithoutPropertiesLoose(props.TransitionProps, _excluded),\n        other = _objectWithoutPropertiesLoose(props, _excluded2);\n\n  const theme = useTheme();\n  const isRtl = theme.direction === 'rtl';\n\n  const ownerState = _extends({}, props, {\n    anchorOrigin: {\n      vertical,\n      horizontal\n    },\n    isRtl\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const timerAutoHide = React.useRef();\n  const [exited, setExited] = React.useState(true);\n  const handleClose = useEventCallback((...args) => {\n    if (onClose) {\n      onClose(...args);\n    }\n  });\n  const setAutoHideTimer = useEventCallback(autoHideDurationParam => {\n    if (!onClose || autoHideDurationParam == null) {\n      return;\n    }\n\n    clearTimeout(timerAutoHide.current);\n    timerAutoHide.current = setTimeout(() => {\n      handleClose(null, 'timeout');\n    }, autoHideDurationParam);\n  });\n  React.useEffect(() => {\n    if (open) {\n      setAutoHideTimer(autoHideDuration);\n    }\n\n    return () => {\n      clearTimeout(timerAutoHide.current);\n    };\n  }, [open, autoHideDuration, setAutoHideTimer]); // Pause the timer when the user is interacting with the Snackbar\n  // or when the user hide the window.\n\n  const handlePause = () => {\n    clearTimeout(timerAutoHide.current);\n  }; // Restart the timer when the user is no longer interacting with the Snackbar\n  // or when the window is shown back.\n\n\n  const handleResume = React.useCallback(() => {\n    if (autoHideDuration != null) {\n      setAutoHideTimer(resumeHideDuration != null ? resumeHideDuration : autoHideDuration * 0.5);\n    }\n  }, [autoHideDuration, resumeHideDuration, setAutoHideTimer]);\n\n  const handleFocus = event => {\n    if (onFocus) {\n      onFocus(event);\n    }\n\n    handlePause();\n  };\n\n  const handleMouseEnter = event => {\n    if (onMouseEnter) {\n      onMouseEnter(event);\n    }\n\n    handlePause();\n  };\n\n  const handleBlur = event => {\n    if (onBlur) {\n      onBlur(event);\n    }\n\n    handleResume();\n  };\n\n  const handleMouseLeave = event => {\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n\n    handleResume();\n  };\n\n  const handleClickAway = event => {\n    if (onClose) {\n      onClose(event, 'clickaway');\n    }\n  };\n\n  const handleExited = node => {\n    setExited(true);\n\n    if (onExited) {\n      onExited(node);\n    }\n  };\n\n  const handleEnter = (node, isAppearing) => {\n    setExited(false);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  };\n\n  React.useEffect(() => {\n    // TODO: window global should be refactored here\n    if (!disableWindowBlurListener && open) {\n      window.addEventListener('focus', handleResume);\n      window.addEventListener('blur', handlePause);\n      return () => {\n        window.removeEventListener('focus', handleResume);\n        window.removeEventListener('blur', handlePause);\n      };\n    }\n\n    return undefined;\n  }, [disableWindowBlurListener, handleResume, open]);\n  React.useEffect(() => {\n    if (!open) {\n      return undefined;\n    }\n    /**\n     * @param {KeyboardEvent} nativeEvent\n     */\n\n\n    function handleKeyDown(nativeEvent) {\n      if (!nativeEvent.defaultPrevented) {\n        // IE11, Edge (prior to using Bink?) use 'Esc'\n        if (nativeEvent.key === 'Escape' || nativeEvent.key === 'Esc') {\n          // not calling `preventDefault` since we don't know if people may ignore this event e.g. a permanently open snackbar\n          if (onClose) {\n            onClose(nativeEvent, 'escapeKeyDown');\n          }\n        }\n      }\n    }\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [exited, open, onClose]); // So we only render active snackbars.\n\n  if (!open && exited) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsx(ClickAwayListener, _extends({\n    onClickAway: handleClickAway\n  }, ClickAwayListenerProps, {\n    children: /*#__PURE__*/_jsx(SnackbarRoot, _extends({\n      className: clsx(classes.root, className),\n      onBlur: handleBlur,\n      onFocus: handleFocus,\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      ownerState: ownerState,\n      ref: ref\n    }, other, {\n      children: /*#__PURE__*/_jsx(TransitionComponent, _extends({\n        appear: true,\n        in: open,\n        timeout: transitionDuration,\n        direction: vertical === 'top' ? 'down' : 'up',\n        onEnter: handleEnter,\n        onExited: handleExited\n      }, TransitionProps, {\n        children: children || /*#__PURE__*/_jsx(SnackbarContent, _extends({\n          message: message,\n          action: action\n        }, ContentProps))\n      }))\n    }))\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Snackbar.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the snackbar.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The anchor of the `Snackbar`.\n   * On smaller screens, the component grows to occupy all the available width,\n   * the horizontal alignment is ignored.\n   * @default { vertical: 'bottom', horizontal: 'left' }\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['center', 'left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The number of milliseconds to wait before automatically calling the\n   * `onClose` function. `onClose` should then set the state of the `open`\n   * prop to hide the Snackbar. This behavior is disabled by default with\n   * the `null` value.\n   * @default null\n   */\n  autoHideDuration: PropTypes.number,\n\n  /**\n   * Replace the `SnackbarContent` component.\n   */\n  children: PropTypes.element,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Props applied to the `ClickAwayListener` element.\n   */\n  ClickAwayListenerProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`SnackbarContent`](/api/snackbar-content/) element.\n   */\n  ContentProps: PropTypes.object,\n\n  /**\n   * If `true`, the `autoHideDuration` timer will expire even if the window is not focused.\n   * @default false\n   */\n  disableWindowBlurListener: PropTypes.bool,\n\n  /**\n   * When displaying multiple consecutive Snackbars from a parent rendering a single\n   * <Snackbar/>, add the key prop to ensure independent treatment of each message.\n   * e.g. <Snackbar key={message} />, otherwise, the message may update-in-place and\n   * features such as autoHideDuration may be canceled.\n   */\n  key: () => null,\n\n  /**\n   * The message to display.\n   */\n  message: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * Typically `onClose` is used to set state in the parent component,\n   * which is used to control the `Snackbar` `open` prop.\n   * The `reason` parameter can optionally be used to control the response to `onClose`,\n   * for example ignoring `clickaway`.\n   *\n   * @param {React.SyntheticEvent<any> | Event} event The event source of the callback.\n   * @param {string} reason Can be: `\"timeout\"` (`autoHideDuration` expired), `\"clickaway\"`, or `\"escapeKeyDown\"`.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseLeave: PropTypes.func,\n\n  /**\n   * If `true`, the component is shown.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * The number of milliseconds to wait before dismissing after user interaction.\n   * If `autoHideDuration` prop isn't specified, it does nothing.\n   * If `autoHideDuration` prop is specified but `resumeHideDuration` isn't,\n   * we default to `autoHideDuration / 2` ms.\n   */\n  resumeHideDuration: PropTypes.number,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The component used for the transition.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   * @default Grow\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   * @default {\n   *   enter: duration.enteringScreen,\n   *   exit: duration.leavingScreen,\n   * }\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })]),\n\n  /**\n   * Props applied to the transition element.\n   * By default, the element is based on this [`Transition`](http://reactcommunity.org/react-transition-group/transition/) component.\n   * @default {}\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default Snackbar;","import { faLink } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Alert, Box, Button, ButtonGroup, Snackbar } from \"@mui/material\";\nimport { useCallback, useContext, useState } from \"react\";\nimport { Redirect, useLocation } from \"react-router-dom\";\nimport CharacterDisplayCard from \"../PageCharacter/CharacterDisplayCard\";\nimport CardDark from \"../Components/Card/CardDark\";\nimport { CustomNumberInputButtonGroupWrapper, StyledInputBase } from \"../Components/CustomNumberInput\";\nimport { DatabaseContext } from \"../Database/Database\";\nimport { CharacterKey } from \"pipeline\";\n\nexport default function FlexDisplay() {\n  const location = useLocation()\n  const database = useContext(DatabaseContext)\n  const sheets = {} as any\n  const searchStr = location.search\n  const charKey: CharacterKey = \"Sucrose\" // TODO: hardcoded character\n  if (!sheets) return null\n  if (searchStr) {\n    // const flexResult = importFlex(searchStr.substring(1))\n    // if (!flexResult) return <Redirect to={`/`} />\n    // const [database, charKey, version] = flexResult\n    // if (version !== 4)\n    //   return <Redirect to={`/flex?${exportFlex(charKey, database, sheets)}`} />\n    return <DatabaseContext.Provider value={database}><Display characterKey={charKey} /></DatabaseContext.Provider>\n  } else {\n    const characterKey = (location as any).characterKey\n    if (!characterKey) return <Redirect to={`/`} />\n    const flexObj = undefined// exportFlex(characterKey, database, sheets)\n    if (!flexObj) return <Redirect to={`/`} />\n    window.scrollTo(0, 0)//sometimes the window isnt scrolled to the top on redirect.\n    return <Redirect to={`/flex?${flexObj}`} />\n  }\n}\nfunction Display({ characterKey }) {\n  const [open, setOpen] = useState(false);\n  const handleClick = useCallback(() => setOpen(true), [setOpen],)\n  const handleClose = useCallback(\n    (event, reason) => {\n      if (reason === 'clickaway') return;\n      setOpen(false);\n    }, [setOpen])\n  const copyToClipboard = useCallback(() => {\n    const url = window.location.href\n    navigator.clipboard.writeText(url).then(handleClick).catch(console.error)\n  }, [handleClick])\n  const isUpToDate = false\n  return <Box display=\"flex\" flexDirection=\"column\" gap={theme => theme.spacing(1)} mt={1} mb={1}>\n    <Snackbar open={open} autoHideDuration={5000} onClose={handleClose}>\n      <Alert variant=\"filled\" severity=\"success\" sx={{ width: '100%' }}>\n        URL copied to clipboard.\n      </Alert>\n    </Snackbar>\n    <CardDark>\n      <ButtonGroup sx={{ width: \"100%\" }}>\n        <Button color=\"info\" onClick={copyToClipboard} startIcon={<FontAwesomeIcon icon={faLink} />}>Copy URL to clipboard</Button>\n        <CustomNumberInputButtonGroupWrapper sx={{ flexBasis: 30, flexGrow: 1 }}>\n          <StyledInputBase readOnly value={window.location.href} onClick={e => {\n            const target = e.target as HTMLInputElement;\n            target.selectionStart = 0;\n            target.selectionEnd = target.value.length;\n          }} sx={{ px: 2 }} />\n        </CustomNumberInputButtonGroupWrapper>\n      </ButtonGroup>\n      {!!isUpToDate && <Alert variant=\"outlined\" sx={{ m: 1, mt: 2 }} severity=\"warning\" >This URL is generated on an older database version of Genshin Optimizer. The character data below might not be displayed as intended.</Alert>}\n    </CardDark>\n    <CharacterDisplayCard characterKey={characterKey} isFlex />\n  </Box>\n}\n"],"sourceRoot":""}