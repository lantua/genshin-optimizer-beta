(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[15],{265:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),c=Object(n.createContext)({})},271:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(8),c=a(14),r=a(31),o=a(32),i=a(268),l=a(128),s=a(275),u=a(17),b=a(262),j=a(1),d=a.e(27).then(a.bind(null,372)).then((function(e){return e.default})),h=function(e,t){return Object(j.jsx)(l.a,{ns:"artifact_".concat(e,"_gen"),key18:t})},O=d.then((function(e){return Object(s.f)(Object.values(e).map((function(e){return e.data})))})),f=function(){function e(t,a,n){var c=this;Object(r.a)(this,e),this.sheet=void 0,this.key=void 0,this.data=void 0,this.getSlotName=function(e){return h(c.key,"pieces.".concat(e,".name"))},this.getSlotDesc=function(e){return h(c.key,"pieces.".concat(e,".desc"))},this.setEffectDesc=function(e){return h(c.key,"setEffects.".concat(e))},this.setEffectDocument=function(e){var t;return null===(t=c.sheet.setEffects[e])||void 0===t?void 0:t.document},this.hasEnough=function(e,t){var a;return(null!==(a=t.get(b.b.artSet[c.key]).value)&&void 0!==a?a:0)>=e},this.sheet=a,this.key=t,this.data=n}return Object(o.a)(e,[{key:"name",get:function(){return h(this.key,"setName")}},{key:"defIconSrc",get:function(){var e=this.slots[0];if(this.slotIcons[e])return this.slotIcons[e]}},{key:"nameWithIcon",get:function(){var e=this.slots[0];return Object(j.jsxs)("span",{children:[Object(j.jsx)(i.a,{src:this.slotIcons[e]})," ",h(this.key,"setName")]})}},{key:"nameRaw",get:function(){return this.sheet.name}},{key:"rarity",get:function(){return this.sheet.rarity}},{key:"slots",get:function(){return this.key,Object(c.a)(u.j)}},{key:"slotIcons",get:function(){return this.sheet.icons}},{key:"setEffects",get:function(){return this.sheet.setEffects}}],[{key:"get",value:function(e){return e?d.then((function(t){return t[e]})):void 0}},{key:"getAll",get:function(){return d}},{key:"getAllData",get:function(){return O}},{key:"setKeysByRarities",value:function(e){var t={};return Object.entries(e).forEach((function(e){var a=Object(n.a)(e,2),r=a[0],o=a[1],i=Math.max.apply(Math,Object(c.a)(o.rarity));t[i]?t[i].push(r):t[i]=[r]})),t}},{key:"setEffects",value:function(e,t){var a={};return Object.entries(e).forEach((function(e){var c=Object(n.a)(e,2),r=c[0],o=c[1],i=Object.keys(o.setEffects).map((function(e){return parseInt(e)})).filter((function(e){return o.hasEnough(e,t)}));i.length&&(a[r]=i)})),a}}]),e}()},286:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(14),c=a(5),r=a(10),o=a(0),i=a(160),l=a(23);function s(e){var t=Object(o.useContext)(i.b);return Object(o.useCallback)((function(a){if(e)if("type"in a)switch(a.type){case"weapon":t.setWeaponLocation(a.id,e);break;case"enemyOverride":var o=t._getChar(e),i=o.enemyOverride,s=a.statKey,u=a.value;if(i[s]===u)break;t.updateChar(Object(r.a)(Object(r.a)({},o),{},{enemyOverride:Object(r.a)(Object(r.a)({},i),{},Object(c.a)({},s,u))}));break;case"editStats":var b=t._getChar(e),j=a.statKey,d=a.value,h=Object(l.e)(b.bonusStats);if(h[j]===d)break;d?h[j]=d:delete h[j],t.updateChar(Object(r.a)(Object(r.a)({},b),{},{bonusStats:h}));break;case"resetStats":var O=t._getChar(e),f=a.statKey,p=O.bonusStats;delete p[f],t.updateChar(Object(r.a)(Object(r.a)({},O),{},{bonusStats:p}));break;case"team":var x=t._getChar(e),v=x.team,g=a.index,m=a.charKey,y=v[g];if(v[g]=m,y){var C=t._getChar(y);C&&t.updateChar(Object(r.a)(Object(r.a)({},C),{},{team:["","",""]}))}if(m){var k=t._getChar(m);k&&k.team.forEach((function(e){if(e){var a=t._getChar(e);a&&t.updateChar(Object(r.a)(Object(r.a)({},a),{},{team:a.team.map((function(e){return e===m?"":e}))}))}}))}v.forEach((function(a,c){if(a){var o=t._getChar(a);o&&t.updateChar(Object(r.a)(Object(r.a)({},o),{},{team:[e].concat(Object(n.a)(v)).filter((function(e,t){return t!==c+1}))}))}})),t.updateChar(Object(r.a)(Object(r.a)({},x),{},{team:v}))}else t.updateChar(Object(r.a)(Object(r.a)({},t._getChar(e)),a))}),[e,t])}},298:function(e,t,a){"use strict";a.d(t,"a",(function(){return g})),a.d(t,"b",(function(){return m}));var n=a(14),c=a(105),r=a.n(c),o=a(5),i=a(292),l=a(10),s=a(127),u=a(8),b=a(0),j=a(271),d=a(272),h=a(160),O=a(262),f=a(275),p=a(23),x=a(277),v=a(294);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=Object(b.useContext)(h.b),n=Object(v.a)(),c=Object(u.a)(n,2),r=c[0],o=c[1],i=Object(b.useState)(void 0),j=Object(u.a)(i,2),d=j[0],O=j[1];Object(b.useEffect)((function(){m(a,e,t).then((function(e){return O(e)}))}),[r,e,a,t]);var x=null!==d&&void 0!==d?d:{},g=x.team,y=void 0===g?[]:g,C=x.teamData,k=x.teamBundle,w=Object(u.a)(y,4),S=w[0],I=w[1],K=w[2],z=w[3];if(Object(b.useEffect)((function(){return S?a.followChar(S,o):void 0}),[S,o,a]),Object(b.useEffect)((function(){return I?a.followChar(I,o):void 0}),[I,o,a]),Object(b.useEffect)((function(){return K?a.followChar(K,o):void 0}),[K,o,a]),Object(b.useEffect)((function(){return z?a.followChar(z,o):void 0}),[z,o,a]),C&&k){var D=Object(f.g)(C,e),M=Object(p.o)(D,(function(e,t){var a=k[t],n=(a.data,Object(s.a)(a,["data"]));return Object(l.a)(Object(l.a)({},e),n)}));return M}}function m(e,t){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(r.a.mark((function e(t,a){var n,c,l,s,u,b,j=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=j.length>2&&void 0!==j[2]?j[2]:0,c=j.length>3?j[3]:void 0,a){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,C(t,a,n,c);case 6:if(l=e.sent){e.next=9;break}return e.abrupt("return");case 9:return s=[a],u=Object(o.a)({},a,l),b=Object(o.a)({},a,l.data),e.next=14,Promise.all(l.character.team.map(function(){var e=Object(i.a)(r.a.mark((function e(a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,C(t,a);case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return");case 7:s.push(a),u[a]=n,b[a]=n.data;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:return e.abrupt("return",{team:s,teamData:b,teamBundle:u});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(r.a.mark((function e(t,a){var c,o,i,l,s,u,b,h,p,v=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=v.length>2&&void 0!==v[2]?v[2]:0,o=v.length>3?v[3]:void 0,a){e.next=4;break}return e.abrupt("return");case 4:if(i=t._getChar(a)){e.next=7;break}return e.abrupt("return");case 7:if(l=t._getWeapon(i.equippedWeapon)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,d.b.get(a);case 12:return s=e.sent,e.next=15,x.a.get(l.key);case 15:return u=e.sent,e.next=18,j.a.getAllData;case 18:if(b=e.sent,s&&u&&b){e.next=21;break}return e.abrupt("return");case 21:return h=(null!==o&&void 0!==o?o:Object.values(i.equippedArtifacts).map((function(e){return t._getArt(e)}))).filter((function(e){return e})),p=[].concat(Object(n.a)(h.map((function(e){return Object(f.b)(e,c)}))),[Object(f.c)(i),s.data,Object(f.d)(l),u.data,b,O.a]),e.abrupt("return",{character:i,weapon:l,characterSheet:s,weaponSheet:u,data:p});case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},301:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(10),c=a(127),r=a(791),o=a(0),i=a(273),l=a(17),s=a(268),u=a(289),b=a(1);function j(e){var t=e.value,a=e.onChange,j=Object(c.a)(e,["value","onChange"]),d=Object(o.useCallback)((function(e,t){return a(t||"")}),[a]);return Object(b.jsx)(u.a,Object(n.a)(Object(n.a)({exclusive:!0,onChange:d,value:t||l.l},j),{},{children:l.l.map((function(e){var t;return Object(b.jsx)(r.a,{value:e,children:Object(b.jsx)(s.a,{src:null===(t=i.a.weaponTypes)||void 0===t?void 0:t[e],size:2})},e)}))}))}},305:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(105),c=a.n(n),r=a(292),o=a(0),i=a(18),l=a(272),s=a(65),u=a(17),b=a(23);var j=a(160),d=a(135);function h(){var e=Object(o.useContext)(j.b),t=Object(i.g)();return Object(o.useCallback)(function(){var a=Object(r.a)(c.a.mark((function a(n){var r,o,i,j;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e._getChar(n)){a.next=12;break}return r={key:n,level:1,ascension:0,hitMode:"avgHit",reactionMode:"",equippedArtifacts:Object(b.m)(u.j,(function(){return""})),equippedWeapon:"",conditional:{},bonusStats:{},enemyOverride:{},buildSettings:Object(s.a)(),talent:{auto:1,skill:1,burst:1},infusionAura:"",constellation:0,team:["","",""],compareData:!1},e.updateChar(r),a.next=6,l.b.get(n);case 6:if(o=a.sent){a.next=9;break}return a.abrupt("return");case 9:i=Object(d.a)(o.weaponTypeKey),j=e.createWeapon(i),e.setWeaponLocation(j,n);case 12:t.push("/character/".concat(n));case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[t,e])}},308:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return r}));var n=a(8);function c(e,t,a){function n(e,t,a,n){var c=n.getValue(e),r=n.getValue(t);return(a?-1:1)*("string"===typeof c&&"string"===typeof r?c.localeCompare(r):r-c)}return function(c,r){if(!a[e])return 0;var o=a[e],i=n(c,r,t,o);return!i&&o.tieBreaker&&a[o.tieBreaker]&&(i=n(c,r,t,a[o.tieBreaker])),i}}function r(e,t){return function(a){return Object.entries(e).every((function(e){var c=Object(n.a)(e,2),r=c[0],o=c[1];return t[r](a,o)}))}}},310:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(10),c=a(127),r=a(54),o=a(53),i=a(740),l=a(790),s=a(258),u=a(126),b=a(72),j=a(270),d=a(1);function h(e){var t=e.sortKeys,a=e.value,h=e.onChange,O=e.ascending,f=e.onChangeAsc,p=Object(c.a)(e,["sortKeys","value","onChange","ascending","onChangeAsc"]),x=Object(u.a)("ui").t;return Object(d.jsxs)(i.a,Object(n.a)(Object(n.a)({},p),{},{children:[Object(d.jsx)(j.a,{title:Object(d.jsxs)(b.a,{t:x,i18nKey:"sortByFormat",value:x("sortMap.".concat(a)),children:["Sort By: ",{value:x("sortMap.".concat(a))}]}),children:t.map((function(e){return Object(d.jsx)(l.a,{selected:a===e,disabled:a===e,onClick:function(){return h(e)},children:x("sortMap.".concat(e))},e)}))}),Object(d.jsx)(s.a,{onClick:function(){return f(!O)},startIcon:Object(d.jsx)(o.a,{icon:O?r.x:r.y,className:"fa-fw"}),children:O?Object(d.jsx)(b.a,{t:x,i18nKey:"ascending",children:"Ascending"}):Object(d.jsx)(b.a,{t:x,i18nKey:"descending",children:"Descending"})})]}))}},327:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var n=a(8),c=a(405),r=a(158),o=a(443),i=a(233),l=a(402),s=a(73),u=a(252),b=a(0),j=a(271),d=a(267),h=a(263),O=a(299),f=a(268),p=a(269),x=a(274),v=a(276),g=a(47),m=a(160),y=a(265),C=a(262),k=a(275),w=a(104),S=a(286),I=a(266),K=a(298),z=a(17),D=a(277),M=a(1);function A(e){var t,a,n=e.characterKey,l=e.artifactChildren,s=e.weaponChildren,u=e.characterChildren,j=e.onClick,d=e.onClickHeader,f=e.footer,p=Object(b.useContext)(y.a).teamData,x=null!==(t=Object(K.a)(p?"":n))&&void 0!==t?t:p,v=null!==(a=null===x||void 0===x?void 0:x[n])&&void 0!==a?a:{},g=v.character,m=v.characterSheet,C=v.target,k=Object(b.useCallback)((function(){return n&&(null===j||void 0===j?void 0:j(n))}),[n,j]),w=Object(b.useCallback)((function(e){return Object(M.jsx)(c.a,{onClick:k,sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[k]),I=Object(S.a)(n);if(!x||!g||!m||!C)return null;var z={character:g,data:C,characterSheet:m,mainStatAssumptionLevel:0,teamData:x,characterDispatch:I};return Object(M.jsx)(b.Suspense,{fallback:Object(M.jsx)(r.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:Object(M.jsx)(y.a.Provider,{value:z,children:Object(M.jsxs)(h.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(M.jsxs)(O.a,{condition:!!j,wrapper:w,children:[Object(M.jsx)(T,{onClick:j?void 0:d}),Object(M.jsxs)(o.a,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:1,flexGrow:1},children:[Object(M.jsx)(E,{weaponId:g.equippedWeapon}),s,Object(M.jsxs)(i.a,{flexGrow:1,display:"flex",flexDirection:"column",gap:1,children:[Object(M.jsx)(R,{}),l]}),Object(M.jsx)(N,{}),u]})]}),f]})})})}function T(e){var t=e.onClick,a=Object(b.useContext)(y.a),n=a.data,r=a.characterSheet,o=n.get(C.d.charKey).value,j=n.get(C.d.charEle).value,d=n.get(C.d.lvl).value,h=n.get(C.d.constellation).value,f=n.get(C.d.asc).value,v=n.get(C.d.bonus.auto).value,m=n.get(C.d.bonus.skill).value,k=n.get(C.d.bonus.burst).value,w=n.get(C.d.total.auto).value,S=n.get(C.d.total.skill).value,I=n.get(C.d.total.burst).value,K=Object(b.useCallback)((function(e){return Object(M.jsx)(c.a,{onClick:function(){return o&&(null===t||void 0===t?void 0:t(o))},sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[t,o]);return Object(M.jsx)(O.a,{condition:!!t,wrapper:K,children:Object(M.jsxs)(i.a,{display:"flex",position:"relative",className:"grad-".concat(r.rarity,"star"),sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,backgroundImage:"url(".concat(r.bannerImg,")"),backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[Object(M.jsx)(i.a,{flexShrink:1,sx:{maxWidth:{xs:"40%",lg:"40%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:Object(M.jsx)(i.a,{component:"img",src:r.thumbImg,width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),Object(M.jsxs)(i.a,{flexGrow:1,sx:{py:1,pr:1},display:"flex",flexDirection:"column",zIndex:1,children:[Object(M.jsx)(l.a,{label:Object(M.jsx)(s.a,{variant:"subtitle1",children:r.name}),size:"small",color:j}),Object(M.jsxs)(u.a,{container:!0,spacing:1,flexWrap:"nowrap",children:[Object(M.jsxs)(u.a,{item:!0,sx:{textShadow:"0 0 5px gray"},children:[Object(M.jsxs)(s.a,{component:"span",variant:"h6",whiteSpace:"nowrap",children:["Lv. ",d]}),Object(M.jsxs)(s.a,{component:"span",variant:"h6",color:"text.secondary",children:["/",g.b[f]]})]}),Object(M.jsx)(u.a,{item:!0,children:Object(M.jsx)(s.a,{variant:"h6",children:Object(M.jsxs)(p.a,{children:["C",h]})})})]}),Object(M.jsxs)(u.a,{container:!0,spacing:1,flexWrap:"nowrap",children:[Object(M.jsx)(u.a,{item:!0,children:Object(M.jsx)(l.a,{color:v?"info":"secondary",label:Object(M.jsx)("strong",{children:w})})}),Object(M.jsx)(u.a,{item:!0,children:Object(M.jsx)(l.a,{color:m?"info":"secondary",label:Object(M.jsx)("strong",{children:S})})}),Object(M.jsx)(u.a,{item:!0,children:Object(M.jsx)(l.a,{color:k?"info":"secondary",label:Object(M.jsx)("strong",{children:I})})})]}),Object(M.jsx)(s.a,{mt:1,children:Object(M.jsx)(x.a,{stars:r.rarity,colored:!0})})]})]})})}function E(e){var t=e.weaponId,a=Object(b.useContext)(m.b)._getWeapon(t),n=Object(I.a)((null===a||void 0===a?void 0:a.key)&&D.a.get(a.key),[null===a||void 0===a?void 0:a.key]),c=Object(b.useMemo)((function(){return n&&a&&Object(k.a)([n.data,Object(k.d)(a)])}),[n,a]);if(!a||!n||!c)return null;var r=null===n||void 0===n?void 0:n.name,o=Object(k.h)(c.get(C.d.weapon.main).value,c.get(C.d.weapon.main).unit,0),l=c.get(C.d.weapon.sub).key,u=Object(k.h)(c.get(C.d.weapon.sub).value,c.get(C.d.weapon.sub).unit,"flat"===c.get(C.d.weapon.sub).unit?0:void 0),j=D.a.getLevelString(a);return Object(M.jsx)(d.a,{children:Object(M.jsxs)(i.a,{display:"flex",children:[Object(M.jsx)(i.a,{flexShrink:1,maxWidth:"35%",display:"flex",flexDirection:"column",alignContent:"flex-end",className:"grad-".concat(n.rarity,"star"),children:Object(M.jsx)(i.a,{component:"img",src:n.img,width:"100%",height:"auto",sx:{mt:"auto"}})}),Object(M.jsxs)(i.a,{flexGrow:1,sx:{p:1},children:[Object(M.jsx)(s.a,{variant:"body2",children:Object(M.jsx)("strong",{children:r})}),Object(M.jsxs)(s.a,{whiteSpace:"nowrap",lineHeight:1,children:[Object(M.jsxs)(p.a,{color:"primary",sx:{mr:1},children:["Lv. ",j]}),l&&Object(M.jsxs)(p.a,{color:"info",children:[" Refinement ",a.refinement]})]}),Object(M.jsxs)(s.a,{variant:"subtitle1",children:["ATK: ",o]}),l&&Object(M.jsxs)(s.a,{variant:"subtitle2",lineHeight:1,children:[w.b.get(l),": ",u]})]})]})})}function R(){var e=Object(b.useContext)(m.b),t=Object(b.useContext)(y.a).data,a=Object(I.a)(j.a.getAll,[]),c=Object(b.useMemo)((function(){return z.j.map((function(a){var n;return[a,e._getArt(null!==(n=t.get(C.d.art[a].id).value)&&void 0!==n?n:"")]}))}),[t,e]);return a?Object(M.jsx)(u.a,{container:!0,spacing:1,children:c.map((function(e){var t=Object(n.a)(e,2),c=t[0],r=t[1];if(!r)return null;var o=r.setKey,i=r.slotKey,s=r.mainStatKey;return Object(M.jsx)(u.a,{item:!0,flexGrow:1,children:Object(M.jsx)(l.a,{color:"secondary",sx:{width:"100%"},icon:Object(M.jsx)(f.a,{src:null===a||void 0===a?void 0:a[o].slotIcons[i],size:2.5}),label:Object(M.jsx)("span",{children:w.b.get(s)})})},c)}))}):null}function N(){var e=Object(b.useContext)(y.a).data,t=["hp","atk","def","eleMas","critRate_","critDMG_","enerRech_"];return t.push("".concat(e.get(C.d.charEle).value,"_dmg_")),"catalyst"!==e.get(C.d.weaponType).value&&t.push("physical_dmg_"),Object(M.jsxs)(i.a,{sx:{width:"100%"},children:[t.map((function(t){var a=e.get(C.d.total[t]),n=Object(k.h)(a.value,a.unit,"flat"===a.unit?0:void 0);return Object(M.jsxs)(i.a,{sx:{display:"flex"},children:[Object(M.jsx)(s.a,{flexGrow:1,color:"".concat(a.variant,".main"),children:Object(M.jsxs)("strong",{children:[v.a[t]," ",w.b.get(a.key)]})}),Object(M.jsx)(s.a,{children:n})]},t)})),e.get(C.d.special).key&&Object(M.jsxs)(i.a,{sx:{display:"flex"},children:[Object(M.jsx)(s.a,{flexGrow:1,children:Object(M.jsx)("strong",{children:"Specialized:"})}),Object(M.jsx)(s.a,{children:w.b.get(e.get(C.d.special).key)})]})]})}},334:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(14),c=a(8),r=a(443),o=a(252),i=a(240),l=a(405),s=a(233),u=a(73),b=a(0),j=a(273),d=a(272),h=a(160),O=a(262),f=a(266),p=a(298),x=a(17),v=a(335),g=a(308),m=a(267),y=a(263),C=a(279),k=a(268),w=a(283),S=a(310),I=a(269),K=a(274),z=a(276),D=a(345),M=a(301),A=a(1),T=["level","rarity","name"];function E(e){var t=e.show,a=e.onHide,l=e.onSelect,s=e.filter,u=void 0===s?function(){return!0}:s,j=e.newFirst,O=void 0!==j&&j,p=Object(b.useMemo)((function(){return O?["new"].concat(T):T}),[O]),y=Object(b.useContext)(h.b),k=Object(b.useState)(p[0]),I=Object(c.a)(k,2),K=I[0],z=I[1],E=Object(b.useState)(!1),N=Object(c.a)(E,2),_=N[0],V=N[1],G=Object(b.useState)(""),H=Object(c.a)(G,2),L=H[0],P=H[1],W=Object(b.useState)(""),B=Object(c.a)(W,2),F=B[0],q=B[1],U=Object(f.a)(d.b.getAll,[]),Y=Object(b.useMemo)((function(){return U&&Object(v.b)(y,U)}),[y,U]),J=Object(b.useMemo)((function(){return U&&Object(v.a)(U)}),[U]),Q=Object(b.useMemo)((function(){return U&&Y&&J?Object(n.a)(new Set(x.c)).filter((function(e){return u(y._getChar(e),U[e])})).filter(Object(g.a)({element:L,weaponType:F},J)).sort(Object(g.b)(K,_,Y)):[]}),[y,U,u,L,F,K,_,Y,J]);return U?Object(A.jsx)(w.a,{open:t,onClose:a,children:Object(A.jsxs)(m.a,{children:[Object(A.jsx)(r.a,{sx:{py:1},children:Object(A.jsxs)(o.a,{container:!0,spacing:1,children:[Object(A.jsx)(o.a,{item:!0,children:Object(A.jsx)(M.a,{sx:{height:"100%"},onChange:q,value:F,size:"small"})}),Object(A.jsx)(o.a,{item:!0,flexGrow:1,children:Object(A.jsx)(D.a,{sx:{height:"100%"},onChange:P,value:L,size:"small"})}),Object(A.jsx)(o.a,{item:!0,flexGrow:1}),Object(A.jsx)(o.a,{item:!0,children:Object(A.jsx)(S.a,{sx:{height:"100%"},sortKeys:p,value:K,onChange:z,ascending:_,onChangeAsc:V})}),Object(A.jsx)(o.a,{item:!0,children:Object(A.jsx)(C.a,{onClick:a})})]})}),Object(A.jsx)(i.a,{}),Object(A.jsx)(r.a,{children:Object(A.jsx)(o.a,{container:!0,spacing:1,children:Q.map((function(e){return Object(A.jsx)(o.a,{item:!0,xs:6,md:4,lg:3,children:Object(A.jsx)(R,{characterKey:e,onClick:function(){a(),null===l||void 0===l||l(e)}},e)},e)}))})})]})}):null}function R(e){var t,a,n=e.onClick,c=e.characterKey,r=Object(f.a)(d.b.get(c),[c]),o=Object(p.a)(c),i=(null!==(t=null===o||void 0===o?void 0:o[c])&&void 0!==t?t:{}).target;if(!r)return null;var b=r.rarity;return Object(A.jsx)(l.a,{onClick:n,children:Object(A.jsxs)(y.a,{sx:{display:"flex",alignItems:"center"},children:[Object(A.jsx)(s.a,{component:"img",src:r.thumbImg,sx:{width:130,height:"auto"},className:"grad-".concat(b,"star")}),Object(A.jsxs)(s.a,{sx:{pl:1},children:[Object(A.jsx)(u.a,{children:Object(A.jsx)("strong",{children:r.name})}),i?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(u.a,{variant:"h6",children:[" ",r.elementKey&&z.a[r.elementKey]," ",Object(A.jsx)(k.a,{src:null===(a=j.a.weaponTypes)||void 0===a?void 0:a[r.weaponTypeKey]})," ",d.b.getLevelString(i.get(O.d.lvl).value,i.get(O.d.asc).value)]}),Object(A.jsxs)(u.a,{children:[Object(A.jsx)(I.a,{color:"success",children:"C".concat(i.get(O.d.constellation).value)})," ",Object(A.jsx)(I.a,{color:i.get(O.d.bonus.auto).value?"info":"secondary",children:Object(A.jsx)("strong",{children:i.get(O.d.total.auto).value})})," ",Object(A.jsx)(I.a,{color:i.get(O.d.bonus.skill).value?"info":"secondary",children:Object(A.jsx)("strong",{children:i.get(O.d.total.skill).value})})," ",Object(A.jsx)(I.a,{color:i.get(O.d.bonus.burst).value?"info":"secondary",children:Object(A.jsx)("strong",{children:i.get(O.d.total.burst).value})})]})]}):Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(u.a,{variant:"h6",children:Object(A.jsx)(I.a,{color:"primary",children:"NEW"})})}),Object(A.jsx)("small",{children:Object(A.jsx)(K.a,{stars:b,colored:!0})})]})]})})}},335:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return r}));var n=["level","rarity","name"];function c(e,t){return{new:{getValue:function(t){return e._getChar(t)?0:1},tieBreaker:"name"},name:{getValue:function(e){return e}},level:{getValue:function(t){var a,n;return null!==(a=null===(n=e._getChar(t))||void 0===n?void 0:n.level)&&void 0!==a?a:0},tieBreaker:"rarity"},rarity:{getValue:function(e){var a;return null===t||void 0===t||null===(a=t[e])||void 0===a?void 0:a.rarity},tieBreaker:"level"}}}function r(e){return{element:function(t,a){var n;return!a||a===(null===e||void 0===e||null===(n=e[t])||void 0===n?void 0:n.elementKey)},weaponType:function(t,a){var n;return!a||a===(null===e||void 0===e||null===(n=e[t])||void 0===n?void 0:n.weaponTypeKey)}}}},345:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(10),c=a(127),r=a(786),o=a(233),i=a(0),l=a(17),s=a(9),u=a(791),b=Object(s.a)(u.a,{shouldForwardProp:function(e){return"baseColor"!==e&&"selectedColor"!==e}})((function(e){var t=e.theme,a=e.baseColor,n=void 0===a?"primary":a,c=e.selectedColor,r=void 0===c?"success":c;return{"&":{backgroundColor:t.palette[n].main,color:t.palette[n].contrastText},"&:hover":{backgroundColor:t.palette[n].dark},"&.Mui-selected":{backgroundColor:t.palette[r].main,color:t.palette[r].contrastText},"&.Mui-selected:hover":{backgroundColor:t.palette[r].dark},"&.Mui-disabled":{backgroundColor:t.palette[n].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:t.palette[r].dark}}})),j=a(276),d=a(1);function h(e){var t=e.value,a=e.onChange,s=Object(c.a)(e,["value","onChange"]),u=Object(i.useCallback)((function(e,t){return a(t||"")}),[a]);return Object(d.jsx)(r.a,Object(n.a)(Object(n.a)({exclusive:!0,onChange:u,value:t||l.d},s),{},{children:l.d.map((function(e){return Object(d.jsx)(b,{value:e,selectedColor:e,children:Object(d.jsx)(o.a,{sx:{fontSize:"2em",lineHeight:1},children:j.b[e]})},e)}))}))}},355:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(8),c=a(54),r=a(53),o=a(252),i=a(73),l=a(258),s=a(443),u=a(240),b=a(158),j=a(0),d=a(75),h=a(23),O=a(267),f=a(279),p=a(283),x=a(128),v=a(1);function g(e){var t,a,g=e.pageKey,m=void 0===g?"":g,y=e.text,C=void 0===y?"":y,k=e.modalTitle,w=void 0===k?"":k,S=e.children,I=Object(j.useState)(null===(t=null===(a=d.b.get("infoShown"))||void 0===a?void 0:a[m])||void 0===t||t),K=Object(n.a)(I,2),z=K[0],D=K[1],M=Object(j.useState)(Array.isArray(C)?Object(h.g)(C):C),A=Object(n.a)(M,1)[0],T=function(){var e,t=null!==(e=d.b.get("infoShown"))&&void 0!==e?e:{};t[m]=!1,d.b.set("infoShown",t),D(!1)};return Object(v.jsxs)(O.a,{children:[Object(v.jsxs)(o.a,{container:!0,children:[Object(v.jsx)(o.a,{item:!0,flexGrow:1,children:Object(v.jsx)(i.a,{variant:"caption",pl:1,children:A})}),Object(v.jsx)(o.a,{item:!0,xs:"auto",children:Object(v.jsx)(l.a,{size:"small",color:"info",variant:"contained",onClick:function(){return D(!0)},startIcon:Object(v.jsx)(r.a,{icon:c.v}),children:Object(v.jsx)(x.a,{ns:"ui",key18:"info"})})})]}),Object(v.jsx)(p.a,{containerProps:{maxWidth:"xl"},open:z,onClose:function(){return T()},children:Object(v.jsxs)(O.a,{children:[Object(v.jsx)(s.a,{sx:{py:1},children:Object(v.jsxs)(o.a,{container:!0,children:[Object(v.jsx)(o.a,{item:!0,flexGrow:1,children:Object(v.jsx)(i.a,{variant:"h6",children:w})}),Object(v.jsx)(o.a,{item:!0,children:Object(v.jsx)(f.a,{onClick:T})})]})}),Object(v.jsx)(u.a,{}),Object(v.jsx)(s.a,{children:Object(v.jsx)(j.Suspense,{fallback:Object(v.jsx)(b.a,{variant:"rectangular",width:"100%",height:500}),children:S})}),Object(v.jsx)(u.a,{}),Object(v.jsx)(s.a,{sx:{py:1},children:Object(v.jsx)(f.a,{large:!0,onClick:T})})]})})]})}},402:function(e,t,a){"use strict";var n=a(5),c=a(7),r=a(2),o=a(0),i=(a(3),a(6)),l=a(102),s=a(88),u=a(62),b=a(1),j=Object(u.a)(Object(b.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),d=a(28),h=a(12),O=a(210),f=a(11),p=a(9),x=a(89),v=a(103);function g(e){return Object(x.a)("MuiChip",e)}var m=Object(v.a)("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","focusVisible"]),y=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],C=Object(p.a)("div",{name:"MuiChip",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState,c=a.color,r=a.clickable,o=a.onDelete,i=a.size,l=a.variant;return[Object(n.a)({},"& .".concat(m.avatar),t.avatar),Object(n.a)({},"& .".concat(m.avatar),t["avatar".concat(Object(h.a)(i))]),Object(n.a)({},"& .".concat(m.avatar),t["avatarColor".concat(Object(h.a)(c))]),Object(n.a)({},"& .".concat(m.icon),t.icon),Object(n.a)({},"& .".concat(m.icon),t["icon".concat(Object(h.a)(i))]),Object(n.a)({},"& .".concat(m.icon),t["iconColor".concat(Object(h.a)(c))]),Object(n.a)({},"& .".concat(m.deleteIcon),t.deleteIcon),Object(n.a)({},"& .".concat(m.deleteIcon),t["deleteIcon".concat(Object(h.a)(i))]),Object(n.a)({},"& .".concat(m.deleteIcon),t["deleteIconColor".concat(Object(h.a)(c))]),Object(n.a)({},"& .".concat(m.deleteIcon),t["deleteIconOutlinedColor".concat(Object(h.a)(c))]),t.root,t["size".concat(Object(h.a)(i))],t["color".concat(Object(h.a)(c))],r&&t.clickable,r&&"default"!==c&&t["clickableColor".concat(Object(h.a)(c),")")],o&&t.deletable,o&&"default"!==c&&t["deletableColor".concat(Object(h.a)(c))],t[l],"outlined"===l&&t["outlined".concat(Object(h.a)(c))]]}})((function(e){var t,a=e.theme,c=e.ownerState,o=Object(s.a)(a.palette.text.primary,.26);return Object(r.a)((t={fontFamily:a.typography.fontFamily,fontSize:a.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:a.palette.text.primary,backgroundColor:a.palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:a.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box"},Object(n.a)(t,"&.".concat(m.disabled),{opacity:a.palette.action.disabledOpacity,pointerEvents:"none"}),Object(n.a)(t,"& .".concat(m.avatar),{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===a.palette.mode?a.palette.grey[700]:a.palette.grey[300],fontSize:a.typography.pxToRem(12)}),Object(n.a)(t,"& .".concat(m.avatarColorPrimary),{color:a.palette.primary.contrastText,backgroundColor:a.palette.primary.dark}),Object(n.a)(t,"& .".concat(m.avatarColorSecondary),{color:a.palette.secondary.contrastText,backgroundColor:a.palette.secondary.dark}),Object(n.a)(t,"& .".concat(m.avatarSmall),{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:a.typography.pxToRem(10)}),Object(n.a)(t,"& .".concat(m.icon),Object(r.a)({color:"light"===a.palette.mode?a.palette.grey[700]:a.palette.grey[300],marginLeft:5,marginRight:-6},"small"===c.size&&{fontSize:18,marginLeft:4,marginRight:-4},"default"!==c.color&&{color:"inherit"})),Object(n.a)(t,"& .".concat(m.deleteIcon),Object(r.a)({WebkitTapHighlightColor:"transparent",color:o,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Object(s.a)(o,.4)}},"small"===c.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==c.color&&{color:Object(s.a)(a.palette[c.color].contrastText,.7),"&:hover, &:active":{color:a.palette[c.color].contrastText}})),t),"small"===c.size&&{height:24},"default"!==c.color&&{backgroundColor:a.palette[c.color].main,color:a.palette[c.color].contrastText},c.onDelete&&Object(n.a)({},"&.".concat(m.focusVisible),{backgroundColor:Object(s.a)(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}),c.onDelete&&"default"!==c.color&&Object(n.a)({},"&.".concat(m.focusVisible),{backgroundColor:a.palette[c.color].dark}))}),(function(e){var t,a=e.theme,c=e.ownerState;return Object(r.a)({},c.clickable&&(t={userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:Object(s.a)(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity)}},Object(n.a)(t,"&.".concat(m.focusVisible),{backgroundColor:Object(s.a)(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}),Object(n.a)(t,"&:active",{boxShadow:a.shadows[1]}),t),c.clickable&&"default"!==c.color&&Object(n.a)({},"&:hover, &.".concat(m.focusVisible),{backgroundColor:a.palette[c.color].dark}))}),(function(e){var t,a,c=e.theme,o=e.ownerState;return Object(r.a)({},"outlined"===o.variant&&(t={backgroundColor:"transparent",border:"1px solid ".concat("light"===c.palette.mode?c.palette.grey[400]:c.palette.grey[700])},Object(n.a)(t,"&.".concat(m.clickable,":hover"),{backgroundColor:c.palette.action.hover}),Object(n.a)(t,"&.".concat(m.focusVisible),{backgroundColor:c.palette.action.focus}),Object(n.a)(t,"& .".concat(m.avatar),{marginLeft:4}),Object(n.a)(t,"& .".concat(m.avatarSmall),{marginLeft:2}),Object(n.a)(t,"& .".concat(m.icon),{marginLeft:4}),Object(n.a)(t,"& .".concat(m.iconSmall),{marginLeft:2}),Object(n.a)(t,"& .".concat(m.deleteIcon),{marginRight:5}),Object(n.a)(t,"& .".concat(m.deleteIconSmall),{marginRight:3}),t),"outlined"===o.variant&&"default"!==o.color&&(a={color:c.palette[o.color].main,border:"1px solid ".concat(Object(s.a)(c.palette[o.color].main,.7))},Object(n.a)(a,"&.".concat(m.clickable,":hover"),{backgroundColor:Object(s.a)(c.palette[o.color].main,c.palette.action.hoverOpacity)}),Object(n.a)(a,"&.".concat(m.focusVisible),{backgroundColor:Object(s.a)(c.palette[o.color].main,c.palette.action.focusOpacity)}),Object(n.a)(a,"& .".concat(m.deleteIcon),{color:Object(s.a)(c.palette[o.color].main,.7),"&:hover, &:active":{color:c.palette[o.color].main}}),a))})),k=Object(p.a)("span",{name:"MuiChip",slot:"Label",overridesResolver:function(e,t){var a=e.ownerState.size;return[t.label,t["label".concat(Object(h.a)(a))]]}})((function(e){var t=e.ownerState;return Object(r.a)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===t.size&&{paddingLeft:8,paddingRight:8})}));function w(e){return"Backspace"===e.key||"Delete"===e.key}var S=o.forwardRef((function(e,t){var a=Object(f.a)({props:e,name:"MuiChip"}),n=a.avatar,s=a.className,u=a.clickable,p=a.color,x=void 0===p?"default":p,v=a.component,m=a.deleteIcon,S=a.disabled,I=void 0!==S&&S,K=a.icon,z=a.label,D=a.onClick,M=a.onDelete,A=a.onKeyDown,T=a.onKeyUp,E=a.size,R=void 0===E?"medium":E,N=a.variant,_=void 0===N?"filled":N,V=Object(c.a)(a,y),G=o.useRef(null),H=Object(d.a)(G,t),L=function(e){e.stopPropagation(),M&&M(e)},P=!(!1===u||!D)||u,W="small"===R,B=P||M?O.a:v||"div",F=Object(r.a)({},a,{component:B,disabled:I,size:R,color:x,onDelete:!!M,clickable:P,variant:_}),q=function(e){var t=e.classes,a=e.disabled,n=e.size,c=e.color,r=e.onDelete,o=e.clickable,i=e.variant,s={root:["root",i,a&&"disabled","size".concat(Object(h.a)(n)),"color".concat(Object(h.a)(c)),o&&"clickable",o&&"clickableColor".concat(Object(h.a)(c)),r&&"deletable",r&&"deletableColor".concat(Object(h.a)(c)),"".concat(i).concat(Object(h.a)(c))],label:["label","label".concat(Object(h.a)(n))],avatar:["avatar","avatar".concat(Object(h.a)(n)),"avatarColor".concat(Object(h.a)(c))],icon:["icon","icon".concat(Object(h.a)(n)),"iconColor".concat(Object(h.a)(c))],deleteIcon:["deleteIcon","deleteIcon".concat(Object(h.a)(n)),"deleteIconColor".concat(Object(h.a)(c)),"deleteIconOutlinedColor".concat(Object(h.a)(c))]};return Object(l.a)(s,g,t)}(F),U=B===O.a?Object(r.a)({component:v||"div",focusVisibleClassName:q.focusVisible},M&&{disableRipple:!0}):{},Y=null;if(M){var J=Object(i.a)("default"!==x&&("outlined"===_?q["deleteIconOutlinedColor".concat(Object(h.a)(x))]:q["deleteIconColor".concat(Object(h.a)(x))]),W&&q.deleteIconSmall);Y=m&&o.isValidElement(m)?o.cloneElement(m,{className:Object(i.a)(m.props.className,q.deleteIcon,J),onClick:L}):Object(b.jsx)(j,{className:Object(i.a)(q.deleteIcon,J),onClick:L})}var Q=null;n&&o.isValidElement(n)&&(Q=o.cloneElement(n,{className:Object(i.a)(q.avatar,n.props.className)}));var X=null;return K&&o.isValidElement(K)&&(X=o.cloneElement(K,{className:Object(i.a)(q.icon,K.props.className)})),Object(b.jsxs)(C,Object(r.a)({as:B,className:Object(i.a)(q.root,s),disabled:!(!P||!I)||void 0,onClick:D,onKeyDown:function(e){e.currentTarget===e.target&&w(e)&&e.preventDefault(),A&&A(e)},onKeyUp:function(e){e.currentTarget===e.target&&(M&&w(e)?M(e):"Escape"===e.key&&G.current&&G.current.blur()),T&&T(e)},ref:H,ownerState:F},U,V,{children:[Q||X,Object(b.jsx)(k,{className:Object(i.a)(q.label),ownerState:F,children:z}),Y]}))}));t.a=S},405:function(e,t,a){"use strict";var n=a(5),c=a(2),r=a(7),o=a(0),i=(a(3),a(6)),l=a(102),s=a(11),u=a(9),b=a(89),j=a(103);function d(e){return Object(b.a)("MuiCardActionArea",e)}var h=Object(j.a)("MuiCardActionArea",["root","focusVisible","focusHighlight"]),O=a(210),f=a(1),p=["children","className","focusVisibleClassName"],x=Object(u.a)(O.a,{name:"MuiCardActionArea",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t,a=e.theme;return t={display:"block",textAlign:"inherit",width:"100%"},Object(n.a)(t,"&:hover .".concat(h.focusHighlight),{opacity:a.palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}}),Object(n.a)(t,"&.".concat(h.focusVisible," .").concat(h.focusHighlight),{opacity:a.palette.action.focusOpacity}),t})),v=Object(u.a)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:function(e,t){return t.focusHighlight}})((function(e){var t=e.theme;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}})),g=o.forwardRef((function(e,t){var a=Object(s.a)({props:e,name:"MuiCardActionArea"}),n=a.children,o=a.className,u=a.focusVisibleClassName,b=Object(r.a)(a,p),j=a,h=function(e){var t=e.classes;return Object(l.a)({root:["root"],focusHighlight:["focusHighlight"]},d,t)}(j);return Object(f.jsxs)(x,Object(c.a)({className:Object(i.a)(h.root,o),focusVisibleClassName:Object(i.a)(u,h.focusVisible),ref:t,ownerState:j},b,{children:[n,Object(f.jsx)(v,{className:h.focusHighlight,ownerState:j})]}))}));t.a=g},784:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return J}));var n=a(18),c=a(105),r=a.n(c),o=a(292),i=a(8),l=a(10),s=a(54),u=a(53),b=a(233),j=a(252),d=a(158),h=a(443),O=a(73),f=a(258),p=a(240),x=a(114),v=a(0),g=a.n(v),m=a(76),y=a(48),C=a(267),k=a(334),w=a(310),S=a(345),I=a(301),K=a(160),z=a(75),D=a(305),M=a(294),A=a(266),T=a(335),E=a(308),R=a(327),N=a(272),_=a(1),V=function(){return{sortType:T.c[0],ascending:!1,weaponType:"",element:""}};function G(e,t){return Object(l.a)(Object(l.a)({},e),t)}function H(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return Object(l.a)(Object(l.a)({},t),null!==(e=z.b.get("CharacterDisplay.state"))&&void 0!==e?e:{})}function L(e){var t=Object(v.useContext)(K.b),a=Object(v.useReducer)(G,V(),H),n=Object(i.a)(a,2),c=n[0],l=n[1],g=Object(v.useState)(!1),L=Object(i.a)(g,2),P=L[0],W=L[1],B=Object(M.a)(),F=Object(i.a)(B,2),q=F[0],U=F[1];Object(v.useEffect)((function(){return m.a.pageview("/character"),t.followAnyChar(U)}),[U,t]);var Y=Object(A.a)(N.b.getAll,[]);Object(v.useEffect)((function(){z.b.set("CharacterDisplay.state",c)}),[c]);var J=Object(v.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.get(a);case 2:if(n=e.sent,"object"===typeof(c=null===n||void 0===n?void 0:n.name)&&(c=x.a.t("char_".concat(a,"_gen:name"))),window.confirm("Are you sure you want to remove ".concat(c,"?"))){e.next=7;break}return e.abrupt("return");case 7:t.removeChar(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),Q=Object(D.a)(),X=c.element,Z=c.weaponType,$=Object(v.useMemo)((function(){return Y&&Object(T.b)(t,Y)}),[t,Y]),ee=Object(v.useMemo)((function(){return Y&&Object(T.a)(Y)}),[Y]),te=Object(v.useMemo)((function(){return $&&ee&&q&&t._getCharKeys().filter(Object(E.a)({element:X,weaponType:Z},ee)).sort(Object(E.b)(c.sortType,c.ascending,$))}),[q,t,$,c.sortType,c.ascending,X,ee,Z]);return Object(_.jsxs)(b.a,{my:1,display:"flex",flexDirection:"column",gap:1,children:[Object(_.jsx)(C.a,{sx:{p:2},children:Object(_.jsxs)(j.a,{container:!0,spacing:1,children:[Object(_.jsx)(j.a,{item:!0,children:Object(_.jsx)(I.a,{sx:{height:"100%"},onChange:function(e){return l({weaponType:e})},value:c.weaponType,size:"small"})}),Object(_.jsx)(j.a,{item:!0,flexGrow:1,children:Object(_.jsx)(S.a,{sx:{height:"100%"},onChange:function(e){return l({element:e})},value:c.element,size:"small"})}),Object(_.jsx)(j.a,{item:!0,children:Object(_.jsx)(w.a,{sx:{height:"100%"},sortKeys:T.c,value:c.sortType,onChange:function(e){return l({sortType:e})},ascending:c.ascending,onChangeAsc:function(e){return l({ascending:e})}})})]})}),Object(_.jsx)(j.a,{container:!0,spacing:1,children:Object(_.jsxs)(v.Suspense,{fallback:Object(_.jsx)(j.a,{item:!0,xs:12,children:Object(_.jsx)(d.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}})}),children:[Object(_.jsx)(j.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(_.jsxs)(C.a,{sx:{height:"100%",minHeight:400,width:"100%",display:"flex",flexDirection:"column"},children:[Object(_.jsx)(h.a,{children:Object(_.jsx)(O.a,{sx:{textAlign:"center"},children:"Add New Character"})}),Object(_.jsx)(k.a,{newFirst:!0,show:P,onHide:function(){return W(!1)},onSelect:Q}),Object(_.jsx)(b.a,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(_.jsx)(f.a,{onClick:function(){return W(!0)},sx:{borderRadius:"1em"},children:Object(_.jsx)(O.a,{variant:"h1",children:Object(_.jsx)(u.a,{icon:s.u,className:"fa-fw"})})})})]})}),!!te&&te.map((function(e){return Object(_.jsx)(j.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(_.jsx)(R.a,{characterKey:e,onClick:Q,footer:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(p.a,{}),Object(_.jsxs)(j.a,{container:!0,spacing:1,sx:{py:1,px:2},children:[Object(_.jsx)(j.a,{item:!0,children:Object(_.jsx)(f.a,{size:"small",component:y.b,to:{pathname:"/build",characterKey:e},startIcon:Object(_.jsx)(u.a,{icon:s.d}),children:"Build"})}),Object(_.jsx)(j.a,{item:!0,flexGrow:1,children:Object(_.jsx)(f.a,{size:"small",color:"info",component:y.b,to:{pathname:"/flex",characterKey:e},startIcon:Object(_.jsx)(u.a,{icon:s.t}),children:"Share"})}),Object(_.jsx)(j.a,{item:!0,children:Object(_.jsx)(f.a,{size:"small",color:"error",startIcon:Object(_.jsx)(u.a,{icon:s.C}),onClick:function(){return J(e)},children:"Delete"})})]})]})})},e)}))]})})]})}var P=a(279),W=a(355),B=a(17),F=g.a.lazy((function(){return a.e(31).then(a.bind(null,781))})),q=Object(v.lazy)((function(){return Promise.all([a.e(1),a.e(3),a.e(5),a.e(20),a.e(13)]).then(a.bind(null,375))}));function U(){var e,t=Object(n.g)(),a=Object(n.i)().characterKey;return!B.c.includes(null!==(e=a)&&void 0!==e?e:"")?Object(_.jsx)(n.a,{to:"/character"}):Object(_.jsxs)(b.a,{my:1,display:"flex",flexDirection:"column",gap:1,children:[Object(_.jsx)(W.a,{pageKey:"characterPage",modalTitle:"Character Page Guide",text:["Every character will be tested with in-game numbers for maximum accuracy.","You can see the details of the calculations of every number.","You need to manually enable auto infusion for characters like Choungyun or Noelle.",'You can change character constellations in both "Character" tab and in "Talents" tab.',"Modified character Stats are bolded."],children:Object(_.jsx)(F,{})}),a&&Object(_.jsx)(g.a.Suspense,{fallback:Object(_.jsx)(d.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object(_.jsx)(q,{characterKey:a,onClose:function(){return t.push("/character")},footer:Object(_.jsx)(Y,{onClose:function(){return t.push("/character")},characterKey:a})})})]})}function Y(e){var t=e.onClose,a=e.characterKey;return Object(_.jsxs)(j.a,{container:!0,spacing:1,children:[Object(_.jsx)(j.a,{item:!0,children:Object(_.jsx)(f.a,{component:y.b,to:{pathname:"/build",characterKey:a},startIcon:Object(_.jsx)(u.a,{icon:s.d}),children:"Generate Builds"})}),Object(_.jsx)(j.a,{item:!0,flexGrow:1,children:Object(_.jsx)(f.a,{color:"info",component:y.b,to:{pathname:"/flex",characterKey:a},startIcon:Object(_.jsx)(u.a,{icon:s.t}),children:"Share Character"})}),Object(_.jsx)(j.a,{item:!0,xs:"auto",children:Object(_.jsx)(P.a,{large:!0,onClick:t})})]})}function J(){var e=Object(n.j)();return Object(_.jsxs)(n.d,{children:[Object(_.jsx)(n.b,{path:"".concat(e.path,"/:characterKey"),children:Object(_.jsx)(U,{})}),Object(_.jsx)(n.b,{path:e.path,children:Object(_.jsx)(L,{})})]})}}}]);
//# sourceMappingURL=15.4b988375.chunk.js.map