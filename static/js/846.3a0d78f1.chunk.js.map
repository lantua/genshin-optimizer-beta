{"version":3,"file":"static/js/846.3a0d78f1.chunk.js","mappings":"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","sources":["Data/Characters/AratakiItto/index.tsx","Data/Characters/Bennett/index.tsx","Data/Characters/Eula/index.tsx","Data/Characters/HuTao/index.tsx","Data/Characters/KaedeharaKazuha/index.tsx","Data/Characters/KamisatoAyaka/index.tsx","Data/Characters/KujouSara/index.tsx","Data/Characters/Mona/index.tsx","Data/Characters/Noelle/index.tsx","Data/Characters/RaidenShogun/index.tsx","Data/Characters/Shenhe/index.tsx","Data/Characters/Sucrose/index.tsx","Data/Characters/Xiangling/index.tsx","Data/Characters/Xingqiu/index.tsx","Data/Characters/YaeMiko/index.tsx","Data/Characters/Yoimiya/index.tsx","Data/Characters/YunJin/index.tsx","Data/Characters/index.ts","Data/SheetUtil.tsx"],"sourcesContent":["import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\n\r\nconst key: CharacterKey = \"AratakiItto\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0],\r\n      skillParam_gen.auto[1],\r\n      skillParam_gen.auto[2],\r\n      skillParam_gen.auto[3],\r\n    ]\r\n  },\r\n  charged: {\r\n    sSlash: skillParam_gen.auto[4],\r\n    akSlash: skillParam_gen.auto[5],\r\n    akFinal: skillParam_gen.auto[6],\r\n    stam: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  ss: { //Superlative Superstrength\r\n    duration: skillParam_gen.auto[11][0],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[0],\r\n    hp: skillParam_gen.skill[1],\r\n    duration: skillParam_gen.skill[2][0],\r\n    ss_cd: skillParam_gen.skill[3][0],\r\n    cd: skillParam_gen.skill[4][0],\r\n  },\r\n  burst: {\r\n    atkSpd: skillParam_gen.burst[0][0],\r\n    defConv: skillParam_gen.burst[1],\r\n    resDec: skillParam_gen.burst[2][0],\r\n    duration: skillParam_gen.burst[3][0],\r\n    cd: skillParam_gen.burst[4][0],\r\n    cost: skillParam_gen.burst[5][0],\r\n  },\r\n  passive1: {\r\n    maxStacks: 3,\r\n    atkSPD_: 0.10\r\n  },\r\n  passive2: {\r\n    def_: skillParam_gen.passive2[0][0],\r\n  },\r\n  constellation4: {\r\n    def_: skillParam_gen.constellation4[0],\r\n    atk_: skillParam_gen.constellation4[1],\r\n    duration: skillParam_gen.constellation4[2],\r\n  },\r\n  constellation6: {\r\n    charged_critDMG_: skillParam_gen.constellation6[0],\r\n  }\r\n}\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst [condP1Path, condP1] = cond(key, \"passive1\")\r\nconst [condC4Path, condC4] = cond(key, \"constellation4\")\r\n\r\nconst nodeSkillHP = prod(subscript(input.total.skillIndex, datamine.skill.hp, { key: 'hp_' }), input.total.hp)\r\nconst nodeBurstAtk = equal(condBurst, \"on\", prod(subscript(input.total.burstIndex, datamine.burst.defConv, { key: 'def_' }), input.total.def))\r\nconst nodeBurstAtkSpd = equal(condBurst, \"on\", datamine.burst.atkSpd, { key: 'atkSPD_' })\r\nconst allNodeBurstRes = Object.fromEntries(allElementsWithPhy.map(ele => [`${ele}_res_`, equal(condBurst, \"on\", -datamine.burst.resDec)]))\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"geo\")\r\nconst nodeA4Bonus = greaterEq(input.asc, 4, prod(percent(datamine.passive2.def_), input.total.def))\r\nconst nodeP1AtkSpd = greaterEq(input.asc, 4, lookup(condP1, Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i => [i, constant(datamine.passive1.atkSPD_ * i)])), 0, { key: 'atkSPD_' }))\r\nconst nodeC4Atk = equal(condC4, \"on\", greaterEq(input.constellation, 4, datamine.constellation4.atk_))\r\nconst nodeC4Def = equal(condC4, \"on\", greaterEq(input.constellation, 4, datamine.constellation4.def_))\r\nconst nodeC6CritDMG = greaterEq(input.constellation, 6, datamine.constellation6.charged_critDMG_)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    sSlash: dmgNode(\"atk\", datamine.charged.sSlash, \"charged\"),\r\n    akSlash: customDmgNode(sum(\r\n      prod(subscript(input.total.autoIndex, datamine.charged.akSlash, { key: '_' }), input.total.atk),\r\n      nodeA4Bonus), \"charged\"),\r\n    akFinal: customDmgNode(sum(\r\n      prod(subscript(input.total.autoIndex, datamine.charged.akFinal, { key: '_' }), input.total.atk),\r\n      nodeA4Bonus), \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    hp: nodeSkillHP\r\n  },\r\n  burst: {\r\n    defConv: nodeBurstAtk,\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: nodeC4Atk,\r\n      def_: nodeC4Def,\r\n    }\r\n  },\r\n  premod: {\r\n    charged_critDMG_: nodeC6CritDMG,\r\n    atk: nodeBurstAtk,\r\n    atkSPD_: sum(nodeBurstAtkSpd, nodeP1AtkSpd),\r\n    ...allNodeBurstRes\r\n  },\r\n  infusion: nodeBurstInfusion\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"geo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        },\r\n        {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.akSlash, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.akFinal, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.ss.duration,\r\n            unit: \"s\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.sSlash, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.8\"),\r\n            value: datamine.charged.stam,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }\r\n        ],\r\n      },\r\n      skill: {\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [\r\n            {\r\n              node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.skill.hp, { key: `char_${key}_gen:skill.skillParams.1`, variant: \"success\" }),\r\n            }, {\r\n              text: tr(\"skill.skillParams.2\"),\r\n              value: datamine.skill.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: tr(\"skill.skillParams.3\"),\r\n              value: datamine.skill.cd,\r\n              unit: \"s\"\r\n            }\r\n          ],\r\n        }],\r\n      },\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cost,\r\n      }], {\r\n        name: tr(\"burst.name\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n                text: st(\"infusion.geo\"),\r\n                variant: \"geo\",\r\n              }, {\r\n                node: nodeBurstAtkSpd,\r\n              },\r\n              ...Object.values(allNodeBurstRes).map(node => ({ node })),\r\n              {\r\n                node: infoMut(nodeBurstAtk, { key: `char_${key}_gen:burst.skillParams.0` })\r\n              }, {\r\n                text: tr(\"burst.skillParams.2\"),\r\n                value: datamine.burst.duration,\r\n                unit: \"s\"\r\n              }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        name: trm(\"a1.name\"),\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        value: condP1,\r\n        path: condP1Path,\r\n        states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i =>\r\n          [i, {\r\n            name: st(\"stack_one\", { count: i }),\r\n            fields: [\r\n              {\r\n                node: nodeP1AtkSpd\r\n              },\r\n            ]\r\n          }]))\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        header: conditionalHeader(\"constellation4\", tr, c4),\r\n        description: tr(\"constellation4.description\"),\r\n        name: trm(\"c4.name\"),\r\n        teamBuff: true,\r\n        value: condC4,\r\n        path: condC4Path,\r\n        states: {\r\n          on: {\r\n            fields: [\r\n              {\r\n                node: nodeC4Atk\r\n              }, {\r\n                node: nodeC4Def\r\n              },\r\n              {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.constellation4.duration,\r\n                unit: \"s\"\r\n              }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, [{ node: nodeC6CritDMG }])\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from '../../../Formula'\r\nimport { UIData } from '../../../Formula/uiData'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Bennett\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold1_1: skillParam_gen.skill[s++],\r\n    hold1_2: skillParam_gen.skill[s++],\r\n    hold2_1: skillParam_gen.skill[s++],\r\n    hold2_2: skillParam_gen.skill[s++],\r\n    explosion: skillParam_gen.skill[s++],\r\n    cd_press: skillParam_gen.skill[s++][0],\r\n    cd_hold1: skillParam_gen.skill[s++][0],\r\n    cd_hold2: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    regen_: skillParam_gen.burst[b++],\r\n    regenFlat: skillParam_gen.burst[b++],\r\n    atkBonus: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    cd_red: 20, // Not in the datamine for some reason\r\n  },\r\n  passive2: {\r\n    cd_red: 50, // Not in the datamine for some reason\r\n  },\r\n  constellation1: {\r\n    atk_inc: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    hp_thresh: skillParam_gen.constellation2[0],\r\n    er_inc: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    dmg: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    pyro_dmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst c1Atk = greaterEq(input.constellation, 1, datamine.constellation1.atk_inc)\r\n\r\nconst atkIncRatio = sum(subscript(input.total.burstIndex, datamine.burst.atkBonus), c1Atk)\r\nconst [condInAreaPath, condInArea] = cond(key, \"inArea\")\r\nconst inArea = equal(\"inArea\", condInArea, 1)\r\nconst inAreaAtk = equal(inArea, 1,\r\n  prod(atkIncRatio, input.base.atk))\r\n\r\nconst inAreaA4 = greaterEq(input.asc, 4,\r\n  equal(inArea, 1, datamine.passive2.cd_red))\r\n\r\nconst c6AndCorrectWep = greaterEq(input.constellation, 6,\r\n  lookup(target.weaponType,\r\n    { \"sword\": constant(1), \"claymore\": constant(1), \"polearm\": constant(1) }, constant(0)))\r\nconst inAreaC6PyroDmg = equal(inArea, 1,\r\n  equal(c6AndCorrectWep, 1, datamine.constellation6.pyro_dmg))\r\nconst inAreaC6Infusion = equalStr(inArea, 1,\r\n  equalStr(c6AndCorrectWep, 1, elementKey))\r\n\r\nconst [condUnderHPPath, condUnderHP] = cond(key, \"underHP\")\r\nconst underHP = greaterEq(input.constellation, 2,\r\n  equal(\"underHP\", condUnderHP, datamine.constellation2.er_inc))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold1_1: dmgNode(\"atk\", datamine.skill.hold1_1, \"skill\"),\r\n    hold1_2: dmgNode(\"atk\", datamine.skill.hold1_2, \"skill\"),\r\n    hold2_1: dmgNode(\"atk\", datamine.skill.hold2_1, \"skill\"),\r\n    hold2_2: dmgNode(\"atk\", datamine.skill.hold2_2, \"skill\"),\r\n    explosion: dmgNode(\"atk\", datamine.skill.explosion, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    regen: healNodeTalent(\"hp\", datamine.burst.regen_, datamine.burst.regenFlat, \"burst\"),\r\n    atkInc: inAreaAtk,\r\n  },\r\n  constellation1: {\r\n    addlATK: prod(c1Atk, input.base.atk)\r\n  },\r\n  constellation4: {\r\n    dmg: prod(dmgNode(\"atk\", datamine.skill.hold1_2, \"skill\"), datamine.constellation4.dmg)\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      pyro_dmg_: inAreaC6PyroDmg,\r\n      atk: inAreaAtk,\r\n    },\r\n    team: {\r\n      infusion: inAreaC6Infusion,\r\n    },\r\n  },\r\n  premod: {\r\n    enerRech_: underHP,\r\n\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((percentArr, i) =>\r\n          ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        // Press\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}:skill.pressDMG` }),\r\n      }, {\r\n        text: sgt(\"press.cd\"),\r\n        unit: \"s\",\r\n        value: data => calculateSkillCD(data, datamine.skill.cd_press),\r\n      }, {\r\n        // Lvl 1\r\n        node: infoMut(dmgFormulas.skill.hold1_1, { key: `char_${key}:skill.lvl1_1DMG` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold1_2, { key: `char_${key}:skill.lvl1_2DMG` }),\r\n      }, {\r\n        text: trm(\"skill.lvl1CD\"),\r\n        unit: \"s\",\r\n        value: data => calculateSkillCD(data, datamine.skill.cd_hold1),\r\n      }, {\r\n        // Lvl 2\r\n        node: infoMut(dmgFormulas.skill.hold2_1, { key: `char_${key}:skill.lvl2_1DMG` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.hold2_2, { key: `char_${key}:skill.lvl2_2DMG` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.explosion, { key: `char_${key}:skill.explDMG` }),\r\n      }, {\r\n        text: trm(\"skill.lvl2CD\"),\r\n        unit: \"s\",\r\n        value: data => calculateSkillCD(data, datamine.skill.cd_hold2),\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.1`, variant: \"success\" })\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condInArea,\r\n        path: condInAreaPath,\r\n        name: trm(\"withinArea\"),\r\n        teamBuff: true,\r\n        states: {\r\n          inArea: {\r\n            fields: [{\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: data => data.get(atkIncRatio).value * 100,\r\n              unit: \"%\"\r\n            }, {\r\n              node: infoMut(inAreaAtk, { key: `sheet:increase.atk` })\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        text: st(\"skillCDRed\"),\r\n        value: datamine.passive1.cd_red,\r\n        unit: \"%\"\r\n      }]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        value: condInArea,\r\n        path: condInAreaPath,\r\n        name: trm(\"withinArea\"),\r\n        states: {\r\n          inArea: {\r\n            fields: [{ // Node will not show CD reduction, have to use value instead\r\n              text: st(\"skillCDRed\"),\r\n              value: datamine.passive2.cd_red,\r\n              unit: \"%\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [{\r\n        canShow: data => data.get(input.constellation).value >= 1,\r\n        text: trm(\"additionalATKRatio\"),\r\n        value: datamine.constellation1.atk_inc * 100,\r\n        unit: \"%\"\r\n      }, {\r\n        canShow: data => data.get(input.constellation).value >= 1,\r\n        node: infoMut(dmgFormulas.constellation1.addlATK, { key: `char_${key}:additionalATK` })\r\n      }]),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        value: condUnderHP,\r\n        path: condUnderHPPath,\r\n        name: trm(\"belowHP\"),\r\n        states: {\r\n          underHP: {\r\n            fields: [{\r\n              node: underHP\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, [{\r\n        canShow: data => data.get(input.constellation).value >= 4,\r\n        node: infoMut(dmgFormulas.constellation4.dmg, { key: `char_${key}:c4DMG` })\r\n      }]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        canShow: c6AndCorrectWep,\r\n        value: condInArea,\r\n        path: condInAreaPath,\r\n        name: trm(\"withinArea\"),\r\n        teamBuff: true,\r\n        states: {\r\n          inArea: {\r\n            fields: [{\r\n              node: inAreaC6PyroDmg\r\n            }, {\r\n              text: <ColorText color={elementKey}>{st(\"infusion.pyro\")}</ColorText>\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n    }\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n\r\nfunction calculateSkillCD(data: UIData, skillCD: number): string {\r\n  let cdFactor: number = 1.00;\r\n  let result: string = skillCD + \"s\"\r\n  if (data.get(input.asc).value >= 1) {\r\n    cdFactor = 0.80;\r\n  }\r\n  cdFactor *= (1 - data.get(inAreaA4).value / 100);\r\n  if (cdFactor !== 1.00) {\r\n    result += \" - \" + (100 - cdFactor * 100) + \"% = \" + skillCD * cdFactor;\r\n  }\r\n  return result;\r\n}\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { Data } from '../../../Formula/type'\r\nimport { constant, equal, greaterEq, infoMut, lookup, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Eula\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    icewhirl: skillParam_gen.skill[s++],\r\n    physResDec: skillParam_gen.skill[s++],\r\n    cryoResDec: skillParam_gen.skill[s++],\r\n    resDecDuration: skillParam_gen.skill[s++][0],\r\n    pressCd: skillParam_gen.skill[s++][0],\r\n    holdCd: skillParam_gen.skill[s++][0],\r\n    defBonus: skillParam_gen.skill[s++][0],\r\n    unknown: skillParam_gen.skill[s++][0], // combined cooldown?\r\n    physResDecNegative: skillParam_gen.skill[s++],\r\n    cryoResDecNegative: skillParam_gen.skill[s++],\r\n    grimheartDuration: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    lightfallDmg: skillParam_gen.burst[b++],\r\n    dmgPerStack: skillParam_gen.burst[b++],\r\n    maxStack: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    percentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  constellation1: {\r\n    physInc: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation4: {\r\n    dmgInc: skillParam_gen.constellation4[0],\r\n  },\r\n} as const\r\n\r\nconst [condGrimheartPath, condGrimheart] = cond(key, \"Grimheart\")\r\nconst [condLightfallSwordPath, condLightfallSword] = cond(key, \"LightfallSword\")\r\nconst [condC4Path, condC4] = cond(key, \"LightfallSwordC4\")\r\nconst [condTidalIllusionPath, condTidalIllusion] = cond(key, \"TidalIllusion\")\r\n\r\nconst def_ = sum(equal(\"stack1\", condGrimheart, percent(datamine.skill.defBonus)), equal(\"stack2\", condGrimheart, percent(2 * datamine.skill.defBonus)))\r\nconst cryo_enemyRes_ = equal(\"consumed\", condGrimheart, subscript(input.total.skillIndex, datamine.skill.cryoResDecNegative))\r\nconst physical_enemyRes_ = equal(\"consumed\", condGrimheart, subscript(input.total.skillIndex, datamine.skill.physResDecNegative))\r\nconst physical_dmg_ = equal(\"on\", condTidalIllusion, percent(datamine.constellation1.physInc))\r\n\r\nconst lightSwordAdditional: Data = {\r\n  premod: { burst_dmg_: equal(condC4, \"on\", constant(datamine.constellation4.dmgInc)) },\r\n  hit: { ele: constant(\"physical\") }\r\n}\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n    icewhirl: dmgNode(\"atk\", datamine.skill.icewhirl, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    lightFallSwordNew: customDmgNode(\r\n      prod(\r\n        sum(\r\n          subscript(input.total.burstIndex, datamine.burst.lightfallDmg, { key: '_' }),\r\n          prod(\r\n            lookup(condLightfallSword, objectKeyMap(range(1, 30), i => constant(i)), constant(0)),\r\n            subscript(input.total.burstIndex, datamine.burst.dmgPerStack, { key: '_' })\r\n          ),\r\n        ),\r\n        input.total.atk\r\n      ), \"burst\", lightSwordAdditional),\r\n  },\r\n  passive1: {\r\n    shatteredLightfallSword: prod(\r\n      percent(datamine.passive1.percentage),\r\n      dmgNode(\"atk\", datamine.burst.lightfallDmg, \"burst\", lightSwordAdditional))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"cryo\", \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    def_,\r\n    cryo_enemyRes_,\r\n    physical_enemyRes_,\r\n    physical_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"cryo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n              textSuffix: i === 2 ? \"(2 Hits)\" : i === 4 ? \"(2 Hits)\" : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.7\"),\r\n              value: datamine.charged.stamina,\r\n              unit: '/s'\r\n            }, {\r\n              text: tr(\"auto.skillParams.8\"),\r\n              value: datamine.charged.duration,\r\n              unit: 's'\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: { // Cannot use talentTemplate because this has multiple sections.\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.8\"),\r\n            value: `${datamine.skill.pressCd}`,\r\n            unit: 's'\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n          }, {\r\n            text: st(\"holdCD\"),\r\n            value: `${datamine.skill.holdCd}`,\r\n            unit: 's'\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: 2,\r\n          },],\r\n          conditional: { // Grimheart\r\n            value: condGrimheart,\r\n            path: condGrimheartPath,\r\n            name: trm(\"skillC.name\"),\r\n            header: conditionalHeader(\"skill\", tr, skill),\r\n            states: {\r\n              \"stack1\": {\r\n                name: st(\"stack\", { count: 1 }),\r\n                fields: [{\r\n                  node: def_,\r\n                }, {\r\n                  text: trm(\"skillC.grimheart.int\")\r\n                }, {\r\n                  text: tr(\"skill.skillParams.4\"),\r\n                  value: `${datamine.skill.grimheartDuration}`,\r\n                  unit: 's'\r\n                },]\r\n              },\r\n              \"stack2\": {\r\n                name: st(\"stack\", { count: 2 }),\r\n                fields: [{\r\n                  node: def_,\r\n                }, {\r\n                  text: trm(\"skillC.grimheart.int\")\r\n                }, {\r\n                  text: tr(\"skill.skillParams.4\"),\r\n                  value: `${datamine.skill.grimheartDuration}`,\r\n                  unit: 's'\r\n                },]\r\n              },\r\n              \"consumed\": {\r\n                name: \"Consumed\",\r\n                fields: [{\r\n                  node: cryo_enemyRes_,\r\n                }, {\r\n                  node: physical_enemyRes_,\r\n                }, {\r\n                  text: sgt('duration'),\r\n                  value: 7,\r\n                  unit: 's'\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }, {\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.icewhirl, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n          }]\r\n        }]\r\n      },\r\n      burst: { // Cannot use talentTemplate because this has multiple sections.\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.lightFallSwordNew, { key: `char_${key}:burstC.dmg` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.4\"),\r\n            value: `${datamine.burst.cd}`,\r\n            unit: 's'\r\n          }, {\r\n            text: tr(\"burst.skillParams.5\"),\r\n            value: `${datamine.burst.enerCost}`,\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 7,\r\n            unit: 's'\r\n          }],\r\n          conditional: { // Lightfall Sword\r\n            value: condLightfallSword,\r\n            path: condLightfallSwordPath,\r\n            name: trm(\"burstC.name\"),\r\n            header: conditionalHeader(\"burst\", tr, burst),\r\n            states: {\r\n              ...objectKeyMap(range(1, 30), i => ({\r\n                name: st(\"stack\", { count: i }),\r\n                fields: [{\r\n                  canShow: data => data.get(input.constellation).value >= 6,\r\n                  text: trm(\"burstC.start5\"),\r\n                }, {\r\n                  canShow: data => data.get(input.constellation).value >= 6,\r\n                  text: trm(\"burstC.addStacks\"),\r\n                }]\r\n              })),\r\n            }\r\n          }\r\n        }, {\r\n          conditional: { // Lightfall Sword (C4)\r\n            value: condC4,\r\n            path: condC4Path,\r\n            name: trm(\"c4C.name\"),\r\n            header: conditionalHeader(\"constellation4\", tr, c4),\r\n            canShow: greaterEq(input.constellation, 4, 1),\r\n            states: {\r\n              on: {\r\n                fields: [{\r\n                  text: trm(\"c4C.desc\")\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }]\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        canShow: data => data.get(input.asc).value >= 1,\r\n        node: infoMut(dmgFormulas.passive1.shatteredLightfallSword, { key: `char_${key}:passive1` }),\r\n      }]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condTidalIllusion,\r\n        path: condTidalIllusionPath,\r\n        name: trm(\"c1C.name\"),\r\n        header: conditionalHeader(\"constellation1\", tr, c1),\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: physical_dmg_,\r\n            }, {\r\n              text: sgt('duration'),\r\n              value: trm('c1C.durationStack')\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { equal, equalStr, greaterEq, infoMut, lessThan, min, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, customHealNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"HuTao\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5.1\r\n      skillParam_gen.auto[a++], // 5.2\r\n      skillParam_gen.auto[a++], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    activationCost: skillParam_gen.skill[s++][0],\r\n    atkInc: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    bloodBlossomDuration: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    maxAtkInc: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    lowHpDmg: skillParam_gen.burst[b++],\r\n    regen: skillParam_gen.burst[b++],\r\n    lowHpRegen: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    minHp: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    critRateInc: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    minHp: skillParam_gen.passive2[p2++][0],\r\n    pyroDmgInc: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    bloodBlossomDmgInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    critRateInc: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    minHp: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n    elePhysResInc: skillParam_gen.constellation6[2],\r\n    critRateInc: skillParam_gen.constellation6[3],\r\n  },\r\n} as const\r\n\r\nconst [condAfterlifePath, condAfterlife] = cond(key, \"GuideToAfterlifeVoyage\")\r\nconst atk = equal(\"on\", condAfterlife, min(\r\n  prod(subscript(input.total.skillIndex, datamine.skill.atkInc), input.premod.hp),\r\n  prod(percent(datamine.skill.maxAtkInc), input.base.atk)))\r\nconst infusion = equalStr(\"on\", condAfterlife, elementKey)\r\n\r\nconst [condA1Path, condA1] = cond(key, \"FlutterBy\")\r\nconst critRateTeam_1 = equal(\"on\", condA1, unequal(input.activeCharKey, input.charKey, percent(datamine.passive1.critRateInc), { key: \"critRate_\" }))\r\nconst [condA2Path, condA2] = cond(key, \"SanguineRouge\")\r\nconst pyro_dmg_ = equal(\"on\", condA2, percent(datamine.passive2.pyroDmgInc))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"GardenOfEternalRest\")\r\nconst critRateTeam_2 = equal(\"on\", condC4, unequal(input.activeCharKey, input.charKey, percent(datamine.constellation4.critRateInc), { key: \"critRate_\" }))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"ButterflysEmbrace\")\r\nconst critRate_ = equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.critRateInc)))\r\nconst ele_res_s = Object.fromEntries(allElementsWithPhy.map(ele => [ele, equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.elePhysResInc)))]))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\")),\r\n    dmgC2: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\", { hit: { dmgInc: prod(input.total.hp, datamine.constellation2.bloodBlossomDmgInc) } })),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    lowHpDmg: dmgNode(\"atk\", datamine.burst.lowHpDmg, \"burst\"),\r\n    regen: customHealNode(prod(input.total.hp, subscript(input.total.burstIndex, datamine.burst.regen, { key: \"_\" }))),\r\n    lowHpRegen: customHealNode(prod(input.total.hp, subscript(input.total.burstIndex, datamine.burst.lowHpRegen, { key: \"_\" }))),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    pyro_dmg_,\r\n    ...Object.fromEntries(allElementsWithPhy.map(ele => [`${ele}_res_`, ele_res_s[ele]])),\r\n    critRate_\r\n  },\r\n  total: {\r\n    atk\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      critRate_: sum(critRateTeam_1, critRateTeam_2)\r\n    }\r\n  },\r\n  infusion\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 5 ? 0 : -1)}` }),\r\n              textSuffix: i === 4 ? \"(1)\" : i === 5 ? \"(2)\" : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.7\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.2` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmgC2, { key: `char_${key}:constellation2.skillParams.2` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: datamine.skill.bloodBlossomDuration,\r\n        unit: 's'\r\n      }], {\r\n        value: condAfterlife,\r\n        path: condAfterlifePath,\r\n        name: trm(\"paramita.enter\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: tr(\"skill.skillParams.0\"),\r\n              value: datamine.skill.activationCost * 100, // Convert to percentage\r\n              unit: '% Current HP'\r\n            }, {\r\n              node: atk,\r\n            }, {\r\n              text: <ColorText color=\"pyro\">Pyro Infusion</ColorText>\r\n            }, {\r\n              text: tr(\"skill.skillParams.4\"),\r\n              value: datamine.skill.duration,\r\n              unit: 's'\r\n            }, {\r\n              text: tr(\"skill.skillParams.5\"),\r\n              value: datamine.skill.cd,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.lowHpDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.2`, variant: \"success\" })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.lowHpRegen, { key: `char_${key}_gen:burst.skillParams.3`, variant: \"success\" })\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: 's'\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost\r\n      }, {\r\n        canShow: (data) => data.get(input.constellation).value > 1,\r\n        text: trm(\"constellation2.applyBloodBlossom\"),\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.asc, 1, unequal(input.activeCharKey, input.charKey, 1)),\r\n        name: trm(\"paramita.end\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRateTeam_1,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        value: condA2,\r\n        path: condA2Path,\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        name: trm(\"passive2.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: pyro_dmg_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, unequal(input.activeCharKey, input.charKey, 1)),\r\n        name: trm(\"constellation4.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRateTeam_2,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"constellation6.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [\r\n              ...allElementsWithPhy.map(ele => ({ node: ele_res_s[ele] })), {\r\n                node: critRate_,\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.constellation6.duration,\r\n                unit: 's'\r\n              }, {\r\n                text: sgt(\"cd\"),\r\n                value: 60,\r\n                unit: 's'\r\n              }]\r\n          }\r\n        }\r\n      }),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, greaterEqStr, infoMut, percent, prod, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, condReadNode, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { absorbableEle, customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KaedeharaKazuha\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3.1\r\n      skillParam_gen.auto[a++], // 3.2\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5x3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++],\r\n    dmg2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    hold: skillParam_gen.skill[s++],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    add: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    asorbAdd: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    elemas_dmg_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    elemas: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    auto_: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, \"burstAbsorption\")\r\n\r\nconst [condSkillAbsorptionPath, condSkillAbsorption] = cond(key, \"skillAbsorption\")\r\n\r\nconst condSwirlPaths = Object.fromEntries(absorbableEle.map(e => [e, [key, `swirl${e}`]]))\r\nconst condSwirls = Object.fromEntries(absorbableEle.map(e => [e, condReadNode(condSwirlPaths[e])]))\r\nconst asc4 = Object.fromEntries(absorbableEle.map(ele =>\r\n  [`${ele}_dmg_`, greaterEq(input.asc, 4,\r\n    equal(\"swirl\", condSwirls[ele],\r\n      // TODO: this percent of 0.04% is displayed as 0.0%\r\n      prod(percent(datamine.passive2.elemas_dmg_), input.premod.eleMas)\r\n    ))]))\r\n\r\n/** TODO: the C2 actually only applies to \"active\" character, so the following needs to be changed... */\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst c2EleMas = greaterEq(input.constellation, 2,\r\n  equal(\"c2\", condC2, datamine.constellation2.elemas))\r\n\r\nconst [condC2PPath, condC2P] = cond(key, \"c2p\")\r\nconst c2PEleMas = greaterEq(input.constellation, 2,\r\n  equal(\"c2p\", condC2P,\r\n    unequal(target.charKey, key, datamine.constellation2.elemas)))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6infusion = greaterEqStr(input.constellation, 6,\r\n  equalStr(\"c6\", condC6, \"anemo\"))\r\nconst c6Dmg_ = greaterEq(input.constellation, 6,\r\n  equal(\"c6\", condC6, prod(percent(datamine.constellation6.auto_), input.premod.eleMas))\r\n)\r\n// Share `match` and `prod` between the three nodes\r\nconst c6NormDmg_ = { ...c6Dmg_ }\r\nconst c6ChargedDmg_ = { ...c6Dmg_ }\r\nconst c6PlungingDmg_ = { ...c6Dmg_ }\r\n\r\nconst passive = percent(0.2)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n    pdmg: dmgNode(\"atk\", datamine.plunging.dmg, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n    plow: dmgNode(\"atk\", datamine.plunging.low, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n    phigh: dmgNode(\"atk\", datamine.plunging.high, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n    ...Object.fromEntries(absorbableEle.map(key =>\r\n      [key, equal(condBurstAbsorption, key, dmgNode(\"atk\", datamine.burst.add, \"burst\", { hit: { ele: constant(key) } }))]))\r\n  },\r\n  passive1: Object.fromEntries(absorbableEle.map(key =>\r\n    [key, equal(condSkillAbsorption, key, customDmgNode(prod(input.total.atk, datamine.passive1.asorbAdd), \"plunging\", { hit: { ele: constant(key) } }))])),\r\n  constellation6: {\r\n    normal_dmg_: c6NormDmg_,\r\n    charged_dmg_: c6ChargedDmg_,\r\n    plunging_dmg_: c6PlungingDmg_,\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, \"anemo\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      ...asc4,\r\n      staminaSprintDec_: passive,\r\n    },\r\n    total: {\r\n      eleMas: c2PEleMas,\r\n    },\r\n  },\r\n  infusion: c6infusion,\r\n  premod: {\r\n    normal_dmg_: c6NormDmg_,\r\n    charged_dmg_: c6ChargedDmg_,\r\n    plunging_dmg_: c6PlungingDmg_,\r\n  },\r\n  total: {\r\n    eleMas: c2EleMas,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 3 ? 0 : -1)}` }),\r\n            textSuffix: i === 2 ? \"(1)\" : i === 3 ? \"(2)\" : i === 5 ? st(\"brHits\", { count: 3 }) : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(1)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(2)\"\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: { // Cannot use talentTemplate because this has multiple sections\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.1\"),\r\n            value: data => data.get(input.constellation).value >= 1 \r\n              ? `${datamine.skill.cd} - 10% = ${datamine.skill.cd*(1-0.10)}` \r\n              : `${datamine.skill.cd}`,\r\n            unit: \"s\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n          }, {\r\n            text: st(\"holdCD\"),\r\n            value: data => data.get(input.constellation).value >= 1\r\n              ? `${datamine.skill.cd} - 10% = ${datamine.skill.cd*(1-0.10)}` \r\n              : `${datamine.skill.cdHold}`,\r\n            unit: \"s\"\r\n          }, {\r\n            canShow: data => data.get(input.constellation).value >= 1,\r\n            text: trm(\"c1\"),\r\n          }]\r\n        }, {\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.pdmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.plow, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.phigh, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      burst: { // Cannot use talentTemplate because this has multiple conditionals\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: datamine.burst.duration,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.4\"),\r\n            value: datamine.burst.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.5\"),\r\n            value: datamine.burst.enerCost,\r\n          }]\r\n        }, {\r\n          conditional: { // Burst Absorption\r\n            value: condBurstAbsorption,\r\n            path: condBurstAbsorptionPath,\r\n            name: st(\"eleAbsor\"),\r\n            header: conditionalHeader(\"burst\", tr, burst),\r\n            states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n              name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n              fields: [{\r\n                node: infoMut(dmgFormulas.burst[eleKey], { key: `char_${key}_gen:burst.skillParams.2` }),\r\n              }]\r\n            }]))\r\n          },\r\n        }, {\r\n          conditional: { // C2\r\n            canShow: greaterEq(input.constellation, 2, 1),\r\n            value: condC2,\r\n            path: condC2Path,\r\n            name: trm(\"c2\"),\r\n            header: conditionalHeader(\"constellation2\", tr, c2),\r\n            states: {\r\n              c2: {\r\n                fields: [{\r\n                  node: c2EleMas\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }, {\r\n          conditional: { // C2 Party\r\n            canShow: greaterEq(input.constellation, 2, unequal(target.charKey, key, 1)),\r\n            value: condC2P,\r\n            path: condC2PPath,\r\n            teamBuff: true,\r\n            description: tr(\"constellation2.description\"),\r\n            name: trm(\"c2p\"),\r\n            header: conditionalHeader(\"constellation2\", tr, c2),\r\n            states: {\r\n              c2p: {\r\n                fields: [{\r\n                  node: c2PEleMas\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }],\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        // Skill Absorption\r\n        value: condSkillAbsorption,\r\n        path: condSkillAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.passive1[eleKey], { key: `sheet_gen:addEleDMG` }),\r\n          }]\r\n        }]))\r\n      }),\r\n      passive2: { // Cannot use talentTemplate because this has multiple conditionals\r\n        name: tr(\"passive2.name\"),\r\n        img: passive2,\r\n        sections: [{\r\n          text: tr(\"passive2.description\"),\r\n        }, ...absorbableEle.map(eleKey => ({\r\n          conditional: { // Poetics of Fuubutsu\r\n            value: condSwirls[eleKey],\r\n            path: condSwirlPaths[eleKey],\r\n            teamBuff: true,\r\n            // Only show the description once\r\n            description: eleKey === \"hydro\" ? tr(\"passive2.description\"): \"\",\r\n            name: trm(`a4.name_${eleKey}`),\r\n            header: conditionalHeader(\"passive2\", tr, passive2),\r\n            canShow: greaterEq(input.asc, 4, 1),\r\n            states: {\r\n              swirl: {\r\n                fields: [{\r\n                  node: asc4[`${eleKey}_dmg_`]\r\n                }, {\r\n                  text: sgt(\"duration\"),\r\n                  value: datamine.passive2.duration,\r\n                  unit: \"s\"\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }))],\r\n      },\r\n      passive3: talentTemplate(\"passive3\", tr, passive3, [{\r\n        //TODO: put into subsection since this is teambuff\r\n        //   description: tr(\"passive3.description\"),\r\n        node: passive\r\n      }]),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        // Crimson Momiji\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"c6.after\"),\r\n        states: {\r\n          c6: {\r\n            fields: [\r\n              // { // TODO:\r\n              //   node: c6infusion\r\n              // },\r\n              {\r\n                canShow: data => data.get(c6infusion).value === elementKey,\r\n                text: <ColorText color={elementKey}>{st(\"infusion.anemo\")}</ColorText>\r\n              }, {\r\n                node: c6NormDmg_\r\n              }, {\r\n                node: c6ChargedDmg_\r\n              }, {\r\n                node: c6PlungingDmg_\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.constellation6.duration,\r\n                unit: \"s\",\r\n              }]\r\n          }\r\n        }\r\n      })\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, percent, prod, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, sprint, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KamisatoAyaka\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, sp = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x3\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1x3\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  sprint: {\r\n    active_stam: skillParam_gen.sprint[sp++][0],\r\n    drain_stam: skillParam_gen.sprint[sp++][0],\r\n    duration: skillParam_gen.sprint[sp++][0],\r\n  },\r\n  passive1: {\r\n    dmg_bonus: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    stamina: skillParam_gen.passive2[p2++][0],\r\n    cryo: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    snowflake: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    def_red: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    cd: skillParam_gen.constellation6[0],\r\n    charged_bonus: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condAfterSprintPath, condAfterSprint] = cond(key, \"afterSprint\")\r\nconst afterSprintInfusion = equalStr(\"afterSprint\", condAfterSprint, elementKey)\r\n\r\nconst [condAfterSkillA1Path, condAfterSkillA1] = cond(key, \"afterSkillA1\")\r\nconst a1NormDmg_ = equal(\"afterSkill\", condAfterSkillA1, percent(datamine.passive1.dmg_bonus))\r\nconst a1ChargedDmg_ = equal(\"afterSkill\", condAfterSkillA1, percent(datamine.passive1.dmg_bonus), { key: \"charged_dmg_\" })\r\n\r\nconst [condAfterApplySprintPath, condAfterApplySprint] = cond(key, \"afterApplySprint\")\r\nconst afterApplySprintCryo = equal(\"afterApplySprint\", condAfterApplySprint, percent(datamine.passive2.cryo))\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurst = greaterEq(input.constellation, 4,\r\n  equal(\"c4\", condAfterBurst, datamine.constellation4.def_red))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"C6\")\r\nconst c6ChargedDmg_ = greaterEq(input.constellation, 6,\r\n  equal(\"c6\", condC6, datamine.constellation6.charged_bonus), { key: `charged_dmg_` })\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n  burst: {\r\n    cutting: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    bloom: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    dmg: customDmgNode(prod(input.total.atk, datamine.constellation2.snowflake), \"burst\", { hit: { ele: constant(elementKey) } })\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      enemyDefRed_: afterBurst\r\n    }\r\n  },\r\n  infusion: afterSprintInfusion,\r\n  premod: {\r\n    normal_dmg_: a1NormDmg_,\r\n    charged_dmg_: sum(a1ChargedDmg_, c6ChargedDmg_),\r\n    cryo_dmg_: afterApplySprintCryo,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 3 ? st(\"brHits\", { count: 3 }) : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: st(\"brHits\", { count: 3 })\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.cutting, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.bloom, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }]),\r\n      sprint: talentTemplate(\"sprint\", tr, sprint, [{\r\n        text: \"Activation Stamina Consumption\",\r\n        value: datamine.sprint.active_stam,\r\n      }, {\r\n        text: \"Stamina Drain\",\r\n        value: datamine.sprint.drain_stam,\r\n        unit: \"/s\",\r\n      }], { //sprint\r\n        value: condAfterSprint,\r\n        path: condAfterSprintPath,\r\n        name: trm(\"afterSprint\"),\r\n        states: {\r\n          afterSprint: {\r\n            fields: [{\r\n              canShow: data => data.get(afterSprintInfusion).value === elementKey,\r\n              text: <ColorText color=\"cryo\">Cryo Infusion</ColorText>\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.sprint.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        //After using Kamisato Art: Hyouka\r\n        canShow: greaterEq(input.asc, 1, 1),\r\n        value: condAfterSkillA1,\r\n        path: condAfterSkillA1Path,\r\n        name: trm(\"afterSkill\"),\r\n        states: {\r\n          afterSkill: {\r\n            fields: [{\r\n              node: a1NormDmg_,\r\n            }, {\r\n              node: a1ChargedDmg_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        //sprint\r\n        canShow: greaterEq(input.asc, 4, 1),\r\n        value: condAfterApplySprint,\r\n        path: condAfterApplySprintPath,\r\n        name: trm(\"afterSprintCryo\"),\r\n        states: {\r\n          afterApplySprint: {\r\n            fields: [{\r\n              text: trm(\"staminaRestore\"),\r\n              value: datamine.passive2.stamina,\r\n            }, {\r\n              node: afterApplySprintCryo\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{\r\n        canShow: data => data.get(input.constellation).value >= 2,\r\n        text: trm(\"snowflakeDMG\"),\r\n        value: datamine.constellation2.snowflake,\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:snowflakeDMG` }),\r\n      },]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        // Hit by burst\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: trm(\"dmgBySnowflake\"),\r\n        states: {\r\n          c4: {\r\n            fields: [{\r\n              node: afterBurst\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: \"6s\"\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"afterSkill\"),\r\n        states: {\r\n          c6: {\r\n            fields: [{\r\n              text: sgt(\"cd\"),\r\n              value: datamine.constellation6.cd,\r\n              unit: \"s\"\r\n            }, {\r\n              node: c6ChargedDmg_,\r\n            },]\r\n          }\r\n        }\r\n      }\r\n      ),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KujouSara\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    fullyAimed: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    atkBonus: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    titanBreakerDmg: skillParam_gen.burst[b++],\r\n    stormClusterDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    energyGen: skillParam_gen.passive2[p2++][0],\r\n    er: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation2: {\r\n    crowfeatherDmg: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    atkInc: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst [condSkillTenguAmbushPath, condSkillTenguAmbush] = cond(key, \"TenguJuuraiAmbush\")\r\nconst skillTenguAmbush_ = equal(target.activeCharKey, target.charKey, equal(\"TenguJuuraiAmbush\", condSkillTenguAmbush,\r\n  prod(input.base.atk, subscript(input.total.skillIndex, datamine.skill.atkBonus.map(x => x), { key: '_' }))))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6ElectroCritDmg_ = equal(\"c6\", condC6, percent(datamine.constellation6.atkInc))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    fullyAimed: dmgNode(\"atk\", datamine.charged.fullyAimed, \"charged\", { hit: { ele: constant('electro') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    skillTenguAmbush_\r\n  },\r\n  burst: {\r\n    titanbreaker: dmgNode(\"atk\", datamine.burst.titanBreakerDmg, \"burst\"),\r\n    stormcluster: dmgNode(\"atk\", datamine.burst.stormClusterDmg, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, prod(dmgNode(\"atk\", datamine.skill.dmg, \"skill\"), percent(datamine.constellation2.crowfeatherDmg))),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"electro\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_critDMG_: c6ElectroCritDmg_\r\n    },\r\n    total: {\r\n      atk: skillTenguAmbush_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"electro\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.fullyAimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: `${datamine.skill.duration}s`,\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: `${datamine.skill.cd}s`,\r\n      }], {\r\n        value: condSkillTenguAmbush,\r\n        path: condSkillTenguAmbushPath,\r\n        name: trm(\"skill.ambush\"),\r\n        teamBuff: true,\r\n        states: {\r\n          TenguJuuraiAmbush: {\r\n            fields: [{\r\n              node: skillTenguAmbush_\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.titanbreaker, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.stormcluster, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: `${datamine.burst.cd}s`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        canShow: data => data.get(input.asc).value >= 4,\r\n        text: trm(\"a4.enerRest\"),\r\n        value: data => data.get(input.total.enerRech_).value * datamine.passive2.energyGen\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"c6.electroCritDmg\"),\r\n        states: {\r\n          c6: {\r\n            fields: [{\r\n              node: c6ElectroCritDmg_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, sprint, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Mona\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, sp = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dot: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    bubbleDuration: skillParam_gen.burst[b++][0],\r\n    dmg: skillParam_gen.burst[b++],\r\n    dmgBonusNeg: skillParam_gen.burst[b++],\r\n    omenDuration: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    dmgBonus: skillParam_gen.burst[b++],\r\n  },\r\n  sprint: {\r\n    active_stam: skillParam_gen.sprint[sp++][0],\r\n    drain_stam: skillParam_gen.sprint[sp++][0],\r\n  },\r\n  passive1: {\r\n    torrentDuration: skillParam_gen.passive1[p1++][0],\r\n    phantomDuration: skillParam_gen.passive1[p1++][0],\r\n    percentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    unknown: skillParam_gen.passive2[p2++][0], // what is this?\r\n    percentage: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    electroChargeDmgInc: skillParam_gen.constellation1[0],\r\n    vaporizeDmgInc: skillParam_gen.constellation1[1],\r\n    hydroSwirlDmgInc: skillParam_gen.constellation1[2],\r\n    frozenExtension: skillParam_gen.constellation1[3],\r\n    unknown: skillParam_gen.constellation1[4], // what is this?\r\n    duration: skillParam_gen.constellation1[5],\r\n  },\r\n  constellation4: {\r\n    critRateIncNeg: Math.abs(skillParam_gen.constellation4[0]), // why do they even keep this as a negative??\r\n  },\r\n  constellation6: {\r\n    unknown: skillParam_gen.constellation6[0], // what is this?\r\n    dmgBonus: skillParam_gen.constellation6[1],\r\n    maxDmgBonus: skillParam_gen.constellation6[2],\r\n    duration: skillParam_gen.constellation6[3],\r\n  }\r\n} as const\r\n\r\nconst hydro_dmg_ = greaterEq(input.asc, 4, prod(input.premod.enerRech_, percent(datamine.passive2.percentage)))\r\n\r\nconst [condOmenPath, condOmen] = cond(key, \"Omen\")\r\nconst all_dmg_ = equal(\"on\", condOmen, subscript(input.total.burstIndex, datamine.burst.dmgBonus, { key: \"_\" }))\r\n\r\nconst [condPoSPath, condPoS] = cond(key, \"ProphecyOfSubmersion\")\r\nconst electrocharged_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.electroChargeDmgInc)))\r\nconst swirl_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.hydroSwirlDmgInc)))\r\nconst vaporize_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.vaporizeDmgInc)))\r\n\r\nconst [condPoOPath, condPoO] = cond(key, \"ProphecyOfOblivion\")\r\nconst critRate_ = greaterEq(input.constellation, 4, equal(\"on\", condPoO, percent(datamine.constellation4.critRateIncNeg)))\r\n\r\nconst [condRoCPath, condRoC] = cond(key, \"RhetoricsOfCalamitas\")\r\nconst charged_dmg_ = greaterEq(input.constellation, 6, lookup(condRoC, objectKeyMap(range(1, 3), i => percent(i * datamine.constellation6.dmgBonus)), 0))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dot: dmgNode(\"atk\", datamine.skill.dot, \"skill\"),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\")\r\n  },\r\n  passive1: {\r\n    dmg: prod(dmgNode(\"atk\", datamine.skill.dmg, \"skill\"), percent(datamine.passive1.percentage))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    charged_dmg_,\r\n    hydro_dmg_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      all_dmg_,\r\n      electrocharged_dmg_,\r\n      swirl_dmg_,\r\n      vaporize_dmg_,\r\n      critRate_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` })\r\n          }, {\r\n            text: tr(\"auto.skillParams.5\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dot, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        text: trm(\"bubbleDuration\"),\r\n        value: datamine.burst.bubbleDuration,\r\n        unit: \"s\",\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        value: condOmen,\r\n        path: condOmenPath,\r\n        teamBuff: true,\r\n        name: trm(\"omen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: all_dmg_,\r\n            }, {\r\n              text: trm(\"omenDuration\"),\r\n              value: (data) => datamine.burst.omenDuration[data.get(input.total.burstIndex).value],\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      sprint: talentTemplate(\"sprint\", tr, sprint, [{\r\n        text: \"Activation Stamina Consumption\",\r\n        value: datamine.sprint.active_stam,\r\n      }, {\r\n        text: \"Stamina Drain\",\r\n        value: datamine.sprint.drain_stam,\r\n        unit: \"/s\",\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        canShow: data => data.get(input.asc).value >= 1,\r\n        node: infoMut(dmgFormulas.passive1.dmg, { key: `char_${key}_gen:skill.skillParams.1` })\r\n      }, {\r\n        canShow: data => data.get(input.asc).value >= 1,\r\n        text: trm(\"phantomDuration\"),\r\n        value: datamine.passive1.phantomDuration,\r\n        unit: \"s\"\r\n      }]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        node: hydro_dmg_\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        value: condPoS,\r\n        path: condPoSPath,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        name: trm(\"hitOp.affectedByOmen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: electrocharged_dmg_,\r\n            }, {\r\n              node: swirl_dmg_,\r\n            }, {\r\n              node: vaporize_dmg_,\r\n            }, {\r\n              text: trm(\"frozenDuration\"),\r\n              value: datamine.constellation1.frozenExtension * 100, // Convert to percentage\r\n              unit: \"%\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condPoO,\r\n        path: condPoOPath,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        name: trm(\"hitOp.affectedByOmen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRate_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        value: condRoC,\r\n        path: condRoCPath,\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        name: trm(\"uponSprint\"),\r\n        states: Object.fromEntries(range(1, 3).map(i => [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [\r\n            { node: charged_dmg_ },\r\n            {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: 's'\r\n            }]\r\n        }]))\r\n      })\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode, healNodeTalent, shieldNode, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Noelle\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shieldDef: skillParam_gen.skill[s++],\r\n    healDef: skillParam_gen.skill[s++],\r\n    healChance: skillParam_gen.skill[s++],\r\n    shieldDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    shieldFlat: skillParam_gen.skill[s++],\r\n    healFlat: skillParam_gen.skill[s++],\r\n  },\r\n  burst: {\r\n    burstDmg: skillParam_gen.burst[b++],\r\n    skillDmg: skillParam_gen.burst[b++],\r\n    defToAtk: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: { // Devotion Shield\r\n    hpThreshold: skillParam_gen.passive1[p1++][0],\r\n    shield: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n    cooldown: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  constellation1: {\r\n    healingChance: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    chargeStamina: skillParam_gen.constellation2[0],\r\n    chargeDmg_: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    skillDmg: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    burstAtkBonus: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"SweepingTime\")\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"geo\")\r\nconst nodeBurstAtk = equal(\"on\", condBurst, prod(\r\n  input.total.def,\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.defToAtk, { key: \"_\" }),\r\n    greaterEq(input.constellation, 6, percent(datamine.constellation6.burstAtkBonus))\r\n  )\r\n))\r\n\r\nconst nodeSkillHealChanceBase = subscript(input.total.skillIndex, datamine.skill.healChance, { key: `char_${key}:skillHeal_` })\r\nconst nodeSkillHealChanceC1BurstOn = equal(\"on\", condBurst, percent(datamine.constellation1.healingChance), { key: `char_${key}:skillHeal_` })\r\nconst nodeSkillHealChanceC1BurstOff = unequal(\"on\", condBurst, nodeSkillHealChanceBase)\r\n\r\nconst nodeC2ChargeDMG = greaterEq(input.constellation, 2, percent(datamine.constellation2.chargeDmg_))\r\nconst nodeC4dmg = customDmgNode(prod(input.total.def, percent(datamine.constellation4.skillDmg)), \"elemental\", { hit: { ele: constant(elementKey) } })\r\n\r\nconst geoShieldStrength = { \"customBonus\": { \"shield_\": percent(0.5) } }\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"def\", datamine.skill.skillDmg, \"skill\"),\r\n    shield: shieldNodeTalent(\"def\", datamine.skill.shieldDef, datamine.skill.shieldFlat, \"skill\", geoShieldStrength),\r\n    heal: healNodeTalent(\"def\", datamine.skill.healDef, datamine.skill.healFlat, \"skill\"),\r\n  },\r\n  burst: {\r\n    defConv: nodeBurstAtk,\r\n    burstDmg: dmgNode(\"atk\", datamine.burst.burstDmg, \"burst\"),\r\n    skillDmg: dmgNode(\"atk\", datamine.burst.skillDmg, \"burst\"),\r\n  },\r\n  passive1: {\r\n    devotionShield: shieldNode(\"def\", percent(datamine.passive1.shield), 0, geoShieldStrength)\r\n  },\r\n  constellation4: {\r\n    dmg: nodeC4dmg\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    charged_dmg_: nodeC2ChargeDMG,\r\n    atk: nodeBurstAtk,\r\n  },\r\n  infusion: nodeBurstInfusion\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"geo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        },\r\n        {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n            unit: '/s'\r\n          }, {\r\n            text: tr(\"auto.skillParams.7\"),\r\n            value: datamine.charged.duration,\r\n            unit: 's'\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [\r\n        {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.heal, { key: `char_${key}_gen:skill.skillParams.2`, variant: \"success\" }),\r\n        }, { //Heal trigger chance\r\n          canShow: data => data.get(input.constellation).value === 0,\r\n          node: nodeSkillHealChanceBase,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 1,\r\n          node: nodeSkillHealChanceC1BurstOff,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 1,\r\n          node: nodeSkillHealChanceC1BurstOn,\r\n        }, { //Shield Duration\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.skill.shieldDuration,\r\n          unit: \"s\"\r\n        }, { //Cooldown\r\n          canShow: data => data.get(input.asc).value < 4,\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.asc).value >= 4,\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: trm(`p4cd`),\r\n        }\r\n      ]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [\r\n        { node: infoMut(dmgFormulas.burst.burstDmg, { key: `char_${key}_gen:burst.skillParams.0` }), },\r\n        { node: infoMut(dmgFormulas.burst.skillDmg, { key: `char_${key}_gen:burst.skillParams.1` }), },\r\n        {\r\n          canShow: data => data.get(input.constellation).value < 6,\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 6,\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: trm(`c6duration`),\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }\r\n      ], {\r\n        name: tr(\"burst.name\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"infusion.geo\"),\r\n              variant: \"geo\",\r\n            }, {\r\n              text: trm(\"qlarger\")\r\n            }, {\r\n              node: nodeBurstAtk\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [\r\n        {\r\n          canShow: data => data.get(input.asc).value >= 1,\r\n          node: infoMut(dmgFormulas.passive1.devotionShield, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          canShow: data => data.get(input.asc).value >= 1,\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.passive1.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.asc).value >= 1,\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.passive1.cooldown,\r\n          unit: \"s\"\r\n        }\r\n      ]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{\r\n        canShow: data => data.get(input.constellation).value >= 2,\r\n        node: nodeC2ChargeDMG\r\n      }, {\r\n        canShow: data => data.get(input.constellation).value >= 2,\r\n        text: trm(\"c2Stam\"),\r\n        value: datamine.constellation2.chargeStamina * 100,\r\n        unit: \"%\"\r\n      }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, [{\r\n        canShow: data => data.get(input.constellation).value >= 4,\r\n        node: infoMut(nodeC4dmg, { key: `char_${key}:c4dmg` })\r\n      }]),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"RaidenShogun\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    coorDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    burstDmg_bonus: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    resolveBonus1: skillParam_gen.burst[b++],\r\n    resolveBonus2: skillParam_gen.burst[b++],\r\n    resolveGained: skillParam_gen.burst[b++],\r\n    hit1: skillParam_gen.burst[b++],\r\n    hit2: skillParam_gen.burst[b++],\r\n    hit3: skillParam_gen.burst[b++],\r\n    hit41: skillParam_gen.burst[b++],\r\n    hit42: skillParam_gen.burst[b++],\r\n    hit5: skillParam_gen.burst[b++],\r\n    charged1: skillParam_gen.burst[b++],\r\n    charged2: skillParam_gen.burst[b++],\r\n    stam: skillParam_gen.burst[b++][0],\r\n    plunge: skillParam_gen.burst[b++],\r\n    plungeLow: skillParam_gen.burst[b++],\r\n    plungeHigh: skillParam_gen.burst[b++],\r\n    enerGen: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    er: skillParam_gen.passive2[p2++][0],\r\n    energyGen: skillParam_gen.passive2[p2++][0],\r\n    electroDmg_bonus: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    def_ignore: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    atk_bonus: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n} as const\r\n\r\nconst [condSkillEyePath, condSkillEye] = cond(key, \"skillEye\")\r\nconst skillEye_ = equal(\"skillEye\", condSkillEye,\r\n  prod(datamine.burst.enerCost, subscript(input.total.skillIndex, datamine.skill.burstDmg_bonus.map(x => x), { key: '_' })))\r\n\r\nfunction skillDmg(atkType: number[]) {\r\n  // if Raiden is above or equal to C2, then account for DEF Ignore else not\r\n  return dmgNode('atk', atkType, 'skill', {\r\n    enemy: { defIgn: greaterEq(input.constellation, 2, datamine.constellation2.def_ignore) }\r\n  })\r\n}\r\n\r\nconst energyCosts = [40, 50, 60, 70, 80, 90]\r\nconst [condSkillEyeTeamPath, condSkillEyeTeam] = cond(key, \"skillEyeTeam\")\r\nconst skillEyeTeamBurstDmgInc = unequal(input.activeCharKey, input.charKey,\r\n  prod(lookup(condSkillEyeTeam, objectKeyMap(energyCosts, i => constant(i)), 0),\r\n    subscript(input.total.skillIndex, datamine.skill.burstDmg_bonus, { key: '_' })))\r\n\r\nconst resolveStacks = [10, 20, 30, 40, 50, 60]\r\nconst [condResolveStackPath, condResolveStack] = cond(key, \"burstResolve\")\r\n\r\nfunction burstResolve(atkType: number[], initial = false) {\r\n  let resolveBonus = initial ? datamine.burst.resolveBonus1 : datamine.burst.resolveBonus2\r\n\r\n  return customDmgNode(prod(sum(subscript(input.total.burstIndex, atkType, { key: '_' }),\r\n    prod(subscript(input.total.burstIndex, resolveBonus.map(x => x), { key: '_' }),\r\n      lookup(condResolveStack, objectKeyMap(resolveStacks, i => constant(i)), 0))), input.total.atk), 'burst', {\r\n    hit: {\r\n      ele: constant('electro')\r\n    }, enemy: {\r\n      // if Raiden is above or equal to C2, then account for DEF Ignore else not\r\n      defIgn: greaterEq(input.constellation, 2, datamine.constellation2.def_ignore)\r\n    }\r\n  })\r\n}\r\n\r\nconst passive2ElecDmgBonus = greaterEq(input.asc, 4, prod(sum(input.premod.enerRech_, percent(-1)), (datamine.passive2.electroDmg_bonus * 100)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4AtkBonus_ = greaterEq(input.constellation, 4,\r\n  equal(\"c4\", condC4, unequal(input.activeCharKey, input.charKey, datamine.constellation4.atk_bonus))\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: skillDmg(datamine.skill.skillDmg),\r\n    coorDmg: skillDmg(datamine.skill.coorDmg),\r\n    skillEye_\r\n  },\r\n  burst: {\r\n    dmg: burstResolve(datamine.burst.dmg, true),\r\n    hit1: burstResolve(datamine.burst.hit1),\r\n    hit2: burstResolve(datamine.burst.hit2),\r\n    hit3: burstResolve(datamine.burst.hit3),\r\n    hit41: burstResolve(datamine.burst.hit41),\r\n    hit42: burstResolve(datamine.burst.hit42),\r\n    hit5: burstResolve(datamine.burst.hit5),\r\n    charged1: burstResolve(datamine.burst.charged1),\r\n    charged2: burstResolve(datamine.burst.charged2),\r\n    plunge: burstResolve(datamine.burst.plunge),\r\n    plungeLow: burstResolve(datamine.burst.plungeLow),\r\n    plungeHigh: burstResolve(datamine.burst.plungeHigh),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"electro\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    burst_dmg_: skillEye_,\r\n    electro_dmg_: passive2ElecDmgBonus,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: c4AtkBonus_,\r\n      burst_dmg_: skillEyeTeamBurstDmgInc\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"electro\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) =>\r\n            ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 4 ? 0 : -1)}` }),\r\n              textSuffix: i === 3 ? \"(1)\" : i === 4 ? \"(2)\" : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.6\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(\"auto.fields.plunging\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          }\r\n        ],\r\n      },\r\n      skill: { // Cannot use talentTemplate because this has multiple sections.\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.coorDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.2\"),\r\n            value: `${datamine.skill.duration}s`,\r\n          }, {\r\n            text: tr(\"skill.skillParams.4\"),\r\n            value: `${datamine.skill.cd}s`,\r\n          }],\r\n          conditional: {\r\n            value: condSkillEye,\r\n            path: condSkillEyePath,\r\n            name: trm(\"skill.eye\"),\r\n            header: conditionalHeader(\"skill\", tr, skill),\r\n            states: {\r\n              skillEye: {\r\n                fields: [{\r\n                  node: skillEye_\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }, {\r\n          conditional: {\r\n            value: condSkillEyeTeam,\r\n            path: condSkillEyeTeamPath,\r\n            description: tr(\"skill.description\"),\r\n            teamBuff: true,\r\n            canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n            name: trm(\"skill.partyCost\"),\r\n            header: conditionalHeader(\"skill\", tr, skill),\r\n            states: Object.fromEntries(energyCosts.map(c => [c, {\r\n              name: `${c}`,\r\n              fields: [{\r\n                node: skillEyeTeamBurstDmgInc,\r\n              }]\r\n            }]))\r\n          }\r\n        }]\r\n      },\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit1, { key: `char_${key}_gen:burst.skillParams.3` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit2, { key: `char_${key}_gen:burst.skillParams.4` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit3, { key: `char_${key}_gen:burst.skillParams.5` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit41, { key: `char_${key}_gen:burst.skillParams.6` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit42, { key: `char_${key}_gen:burst.skillParams.6` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.hit5, { key: `char_${key}_gen:burst.skillParams.7` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.charged1, { key: `char_${key}_gen:burst.skillParams.8` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.charged2, { key: `char_${key}_gen:burst.skillParams.8` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.9\"),\r\n        value: `${datamine.burst.stam}`,\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.plunge, { key: `char_${key}_gen:burst.skillParams.10` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.plungeLow, { key: `char_${key}_gen:burst.skillParams.11` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.plungeHigh, { key: `char_${key}_gen:burst.skillParams.11` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.12\"),\r\n        value: (data) => `${datamine.burst.enerGen[data.get(input.total.burstIndex).value]}`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.13\"),\r\n        value: `${datamine.burst.duration}s`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.14\"),\r\n        value: `${datamine.burst.cd}s`,\r\n      }, {\r\n        text: tr(\"burst.skillParams.15\"),\r\n        value: `${datamine.burst.enerCost}`,\r\n      }], {\r\n        value: condResolveStack,\r\n        path: condResolveStackPath,\r\n        name: trm(\"burst.resolves\"),\r\n        states: Object.fromEntries(resolveStacks.map(c => [c, {\r\n          name: `${c}`,\r\n          fields: []\r\n        }]))\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        canShow: data => data.get(input.asc).value >= 4,\r\n        text: trm(\"a4.enerRest\"),\r\n        value: (data) => {\r\n          return (data.get(input.total.enerRech_).value * 100 - 100) * (datamine.passive2.energyGen * 100)\r\n        },\r\n        unit: \"%\"\r\n      }, {\r\n          node: passive2ElecDmgBonus,\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, unequal(input.activeCharKey, input.charKey, 1)),\r\n        name: trm(\"c4.expires\"),\r\n        states: {\r\n          c4: {\r\n            fields: [{\r\n              node: c4AtkBonus_,\r\n            }, {\r\n              text: tr(\"skill.skillParams.2\"),\r\n              value: `${datamine.constellation4.duration}s`\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { infoMut, lookup, equal, percent, prod, subscript, greaterEq } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Shenhe\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[1], // 2\r\n      skillParam_gen.auto[2], // 3\r\n      skillParam_gen.auto[3], // 4x2\r\n      skillParam_gen.auto[5], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[6],\r\n    stamina: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    dmgAtk_: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    durationHold: skillParam_gen.skill[s++][0],\r\n    trigger: skillParam_gen.skill[s++][0],\r\n    triggerHold: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    res_: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    cryo_dmg_: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    press_dmg_: skillParam_gen.passive2[p2++][0],\r\n    durationPress: skillParam_gen.passive2[p2++][0],\r\n    hold_dmg_: skillParam_gen.passive2[p2++][0],\r\n    durationHold: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    dmg_: skillParam_gen.constellation4[0],\r\n    maxStacks: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    auto_: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condQuillPath, condQuill] = cond(key, \"quill\")\r\nconst nodeSkill = equal(\"quill\", condQuill,\r\n  prod(input.premod.atk, subscript(input.total.skillIndex, datamine.skill.dmgAtk_, { key: '_' })))\r\n\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst enemyRes_ = equal(\"burst\", condBurst,\r\n  subscript(input.total.burstIndex, datamine.burst.res_.map(x => -x), { key: '_' }))\r\n\r\nconst nodeBurstCryo_enemyRes_ = { ...enemyRes_ }\r\nconst nodeBurstPhysical_enemyRes_ = { ...enemyRes_ }\r\n\r\nconst [condAsc1Path, condAsc1] = cond(key, \"asc1\")\r\nconst nodeAsc1 = greaterEq(input.asc, 1,\r\n  equal(condAsc1, \"field\",\r\n    equal(input.activeCharKey, input.charKey,\r\n      datamine.passive1.cryo_dmg_\r\n    )\r\n  )\r\n)\r\n\r\nconst [condAsc4Path, condAsc4] = cond(key, \"asc4\")\r\nconst nodeAsc4 = greaterEq(input.asc, 1,\r\n  equal(condAsc4, \"press\",\r\n    datamine.passive2.press_dmg_\r\n  )\r\n)\r\nconst nodeAsc4Press_skill_dmg_ = { ...nodeAsc4 }\r\nconst nodeAsc4Press_burst_dmg_ = { ...nodeAsc4 }\r\nconst nodeAsc4Hold = greaterEq(input.asc, 1,\r\n  equal(condAsc4, \"hold\",\r\n    datamine.passive2.hold_dmg_\r\n  )\r\n)\r\nconst nodeAsc4Hold_normal_dmg_ = { ...nodeAsc4Hold }\r\nconst nodeAsc4Hold_charged_dmg_ = { ...nodeAsc4Hold }\r\nconst nodeAsc4Hold_plunging_dmg_ = { ...nodeAsc4Hold }\r\n\r\nconst nodeC2 = greaterEq(input.constellation, 2,\r\n  equal(condAsc1, \"field\",\r\n    equal(input.activeCharKey, input.charKey,\r\n      datamine.passive1.cryo_dmg_\r\n    )\r\n  )\r\n)\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4Inc = greaterEq(input.constellation, 4,\r\n  lookup(condC4,\r\n    objectKeyMap(range(1, datamine.constellation4.maxStacks), i => percent(i * datamine.constellation4.dmg_)),\r\n    0),\r\n  { key: \"char_Shenhe:c4Bonus_\" })\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\", { hit: { dmgBonus: c4Inc } }),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\", { hit: { dmgBonus: c4Inc } }),\r\n    quillDmg: nodeSkill\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      cryo_dmgInc: nodeSkill,\r\n      cryo_enemyRes_: nodeBurstCryo_enemyRes_,\r\n      physical_enemyRes_: nodeBurstPhysical_enemyRes_,\r\n      cryo_dmg_: nodeAsc1,\r\n      skill_dmg_: nodeAsc4Press_skill_dmg_,\r\n      burst_dmg_: nodeAsc4Press_burst_dmg_,\r\n      normal_dmg_: nodeAsc4Hold_normal_dmg_,\r\n      charged_dmg_: nodeAsc4Hold_charged_dmg_,\r\n      plunging_dmg_: nodeAsc4Hold_plunging_dmg_,\r\n      cryo_critDMG_: nodeC2\r\n    },\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 3 ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: { // Cannot use talentTemplate because this has multiple sections.\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            text: trm(\"pressDuration\"),\r\n            value: datamine.skill.duration,\r\n            unit: \"s\"\r\n          }, {\r\n            text: trm(\"pressQuota\"),\r\n            value: datamine.skill.trigger,\r\n          }, {\r\n            text: st(\"pressCD\"),\r\n            value: datamine.skill.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n          }, {\r\n            text: trm(\"holdDuration\"),\r\n            value: datamine.skill.durationHold,\r\n            unit: \"s\"\r\n          }, {\r\n            text: trm(\"holdQuota\"),\r\n            value: datamine.skill.triggerHold,\r\n          }, {\r\n            text: st(\"holdCD\"),\r\n            value: datamine.skill.cdHold,\r\n            unit: \"s\"\r\n          }, {\r\n            canShow: (data) => data.get(input.constellation).value >= 1,\r\n            text: st(\"charges\"),\r\n            value: 2\r\n          }],\r\n          conditional: {\r\n            teamBuff: true,\r\n            header: conditionalHeader(\"skill\", tr, skill),\r\n            description: tr(\"skill.description\"),\r\n            value: condQuill,\r\n            path: condQuillPath,\r\n            name: trm(\"quill\"),\r\n            states: {\r\n              quill: {\r\n                fields: [{\r\n                  node: nodeSkill\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }, {\r\n          conditional: { // ASC4\r\n            canShow: greaterEq(input.asc, 4, 1),\r\n            value: condAsc4,\r\n            path: condAsc4Path,\r\n            teamBuff: true,\r\n            header: conditionalHeader(\"passive2\", tr, passive2),\r\n            description: tr(\"passive2.description\"),\r\n            name: trm(\"asc4Cond\"),\r\n            states: {\r\n              press: {\r\n                name: \"Press\",\r\n                fields: [{\r\n                  node: nodeAsc4Press_skill_dmg_\r\n                }, {\r\n                  node: nodeAsc4Press_burst_dmg_\r\n                }]\r\n              },\r\n              hold: {\r\n                name: \"Hold\",\r\n                fields: [{\r\n                  node: nodeAsc4Hold_normal_dmg_\r\n                }, {\r\n                  node: nodeAsc4Hold_charged_dmg_\r\n                }, {\r\n                  node: nodeAsc4Hold_plunging_dmg_\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }, {\r\n          conditional: { // CONSTELLATION4\r\n            canShow: greaterEq(input.constellation, 4, 1),\r\n            value: condC4,\r\n            path: condC4Path,\r\n            header: conditionalHeader(\"constellation4\", tr, passive2),\r\n            description: tr(\"constellation4.description\"),\r\n            name: trm(\"c4\"),\r\n            states: objectKeyMap(range(1, 50).map(i => i.toString()), i => ({\r\n              name: i.toString(),\r\n              fields: [{ node: c4Inc }]\r\n            }))\r\n          }\r\n        }],\r\n      },\r\n      burst: { // Cannot use talentTemplate because this has multiple sections\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.2` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            // value: (data) => `${datamine.burst.duration}` + (data.get(input.constellation).value >= 2 ? `s + ${datamine.constellation2.durationInc}` : \"\"),\r\n            value: (data) => data.get(input.constellation).value >=2\r\n              ? `${datamine.burst.duration} + ${datamine.constellation2.durationInc} = ${datamine.burst.duration + datamine.constellation2.durationInc}`\r\n              : datamine.burst.duration,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.4\"),\r\n            value: datamine.burst.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.5\"),\r\n            value: datamine.burst.enerCost,\r\n          }]\r\n        }, {\r\n          conditional: {\r\n            teamBuff: true,\r\n            value: condBurst,\r\n            path: condBurstPath,\r\n            name: tr(\"burst.name\"),\r\n            header: conditionalHeader(\"burst\", tr, burst),\r\n            description: tr(\"burst.description\"),\r\n            states: {\r\n              burst: {\r\n                fields: [{\r\n                  node: nodeBurstCryo_enemyRes_\r\n                }, {\r\n                  node: nodeBurstPhysical_enemyRes_\r\n                }]\r\n              }\r\n            }\r\n          }\r\n        }, {\r\n          conditional: { // ASC1 Party + cond 2\r\n            canShow: greaterEq(input.asc, 1, equal(input.activeCharKey, input.charKey, 1)),\r\n            value: condAsc1,\r\n            path: condAsc1Path,\r\n            teamBuff: true,\r\n            header: conditionalHeader(\"passive1\", tr, passive1),\r\n            description: tr(\"passive1.description\"),\r\n            name: st(\"activeCharField\"),\r\n            states: {\r\n              field: {\r\n                fields: [{\r\n                  node: nodeAsc1\r\n                }, {\r\n                  node: nodeC2\r\n                }]\r\n              }\r\n            }\r\n          },\r\n        }],\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from \"../../../Formula/index\"\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, unequal } from \"../../../Formula/utils\"\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { conditionalHeader, ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { absorbableEle, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst characterKey: CharacterKey = \"Sucrose\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", characterKey)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dot: skillParam_gen.burst[b++],\r\n    dmg_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    eleMas: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    eleMas_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    ele_dmg_: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst [condAbsorptionPath, condAbsorption] = cond(characterKey, \"absorption\")\r\n// A1 Swirl Reaction Element\r\nconst [condSwirlReactionPath, condSwirlReaction] = cond(characterKey, \"swirl\")\r\n// Set to \"hit\" if skill hit opponents\r\nconst [condSkillHitOpponentPath, condSkillHitOpponent] = cond(characterKey, \"skillHit\")\r\n\r\n// Conditional Output\r\nconst asc1Condition = greaterEq(input.asc, 1,\r\n  unequal(target.charKey, characterKey,\r\n    equal(target.charEle, condSwirlReaction, 1)))\r\nconst asc1 = equal(asc1Condition, 1, datamine.passive1.eleMas)\r\nconst asc4 = equal(\"hit\", condSkillHitOpponent,\r\n  unequal(target.charKey, characterKey,\r\n    greaterEq(input.asc, 4,\r\n      prod(percent(datamine.passive2.eleMas_), input.premod.eleMas))))\r\nconst c6Base = greaterEq(input.constellation, 6, percent(0.2))\r\n\r\nconst c6Bonus = objectKeyMap(absorbableEle.map(ele => `${ele}_dmg_` as const), key =>\r\n  equal(condAbsorption, key.slice(0, -5), c6Base))\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\")\r\n  },\r\n  burst: {\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n    ...Object.fromEntries(absorbableEle.map(key =>\r\n      [key, equal(condAbsorption, key, dmgNode(\"atk\", datamine.burst.dmg_, \"burst\", { hit: { ele: constant(key) } }))]))\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(characterKey, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    total: { eleMas: asc4 },\r\n    premod: { ...c6Bonus, eleMas: asc1 },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(`auto.fields.normal`),\r\n            fields: datamine.normal.hitArr.map((_, i) => ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${characterKey}_gen:auto.skillParams.${i}` }),\r\n            }))\r\n          },\r\n          {\r\n            text: tr(`auto.fields.charged`),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.dmg, { key: `char_${characterKey}_gen:auto.skillParams.4` }),\r\n            }, {\r\n              text: tr(\"auto.skillParams.5\"),\r\n              value: datamine.charged.stamina,\r\n            }]\r\n          }, {\r\n            text: tr(`auto.fields.plunging`),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          },\r\n        ],\r\n      },\r\n      skill: {\r\n        name: tr(\"skill.name\"),\r\n        img: skill,\r\n        sections: [{\r\n          text: tr(\"skill.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.press, { key: `char_${characterKey}_gen:skill.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"skill.skillParams.1\"),\r\n            value: datamine.skill.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            canShow: (data) => data.get(input.constellation).value >= 1,\r\n            text: st(\"charges\"),\r\n            value: 2\r\n          }]\r\n        }]\r\n      },\r\n      burst: {\r\n        name: tr(\"burst.name\"),\r\n        img: burst,\r\n        sections: [{\r\n          text: tr(\"burst.description\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.dot, { key: `char_${characterKey}_gen:burst.skillParams.0` }),\r\n          }, {\r\n            text: tr(\"burst.skillParams.2\"),\r\n            value: data => data.get(input.constellation).value >= 2 ? `${datamine.burst.duration}s + 2` : datamine.burst.duration,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.3\"),\r\n            value: datamine.burst.cd,\r\n            unit: \"s\"\r\n          }, {\r\n            text: tr(\"burst.skillParams.4\"),\r\n            value: datamine.burst.enerCost,\r\n          }],\r\n          conditional: { // Absorption\r\n            value: condAbsorption,\r\n            path: condAbsorptionPath,\r\n            name: st(\"eleAbsor\"),\r\n            header: conditionalHeader(\"burst\", tr, burst),\r\n            states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n              name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n              fields: [{\r\n                node: infoMut(dmgFormulas.burst[eleKey], { key: `char_${characterKey}_gen:burst.skillParams.1` }),\r\n              }]\r\n            }]))\r\n          },\r\n        }, {\r\n          conditional: { // Absorption\r\n            value: condAbsorption,\r\n            path: condAbsorptionPath,\r\n            header: conditionalHeader(\"constellation6\", tr, c6),\r\n            description: tr(\"constellation6.description\"),\r\n            name: st(\"eleAbsor\"),\r\n            teamBuff: true,\r\n            canShow: greaterEq(input.constellation, 6, 1),\r\n            states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n              name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n              fields: [{\r\n                node: c6Bonus[`${eleKey}_dmg_`],\r\n              }],\r\n            }]))\r\n          },\r\n        }]\r\n      },\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n        // Swirl Element\r\n        teamBuff: true,\r\n        value: condSwirlReaction,\r\n        path: condSwirlReactionPath,\r\n        name: st(\"eleSwirled\"),\r\n        canShow: greaterEq(input.asc, 1, unequal(target.charKey, characterKey, 1)),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: asc1,\r\n          }, {\r\n            // TODO: uncomment after `target` bug is fixed\r\n            // canShow: data => data.get(asc1Condition).value,\r\n            text: sgt(\"duration\"),\r\n            value: datamine.passive1.duration,\r\n            unit: \"s\",\r\n          }],\r\n        }]))\r\n      }),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        // Swirl element\r\n        teamBuff: true,\r\n        value: condSkillHitOpponent,\r\n        path: condSkillHitOpponentPath,\r\n        name: trm(\"asc4\"),\r\n        canShow: greaterEq(input.asc, 4, unequal(target.charKey, characterKey, 1)),\r\n        states: {\r\n          hit: {\r\n            fields: [{\r\n              node: asc4,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }],\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Xiangling\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4x4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg1: skillParam_gen.burst[b++],\r\n    dmg2: skillParam_gen.burst[b++],\r\n    dmg3: skillParam_gen.burst[b++],\r\n    dmgNado: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    atk_bonus: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    pyroRes: skillParam_gen.constellation1[0],\r\n    duration: skillParam_gen.constellation1[1],\r\n  },\r\n  constellation2: {\r\n    duration1: skillParam_gen.constellation2[0],\r\n    duration2: skillParam_gen.constellation2[1],\r\n    dmg: skillParam_gen.constellation2[2],\r\n  },\r\n  constellation6: {\r\n    pyroDmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\n// A4\r\nconst [condAfterChiliPath, condAfterChili] = cond(key, \"afterChili\")\r\nconst afterChili = greaterEq(input.asc, 4,\r\n  equal(\"afterChili\", condAfterChili, percent(datamine.passive2.atk_bonus)))\r\n\r\n// C1\r\nconst [condAfterGuobaHitPath, condAfterGuobaHit] = cond(key, \"afterGuobaHit\")\r\nconst afterGuobaHit = greaterEq(input.constellation, 1,\r\n  equal(\"afterGuobaHit\", condAfterGuobaHit, percent(-datamine.constellation1.pyroRes)))\r\n\r\n// C6\r\nconst [condDuringPyronadoPath, condDuringPyronado] = cond(key, \"afterPyronado\")\r\nconst duringPyronado = greaterEq(input.constellation, 6,\r\n  equal(\"duringPyronado\", condDuringPyronado, percent(datamine.constellation6.pyroDmg)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg1: dmgNode(\"atk\", datamine.burst.dmg1, \"burst\"),\r\n    dmg2: dmgNode(\"atk\", datamine.burst.dmg2, \"burst\"),\r\n    dmg3: dmgNode(\"atk\", datamine.burst.dmg3, \"burst\"),\r\n    dmgNado: dmgNode(\"atk\", datamine.burst.dmgNado, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    dmg: customDmgNode(prod(input.total.atk, percent(datamine.constellation2.dmg)), \"elemental\",\r\n      { hit: { ele: constant(elementKey) } })\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: afterChili,\r\n      pyro_dmg_: duringPyronado,\r\n      pyro_enemyRes_: afterGuobaHit,\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : i === 3 ? st(\"brHits\", { count: 4 }) : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(\"auto.fields.plunging\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` },)\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }]\r\n      ),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg1, { key: `char_${key}_gen:burst.skillParams.0` })\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dmg2, { key: `char_${key}_gen:burst.skillParams.1` },)\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dmg3, { key: `char_${key}_gen:burst.skillParams.2` },)\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dmgNado, { key: `char_${key}_gen:burst.skillParams.3` },)\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }]\r\n      ),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, undefined, {\r\n        canShow: greaterEq(input.asc, 2, 1),\r\n        value: condAfterChili,\r\n        path: condAfterChiliPath,\r\n        name: trm(\"afterChili\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterChili: {\r\n            fields: [{\r\n              node: afterChili,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, undefined, {\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        value: condAfterGuobaHit,\r\n        path: condAfterGuobaHitPath,\r\n        name: trm(\"afterGuobaHit\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterGuobaHit: {\r\n            fields: [{\r\n              node: afterGuobaHit\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\",\r\n            }],\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{\r\n        canShow: data => data.get(input.constellation).value >= 2,\r\n        value: datamine.constellation2.dmg,\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:explosionDMG` }),\r\n      }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6, undefined, {\r\n        canShow: greaterEq(input.constellation, 6, 1),\r\n        value: condDuringPyronado,\r\n        path: condDuringPyronadoPath,\r\n        name: trm(\"duringPyronado\"),\r\n        teamBuff: true,\r\n        states: {\r\n          duringPyronado: {\r\n            fields: [{\r\n              node: duringPyronado\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\",\r\n            }],\r\n          }\r\n        }\r\n      }),\r\n    }\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from \"../../../Formula/index\"\r\nimport { constant, equal, greaterEq, infoMut, min, percent, prod, subscript, sum } from \"../../../Formula/utils\"\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Xingqiu\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet s = 0, b = 0\r\nexport const datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      (skillParam_gen.auto[0]),//1\r\n      (skillParam_gen.auto[1]),//2\r\n      (skillParam_gen.auto[2]),//3\r\n      // (skillParam_gen.auto[3]),\r\n      (skillParam_gen.auto[4]),//4\r\n      (skillParam_gen.auto[5]),//5\r\n      // (skillParam_gen.auto[6]),\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: (skillParam_gen.auto[7]),\r\n    hit2: (skillParam_gen.auto[8]),\r\n    stamina: skillParam_gen.auto[9][0]\r\n  },\r\n  plunging: {\r\n    dmg: (skillParam_gen.auto[10]),\r\n    low: (skillParam_gen.auto[11]),\r\n    high: (skillParam_gen.auto[12]),\r\n  },\r\n  skill: {\r\n    hit1: (skillParam_gen.skill[s++]),\r\n    hit2: (skillParam_gen.skill[s++]),\r\n    dmgRed_: (skillParam_gen.skill[s++]),\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: (skillParam_gen.burst[b++]),\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    hydro_dmg_: 0.20\r\n  },\r\n  constellation2: {\r\n    hydro_enemyRes_: -0.15,\r\n    skill_duration: 3\r\n  },\r\n  constellation4: {\r\n    dmg_: 0.50\r\n  },\r\n} as const\r\n\r\nconst nodeA4 = greaterEq(input.asc, 4, datamine.passive2.hydro_dmg_)\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst nodeC2 = greaterEq(input.constellation, 2,\r\n  equal(condC2, \"on\", datamine.constellation2.hydro_enemyRes_))\r\n\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst nodeC4 = greaterEq(input.constellation, 4,\r\n  equal(condBurst, \"on\", datamine.constellation4.dmg_), { key: `char_${key}:c4dmg_` })\r\n\r\nconst nodeSkillDmgRed_ = equal(condSkill, \"on\",\r\n  sum(subscript(input.total.skillIndex, datamine.skill.dmgRed_, { key: \"_\" }), min(percent(0.24), prod(percent(0.2), input.total.hydro_dmg_))))\r\n\r\nconst nodeA4Heal = customHealNode(greaterEq(input.asc, 1, prod(input.total.hp, percent(0.06))))\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press1: prod(sum(percent(1), nodeC4), dmgNode(\"atk\", datamine.skill.hit1, \"skill\")),\r\n    press2: prod(sum(percent(1), nodeC4), dmgNode(\"atk\", datamine.skill.hit2, \"skill\")),\r\n    dmgRed_: nodeSkillDmgRed_,\r\n  },\r\n  passive1: {\r\n    healing: nodeA4Heal\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      hydro_enemyRes_: nodeC2,\r\n      dmgRed_: infoMut(nodeSkillDmgRed_, { key: \"dmgRed_\" }),\r\n    }\r\n  },\r\n  premod: {\r\n    hydro_dmg_: nodeA4,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: (i === 2 || i === 4) ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(1)\"\r\n          }, {\r\n            node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n            textSuffix: \"(2)\"\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.press1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.press2, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: data => data.get(input.constellation).value >= 2\r\n          ? `${datamine.skill.duration}s + ${datamine.constellation2.skill_duration}`\r\n          : `${datamine.skill.duration}`,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.3\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }], {\r\n        teamBuff: true,\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        name: trm(\"skillCond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: dmgFormulas.skill.dmgRed_,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cost,\r\n      }], {\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burstCond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n            }, {\r\n              text: tr(\"burst.skillParams.1\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              node: nodeC4\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, [{\r\n        node: infoMut(dmgFormulas.passive1.healing, { key: `sheet_gen:healing`, variant: \"success\" }),\r\n      },]),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        node: nodeA4\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        value: condC2,\r\n        path: condC2Path,\r\n        teamBuff: true,\r\n        name: trm(\"c2Cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC2\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lessThan, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"YaeMiko\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg1: skillParam_gen.skill[s++],\r\n    dmg2: skillParam_gen.skill[s++],\r\n    dmg3: skillParam_gen.skill[s++],\r\n    dmg4: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    tenkoDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    eleMas_dmg_: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation4: {\r\n    ele_dmg_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    defIgn_: skillParam_gen.constellation6[0],\r\n  }\r\n\r\n} as const\r\n\r\nconst nodeAsc4 = greaterEq(input.asc, 4, prod(input.total.eleMas, percent(datamine.passive2.eleMas_dmg_)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst nodeC4 = greaterEq(input.constellation, 4, equal(\"hit\", condC4, datamine.constellation4.ele_dmg_))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, datamine.constellation6.defIgn_)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg1: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg1, \"skill\")),\r\n    dmg2: dmgNode(\"atk\", datamine.skill.dmg2, \"skill\", { enemy: { defIgn: nodeC6 } }),\r\n    dmg3: dmgNode(\"atk\", datamine.skill.dmg3, \"skill\", { enemy: { defIgn: nodeC6 } }),\r\n    dmg4: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg4, \"skill\", { enemy: { defIgn: nodeC6 } })),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    tenkoDmg: dmgNode(\"atk\", datamine.burst.tenkoDmg, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5\r\n  },\r\n  total: {\r\n    skill_dmg_: nodeAsc4,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_dmg_: nodeC4\r\n    },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.3` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg2, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg3, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg4, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.4\"),\r\n        value: datamine.skill.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.5\"),\r\n        value: datamine.skill.cd,\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.tenkoDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.enerCost,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{ node: nodeAsc4 }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        name: trm(\"c4\"),\r\n        states: {\r\n          hit: {\r\n            fields: [{\r\n              node: nodeC4,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, matchFull, percent, prod, subscript, sum, unequal } from \"../../../Formula/utils\"\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { INodeFieldDisplay } from '../../../Types/IFieldDisplay_WR'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\n\r\nconst characterKey: CharacterKey = \"Yoimiya\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, charTr] = trans(\"char\", characterKey)\r\n\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0],//x2\r\n      skillParam_gen.auto[1],\r\n      skillParam_gen.auto[2],\r\n      skillParam_gen.auto[3],//x2\r\n      skillParam_gen.auto[4],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit: skillParam_gen.auto[5],\r\n    full: skillParam_gen.auto[6],\r\n    kindling: skillParam_gen.auto[7],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    dmg_: skillParam_gen.skill[3],\r\n    duration: 10,\r\n    cd: 18\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[0],\r\n    exp: skillParam_gen.burst[1],\r\n    duration: 10,\r\n    cd: 15,\r\n    cost: 60\r\n  },\r\n  passive1: {\r\n    pyro_dmg_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n    maxStacks: 10,\r\n  },\r\n  passive2: {\r\n    fixed_atk_: skillParam_gen.passive2[0][0],\r\n    var_atk_: skillParam_gen.passive2[1][0],\r\n    duration: skillParam_gen.passive2[2][0],\r\n  },\r\n  constellation1: {\r\n    burst_durationInc: skillParam_gen.constellation1[0],\r\n    atk_: skillParam_gen.constellation1[1],\r\n    duration: skillParam_gen.constellation1[2]\r\n  },\r\n  constellation2: {\r\n    pyro_dmg_: skillParam_gen.constellation2[0],\r\n    duration: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation3: {},\r\n  constellation4: {\r\n    cdRed: skillParam_gen.constellation4[0]\r\n  },\r\n  constellation5: {},\r\n  constellation6: {\r\n    chance: skillParam_gen.constellation6[0],\r\n    dmg_: skillParam_gen.constellation6[1],\r\n  },\r\n}\r\n\r\nconst [condSkillPath, condSkill] = cond(characterKey, \"skill\")\r\nconst [condA1Path, condA1] = cond(characterKey, \"a1\")\r\nconst [condC1Path, condC1] = cond(characterKey, \"c1\")\r\nconst [condC2Path, condC2] = cond(characterKey, \"c2\")\r\nconst const3TalentInc = greaterEq(input.constellation, 3, 3)\r\nconst const5TalentInc = greaterEq(input.constellation, 5, 3)\r\nconst normal_dmgMult = matchFull(condSkill, \"skill\", subscript(input.total.skillIndex, datamine.skill.dmg_), 1, { key: 'normal_dmg_' })\r\nconst a1Stacks = lookup(condA1, Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i => [i, constant(i)])), 0)\r\nconst pyro_dmg_ = infoMut(prod(percent(datamine.passive1.pyro_dmg_), a1Stacks), { key: 'pyro_dmg_', variant: elementKey })\r\nconst atk_ = unequal(input.activeCharKey, characterKey, sum(percent(datamine.passive2.fixed_atk_), prod(percent(datamine.passive2.var_atk_), a1Stacks)))\r\nconst c1atk_ = equal(condC1, 'c1', percent(datamine.constellation1.atk_))\r\nconst c2pyro_dmg_ = equal(condC2, 'c2', percent(datamine.constellation2.pyro_dmg_), { key: 'pyro_dmg_', variant: elementKey })\r\n\r\nconst canShowC6 = uiData => uiData.get(input.constellation).value >= 6 && uiData.get(condSkill).value === 'skill'\r\nconst canShowA4 = uiData => uiData.get(input.asc).value >= 4\r\n\r\nconst normalEntries = datamine.normal.hitArr.map((arr, i) =>\r\n  [i, prod(normal_dmgMult, dmgNode(\"atk\", arr, \"normal\", { hit: { ele: matchFull(condSkill, \"skill\", constant(elementKey), constant(\"physical\")) } }))])\r\nconst kindlingEntries = normalEntries.map(([_, node], i) => [i, greaterEq(input.constellation, 6, prod(percent(datamine.constellation6.dmg_), node))])\r\n\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(normalEntries),\r\n  charged: {\r\n    hit: dmgNode(\"atk\", datamine.charged.hit, \"charged\"),\r\n    full: dmgNode(\"atk\", datamine.charged.full, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n    kindling: unequal(condSkill, \"skill\", dmgNode(\"atk\", datamine.charged.kindling, \"charged\", { hit: { ele: constant(elementKey) } }))\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {},\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n    exp: dmgNode(\"atk\", datamine.burst.exp, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  constellation6: Object.fromEntries(kindlingEntries)\r\n}\r\n\r\nexport const dataObj = dataObjForCharacterSheet(characterKey, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: const3TalentInc,\r\n    burst: const5TalentInc,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_,\r\n    }\r\n  },\r\n  premod: {\r\n    atk_: c1atk_,\r\n    pyro_dmg_: sum(pyro_dmg_, c2pyro_dmg_),\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [\r\n          {\r\n            text: tr(\"auto.fields.normal\"),\r\n            fields: datamine.normal.hitArr.map((_, i) => ({\r\n              node: infoMut(dmgFormulas.normal[i], { key: `char_${characterKey}_gen:auto.skillParams.${i}` }),\r\n              textSuffix: ([0, 3].includes(i)) ? st(\"brHits\", { count: 2 }) : \"\"\r\n            }))\r\n          }, {\r\n            text: tr(\"auto.fields.charged\"),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.charged.hit, { key: `char_${characterKey}_gen:auto.skillParams.5` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.full, { key: `char_${characterKey}_gen:auto.skillParams.6` }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.charged.kindling, { key: `char_${characterKey}_gen:auto.skillParams.7` }),\r\n            }]\r\n          }, {\r\n            text: tr(`auto.fields.plunging`),\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n            }, {\r\n              node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n            }]\r\n          },\r\n        ],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        text: tr(\"skill.skillParams.2\"),\r\n        value: datamine.skill.cd,\r\n        unit: 's'\r\n      }], {\r\n        name: tr(\"skill.name\"),\r\n        path: condSkillPath,\r\n        value: condSkill,\r\n        states: {\r\n          skill: {\r\n            fields: [{\r\n              text: tr(\"skill.skillParams.1\"),\r\n              value: datamine.skill.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${characterKey}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.exp, { key: `char_${characterKey}_gen:burst.skillParams.1` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: uiData => datamine.burst.duration + (uiData.get(input.constellation).value >= 1 ? datamine.constellation1.burst_durationInc : 0),\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: 60,\r\n      }]),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1, undefined, {\r\n          canShow: greaterEq(input.asc, 1, 1),\r\n          value: condA1,\r\n          path: condA1Path,\r\n          name: tr(\"passive1.name\"),\r\n          states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i =>\r\n            [i, {\r\n              name: `${i} stack`,\r\n              fields: [\r\n                {\r\n                  node: pyro_dmg_\r\n                },\r\n                {\r\n                  text: sgt(\"duration\"),\r\n                  value: datamine.passive1.duration,\r\n                  unit: \"s\"\r\n                }\r\n              ]\r\n\r\n            }]))\r\n        }\r\n      ),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{\r\n        canShow: canShowA4,\r\n        node: infoMut(atk_, { key: `char_${characterKey}_gen:passive2.name` })\r\n      }, {\r\n        canShow: canShowA4,\r\n        text: sgt(\"duration\"),\r\n        value: datamine.passive2.duration,\r\n        unit: \"s\"\r\n      }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1, [], {\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        name: charTr(\"c1\"),\r\n        value: condC1,\r\n        path: condC1Path,\r\n        states: {\r\n          c1: {\r\n            fields: [{\r\n              node: constant(datamine.constellation1.atk_, { key: \"atk_\" })\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, undefined, {\r\n        canShow: greaterEq(input.constellation, 2, 1),\r\n        name: charTr(\"c2\"),\r\n        value: condC2,\r\n        path: condC2Path,\r\n        states: {\r\n          c2: {\r\n            fields: [\r\n              {\r\n                node: c2pyro_dmg_\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.constellation2.duration,\r\n                unit: \"s\"\r\n              }]\r\n          }\r\n        }\r\n      }),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: const3TalentInc }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: const5TalentInc }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6,\r\n        datamine.normal.hitArr.map((_, i): INodeFieldDisplay => ({\r\n          canShow: canShowC6,\r\n          node: infoMut(dmgFormulas.constellation6[i], { key: `char_${characterKey}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: ([0, 3].includes(i)) ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      )\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, dataObj);\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { allElements, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet, normalSrc, talentTemplate } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, burst, c1, c2, c3, c4, c5, c6, card, passive1, passive2, passive3, skill, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"YunJin\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3.1\r\n      skillParam_gen.auto[a++], // 3.2\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shield_: skillParam_gen.skill[s++],\r\n    shield: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    dmg1: skillParam_gen.skill[s++],\r\n    dmg2: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dmgInc: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    triggerNum: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    dmgInc: skillParam_gen.passive2.map(a => a[0]),\r\n  },\r\n  constellation2: {\r\n    normalInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    def_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    atkSpd: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst nodeA4 = greaterEq(input.asc, 4,\r\n  subscript(sum(...allElements.map(ele => greaterEq(tally[ele], 1, 1))), [0, ...datamine.passive2.dmgInc], { key: '_' }))\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"skill\")\r\nconst nodeSkill = equal(\"on\", condBurst, sum(\r\n  prod(input.premod.def, sum(subscript(input.total.burstIndex, datamine.burst.dmgInc, { key: '_' }), nodeA4))))\r\n\r\nconst nodeC2 = greaterEq(input.constellation, 2, equal(\"on\", condBurst, datamine.constellation2.normalInc))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst nodeC4 = greaterEq(input.constellation, 4, equal(\"on\", condC4, datamine.constellation4.def_))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, equal(\"on\", condBurst, datamine.constellation6.atkSpd))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    dmg1: dmgNode(\"atk\", datamine.skill.dmg1, \"skill\"),\r\n    dmg2: dmgNode(\"atk\", datamine.skill.dmg2, \"skill\"),\r\n    shield: shieldNodeTalent(\"hp\", datamine.skill.shield_, datamine.skill.shield, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dmgInc: nodeSkill\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    def_: nodeC4,\r\n    atkSPD_: nodeC6,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      normal_dmgInc: nodeSkill,\r\n      normal_dmg_: nodeC2,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: {\r\n        name: tr(\"auto.name\"),\r\n        img: normalSrc(data_gen.weaponTypeKey),\r\n        sections: [{\r\n          text: tr(\"auto.fields.normal\"),\r\n          fields: datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i > 2 ? -1 : 0) + (i > 4 ? -1 : 0)}` }),\r\n            textSuffix: (i === 2 || i === 4) ? \"(1)\" : (i === 3 || i === 5) ? \"(2)\" : \"\"\r\n          }))\r\n        }, {\r\n          text: tr(\"auto.fields.charged\"),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.charged.stamina,\r\n          }]\r\n        }, {\r\n          text: tr(`auto.fields.plunging`),\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n          }, {\r\n            node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n          }]\r\n        }],\r\n      },\r\n      skill: talentTemplate(\"skill\", tr, skill, [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg1, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.dmg2, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.4\"),\r\n        value: data => data.get(input.constellation).value >= 1\r\n          ? `${datamine.skill.cd} - 18% = ${(datamine.skill.cd*(1-0.18)).toFixed(2)}`\r\n          : `${datamine.skill.cd}`,\r\n        unit: \"s\"\r\n      }]),\r\n      burst: talentTemplate(\"burst\", tr, burst, [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost,\r\n      }], {\r\n        teamBuff: true,\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeSkill\r\n            }, {\r\n              node: nodeC2\r\n            }, {\r\n              node: nodeC6\r\n            }, {\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: tr(\"burst.skillParams.3\"),\r\n              value: datamine.burst.triggerNum,\r\n            }]\r\n          }\r\n        }\r\n      }),\r\n      passive1: talentTemplate(\"passive1\", tr, passive1),\r\n      passive2: talentTemplate(\"passive2\", tr, passive2, [{ node: infoMut(nodeA4, { key: `char_${key}:a4Inc_` }) }]),\r\n      passive3: talentTemplate(\"passive3\", tr, passive3),\r\n      constellation1: talentTemplate(\"constellation1\", tr, c1),\r\n      constellation2: talentTemplate(\"constellation2\", tr, c2, [{ node: nodeC2 }]),\r\n      constellation3: talentTemplate(\"constellation3\", tr, c3, [{ node: nodeC3 }]),\r\n      constellation4: talentTemplate(\"constellation4\", tr, c4, undefined, {\r\n        canShow: greaterEq(input.constellation, 4, 1),\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC4\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            },]\r\n          }\r\n        }\r\n      }),\r\n      constellation5: talentTemplate(\"constellation5\", tr, c5, [{ node: nodeC5 }]),\r\n      constellation6: talentTemplate(\"constellation6\", tr, c6),\r\n    }\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { CharacterKey } from '../../Types/consts'\r\nimport CharacterSheet from './CharacterSheet'\r\n\r\n// import Albedo from './Albedo'\r\n// import Aloy from './Aloy'\r\n// import Amber from './Amber'\r\nimport AratakiItto from './AratakiItto'\r\n// import Barbara from './Barbara'\r\n// import Beidou from './Beidou'\r\nimport Bennett from './Bennett'\r\n// import Chongyun from './Chongyun'\r\n// import Diluc from './Diluc'\r\n// import Diona from './Diona'\r\nimport Eula from './Eula'\r\n// import Fischl from './Fischl'\r\n// import Ganyu from './Ganyu'\r\n// import Gorou from './Gorou'\r\nimport HuTao from './HuTao'\r\n// import Jean from './Jean'\r\nimport KaedeharaKazuha from './KaedeharaKazuha'\r\n// import Kaeya from './Kaeya'\r\nimport KamisatoAyaka from './KamisatoAyaka'\r\n// import Keqing from './Keqing'\r\n// import Klee from './Klee'\r\nimport KujouSara from './KujouSara'\r\n// import Lisa from './Lisa'\r\nimport Mona from './Mona'\r\n// import Ningguang from './Ningguang'\r\nimport Noelle from './Noelle'\r\n// import Qiqi from './Qiqi'\r\nimport RaidenShogun from './RaidenShogun'\r\n// import Razor from './Razor'\r\n// import Rosaria from './Rosaria'\r\n// import SangonomiyaKokomi from './SangonomiyaKokomi'\r\n// import Sayu from './Sayu'\r\nimport Shenhe from \"./Shenhe\"\r\nimport Sucrose from \"./Sucrose\"\r\n// import Tartaglia from './Tartaglia'\r\n// import Thoma from './Thoma'\r\n// import Traveler from './Traveler'\r\n// import Venti from './Venti'\r\nimport Xiangling from './Xiangling'\r\n// import Xiao from './Xiao'\r\nimport Xingqiu from './Xingqiu'\r\n// import Xinyan from './Xinyan'\r\nimport YaeMiko from './YaeMiko'\r\n// import Yanfei from './Yanfei'\r\nimport Yoimiya from './Yoimiya'\r\nimport YunJin from './YunJin'\r\n// import Zhongli from './Zhongli'\r\n\r\nconst characters: Record<CharacterKey, CharacterSheet> = {\r\n  // Albedo,\r\n  // Aloy,\r\n  // Amber,\r\n  AratakiItto,\r\n  // Barbara,\r\n  // Beidou,\r\n  Bennett,\r\n  // Chongyun,\r\n  // Diluc,\r\n  // Diona,\r\n  Eula,\r\n  // Fischl,\r\n  // Ganyu,\r\n  // Gorou,\r\n  HuTao,\r\n  // Jean,\r\n  KaedeharaKazuha,\r\n  // Kaeya,\r\n  KamisatoAyaka,\r\n  // Keqing,\r\n  // Klee,\r\n  KujouSara,\r\n  // Lisa,\r\n  Mona,\r\n  // Ningguang,\r\n  Noelle,\r\n  // Qiqi,\r\n  RaidenShogun,\r\n  // Razor,\r\n  // Rosaria,\r\n  // SangonomiyaKokomi,\r\n  // Sayu,\r\n  Shenhe,\r\n  Sucrose,\r\n  // Tartaglia,\r\n  // Thoma,\r\n  // Traveler,\r\n  // Venti,\r\n  Xiangling,\r\n  // Xiao,\r\n  Xingqiu,\r\n  // Xinyan,\r\n  YaeMiko,\r\n  // Yanfei,\r\n  Yoimiya,\r\n  YunJin,\r\n  // Zhongli\r\n} as const\r\nexport default characters\r\n","import { Translate } from \"../Components/Translate\"\r\nimport { ReadNode } from \"../Formula/type\"\r\nimport { customStringRead } from \"../Formula/utils\"\r\nimport { ArtifactSetKey, CharacterKey, WeaponKey } from \"../Types/consts\"\r\n\r\nexport const st = (strKey: string, values?: object) => <Translate ns=\"sheet\" key18={strKey} values={values} />\r\nexport const sgt = (strKey: string) => <Translate ns=\"sheet_gen\" key18={strKey} />\r\n\r\nexport const condReadNode = (path: string[]) => customStringRead([\"conditional\", ...path])\r\nexport function cond(key: CharacterKey | WeaponKey | ArtifactSetKey, subKey: string): [path: string[], node: ReadNode<string>] {\r\n  const path = [key, subKey]\r\n  const node = condReadNode(path)\r\n  return [path, node]\r\n}\r\n\r\ntype Translated = [tr: ((i18key: string) => Displayable), tran: ((i18key: string) => Displayable)]\r\nexport function trans(typeKey: \"char\", key: CharacterKey): Translated\r\nexport function trans(typeKey: \"weapon\", key: WeaponKey): Translated\r\nexport function trans(typeKey: \"artifact\", key: ArtifactSetKey): Translated\r\nexport function trans(typeKey: \"char\" | \"weapon\" | \"artifact\", key: CharacterKey | WeaponKey | ArtifactSetKey): Translated {\r\n  return [\r\n    (strKey: string) => <Translate ns={`${typeKey}_${key}_gen`} key18={strKey} />,\r\n    (strKey: string, values?: object) => <Translate ns={`${typeKey}_${key}`} key18={strKey} values={values} />\r\n  ]\r\n}\r\n"],"names":["key","data_gen","data_gen_src","trans","tr","trm","datamine","normal","hitArr","skillParam_gen","charged","sSlash","akSlash","akFinal","stam","plunging","dmg","low","high","ss","duration","skill","hp","ss_cd","cd","burst","atkSpd","defConv","resDec","cost","passive1","maxStacks","atkSPD_","passive2","def_","constellation4","atk_","constellation6","charged_critDMG_","cond","condBurstPath","condBurst","condP1Path","condP1","condC4Path","condC4","nodeSkillHP","prod","subscript","input","nodeBurstAtk","equal","nodeBurstAtkSpd","allNodeBurstRes","Object","fromEntries","allElementsWithPhy","ele","nodeBurstInfusion","equalStr","nodeA4Bonus","greaterEq","percent","nodeP1AtkSpd","lookup","range","map","i","constant","nodeC4Atk","nodeC4Def","nodeC6CritDMG","dmgFormulas","arr","dmgNode","customDmgNode","sum","entries","name","nodeC3","nodeC5","data","dataObjForCharacterSheet","bonus","teamBuff","premod","atk","infusion","sheet","cardImg","card","thumbImg","thumb","thumbImgSide","thumbSide","bannerImg","banner","rarity","star","elementKey","weaponTypeKey","gender","constellationName","title","talent","sheets","auto","img","normalSrc","sections","text","fields","_","node","infoMut","value","unit","variant","talentTemplate","path","states","on","st","values","undefined","canShow","count","passive3","constellation1","c1","constellation2","c2","constellation3","c3","c4","header","conditionalHeader","description","sgt","constellation5","c5","c6","CharacterSheet","a","s","b","dmg1","stamina","press","hold1_1","hold1_2","hold2_1","hold2_2","explosion","cd_press","cd_hold1","cd_hold2","regen_","regenFlat","atkBonus","enerCost","cd_red","atk_inc","hp_thresh","er_inc","pyro_dmg","c1Atk","atkIncRatio","condInAreaPath","condInArea","inArea","inAreaAtk","inAreaA4","c6AndCorrectWep","target","inAreaC6PyroDmg","inAreaC6Infusion","condUnderHPPath","condUnderHP","underHP","regen","healNodeTalent","atkInc","addlATK","pyro_dmg_","team","enerRech_","percentArr","calculateSkillCD","get","color","skillCD","cdFactor","result","p1","spinningDmg","finalDmg","hold","icewhirl","physResDec","cryoResDec","resDecDuration","pressCd","holdCd","defBonus","unknown","physResDecNegative","cryoResDecNegative","grimheartDuration","lightfallDmg","dmgPerStack","maxStack","percentage","physInc","dmgInc","condGrimheartPath","condGrimheart","condLightfallSwordPath","condLightfallSword","condTidalIllusionPath","condTidalIllusion","cryo_enemyRes_","physical_enemyRes_","physical_dmg_","lightSwordAdditional","burst_dmg_","hit","lightFallSwordNew","objectKeyMap","shatteredLightfallSword","textSuffix","conditional","p2","activationCost","bloodBlossomDuration","maxAtkInc","lowHpDmg","lowHpRegen","minHp","critRateInc","pyroDmgInc","bloodBlossomDmgInc","elePhysResInc","condAfterlifePath","condAfterlife","min","condA1Path","condA1","critRateTeam_1","unequal","condA2Path","condA2","critRateTeam_2","condC6Path","condC6","critRate_","ele_res_s","lessThan","dmgC2","customHealNode","total","dmg2","cdHold","dot","add","asorbAdd","elemas_dmg_","elemas","auto_","condBurstAbsorptionPath","condBurstAbsorption","condSkillAbsorptionPath","condSkillAbsorption","condSwirlPaths","absorbableEle","e","condSwirls","condReadNode","asc4","condC2Path","condC2","c2EleMas","condC2PPath","condC2P","c2PEleMas","c6infusion","greaterEqStr","c6Dmg_","c6NormDmg_","c6ChargedDmg_","c6PlungingDmg_","passive","pdmg","plow","phigh","normal_dmg_","charged_dmg_","plunging_dmg_","staminaSprintDec_","eleMas","eleKey","c2p","swirl","sp","sprint","active_stam","drain_stam","dmg_bonus","cryo","snowflake","def_red","charged_bonus","condAfterSprintPath","condAfterSprint","afterSprintInfusion","condAfterSkillA1Path","condAfterSkillA1","a1NormDmg_","a1ChargedDmg_","condAfterApplySprintPath","condAfterApplySprint","afterApplySprintCryo","condAfterBurstPath","condAfterBurst","afterBurst","cutting","bloom","enemyDefRed_","cryo_dmg_","afterSprint","afterSkill","afterApplySprint","aimed","fullyAimed","titanBreakerDmg","stormClusterDmg","energyGen","er","crowfeatherDmg","condSkillTenguAmbushPath","condSkillTenguAmbush","skillTenguAmbush_","x","c6ElectroCritDmg_","titanbreaker","stormcluster","electro_critDMG_","TenguJuuraiAmbush","bubbleDuration","dmgBonusNeg","omenDuration","dmgBonus","torrentDuration","phantomDuration","electroChargeDmgInc","vaporizeDmgInc","hydroSwirlDmgInc","frozenExtension","critRateIncNeg","Math","abs","maxDmgBonus","hydro_dmg_","condOmenPath","condOmen","all_dmg_","condPoSPath","condPoS","electrocharged_dmg_","swirl_dmg_","vaporize_dmg_","condPoOPath","condPoO","condRoCPath","condRoC","shieldDef","healDef","healChance","shieldDuration","skillDmg","shieldFlat","healFlat","burstDmg","defToAtk","hpThreshold","shield","cooldown","healingChance","chargeStamina","chargeDmg_","burstAtkBonus","nodeSkillHealChanceBase","nodeSkillHealChanceC1BurstOn","nodeSkillHealChanceC1BurstOff","nodeC2ChargeDMG","nodeC4dmg","geoShieldStrength","shieldNodeTalent","heal","devotionShield","shieldNode","coorDmg","burstDmg_bonus","resolveBonus1","resolveBonus2","resolveGained","hit1","hit2","hit3","hit41","hit42","hit5","charged1","charged2","plunge","plungeLow","plungeHigh","enerGen","electroDmg_bonus","def_ignore","atk_bonus","condSkillEyePath","condSkillEye","skillEye_","atkType","enemy","defIgn","energyCosts","condSkillEyeTeamPath","condSkillEyeTeam","skillEyeTeamBurstDmgInc","resolveStacks","condResolveStackPath","condResolveStack","burstResolve","initial","resolveBonus","passive2ElecDmgBonus","c4AtkBonus_","electro_dmg_","skillEye","c","dmgAtk_","durationHold","trigger","triggerHold","res_","press_dmg_","durationPress","hold_dmg_","durationInc","dmg_","condQuillPath","condQuill","nodeSkill","enemyRes_","nodeBurstCryo_enemyRes_","nodeBurstPhysical_enemyRes_","condAsc1Path","condAsc1","nodeAsc1","condAsc4Path","condAsc4","nodeAsc4","nodeAsc4Press_skill_dmg_","nodeAsc4Press_burst_dmg_","nodeAsc4Hold","nodeAsc4Hold_normal_dmg_","nodeAsc4Hold_charged_dmg_","nodeAsc4Hold_plunging_dmg_","nodeC2","c4Inc","quillDmg","cryo_dmgInc","skill_dmg_","cryo_critDMG_","quill","toString","field","characterKey","eleMas_","ele_dmg_","condAbsorptionPath","condAbsorption","condSwirlReactionPath","condSwirlReaction","condSkillHitOpponentPath","condSkillHitOpponent","asc1Condition","asc1","c6Base","c6Bonus","slice","dmg3","dmgNado","pyroRes","duration1","duration2","pyroDmg","condAfterChiliPath","condAfterChili","afterChili","condAfterGuobaHitPath","condAfterGuobaHit","afterGuobaHit","condDuringPyronadoPath","condDuringPyronado","duringPyronado","pyro_enemyRes_","dmgRed_","hydro_enemyRes_","skill_duration","nodeA4","condSkillPath","condSkill","nodeC4","nodeSkillDmgRed_","nodeA4Heal","press1","press2","healing","dmg4","tenkoDmg","eleMas_dmg_","defIgn_","nodeC6","charTr","full","kindling","exp","fixed_atk_","var_atk_","burst_durationInc","cdRed","chance","condC1Path","condC1","const3TalentInc","const5TalentInc","normal_dmgMult","matchFull","a1Stacks","c1atk_","c2pyro_dmg_","canShowC6","uiData","canShowA4","normalEntries","kindlingEntries","dataObj","includes","shield_","triggerNum","normalInc","allElements","tally","normal_dmgInc","toFixed","AratakiItto","Bennett","Eula","HuTao","KaedeharaKazuha","KamisatoAyaka","KujouSara","Mona","Noelle","RaidenShogun","Shenhe","Sucrose","Xiangling","Xingqiu","YaeMiko","Yoimiya","YunJin","strKey","ns","key18","customStringRead","subKey","typeKey"],"sourceRoot":""}