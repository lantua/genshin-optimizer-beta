"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[496],{3992:function(e,t,n){var r=n(66934),a=n(57621),i=(0,r.ZP)(a.Z)((function(e){return{backgroundColor:e.theme.palette.contentDark.main}}));t.Z=i},71310:function(e,t,n){var r=n(66934),a=n(57621),i=(0,r.ZP)(a.Z)((function(e){return{backgroundColor:e.theme.palette.contentLight.main}}));t.Z=i},33890:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(1413),a=n(29439),i=n(45987),o=n(1235),s=n(24518),c=n(47047),l=n(65117),d=n(72791),u=n(80184),h=["title","children","id"];function f(e){var t=e.title,n=e.children,f=e.id,p=void 0===f?"dropdownbtn":f,v=(0,i.Z)(e,h),x=(0,d.useState)(null),g=(0,a.Z)(x,2),j=g[0],Z=g[1],m=Boolean(j),y=(0,d.useCallback)((function(e){return Z(e.currentTarget)}),[Z]),b=(0,d.useCallback)((function(){return Z(null)}),[Z]);return(0,u.jsxs)(d.Suspense,{fallback:(0,u.jsx)(s.Z,(0,r.Z)((0,r.Z)({endIcon:(0,u.jsx)(o.Z,{})},v),{},{children:(0,u.jsx)(c.Z,{width:50})})),children:[(0,u.jsx)(s.Z,(0,r.Z)((0,r.Z)({},v),{},{id:p,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":m?"true":void 0,onClick:y,endIcon:(0,u.jsx)(o.Z,{}),children:t})),(0,u.jsx)(l.Z,{id:"basic-menu",anchorEl:j,open:m,onClose:b,MenuListProps:{"aria-labelledby":p},onClick:b,children:(0,u.jsx)(d.Suspense,{fallback:(0,u.jsx)(c.Z,{width:"100%",height:"1000"}),children:n})})]})}},25617:function(e,t,n){var r=(0,n(66934).ZP)("span",{name:"SqBadge",slot:"Root"})((function(e){var t,n,r=e.theme,a=e.color,i=void 0===a?"primary":a;return{display:"inline-block",padding:".25em .4em",fontSize:"75%",fontWeight:700,lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",borderRadius:".25em",backgroundColor:null===(t=r.palette[i])||void 0===t?void 0:t.main,color:null===(n=r.palette[i])||void 0===n?void 0:n.contrastText}}));t.Z=r},20323:function(e,t,n){function r(){return{tcMode:!1}}n.d(t,{c:function(){return r}})},85496:function(e,t,n){n.r(t),n.d(t,{default:function(){return ue}});var r=n(39504),a=n(20890),i=n(94721),o=n(16129),s=n(22020),c=n(76899),l=n(3992),d=n(53174),u=n(54483),h=n(72456),f=n(61889),p=n(24518),v=n(72791),x=n(71310),g=n(3997),j=n(29439),Z=n(45987),m=n(93433),y=n(1413),b=n(37762),w=n(23741),C=n(56539),k=n(52164),S=n(93329),_=["key"],M="Genshin Optimizer";function P(e,t){if(1===e.version)return function(e,t){var n=e.source,r=new w.N(t.storage),a={type:"GOOD",storage:r,source:n};e.artifacts&&function(){var n,i={total:0,invalid:[],new:0,updated:0,unchanged:0,removed:0},o=e.artifacts.flatMap((function(e){var t=(0,S.R$)(e);return t||i.invalid.push(e),t?[t]:[]})),s=o.some((function(e){return e.location})),c=new Set(t._getArts().map((function(e){return e.id}))),l=(0,b.Z)(o);try{for(l.s();!(n=l.n()).done;){var d,u=n.value,h=t.findDuplicates(u),f=h.duplicated,p=h.upgraded;f=f.filter((function(e){return c.has(e.id)})),p=p.filter((function(e){return c.has(e.id)}));var v=null!==(d=f[0])&&void 0!==d?d:p[0];if(v){for(var x in c.delete(v.id),v)x in u||"location"===x||(u[x]=v[x]);s||(u.location=v.location)}f.length?i.unchanged++:p.length?i.updated++:i.new++}}catch(g){l.e(g)}finally{l.f()}i.total=e.artifacts.length,i.removed=c.size,a.artifacts=i,r.removeForKeys((function(e){return e.startsWith("artifact_")})),o.forEach((function(e,t){return r.set("artifact_".concat(t),e)}))}();e.weapons&&function(){var n,i={total:0,invalid:[],new:0,updated:0,unchanged:0,removed:0},o=e.weapons.flatMap((function(e){var t=(0,S.S0)(e);return t||i.invalid.push(e),t?[t]:[]})),s=o.some((function(e){return e.location})),c=new Set(t._getWeapons().map((function(e){return e.id}))),l=(0,b.Z)(o);try{for(l.s();!(n=l.n()).done;){var d,u=n.value,h=t.findDuplicateWeapons(u),f=h.duplicated,p=h.upgraded;f=f.filter((function(e){return c.has(e.id)})),p=p.filter((function(e){return c.has(e.id)}));var v=null!==(d=f[0])&&void 0!==d?d:p[0];if(v){for(var x in c.delete(v.id),v)x in u||"location"===x||(u[x]=v[x]);s||(u.location=v.location)}f.length?i.unchanged++:p.length?i.updated++:i.new++}}catch(g){l.e(g)}finally{l.f()}i.total=e.weapons.length,i.removed=c.size,a.weapons=i,r.removeForKeys((function(e){return e.startsWith("weapon_")})),o.forEach((function(e,t){return r.set("weapon_".concat(t),e)}))}();if(e.characters){var i=[],o=e.characters.flatMap((function(e){var n,r=null!==(n=t._getChar(e.key))&&void 0!==n?n:{},a=(0,S.J0)((0,y.Z)((0,y.Z)({},r),e));return a||i.push(e),a?[a]:[]})),s=new Set(o.map((function(e){return e.key}))),c=new Set(t._getCharKeys());a.characters={total:e.characters.length,new:(0,m.Z)(s).filter((function(e){return!c.has(e)})).length,updated:(0,m.Z)(s).filter((function(e){return c.has(e)})).length,removed:(0,m.Z)(c).filter((function(e){return!s.has(e)})).length,unchanged:0,invalid:i},r.removeForKeys((function(e){return e.startsWith("char_")})),o.forEach((function(e){return r.set("char_".concat(e.key),e)}))}var l,d=(0,b.Z)(r.keys);try{for(d.s();!(l=d.n()).done;){var u=l.value;if(u.startsWith("char_")){var h=r.get(u);h.buildSettings&&(h.buildSettings.builds=[],h.buildSettings.buildDate=0,r.set(u,h))}}}catch(x){d.e(x)}finally{d.f()}if(n===M){var f=e,p=f.dbVersion,v=f.states;if(p<8)return;(0,k.W)(r,p),v&&v.forEach((function(e){var t=e,n=t.key,a=(0,Z.Z)(t,_);n&&r.set("state_".concat(n),a)}))}else(0,k.W)(r,8);return new g.M(r),a}(e,t)}function O(e){return{format:"GOOD",dbVersion:C.U,source:M,version:1,characters:e.entries.filter((function(e){return(0,j.Z)(e,1)[0].startsWith("char_")})).map((function(e){var t=(0,j.Z)(e,2),n=(t[0],t[1]),r=JSON.parse(n);return r.buildSettings&&(r.buildSettings.builds=[],r.buildSettings.buildDate=0),r})),artifacts:e.entries.filter((function(e){return(0,j.Z)(e,1)[0].startsWith("artifact_")})).map((function(e){var t=(0,j.Z)(e,2),n=(t[0],t[1]);return JSON.parse(n)})),weapons:e.entries.filter((function(e){return(0,j.Z)(e,1)[0].startsWith("weapon_")})).map((function(e){var t=(0,j.Z)(e,2),n=(t[0],t[1]);return JSON.parse(n)})),states:e.entries.filter((function(e){return(0,j.Z)(e,1)[0].startsWith("state_")})).map((function(e){var t=(0,j.Z)(e,2),n=t[0],r=t[1];return(0,y.Z)((0,y.Z)({},JSON.parse(r)),{},{key:n.split("state_")[1]})}))}}var D=n(80184);function K(){var e=(0,v.useContext)(g.t),t=e.database,n=e.setDatabase,o=(0,s.$)(["settings"]).t,l=t._getCharKeys().length,j=t._getArts().length,Z=t._getWeapons().length,m=Boolean(l||j),y=(0,v.useCallback)((function(){t.storage.clear(),n(new g.M(t.storage))}),[t,n]),b=(0,v.useCallback)((function(){return navigator.clipboard.writeText(JSON.stringify(O(t.storage))).then((function(){return alert("Copied database to clipboard.")})).catch(console.error)}),[t]),w=(0,v.useCallback)((function(){var e=JSON.stringify(O(t.storage)),n=document.createElement("a");n.download="data.json",n.href="data:".concat("application/json;charset=utf-8",",").concat(encodeURIComponent(e)),n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)}),[t]);return(0,D.jsxs)(x.Z,{children:[(0,D.jsx)(r.Z,{sx:{py:1},children:(0,D.jsx)(a.Z,{variant:"subtitle1",children:(0,D.jsx)(c.c,{t:o,i18nKey:"downloadCard.databaseDownload"})})}),(0,D.jsx)(i.Z,{}),(0,D.jsx)(r.Z,{children:(0,D.jsxs)(f.ZP,{container:!0,mb:2,spacing:2,children:[(0,D.jsx)(f.ZP,{item:!0,xs:6,md:4,children:(0,D.jsxs)(a.Z,{children:[(0,D.jsx)(c.c,{t:o,i18nKey:"count.chars"})," ",l]})}),(0,D.jsx)(f.ZP,{item:!0,xs:6,md:4,children:(0,D.jsxs)(a.Z,{children:[(0,D.jsx)(c.c,{t:o,i18nKey:"count.arts"})," ",j]})}),(0,D.jsx)(f.ZP,{item:!0,xs:6,md:4,children:(0,D.jsxs)(a.Z,{children:[(0,D.jsx)(c.c,{t:o,i18nKey:"count.weapons"})," ",Z]})})]})}),(0,D.jsx)(i.Z,{}),(0,D.jsx)(r.Z,{sx:{py:1},children:(0,D.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,D.jsx)(f.ZP,{item:!0,children:(0,D.jsx)(p.Z,{disabled:!m,onClick:w,startIcon:(0,D.jsx)(h.Z,{}),children:(0,D.jsx)(c.c,{t:o,i18nKey:"downloadCard.button.download"})})}),(0,D.jsx)(f.ZP,{item:!0,flexGrow:1,children:(0,D.jsx)(p.Z,{disabled:!m,color:"info",onClick:b,startIcon:(0,D.jsx)(u.G,{icon:d.Yjj}),children:(0,D.jsx)(c.c,{t:o,i18nKey:"downloadCard.button.copy"})})}),(0,D.jsx)(f.ZP,{item:!0,children:(0,D.jsx)(p.Z,{disabled:!m,color:"error",onClick:y,startIcon:(0,D.jsx)(u.G,{icon:d.I7k}),children:(0,D.jsx)(c.c,{t:o,i18nKey:"downloadCard.button.delete"})})})]})})]})}var z=n(23786),A=n(33890),G=n(25617),W=n(91449);function I(){var e=(0,s.$)().t;return(0,D.jsxs)(x.Z,{children:[(0,D.jsxs)(r.Z,{sx:{py:1},children:[e("settings:languageCard.selectLanguage")," ",(0,D.jsx)(G.Z,{color:"warning",children:e("ui:underConstruction")})]}),(0,D.jsx)(i.Z,{}),(0,D.jsx)(r.Z,{children:(0,D.jsx)(R,{})})]})}var L={chs:"\u4e2d\u6587 \u6b63\u4f53\u5b57",cht:"\u4e2d\u6587 \u7e41\u9ad4\u5b57",de:"Deutsch",en:"English",es:"espa\xf1ol",fr:"fran\xe7ais",id:"Bahasa Indonesia",ja:"\u65e5\u672c\u8a9e",ko:"\ud55c\uad6d\uc5b4",pt:"Portugu\xeas",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",vi:"Ti\u1ebfng Vi\u1ec7t"};function R(){var e=(0,s.$)(["ui","settings"]),t=e.t,n=e.i18n,r=function(e){return function(){return n.changeLanguage(e)}},a=n.languages[0];return(0,D.jsx)(A.Z,{fullWidth:!0,title:t("settings:languageCard.languageFormat",{language:t("languages:".concat(a))}),children:W.C.map((function(e){return(0,D.jsxs)(z.Z,{selected:a===e,disabled:a===e,onClick:r(e),children:[(0,D.jsx)(c.c,{i18nKey:"languages:".concat(e)}),e!==a?" (".concat(L[e],")"):""]},e)}))})}var E=n(72247),N=n(9912),B=n(20323),H=n(17278);function V(){var e=(0,H.Z)("GlobalSettings",B.c),t=(0,j.Z)(e,2),n=t[0].tcMode,i=t[1];return(0,D.jsx)(x.Z,{children:(0,D.jsxs)(r.Z,{children:[(0,D.jsx)(a.Z,{gutterBottom:!0,color:"warning.main",children:"Enabling this toggle will show some features that might be too complex for the average user."}),(0,D.jsx)(p.Z,{fullWidth:!0,onClick:function(){return i({tcMode:!n})},color:n?"success":"primary",startIcon:n?(0,D.jsx)(E.Z,{}):(0,D.jsx)(N.Z,{}),children:"Theorycrafting Mode"})]})})}var $=n(15861),F=n(87757),T=n.n(F),J=(0,n(76189).Z)((0,D.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload"),U=n(66934),Y=n(68870),q=n(19658);var Q={1:function(e){var t=[],n=[];for(var r in e)if(r in X){var a,i=(0,b.Z)(e[r]);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=o.setName,c=o.star,l=o.level,d=o.position,u=o.mainTag,h={setKey:ee[s],rarity:c,level:l,slotKey:X[d],mainStatKey:te[u.name],substats:o.normalTags.map((function(e){var t=e.name,n=e.value,r=ne[t];return{key:r,value:null!==r&&void 0!==r&&r.endsWith("_")?Math.round(1e3*n)/10:n}}))},f=(0,S.R$)(h);f?n.push(f):t.push(h)}}catch(p){i.e(p)}finally{i.f()}}return{artifacts:n,invalid:t}}};var X={flower:"flower",feather:"plume",sand:"sands",cup:"goblet",head:"circlet"},ee={viridescentVenerer:"ViridescentVenerer",emblemOfSeveredFate:"EmblemOfSeveredFate"},te={cureEffect:"heal_",lifeStatic:"hp",lifePercentage:"hp_",attackStatic:"atk",attackPercentage:"atk_",defendPercentage:"def_",critical:"critRate_",criticalDamage:"critDMG_",elementalMastery:"eleMas",recharge:"enerRech_",thunderBonus:"electro_dmg_",fireBonus:"pyro_dmg_",waterBonus:"hydro_dmg_",iceBonus:"cryo_dmg_",windBonus:"anemo_dmg_",rockBonus:"geo_dmg_",physicalBonus:"physical_dmg_"},ne={lifeStatic:"hp",lifePercentage:"hp_",attackStatic:"atk",attackPercentage:"atk_",defendStatic:"def",defendPercentage:"def_",critical:"critRate_",criticalDamage:"critDMG_",elementalMastery:"eleMas",recharge:"enerRech_"},re=(0,U.ZP)("input")({display:"none"});function ae(){var e,t=(0,v.useContext)(g.t).database,n=(0,s.$)("settings").t,i=(0,v.useState)(""),o=(0,j.Z)(i,2),h=o[0],Z=o[1],y=(0,v.useState)(""),b=(0,j.Z)(y,2),C=b[0],S=b[1],_=(0,v.useState)(""),M=(0,j.Z)(_,2),O=M[0],K=M[1],z=(0,v.useMemo)((function(){if(h){var e;try{if("object"!==typeof(e=JSON.parse(h)))return void K("uploadCard.error.jsonParse")}catch(i){return void K("uploadCard.error.jsonParse")}if("1"===e.version&&["flower","feather","sand","cup","head"].some((function(t){return Object.keys(e).includes(t)}))){var n=function(e,t){var n,r,a,i=null!==(n=e.version)&&void 0!==n?n:"1",o=null===(r=Q[i])||void 0===r?void 0:r.call(Q,e);if(o){var s=o.artifacts,c=o.invalid,l=P({format:"GOOD",source:"mona-uranai",version:1,artifacts:s},t);return null===l||void 0===l||(a=l.artifacts.invalid).push.apply(a,(0,m.Z)(c)),l}}(e,t);return n||void K("uploadCard.error.monaInvalid")}if("version"in e&&"characterDatabase"in e&&"artifactDatabase"in e){var r=function(e){var t=new w.N,n=e,r=n.version,a=n.characterDatabase,i=n.artifactDatabase,o=n.artifactDisplay,s=n.characterDisplay,c=n.buildsDisplay;if(r&&a&&i){a&&Object.entries(a).forEach((function(e){var n=(0,j.Z)(e,2),r=n[0],a=n[1];return t.set("char_".concat(r),a)})),i&&Object.entries(i).forEach((function(e){var n=(0,j.Z)(e,2),r=n[0],a=n[1];return t.set(r,a)})),r&&(0,k.W)(t,r),o&&t.set("ArtifactDisplay.state",o),s&&t.set("CharacterDisplay.state",s),c&&t.set("BuildsDisplay.state",c);var l=new g.M(t);return{type:"GO",storage:t,charCount:l.chars.keys.length,artCount:l.arts.keys.length}}}(e);return r||void K("uploadCard.error.goInvalid")}if("GOOD"===e.format){var a=P(e,t);return a||void K("uploadCard.error.goInvalid")}K("uploadCard.error.unknown")}}),[h,t]),A=function(){var e=(0,$.Z)(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],t.target.value=null,n&&S(n.name),(r=new FileReader).onload=function(){return Z(r.result)},r.readAsText(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,D.jsxs)(x.Z,{children:[(0,D.jsx)(r.Z,{sx:{py:1},children:(0,D.jsx)(c.c,{t:n,i18nKey:"settings:uploadCard.title"})}),(0,D.jsxs)(r.Z,{children:[(0,D.jsxs)(f.ZP,{container:!0,spacing:2,sx:{mb:1},children:[(0,D.jsx)(f.ZP,{item:!0,children:(0,D.jsxs)("label",{htmlFor:"icon-button-file",children:[(0,D.jsx)(re,{accept:".json",id:"icon-button-file",type:"file",onChange:A}),(0,D.jsx)(p.Z,{component:"span",startIcon:(0,D.jsx)(J,{}),children:"Upload"})]})}),(0,D.jsx)(f.ZP,{item:!0,flexGrow:1,children:(0,D.jsx)(l.Z,{sx:{px:2,py:1},children:(0,D.jsx)(a.Z,{children:C?(0,D.jsxs)("span",{children:[(0,D.jsx)(u.G,{icon:d.w49})," ",C]}):(0,D.jsxs)("span",{children:[(0,D.jsx)(u.G,{icon:d.acZ})," ",(0,D.jsx)(c.c,{t:n,i18nKey:"settings:uploadCard.hint"})]})})})})]}),(0,D.jsx)(a.Z,{gutterBottom:!0,variant:"caption",children:(0,D.jsx)(c.c,{t:n,i18nKey:"settings:uploadCard.hintPaste"})}),(0,D.jsx)(Y.Z,{component:"textarea",sx:{width:"100%",fontFamily:"monospace",minHeight:"10em",mb:2,resize:"vertical"},value:h,onChange:function(e){return Z(e.target.value)}}),null!==(e=ie(z))&&void 0!==e?e:O]}),oe(z,(function(){Z(""),S("")}))]})}function ie(e){switch(null===e||void 0===e?void 0:e.type){case"GO":return(0,D.jsx)(le,{data:e});case"GOOD":return(0,D.jsx)(se,{data:e})}}function oe(e,t){switch(null===e||void 0===e?void 0:e.type){case"GO":case"GOOD":return(0,D.jsx)(de,{data:e,reset:t})}}function se(e){var t=e.data,n=t.source,o=t.artifacts,d=t.characters,u=t.weapons,h=(e.data,(0,s.$)("settings").t);return(0,D.jsxs)(l.Z,{children:[(0,D.jsx)(r.Z,{sx:{py:1},children:(0,D.jsxs)(a.Z,{children:[(0,D.jsx)(c.c,{t:h,i18nKey:"uploadCard.dbSource"}),(0,D.jsxs)("strong",{children:[" ",n]})]})}),(0,D.jsx)(i.Z,{}),(0,D.jsx)(r.Z,{children:(0,D.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,D.jsx)(f.ZP,{item:!0,flexGrow:1,children:(0,D.jsx)(ce,{result:o,type:"arts"})}),(0,D.jsx)(f.ZP,{item:!0,flexGrow:1,children:(0,D.jsx)(ce,{result:u,type:"weapons"})}),(0,D.jsx)(f.ZP,{item:!0,flexGrow:1,children:(0,D.jsx)(ce,{result:d,type:"chars"})})]})})]})}function ce(e){var t,n,o=e.result,l=e.type,d=(0,s.$)("settings").t;return o?(0,D.jsxs)(x.Z,{children:[(0,D.jsx)(r.Z,{sx:{py:1},children:(0,D.jsxs)(a.Z,{children:[(0,D.jsx)(c.c,{t:d,i18nKey:"count.".concat(l)})," ",null!==(t=o.total)&&void 0!==t?t:0]})}),(0,D.jsx)(i.Z,{}),(0,D.jsxs)(r.Z,{children:[(0,D.jsxs)(a.Z,{children:[(0,D.jsx)(c.c,{t:d,i18nKey:"count.new"})," ",(0,D.jsx)("strong",{children:o.new})," / ",o.total]}),(0,D.jsxs)(a.Z,{children:[(0,D.jsx)(c.c,{t:d,i18nKey:"count.updated"})," ",(0,D.jsx)("strong",{children:o.updated})," / ",o.total]}),(0,D.jsxs)(a.Z,{children:[(0,D.jsx)(c.c,{t:d,i18nKey:"count.unchanged"})," ",(0,D.jsx)("strong",{children:o.unchanged})," / ",o.total]}),(0,D.jsxs)(a.Z,{color:"warning.main",children:[(0,D.jsx)(c.c,{t:d,i18nKey:"count.removed"})," ",(0,D.jsx)("strong",{children:o.removed})]}),!(null===(n=o.invalid)||void 0===n||!n.length)&&(0,D.jsxs)("div",{children:[(0,D.jsxs)(a.Z,{color:"error.main",children:[(0,D.jsx)(c.c,{t:d,i18nKey:"count.invalid"})," ",(0,D.jsx)("strong",{children:o.invalid.length})," / ",o.total]}),(0,D.jsx)(Y.Z,{component:"textarea",sx:{width:"100%",fontFamily:"monospace",minHeight:"10em",resize:"vertical"},value:JSON.stringify(o.invalid,void 0,2),disabled:!0})]})]})]}):null}function le(e){var t=e.data,n=t.charCount,o=t.artCount,d=(0,s.$)("settings").t;return(0,D.jsxs)(l.Z,{children:[(0,D.jsx)(r.Z,{sx:{py:1},children:(0,D.jsx)(c.c,{t:d,i18nKey:"uploadCard.goUpload.title"})}),(0,D.jsx)(i.Z,{}),(0,D.jsx)(r.Z,{children:(0,D.jsxs)(f.ZP,{container:!0,spacing:1,children:[(0,D.jsxs)(f.ZP,{item:!0,xs:12,md:6,children:[" ",(0,D.jsxs)(a.Z,{children:[(0,D.jsx)(c.c,{t:d,i18nKey:"count.chars"})," ",n]})]}),(0,D.jsxs)(f.ZP,{item:!0,xs:12,md:6,children:[" ",(0,D.jsxs)(a.Z,{children:[(0,D.jsx)(c.c,{t:d,i18nKey:"count.arts"})," ",o]})]}),(0,D.jsx)(f.ZP,{item:!0,xs:12,children:(0,D.jsx)(q.Z,{severity:"warning",children:(0,D.jsx)(c.c,{t:d,i18nKey:"uploadCard.goUpload.migrate"})})})]})})]})}function de(e){var t,n,a,o=e.data.storage,l=e.data,h=e.reset,f=(0,v.useContext)(g.t),x=f.database,j=f.setDatabase,Z=(0,s.$)("settings").t,m="GO"===l.type?l.charCount||l.artCount:(null===(t=l.characters)||void 0===t?void 0:t.total)||(null===(n=l.artifacts)||void 0===n?void 0:n.total)||(null===(a=l.weapons)||void 0===a?void 0:a.total);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(i.Z,{}),(0,D.jsx)(r.Z,{sx:{py:1},children:(0,D.jsx)(p.Z,{color:m?"success":"error",disabled:!m,onClick:function(){x.storage.copyFrom(o),j(new g.M(x.storage)),h()},startIcon:(0,D.jsx)(u.G,{icon:d.Y9i}),children:(0,D.jsx)(c.c,{t:Z,i18nKey:"settings:uploadCard.replaceDatabase"})})})]})}function ue(){var e=(0,s.$)(["settings"]).t;return o.ZP.pageview("/setting"),(0,D.jsxs)(l.Z,{sx:{my:1},children:[(0,D.jsx)(r.Z,{sx:{py:1},children:(0,D.jsx)(a.Z,{variant:"subtitle1",children:(0,D.jsx)(c.c,{t:e,i18nKey:"title"})})}),(0,D.jsx)(i.Z,{}),(0,D.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,D.jsx)(I,{}),(0,D.jsx)(K,{}),(0,D.jsx)(ae,{}),(0,D.jsx)(V,{})]})]})}},17278:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(29439),a=n(72791),i=n(3997);function o(e,t){var n=(0,a.useContext)(i.t).database,o=(0,a.useState)(n._getState(e,t)),s=(0,r.Z)(o,2),c=s[0],l=s[1];return(0,a.useEffect)((function(){return l(n._getState(e,t))}),[n,e,t]),(0,a.useEffect)((function(){return e?n.followState(e,l):void 0}),[e,l,n]),[c,(0,a.useCallback)((function(t){return n.updateState(e,t)}),[n,e])]}},72247:function(e,t,n){var r=n(76189),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox")},9912:function(e,t,n){var r=n(76189),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank")},72456:function(e,t,n){var r=n(76189),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download")},19658:function(e,t,n){n.d(t,{Z:function(){return K}});var r=n(4942),a=n(63366),i=n(87462),o=n(72791),s=n(28182),c=n(90767),l=n(12065),d=n(66934),u=n(93736),h=n(14036),f=n(10703),p=n(95159);function v(e){return(0,p.Z)("MuiAlert",e)}var x,g=(0,n(30208).Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),j=n(13400),Z=n(76189),m=n(80184),y=(0,Z.Z)((0,m.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),b=(0,Z.Z)((0,m.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),w=(0,Z.Z)((0,m.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),C=(0,Z.Z)((0,m.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),k=(0,Z.Z)((0,m.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),S=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],_=(0,d.ZP)(f.Z,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,h.Z)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,a="light"===t.palette.mode?l._j:l.$n,o="light"===t.palette.mode?l.$n:l._j,s=n.color||n.severity;return(0,i.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},s&&"standard"===n.variant&&(0,r.Z)({color:a(t.palette[s].light,.6),backgroundColor:o(t.palette[s].light,.9)},"& .".concat(g.icon),{color:"dark"===t.palette.mode?t.palette[s].main:t.palette[s].light}),s&&"outlined"===n.variant&&(0,r.Z)({color:a(t.palette[s].light,.6),border:"1px solid ".concat(t.palette[s].light)},"& .".concat(g.icon),{color:"dark"===t.palette.mode?t.palette[s].main:t.palette[s].light}),s&&"filled"===n.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[s].dark:t.palette[s].main})})),M=(0,d.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),P=(0,d.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),O=(0,d.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),D={success:(0,m.jsx)(y,{fontSize:"inherit"}),warning:(0,m.jsx)(b,{fontSize:"inherit"}),error:(0,m.jsx)(w,{fontSize:"inherit"}),info:(0,m.jsx)(C,{fontSize:"inherit"})},K=o.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiAlert"}),r=n.action,o=n.children,l=n.className,d=n.closeText,f=void 0===d?"Close":d,p=n.color,g=n.icon,Z=n.iconMapping,y=void 0===Z?D:Z,b=n.onClose,w=n.role,C=void 0===w?"alert":w,K=n.severity,z=void 0===K?"success":K,A=n.variant,G=void 0===A?"standard":A,W=(0,a.Z)(n,S),I=(0,i.Z)({},n,{color:p,severity:z,variant:G}),L=function(e){var t=e.variant,n=e.color,r=e.severity,a=e.classes,i={root:["root","".concat(t).concat((0,h.Z)(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,c.Z)(i,v,a)}(I);return(0,m.jsxs)(_,(0,i.Z)({role:C,elevation:0,ownerState:I,className:(0,s.Z)(L.root,l),ref:t},W,{children:[!1!==g?(0,m.jsx)(M,{ownerState:I,className:L.icon,children:g||y[z]||D[z]}):null,(0,m.jsx)(P,{ownerState:I,className:L.message,children:o}),null!=r?(0,m.jsx)(O,{className:L.action,children:r}):null,null==r&&b?(0,m.jsx)(O,{ownerState:I,className:L.action,children:(0,m.jsx)(j.Z,{size:"small","aria-label":f,title:f,color:"inherit",onClick:b,children:x||(x=(0,m.jsx)(k,{fontSize:"small"}))})}):null]}))}))},15861:function(e,t,n){function r(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,c,"next",e)}function c(e){r(o,a,i,s,c,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=496.370c4b29.chunk.js.map