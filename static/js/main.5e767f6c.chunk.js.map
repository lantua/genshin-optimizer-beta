{"version":3,"sources":["KeyMap.tsx","PageBuild/Build.ts","GlobalSettings.tsx","Data/ElementalData.ts","Components/Translate.tsx","Util/UIUtil.ts","Components/Artifact/SlotNameWIthIcon.tsx","Util/WeaponUtil.ts","Database/migration.ts","Database/DataManager.ts","Database/Database.ts","i18n.ts","Types/consts.ts","Footer.tsx","Header.tsx","App.tsx","reportWebVitals.ts","Theme.tsx","index.tsx","Database/validation.tsx","Util/Util.ts","Database/utils.ts","StatConstants.ts","Data/LevelData.ts","Components/ColoredText.tsx","Data/Artifacts/ArtifactData.ts","Data/Artifacts/Artifact.ts","Types/artifact.ts","PageBuild/BuildSetting.ts","Components/faIcons/index.ts","Database/DBStorage.ts"],"names":["statMap","hp","hp_","atk","atk_","def","def_","eleMas","enerRech_","critRate_","critDMG_","heal_","base","dmg_","dmgInc","all_dmg_","all_dmgInc","weakspotDMG_","incHeal_","shield_","cdRed_","skillCDRed_","burstCDRed_","moveSPD_","atkSPD_","stamina","staminaDec_","staminaSprintDec_","staminaGlidingDec_","staminaChargedDec_","heal_multi","transformative_level_multi","amplificative_dmg_","transformative_dmg_","crystalize_dmg_","burning_dmg_","enemyLevel","enemyLevel_multi","enemyDef_multi","enemyDefRed_","enemyDefIgn_","infusionSelf","infusionAura","autoBoost","skillBoost","burstBoost","level","allEleEnemyResKeys","allElementsWithPhy","map","e","Object","entries","elementalData","forEach","name","keys","hitMoves","h","move","moveName","transformativeReactions","reaction","variants","v","amplifyingReactions","subKeyMap","default","total","uncapped","custom","char","art","weapon","teamBuff","KeyMap","this","Error","prefix","key","getStr","includes","split","ns","key18","get","endsWith","slice","maxBuildsToShowList","maxBuildsToShowDefault","getTalentStatKey","skillKey","stats","overwriteElement","getTalentStatKeyVariant","GlobalSettingsContext","createContext","globalSettings","tcMode","globalSettingsDispatch","globalSettingsReducer","state","action","initalGlobalSettingsWithStorage","dbStorage","useGlobalSettings","reducer","useReducer","undefined","useEffect","set","physical","anemo","geo","electro","hydro","pyro","cryo","components","color","Translate","values","children","t","useTranslation","textKey","textObj","returnObjects","i18nKey","fallback","T","obj","Para","gutterBottom","li","parent","Array","isArray","component","val","trans","valueStringWithUnit","value","unit","valueString","Math","round","toFixed","SlotIconSVG","flower","faFlower","plume","faPlume","sands","faSands","goblet","faGoblet","circlet","faCirclet","artifactSlotIcon","slotKey","icon","className","SlotNameWithIcon","defaultInitialWeapon","type","initialWeapon","id","ascension","refinement","location","lock","currentDBVersion","migrate","storage","version","getDBVersion","elementalFilter","weaponFilter","startsWith","buildSetting","artifactsAssumeFull","ascending","mainStat","setFilters","num","useExcludedArts","buildSettings","mainStatAssumptionLevel","mainStatKeys","migrateV2ToV3","setDBVersion","traveler","elementKey","characterKey","requireUpdate","migrateV3ToV4","levelKey","lvla","parseInt","ascensionMaxLevel","findIndex","maxLevel","addAsc","baseStatOverrides","characterLevel","characterHP","characterATK","characterDEF","migrateV4ToV5","character","migrateV5ToV6","initialBuildSettings","migrateV6ToV7","weaponKeyChangeMap","keyInd","generateWeaponId","charMap","fromEntries","allCharacterKeys","k","toLowerCase","newCharacterKey","conditionalValues","talentLevelKeys","talent","useLockedArts","rest","refine","refineIndex","artifact","exclude","rarity","numStars","BuildsDisplayState","maxBuildsToShow","CharacterDisplayState","characterKeyToEdit","charIdToEdit","migrateV7ToV8","statFilters","min","migrateV8ToV9","migrateV9ToV10","bonusStats","migrateV10ToV11","remove","migrateV11ToV12","migrateV12ToV13","newCondValues","crawlObject","c","conditionalValue","subkey","element","condKey","layeredAssignment","charKey","weaponKey","setKey","team","migrateV13ToV14","migrated","DataManager","data","listeners","anyListeners","callback","push","filter","cb","length","trigger","listener","allKeys","ArtCharDatabase","arts","chars","weapons","reloadStorage","removeAll","flex","parseCharacter","validateCharacter","equippedArtifacts","objectKeyMap","allSlotKeys","parseArtifact","validateArtifact","parseWeapon","equippedWeapon","validateWeapon","weaponIds","Set","weaponId","generateRandomWeaponID","add","removeWeaponCache","removeArtifactCache","removeCharacterCache","follow","followAny","oldChar","_getChar","parsedChar","newChar","saveChar","oldArt","parsedArt","newArt","saveArt","oldWeapon","parsedWeapon","newWeapon","saveWeapon","candidate","getRandomInt","size","has","generateRandomArtID","artKey","newCharKey","art1","char1","art2","char2","weapon1","weapon2","newArts","oldArts","slot","setArtLocation","editorArt","mainStatKey","substats","candidates","_getArts","every","substat","i","upgraded","floor","some","duplicated","candidateSubstat","_getWeapons","database","DatabaseContext","languageCodeList","i18n","use","Backend","initReactI18next","LanguageDetector","init","fallbackLng","defaultNS","load","returnEmptyString","backend","loadPath","interpolation","escapeValue","allHitModes","allRegions","allReactionModes","allRarities","allArtifactRarities","allElements","allWeaponTypeKeys","allArtifactSets","allWeaponKeys","Footer","Skeleton","variant","height","FooterContent","AppBar","position","sx","bgcolor","elevation","Box","display","justifyContent","px","py","gap","Typography","grey","Trans","textAlign","packageInfo","content","i18Key","svg","to","faGavel","faIdCard","faCalculator","faTools","faCog","faBook","links","href","process","faPaypal","label","faPatreon","faDiscord","Header","props","HeaderContent","anchor","theme","useTheme","isLarge","useMediaQuery","breakpoints","up","isMobile","down","routeMatch","useRouteMatch","path","strict","sensitive","currentTab","params","slug","MobileHeader","flexWrap","Tabs","scrollButtons","flexDirection","minWidth","minHeight","transition","backgroundColor","mb","mr","Tab","RouterLink","flexGrow","target","onClick","ReactGA","outboundLink","useState","mobileOpen","setMobileOpen","handleDrawerToggle","Drawer","open","onClose","ModalProps","keepMounted","List","ListItemButton","selected","disabled","ListItemText","ListItemIcon","Divider","Toolbar","Button","noWrap","IconButton","edge","Menu","Home","lazy","ArtifactDisplay","CharacterRouter","BuildDisplay","ToolsDisplay","FlexDisplay","SettingsDisplay","WeaponDisplay","DocumentationDisplay","ScannerDisplay","ScrollTop","useScrollTrigger","window","disableHysteresis","threshold","Zoom","in","event","ownerDocument","document","querySelector","scrollIntoView","behavior","block","role","bottom","right","App","basename","GlobalSettings","Provider","Grid","container","direction","item","Container","maxWidth","xs","sm","md","width","Fab","KeyboardArrowUp","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","defaultTheme","createTheme","palette","mode","primary","augmentColor","main","secondary","success","warning","error","background","paper","info","text","contentDark","contentDarker","contentLight","roll1","roll2","roll3","roll4","roll5","roll6","contrastText","dendro","vaporize","melt","overloaded","superconduct","electrocharged","shattered","swirl","burning","crystalize","typography","button","textTransform","MuiCssBaseline","styleOverrides","body","darkScrollbar","MuiAppBar","defaultProps","enableColorOnDark","MuiPaper","MuiButton","MuiButtonGroup","MuiList","root","padding","marginTop","spacing","marginBottom","MuiTypography","margin","paddingLeft","MuiCardContent","paddingBottom","initialize","ReactDOM","render","StrictMode","StyledEngineProvider","injectFirst","ThemeProvider","CssBaseline","getElementById","max","mainStatVal","Artifact","mainStatValue","errors","rolls","efficiency","validated","allPossibleRolls","totalUnambiguousRolls","reduce","a","b","maxSubstatValues","index","possibleRolls","getSubstatRolls","roll","substatRolls","best","current","rollInfo","low","high","lowerBound","upperBound","highestScore","Infinity","tryAllSubstats","currentScore","newScore","pop","totalRolls","accu","find","allMainStatKeys","_","allSubstats","isFinite","parseFloat","parseSubstats","plausibleMainStats","slotMainStats","hitMode","reactionMode","conditional","enemyOverride","constellation","compareData","maxLvl","auto","skill","burst","optimizationTarget","useEquippedArts","builds","buildDate","plotBase","compareBuild","levelLow","levelHigh","Number","isInteger","s","tempmainStatKeys","result","getRandomElementFromArray","array","random","ceil","getRandomIntInclusive","deepClone","ret","JSON","parse","stringify","clamp","clampPercent","strPadLeft","string","pad","join","hammingDistance","str1","str2","dist","j","match","arr","objPathValue","console","validate","evalIfFunc","arg","objectKeyValueMap","items","objectMap","fn","rangeGen","from","range","assertUnreachable","getString","setString","toString","normal","charged","plunging","elemental","multi","transformativeReactionLevelMultipliers","crystalizeLevelMultipliers","ambiguousLevel","milestoneLevels","ColorText","styled","ArtifactSubstatRollData","numUpgrades","ArtifactSlotsData","totalPossibleRolls","sum","rollsRemaining","emptySlotCount","matchedSlotCount","unusedFilterCount","currentEfficiency","maxEfficiency","maxSubstatRollEfficiency","slotName","splitArtifactsBySlot","databaseObj","mainStatValues","numStar","statKey","ArtifactMainStatsData","ArtifactStarsData","substatKey","ArtifactSubstatsData","getSubstatKeys","getSubstatRollData","substatValue","rollData","ArtifactSubstatLookupTable","getSubstatEfficiency","setToSlots","artifacts","faAnemo","iconName","faCryo","faDendro","faElectro","faGeo","faHydro","faPyro","faPhysicalDmgBonus","faAtk","faDef","faElementalMastery","faHpPrimary","faHpSecondary","faMaxStamina","faCdReductionPrimary","faCdReductionSecondary","faCritRate","faEnergyRechargePrimary","faEnergyRechargeSecondary","faHealingBonus","faShieldStrength","DBLocalStorage","getItem","removeItem","setItem","other","clear","shouldRemove","SandboxStorage","copyFrom","localStorage"],"mappings":"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","file":"static/js/main.5e767f6c.chunk.js","sourcesContent":["import { Translate } from \"./Components/Translate\";\nimport elementalData from \"./Data/ElementalData\";\nimport { amplifyingReactions, AmplifyingReactionsKey, HitMoveKey, hitMoves, transformativeReactions, TransformativeReactionsKey } from \"./StatConstants\";\nimport { allElementsWithPhy, ElementKeyWithPhy } from \"./Types/consts\";\n\nconst statMap = {\n  hp: \"HP\", hp_: \"HP%\", atk: \"ATK\", atk_: \"ATK%\", def: \"DEF\", def_: \"DEF%\",\n  eleMas: \"Elemental Mastery\", enerRech_: \"Energy Recharge\",\n  critRate_: \"Crit Rate\", critDMG_: \"Crit DMG\",\n  heal_: \"Healing Bonus\",\n\n  // Misc. Stats\n  base: \"Base DMG\",\n  dmg_: \"Total DMG Bonus\",\n  dmgInc: \"Total DMG Increase\",\n  all_dmg_: \"Common DMG Bonus\",\n  all_dmgInc: \"Common DMG Increase\",\n  weakspotDMG_: \"Weakspot DMG\",\n  incHeal_: \"Incoming Healing Bonus\",\n  shield_: \"Shield Strength\",\n  cdRed_: \"CD Reduction\",\n  skillCDRed_: \"Ele. Skill CD Red.\",\n  burstCDRed_: \"Ele. Burst CD Red.\",\n  moveSPD_: \"Movement SPD\",\n  atkSPD_: \"ATK SPD\",\n  stamina: \"Stamina\",\n  staminaDec_: \"Stamina Consumption Dec.\",\n  staminaSprintDec_: \"Sprinting Stamina Consumption Dec.\",\n  staminaGlidingDec_: \"Gliding Stamina Consumption Dec.\",\n  staminaChargedDec_: \"Charged Attack Stamina Consumption Dec.\",\n\n  heal_multi: \"Heal multiplier\",\n\n  // Reaction\n  transformative_level_multi: \"Reaction Level Multiplier\",\n  amplificative_dmg_: \"Amplificative Reaction DMG Bonus\",\n  transformative_dmg_: \"Transformative Reaction DMG Bonus\",\n  crystalize_dmg_: \"Crystalize Bonus\",\n  burning_dmg_: \"Burning DMG Bonus\",\n\n  // Enemy\n  enemyLevel: \"Enemy Level\",\n  enemyLevel_multi: \"Enemy Level RES Multiplier\",\n  enemyDef_multi: \"Enemy DEF Multiplier\",\n  enemyDefRed_: \"Enemy DEF Reduction\",\n  enemyDefIgn_: \"Enemy DEF Ignore\",\n\n  //infusion\n  infusionSelf: \"Elemental Infusion\",\n  infusionAura: \"Elemental Infusion Aura\",\n\n  //talentBoost\n  autoBoost: \"Normal Attack Level Boost\",\n  skillBoost: \"Ele. Skill Level Boost\",\n  burstBoost: \"Ele. Burst Level Boost\",\n\n  level: \"Level\",\n} as const\n\nexport type Unit = \"flat\" | \"%\" | \"s\"\n\nexport type BaseKeys = keyof typeof statMap\n\nexport type EleDmgKey = `${ElementKeyWithPhy}_dmg_`\nexport const allEleDmgKeys = allElementsWithPhy.map(e => `${e}_dmg_`) as EleDmgKey[]\n\nexport type EleResKey = `${ElementKeyWithPhy}_res_`\nexport const allEleResKeys = allElementsWithPhy.map(e => `${e}_res_`) as EleResKey[]\n\nexport type EleEnemyResKey = `${ElementKeyWithPhy}_enemyRes_`\nexport const allEleEnemyResKeys = allElementsWithPhy.map(e => `${e}_enemyRes_`) as EleEnemyResKey[]\n\nObject.entries(elementalData).forEach(([e, { name }]) => {\n  statMap[`${e}_dmg_`] = `${name} DMG Bonus`\n  statMap[`${e}_res_`] = `${name} DMG RES`\n\n  statMap[`${e}_enemyRes_`] = `Enemy ${name} DMG RES`\n})\n\nexport type HitMoveDmgKey = `${HitMoveKey}_dmg_`\nexport const allHitMoveDmgKeys = Object.keys(hitMoves).map(h => `${h}_dmg_`) as HitMoveDmgKey[]\n\nexport type HitMoveIncKey = `${HitMoveKey}_dmgInc`\nexport const allHitMoveIncKeys = Object.keys(hitMoves).map(h => `${h}_dmgInc`) as HitMoveIncKey[]\n\nexport type HitMoveCritRateKey = `${HitMoveKey}_critRate_`\nexport const allHitMoveCritRateKeys = Object.keys(hitMoves).map(h => `${h}_critRate_`) as HitMoveCritRateKey[]\n\nObject.entries(hitMoves).forEach(([move, moveName]) => {\n  statMap[`${move}_dmgInc`] = `${moveName} DMG Increase`\n  statMap[`${move}_dmg_`] = `${moveName} DMG Bonus`\n  statMap[`${move}_critRate_`] = `${moveName} CRIT Rate Bonus`\n})\n\nexport type TransformativeReactionsDmgKey = `${TransformativeReactionsKey}_dmg_`\nexport const allTransformativeReactionsDmgKeys = Object.keys(transformativeReactions).map(e => `${e}_dmg_`) as TransformativeReactionsDmgKey[]\n\nObject.entries(transformativeReactions).forEach(([reaction, { name }]) => {\n  statMap[`${reaction}_dmg_`] = `${name} DMG Bonus`\n})\n\nObject.entries(transformativeReactions).forEach(([reaction, { name, variants }]) => {\n  if (reaction === \"swirl\") variants.forEach(v => {\n    statMap[`${v}_${reaction}_hit`] = `${elementalData[v].name} ${name} DMG`\n  })\n  else statMap[`${reaction}_hit`] = `${name} DMG`\n})\n\nexport type AmplifyingReactionsDmgKey = `${AmplifyingReactionsKey}_dmg_`\nexport const allAmplifyingReactionsDmgKey = Object.keys(amplifyingReactions).map(e => `${e}_dmg_`) as AmplifyingReactionsDmgKey[]\n\nObject.entries(amplifyingReactions).forEach(([reaction, { name }]) => {\n  statMap[`${reaction}_dmg_`] = `${name} DMG Bonus`\n})\n\nexport type StatKey = BaseKeys | EleDmgKey | EleResKey | EleEnemyResKey | HitMoveDmgKey | HitMoveIncKey | HitMoveCritRateKey | TransformativeReactionsDmgKey | AmplifyingReactionsDmgKey\n\nexport type KeyMapPrefix = 'default' | 'base' | 'total' | 'uncapped' | 'custom' | 'char' | 'art' | 'weapon' | 'teamBuff'\nconst subKeyMap: StrictDict<KeyMapPrefix, string> = {\n  default: \"Default\", base: \"Base\", total: \"Total\", uncapped: \"Uncapped\",\n  custom: \"Custom\", char: \"Char.\", art: \"Art.\", weapon: \"Weapon\",\n  teamBuff: \"Team\"\n}\n\nexport const allStatKeys = Object.keys(statMap) as StatKey[]\n\nexport default class KeyMap {\n  //do not instantiate.\n  constructor() {\n    if (this instanceof KeyMap)\n      throw Error('A static class cannot be instantiated.');\n  }\n  static getPrefixStr(prefix: KeyMapPrefix): string {\n    return subKeyMap[prefix]\n  }\n  static getStr(key: string = \"\"): string | undefined {\n    return statMap[key]\n  }\n  static get(key: string = \"\"): Displayable | undefined {\n    const name = KeyMap.getStr(key)\n    if (name) return name\n    if (key.includes(\":\")) {\n      const [ns, key18] = key.split(\":\")\n      return <Translate ns={ns} key18={key18} />\n    }\n    return key\n  }\n  static getNoUnit(key: string): Displayable {\n    const name = KeyMap.get(key) ?? \"\"\n    if (typeof name === \"string\")\n      return name.endsWith(\"%\") ? name.slice(0, -1) : name\n    return name\n  }\n  static unit(key: string = \"\"): Unit {\n    if (key.endsWith(\"_\")) return \"%\"\n    return \"flat\"\n  }\n}\n","import { ICachedArtifact } from \"../Types/artifact\"\nimport { ArtifactsBySlot, SetFilter } from \"../Types/Build\"\nimport { ArtifactSetKey } from \"../Types/consts\"\n\nexport const maxBuildsToShowList = [1, 2, 3, 4, 5, 8, 10] as const\nexport const maxBuildsToShowDefault = 5\n\n/**\n * Generate all set of artifacts-by-slots based on the filters\n * @param {Object.<slotKey, artifact[]>} artifactsBySlot - list of artifacts, separated by slots\n * @param {Object.<setKey, number>} setFilters - minimum number of artifacts in each set\n *\n */\nexport function artifactSetPermutations(artifactsBySlot: ArtifactsBySlot, setFilters: SetFilter) {\n  const setKeys = new Set(setFilters.map(i => i.key)), filteredArtifactsBySlot = {}\n  const slotKeys = Object.keys(artifactsBySlot)\n\n  for (const slotKey of slotKeys) {\n    let artifactsBySet: Dict<ArtifactSetKey, ICachedArtifact[]> = {}\n    for (const artifact of (artifactsBySlot[slotKey] ?? [])) {\n      if (setKeys.has(artifact.setKey)) {\n        if (artifactsBySet[artifact.setKey]) artifactsBySet[artifact.setKey]!.push(artifact)\n        else artifactsBySet[artifact.setKey] = [artifact]\n      } else {\n        if (artifactsBySet['null']) artifactsBySet['null'].push(artifact)\n        else artifactsBySet['null'] = [artifact]\n      }\n    }\n    filteredArtifactsBySlot[slotKey] = Object.freeze(artifactsBySet)\n  }\n\n  const setCount = {}, accu: ArtifactsBySlot = {}, result: ArtifactsBySlot[] = []\n\n  function slotPerm(index) {\n    if (index >= slotKeys.length) {\n      for (const { key, num } of setFilters)\n        if ((setCount[key] ?? 0) < num)\n          return\n      result.push({ ...accu })\n      return\n    }\n\n    const slotKey = slotKeys[index]\n    let artifactsBySet = filteredArtifactsBySlot[slotKey]\n    for (const setKey in artifactsBySet) {\n      setCount[setKey] = (setCount[setKey] ?? 0) + 1\n      accu[slotKey] = artifactsBySet[setKey]\n      slotPerm(index + 1)\n      setCount[setKey] -= 1\n    }\n  }\n\n  slotPerm(0)\n  return result\n}\n\n/**\n * Compute number of all artifact permutations based on the filters\n * @param {Object.<slotKey, artifact[]>} artifactsBySlot - list of artifacts, separated by slots\n * @param {Object.<setKey, number>} setFilters - minimum number of artifacts in each set\n */\nexport function calculateTotalBuildNumber(artifactsBySlot: ArtifactsBySlot, setFilters: SetFilter) {\n  return artifactSetPermutations(artifactsBySlot, setFilters).reduce((accu, artifactsBySlot) =>\n    accu + Object.entries(artifactsBySlot).reduce((accu, artifacts) => accu * artifacts[1]!.length, 1)\n    , 0)\n}\n\n/**\n * @deprecated\n */\nexport function getTalentStatKey(skillKey: string, stats: any, overwriteElement?: any) {\n  return \"\" as any\n}\n\n/**\n * @deprecated\n */\nexport function getTalentStatKeyVariant(skillKey: string, stats: any, overwriteElement = \"\") {\n  return \"\" as any\n}\n","import { createContext, useEffect, useReducer } from \"react\"\nimport { dbStorage } from \"./Database/DBStorage\"\n\ntype GlobalSettings = {\n  tcMode: boolean\n}\ntype GlobalSettingsObject = {\n  globalSettings: GlobalSettings,\n  globalSettingsDispatch: (state: Partial<GlobalSettings>) => void\n}\nfunction initalGlobalSettings() {\n  return { tcMode: false }\n}\nexport const GlobalSettingsContext = createContext<GlobalSettingsObject>({\n  globalSettings: initalGlobalSettings(),\n  globalSettingsDispatch: () => { }\n})\n\nfunction globalSettingsReducer(state, action): GlobalSettings {\n  return { ...state, ...action }\n}\n\nfunction initalGlobalSettingsWithStorage() {\n  return dbStorage.get(\"GlobalSettings\") ?? initalGlobalSettings()\n}\n\nexport function useGlobalSettings() {\n  const reducer = useReducer(globalSettingsReducer, undefined, initalGlobalSettingsWithStorage)\n  const [globalSettings] = reducer\n  useEffect(() => {\n    dbStorage.set(\"GlobalSettings\", globalSettings)\n  }, [globalSettings])\n  return reducer\n}","import { ElementKey } from \"../Types/consts\"\n\n/**\n * @deprecated use the translated element keys\n */\nconst elementalData: StrictDict<ElementKey | \"physical\", { name: string }> = {\n  physical: { name: \"Physical\" },\n  anemo: { name: \"Anemo\" },\n  geo: { name: \"Geo\" },\n  electro: { name: \"Electro\" },\n  hydro: { name: \"Hydro\" },\n  pyro: { name: \"Pyro\" },\n  cryo: { name: \"Cryo\" },\n  // dendro: { name: \"Dendro\" }\n}\nexport default elementalData","import { Skeleton, Typography } from \"@mui/material\"\nimport { Suspense } from \"react\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport ColorText from \"./ColoredText\"\nconst components = {\n  anemo: <ColorText color=\"anemo\" />,\n  geo: <ColorText color=\"geo\" />,\n  cryo: <ColorText color=\"cryo\" />,\n  hydro: <ColorText color=\"hydro\" />,\n  pyro: <ColorText color=\"pyro\" />,\n  electro: <ColorText color=\"electro\" />,\n}\n\nexport function Translate({ ns, key18, values, children }: { ns: string, key18: string, values?: any, children?: any }) {\n  const { t } = useTranslation(ns)\n  const textKey = `${ns}:${key18}`\n  const textObj = values ? t(textKey, values, { returnObjects: true }) as any : t(textKey, { returnObjects: true }) as any\n  if (typeof textObj === \"string\") return <span>{children ? <Trans i18nKey={textKey} t={t} components={components} values={values} >{children}</Trans> : <Trans i18nKey={textKey} t={t} components={components} values={values} />}</span>\n  return <Suspense fallback={<Skeleton >{children}</Skeleton>}>\n    <T key18={textKey} obj={textObj} t={t} values={values} />\n  </Suspense>\n}\n/**this is used cause the `components` prop mess with tag interpolation. */\nexport function TransWrapper({ ns, key18, values, children }: { ns: string, key18: string, values?: any, children?: any }) {\n  const { t } = useTranslation(ns)\n  const textKey = `${ns}:${key18}`\n  return <Suspense fallback={<Skeleton >{children}</Skeleton>}>\n    <Trans i18nKey={textKey} t={t} values={values} >{children}</Trans>\n  </Suspense>\n\n}\nfunction Para({ children }: { children?: JSX.Element }) {\n  return <Typography gutterBottom>{children}</Typography>\n}\n\nfunction T({ key18, obj, li, t, values }: { key18: string, obj: any, li?: boolean, t, values?: any }) {\n  if (typeof obj === \"string\") return <Trans i18nKey={key18} components={components} parent={Para} t={t} values={values} />\n  if (Array.isArray(obj))\n    return <Typography component=\"div\"><ul >\n      <T key18={key18} obj={{ ...obj }} li t={t} values={values} />\n    </ul></Typography>\n  return Object.entries(obj).map(([key, val]) => {\n    if (val === \"<br/>\") return null\n\n    if (typeof val === \"object\") return <T key={key as any} key18={`${key18}.${key as any}`} obj={val} t={t} values={values} />\n    if (typeof val === \"string\") {\n      const trans = <Trans key={key as any} i18nKey={`${key18}.${key}`} components={components} parent={Para} t={t} values={values} />\n      return li ? <li key={key as any}>{trans}</li> : trans\n    }\n    return null\n  }) as any\n}","/**\n * @deprecated\n */\nexport function valueStringWithUnit(value: number, unit: string): string {\n  switch (unit) {\n    case \"%\": return valueString(value, unit) + \"%\"\n    case \"eff\": return valueString(value, unit) + \"%\"\n    default: return valueString(value, unit)\n  }\n}\n/**\n * @deprecated\n */\nexport function valueString(value: number, unit: string): string {\n  switch (unit) {\n    case \"%\": return (Math.round(value * 10) / 10).toFixed(1) // TODO: % conversion\n    case \"eff\": return value.toFixed(2)\n    default: return Math.round(value).toFixed(0)\n  }\n}\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { useTranslation } from \"react-i18next\"\nimport { faCirclet, faFlower, faGoblet, faPlume, faSands } from '../faIcons'\nimport { SlotKey } from \"../../Types/consts\"\n\nexport const SlotIconSVG: StrictDict<SlotKey, any> = {\n  flower: faFlower,\n  plume: faPlume,\n  sands: faSands,\n  goblet: faGoblet,\n  circlet: faCirclet\n}\n\nexport function artifactSlotIcon(slotKey: SlotKey) {\n  return <FontAwesomeIcon icon={SlotIconSVG[slotKey]} key={slotKey} className=\"fa-fw\" />\n}\n\nexport default function SlotNameWithIcon({ slotKey }: { slotKey: SlotKey }) {\n  const { t } = useTranslation(\"artifact\")\n  const icon = artifactSlotIcon(slotKey)\n  return <span>{icon} {t(`slotName.${slotKey}`)}</span>\n}\n","import { WeaponKey, WeaponTypeKey } from \"../Types/consts\"\nimport { ICachedWeapon } from \"../Types/weapon\"\n\nfunction defaultInitialWeaponKey(type: WeaponTypeKey): WeaponKey {\n  switch (type) {\n    case \"sword\": return \"DullBlade\"\n    // TODO: restore\n    // case \"bow\": return \"HuntersBow\"\n    // case \"claymore\": return \"WasterGreatsword\"\n    // case \"polearm\": return \"BeginnersProtector\"\n    // case \"catalyst\": return \"ApprenticesNotes\"\n    default: return \"DullBlade\"\n  }\n}\nexport const defaultInitialWeapon = (type: WeaponTypeKey): ICachedWeapon =>\n  initialWeapon(defaultInitialWeaponKey(type))\n\nexport const initialWeapon = (key: WeaponKey): ICachedWeapon => ({\n  id: \"\",\n  key,\n  level: 1,\n  ascension: 0,\n  refinement: 1,\n  location: \"\",\n  lock: false,\n})\n","import { initialBuildSettings } from \"../PageBuild/BuildSetting\"\nimport { ascensionMaxLevel } from \"../Data/LevelData\"\nimport { allCharacterKeys } from \"../Types/consts\"\nimport { crawlObject, layeredAssignment } from \"../Util/Util\"\nimport { DBStorage } from \"./DBStorage\"\nimport { getDBVersion, setDBVersion } from \"./utils\"\n\n// MIGRATION STEP\n// 0. DO NOT change old `migrateV<x>ToV<x+1>` code\n// 1. Add new `migrateV<x>ToV<x+1>`\n// 2. Call the added `migrateV<x>ToV<x+1>` from `migrate`\n// 3. Update `currentDBVersion`\n\nexport const currentDBVersion = 14\n\nexport function migrate(storage: DBStorage): { migrated: boolean } {\n  const version = getDBVersion(storage)\n\n  // Update version upon each successful migration, so we don't\n  // need to migrate that part again if later parts fail.\n  if (version < 3) { migrateV2ToV3(storage); setDBVersion(storage, 3) }\n  if (version < 4) { migrateV3ToV4(storage); setDBVersion(storage, 4) }\n  if (version < 5) { migrateV4ToV5(storage); setDBVersion(storage, 5) }\n  if (version < 6) { migrateV5ToV6(storage); setDBVersion(storage, 6) }\n  if (version < 7) { migrateV6ToV7(storage); setDBVersion(storage, 7) }\n  if (version < 8) { migrateV7ToV8(storage); setDBVersion(storage, 8) }\n  if (version < 9) { migrateV8ToV9(storage); setDBVersion(storage, 9) }\n  if (version < 10) { migrateV9ToV10(storage); setDBVersion(storage, 10) }\n  if (version < 11) { migrateV10ToV11(storage); setDBVersion(storage, 11) }\n  if (version < 12) { migrateV11ToV12(storage); setDBVersion(storage, 12) }\n  if (version < 13) { migrateV12ToV13(storage); setDBVersion(storage, 13) }\n  if (version < 14) { migrateV13ToV14(storage); setDBVersion(storage, 14) }\n\n  if (version > currentDBVersion) throw new Error(`Database version ${version} is not supported`)\n\n  return { migrated: version < getDBVersion(storage) }\n}\n\n/// v4.0.0 - v4.23.2\nfunction migrateV2ToV3(storage: DBStorage) {\n  const state = storage.get(\"CharacterDisplay.state\")\n  if (state) {\n    if (Array.isArray(state.elementalFilter)) state.elementalFilter = \"\"\n    if (Array.isArray(state.weaponFilter)) state.weaponFilter = \"\"\n    storage.set(\"CharacterDisplay.state\", state)\n  }\n\n  for (const key of storage.keys) {\n    if (key.startsWith(\"char_\")) {\n      const value = storage.get(key)\n      if (!value) continue\n      if (value.buildSetting) {\n        const { artifactsAssumeFull = false, ascending = false, mainStat = [\"\", \"\", \"\"], setFilters = [{ key: \"\", num: 0 }, { key: \"\", num: 0 }, { key: \"\", num: 0 }], useExcludedArts = false } = value.buildSetting ?? {}\n        value.buildSettings = { mainStatAssumptionLevel: artifactsAssumeFull ? 20 : 0, ascending, mainStatKeys: mainStat, setFilters, useExcludedArts }\n      }\n\n      storage.set(key, value)\n    }\n  }\n}\n\n/// v5.0.0 - v5.7.15\nfunction migrateV3ToV4(storage: DBStorage) { //\n  // Convert anemo traveler to traveler, and remove geo traveler\n  const traveler = storage.get(\"char_traveler_anemo\")\n  // Deletion of old travelers are handled during validation\n\n  if (traveler) {\n    traveler.elementKey = \"anemo\"\n    traveler.characterKey = \"traveler\"\n    storage.set(\"char_traveler\", traveler)\n  }\n\n  for (const key of storage.keys) {\n    if (key.startsWith(\"artifact_\")) {\n      const value = storage.get(key)\n      let requireUpdate = false\n      if (value.location === \"traveler_anemo\") {\n        value.location = \"traveler\"\n        requireUpdate = true\n      } else if (value.location === \"traveler_geo\") {\n        value.location = \"\"\n        requireUpdate = true\n      }\n\n      if (requireUpdate)\n        storage.set(key, value)\n    }\n  }\n}\n\n/// v5.8.0 - v5.11.5\nfunction migrateV4ToV5(storage: DBStorage) {\n  for (const key of storage.keys) {\n    if (key.startsWith(\"char_\")) {\n      const value = storage.get(key)\n\n      const levelKey = value.levelKey ?? \"L1\"\n      const [, lvla] = levelKey.split(\"L\")\n      const level = parseInt(lvla)\n      const ascension = ascensionMaxLevel.findIndex(maxLevel => level <= maxLevel)\n      const addAsc = lvla.includes(\"A\")\n      if (level < 0 || level > 90 || ascension < 0) {\n        value.level = 1\n        value.ascension = 0\n      } else {\n        value.level = level\n        value.ascension = ascension + (addAsc ? 1 : 0)\n      }\n\n      // TODO: Remove this once we validate baseStatOverrides\n      delete value.baseStatOverrides?.characterLevel\n      delete value.baseStatOverrides?.characterHP\n      delete value.baseStatOverrides?.characterATK\n      delete value.baseStatOverrides?.characterDEF\n\n      storage.set(key, value)\n    }\n  }\n}\n\n// v5.12.0 - 5.19.14\nfunction migrateV5ToV6(storage: DBStorage) {\n  for (const key of storage.keys) {\n    if (key.startsWith(\"char_\")) {\n      const character = storage.get(key)\n\n      // Migrate character weapon levels\n      if (!character.weapon) continue\n      const levelKey = character.weapon.levelKey ?? \"L1\"\n      const [, lvla] = levelKey.split(\"L\")\n      const level = parseInt(lvla)\n      const ascension = ascensionMaxLevel.findIndex(maxLevel => level <= maxLevel)\n      const addAsc = lvla.includes(\"A\")\n      if (level < 0 || level > 90 || ascension < 0) {\n        character.weapon.level = 1\n        character.weapon.ascension = 0\n      } else {\n        character.weapon.level = level\n        character.weapon.ascension = ascension + (addAsc ? 1 : 0)\n      }\n      storage.set(key, character)\n    }\n  }\n}\n\n// 5.20.0 - 6.0.0\nfunction migrateV6ToV7(storage: DBStorage) {\n  for (const key of storage.keys) {\n    if (key.startsWith(\"char_\")) {\n      const character = storage.get(key)\n      if (!character.buildSettings) character.buildSettings = initialBuildSettings()\n      else {\n        const [sands, goblet, circlet] = (Array.isArray(character.buildSettings?.mainStatKeys) && character.buildSettings?.mainStatKeys) || []\n        character.buildSettings.mainStatKeys = initialBuildSettings().mainStatKeys\n        if (sands) character.buildSettings.mainStatKeys.sands = [sands]\n        if (goblet) character.buildSettings.mainStatKeys.goblet = [goblet]\n        if (circlet) character.buildSettings.mainStatKeys.circlet = [circlet]\n      }\n      storage.set(key, character)\n    }\n  }\n}\n\n// 6.0.0 - 6.0.17\nfunction migrateV7ToV8(storage: DBStorage) {\n  const weaponKeyChangeMap = {\n    \"PrototypeAminus\": \"PrototypeArchaic\",\n    \"PrototypeGrudge\": \"PrototypeStarglitter\",\n    \"PrototypeMalice\": \"PrototypeAmber\"\n  } as const\n  let keyInd = 1;\n  function generateWeaponId(storage: DBStorage) {\n    let key = `weapon_${keyInd++}`\n    while (storage.keys.includes(key))\n      key = `weapon_${keyInd++}`\n    return key\n  }\n\n  const charMap = Object.fromEntries(allCharacterKeys.map(k => [k.toLowerCase(), k]))\n  for (const key of storage.keys) {\n    if (key.startsWith(\"char_\")) {\n      const character = storage.get(key), characterKey = character.characterKey\n      // We delete old key upon validation\n\n      const newCharacterKey = charMap[characterKey]\n\n      // Rename characterKey\n      character.key = newCharacterKey\n      // Rename conditionalValues with characterKey\n      if (character.conditionalValues?.character?.[characterKey]) {\n        character.conditionalValues.character[newCharacterKey] = character.conditionalValues?.character?.[characterKey]\n        delete character.conditionalValues?.character?.[characterKey]\n      }\n\n      // Convert base-0 `talentLevelKeys` to base-1 `talent`\n      if (typeof character.talentLevelKeys === \"object\") {\n        character.talent = Object.fromEntries(\n          Object.entries(character.talentLevelKeys)\n            .map(([key, value]) => [key, value as number + 1]))\n      }\n\n      //rename buildSettings.useLockedArts to buildSettings.useExcludedArts\n      if (character.buildSettings?.useLockedArts !== undefined) {\n        character.buildSettings.useExcludedArts = character.buildSettings.useLockedArts\n        delete character.buildSettings.useLockedArts\n      }\n\n      const { weapon, ...rest } = character\n      if (!weapon) continue\n      if (weaponKeyChangeMap[weapon.key])\n        weapon.key = weaponKeyChangeMap[weapon.key]\n      weapon.location = newCharacterKey\n      weapon.refine = weapon.refineIndex + 1\n      storage.set(generateWeaponId(storage), weapon)\n      storage.set(`char_${newCharacterKey}`, rest)\n    } else if (key.startsWith(\"artifact_\")) {\n      const artifact = storage.get(key)\n      artifact.location = charMap[artifact.location]\n      artifact.exclude = artifact.lock\n      artifact.rarity = artifact.numStars\n      storage.set(key, artifact)\n    }\n  }\n  const BuildsDisplayState = storage.get(\"BuildsDisplay.state\")\n  if (BuildsDisplayState) {\n    BuildsDisplayState.characterKey = charMap[BuildsDisplayState.characterKey] ?? \"\"\n    // Limit maxBuildsToShow\n    BuildsDisplayState.maxBuildsToShow = BuildsDisplayState.maxBuildsToShow > 10 ? 5 : BuildsDisplayState.maxBuildsToShow\n    storage.set(\"BuildsDisplay.state\", BuildsDisplayState)\n  }\n  const CharacterDisplayState = storage.get(\"CharacterDisplay.state\")\n  if (CharacterDisplayState) {\n    CharacterDisplayState.characterKeyToEdit = charMap[CharacterDisplayState.charIdToEdit] ?? \"\"\n    delete CharacterDisplayState.charIdToEdit\n    storage.set(\"CharacterDisplay.state\", CharacterDisplayState)\n  }\n}\n// 6.1.0 - 6.1.5\nfunction migrateV8ToV9(storage: DBStorage) {\n  for (const key of storage.keys) {\n    if (key.startsWith(\"char_\")) {\n      const character = storage.get(key)\n      const { buildSettings = {} } = character\n      delete buildSettings.ascending\n      const { statFilters = {} } = buildSettings\n      for (const key in statFilters) {\n        if (statFilters[key]?.min)\n          statFilters[key] = statFilters[key].min\n        else\n          delete statFilters[key]\n      }\n      storage.set(key, character)\n    }\n  }\n}\n\n// 6.1.6 - 6.1.8\nfunction migrateV9ToV10(storage: DBStorage) {\n  for (const key of storage.keys) {\n    if (key.startsWith(\"weapon_\")) {\n      const weapon = storage.get(key)\n      if (weapon.refine) {\n        weapon.refinement = weapon.refine\n        storage.set(key, weapon)\n      }\n    }\n  }\n}\n\n// 6.1.9 - 6.2.3\nfunction migrateV10ToV11(storage: DBStorage) {\n  for (const key of storage.keys) {\n    if (key.startsWith(\"char_\")) {\n      const character = storage.get(key)\n      const { baseStatOverrides = {} } = character\n      if (baseStatOverrides.critRate_) baseStatOverrides.critRate_ -= 5\n      if (baseStatOverrides.critDMG_) baseStatOverrides.critDMG_ -= 50\n      if (baseStatOverrides.enerRech_) baseStatOverrides.enerRech_ -= 100\n\n      character.bonusStats = baseStatOverrides\n      delete character.baseStatOverrides\n      storage.set(key, character)\n    }\n  }\n}\n\n// 7.0.0 - 7.2.11\nfunction migrateV11ToV12(storage: DBStorage) {\n  //UI was changed quite a lot, deleting state should be easiest for migration.\n  storage.remove(\"CharacterDisplay.state\")\n  storage.remove(\"WeaponDisplay.state\")\n\n  for (const key of storage.keys) {\n    if (key.startsWith(\"weapon_\")) {\n      const weapon = storage.get(key)\n      if (weapon.lock === undefined) weapon.lock = false\n      storage.set(key, weapon)\n    }\n  }\n}\n\n// 7.3.0 - 7.4.2\nfunction migrateV12ToV13(storage: DBStorage) {\n  // UI was changed quite a lot, deleting state should be easiest for migration.\n  storage.remove(\"ArtifactDisplay.state\")\n}\n\n// 7.5.0 - Present\nfunction migrateV13ToV14(storage: DBStorage) {\n  // Migrate conditionalValues due to keys changes\n  for (const key of storage.keys) {\n    if (key.startsWith(\"char_\")) {\n      const character = storage.get(key)\n      const newCondValues = {}\n      crawlObject(character.conditionalValues, [], c => Array.isArray(c), (conditionalValue, keys) => {\n        const [type, subkey] = keys\n        if (type === \"character\") {\n          if (subkey === \"Traveler\") {\n            // character, traveler, sheet, talents, element, condKey\n            let [character, traveler, , , element, condKey] = keys\n            if (!condKey || !element) return\n            if (element === \"electro\" && condKey === \"sk\") condKey = \"e\"\n            layeredAssignment(newCondValues, [character, `${traveler}_${element}`, condKey], conditionalValue)\n          } else {\n            // character, charKey, sheet, talent, condKey\n            let [character, charKey, , , condKey] = keys\n            if (!condKey) return\n            switch (charKey) {\n              case \"Diona\":\n                if (condKey === \"c4\") condKey = \"a1\"\n                break;\n              case \"Diluc\":\n                if (condKey === \"b\") condKey = \"q\"\n                break;\n              case \"KamisatoAyaka\":\n                if (condKey === \"p1\") condKey = \"a1\"\n                if (condKey === \"p2\") condKey = \"a4\"\n                break;\n              case \"RaidenShogun\":\n                if (condKey === \"sk\") condKey = \"e\"\n                if (condKey === \"skp\") condKey = \"ep\"\n                if (condKey === \"res\") condKey = \"q\"\n                break;\n              case \"SangonomiyaKokomi\":\n                if (condKey === \"b\") condKey = \"q\"\n                break;\n              case \"Xiao\":\n                if (condKey === \"a1\") condKey = \"a4\"\n                break;\n              case \"Xinyan\":\n                if (condKey === \"a1\") condKey = \"c1\"\n                break;\n              case \"Yanfei\":\n                if (condKey === \"p1\") condKey = \"a1\"\n                break;\n              case \"Zhongli\":\n                if (condKey === \"sk\") condKey = \"e\"\n                break;\n              default:\n                break;\n            }\n            layeredAssignment(newCondValues, [character, charKey, condKey], conditionalValue)\n          }\n        } else if (type === \"weapon\") {\n          let [weapon, weaponKey, condKey] = keys\n          if (!condKey) return\n          if (weaponKey === \"Whiteblind\" && condKey === \"infusionBlade\") condKey = \"ib\"\n          if (weaponKey === \"PrototypeRancour\" && condKey === \"smashedStone\") condKey = \"ss\"\n          layeredAssignment(newCondValues, [weapon, weaponKey, condKey], conditionalValue)\n        } else if (type === \"artifact\") {\n          let [artifact, setKey, condKey] = keys\n          if (!condKey) return\n          layeredAssignment(newCondValues, [artifact, setKey, condKey, condKey], conditionalValue)\n        }\n      })\n      character.conditionalValues = newCondValues\n      character.team = [\"\", \"\", \"\"]\n      storage.set(key, character)\n    }\n  }\n}\n","export class DataManager<Key extends string | number, Value> {\n  static readonly allKeys = {} as const\n\n  data: Dict<Key, Value> = {}\n  listeners: Dict<Key, Callback<Value | undefined>[]> = {}\n  anyListeners: Callback<Key | typeof DataManager.allKeys>[] = []\n\n  followAny(callback: Callback<Key | typeof DataManager.allKeys>): () => void {\n    this.anyListeners.push(callback)\n    return () => {\n      this.anyListeners = this.anyListeners.filter(cb => cb !== callback)\n    }\n  }\n  follow(key: Key, callback: Callback<Value | undefined>) {\n    if (this.listeners[key]) this.listeners[key]!.push(callback)\n    else this.listeners[key] = [callback]\n    return () => {\n      this.listeners[key] = this.listeners[key]?.filter(cb => cb !== callback)\n      if (!this.listeners[key]?.length) delete this.listeners[key]\n    }\n  }\n\n  get keys() { return Object.keys(this.data) }\n  get values() { return Object.values(this.data) }\n  get(key: Key | \"\" | undefined): Value | undefined { return key ? this.data[key] : undefined }\n  set(key: Key, value: Value) {\n    this.data[key] = value\n\n    this.trigger(key)\n  }\n  /** Trigger update event */\n  trigger(key: Key) {\n    const value = this.data[key]\n    this.listeners[key]?.forEach(cb => cb(value))\n    this.anyListeners.forEach(cb => cb(key))\n  }\n  remove(key: Key) {\n    delete this.data[key]\n    this.trigger(key)\n    delete this.listeners[key]\n  }\n  removeAll() {\n    this.data = {}\n\n    Object.values(this.listeners).forEach(listeners => listeners.forEach(listener => listener(undefined)))\n    this.anyListeners.forEach(listener => listener(DataManager.allKeys))\n    this.listeners = {}\n    this.anyListeners = []\n  }\n}\n\ntype Callback<Arg> = (arg: Arg) => void\n","import { ICachedArtifact, IArtifact } from \"../Types/artifact_WR\";\nimport { ICachedCharacter, ICharacter } from \"../Types/character_WR\";\nimport { allSlotKeys, CharacterKey, SlotKey } from \"../Types/consts\";\nimport { getRandomInt, objectKeyMap } from \"../Util/Util\";\nimport { DataManager } from \"./DataManager\";\nimport { migrate } from \"./migration\";\nimport { validateArtifact, parseCharacter, parseArtifact, removeArtifactCache, validateCharacter, removeCharacterCache, parseWeapon, validateWeapon, removeWeaponCache } from \"./validation\";\nimport { DBStorage, dbStorage } from \"./DBStorage\";\nimport { ICachedWeapon, IWeapon } from \"../Types/weapon\";\nimport { createContext } from \"react\";\nimport { defaultInitialWeapon } from \"../Util/WeaponUtil\";\n\nexport class ArtCharDatabase {\n  storage: DBStorage\n  arts = new DataManager<string, ICachedArtifact>()\n  chars = new DataManager<CharacterKey, ICachedCharacter>()\n  weapons = new DataManager<string, ICachedWeapon>()\n\n  constructor(storage: DBStorage) {\n    this.storage = storage\n    this.reloadStorage()\n  }\n\n  /// Call this function when the underlying data changes without this instance's knowledge\n  reloadStorage() {\n    this.arts.removeAll()\n    this.chars.removeAll()\n    this.weapons.removeAll()\n    const storage = this.storage\n    const { migrated } = migrate(storage)\n\n    // Load into memory and verify database integrity\n    for (const key of storage.keys) {\n      if (key.startsWith(\"char_\")) {\n        const flex = parseCharacter(storage.get(key))\n        if (!flex || key !== `char_${flex.key}`) {\n          // Non-recoverable\n          storage.remove(key)\n          continue\n        }\n        const character = validateCharacter(flex)\n        // Use relations from artifact\n        character.equippedArtifacts = objectKeyMap(allSlotKeys, () => \"\")\n\n        this.chars.set(flex.key, character)\n        // Save migrated version back to db\n        if (migrated) this.storage.set(`char_${flex.key}`, flex)\n      }\n    }\n\n    for (const key of storage.keys) {\n      if (key.startsWith(\"artifact_\")) {\n        const flex = parseArtifact(storage.get(key))\n        if (!flex) {\n          // Non-recoverable\n          storage.remove(key)\n          continue\n        }\n\n        // Update relations\n        const { location, slotKey } = flex\n        if (this.chars.data[location] && this.chars.data[location]?.equippedArtifacts[slotKey] === \"\") {\n          this.chars.data[location]!.equippedArtifacts[slotKey] = key // equiped on `location`\n        } else flex.location = \"\"\n\n        const { artifact } = validateArtifact(flex, key)\n\n        this.arts.set(artifact.id, artifact)\n        // Save migrated version back to db\n        if (migrated) this.storage.set(key, flex)\n      }\n    }\n    for (const key of storage.keys) {\n      if (key.startsWith(\"weapon_\")) {\n        const flex = parseWeapon(storage.get(key))\n        if (!flex) {\n          // Non-recoverable\n          storage.remove(key)\n          continue\n        }\n\n        // Update relations\n        const { location } = flex\n        if (this.chars.data[location] && this.chars.data[location]?.equippedWeapon === \"\") {\n          this.chars.data[location]!.equippedWeapon = key // equiped on `location`\n        } else flex.location = \"\"\n\n        const weapon = validateWeapon(flex, key)\n\n        this.weapons.set(key, weapon)\n        // Save migrated version back to db\n        if (migrated) this.storage.set(key, flex)\n      }\n    }\n    const weaponIds = new Set(this.weapons.keys)\n    for (const [charKey, char] of Object.entries(this.chars.data)) {\n      if (!char.equippedWeapon) {\n        // A default \"sword\" should work well enough for this case.\n        // We'd have to pull the hefty character sheet otherwise.\n        const weapon = defaultInitialWeapon(\"sword\")\n        const weaponId = generateRandomWeaponID(weaponIds)\n        weapon.location = charKey\n        char.equippedWeapon = weaponId\n\n        weaponIds.add(weaponId)\n        this.weapons.set(weaponId, weapon)\n        this.storage.set(weaponId, removeWeaponCache(weapon))\n        // No need to set anything on character side.\n      }\n    }\n  }\n\n  private saveArt(key: string, art: ICachedArtifact) {\n    this.storage.set(key, removeArtifactCache(art))\n    this.arts.set(key, art)\n  }\n  private saveChar(key: CharacterKey, char: ICachedCharacter) {\n    this.storage.set(`char_${key}`, removeCharacterCache(char))\n    this.chars.set(key, char)\n  }\n  private saveWeapon(key: string, weapon: ICachedWeapon) {\n    this.storage.set(key, removeWeaponCache(weapon))\n    this.weapons.set(key, weapon)\n  }\n  // TODO: Make theses `_` functions private once we migrate to use `followXXX`,\n  // or de-underscore it if we decide that these are to stay\n  _getArt(key: string) { return this.arts.get(key) }\n  _getChar(key: CharacterKey | \"\") { return key ? this.chars.get(key) : undefined }\n  _getArts() { return this.arts.values }\n  _getCharKeys(): CharacterKey[] { return this.chars.keys }\n  _getWeapon(key: string) { return this.weapons.get(key) }\n  _getWeapons() { return this.weapons.values }\n\n  followChar(key: CharacterKey, cb: Callback<ICachedCharacter>): (() => void) | undefined { return this.chars.follow(key, cb) }\n  followArt(key: string, cb: Callback<ICachedArtifact>): (() => void) | undefined {\n    if (this.arts.get(key) !== undefined)\n      return this.arts.follow(key, cb)\n    // cb(undefined)\n  }\n  followWeapon(key: string, cb: Callback<ICachedWeapon>): (() => void) | undefined {\n    if (this.weapons.get(key) !== undefined)\n      return this.weapons.follow(key, cb)\n    // cb(undefined)\n  }\n\n  followAnyChar(cb: (key: CharacterKey | {}) => void): (() => void) | undefined { return this.chars.followAny(cb) }\n  followAnyArt(cb: (key: string | {}) => void): (() => void) | undefined { return this.arts.followAny(cb) }\n  followAnyWeapon(cb: (key: string | {}) => void): (() => void) | undefined { return this.weapons.followAny(cb) }\n\n  /**\n   * **Caution**: This does not update `equippedArtifacts`, use `equipArtifacts` instead\n   * **Caution**: This does not update `equipedWeapon`, use `setWeaponLocation` instead\n   */\n  updateChar(value: Partial<ICharacter>): void {\n    const key = value.key!\n    const oldChar = this._getChar(key)\n    const parsedChar = parseCharacter({ ...oldChar, ...value })\n    if (!parsedChar) return\n\n    const newChar = validateCharacter({ ...oldChar, ...parsedChar })\n    if (oldChar) {\n      newChar.equippedArtifacts = oldChar.equippedArtifacts\n      newChar.equippedWeapon = oldChar.equippedWeapon\n    }\n    this.saveChar(key, newChar)\n  }\n\n  /**\n   * **Caution** This does not update `location`, use `setLocation` instead\n   */\n  updateArt(value: Partial<IArtifact>, id: string) {\n    const oldArt = this.arts.get(id)\n    const parsedArt = parseArtifact({ ...oldArt, ...value })\n    if (!parsedArt) return\n\n    const newArt = validateArtifact({ ...oldArt, ...parsedArt }, id).artifact\n    if (oldArt) {\n      newArt.location = oldArt.location\n    }\n    this.saveArt(id, newArt)\n    if (newArt.location)\n      this.arts.trigger(newArt.location)\n  }\n  /**\n   * **Caution** This does not update `location` use `setWeaponLocation` instead\n   */\n  updateWeapon(value: Partial<IWeapon>, id: string) {\n    const oldWeapon = this.weapons.get(id)\n    const parsedWeapon = parseWeapon({ ...oldWeapon, ...value })\n    if (!parsedWeapon) return\n\n    const newWeapon = validateWeapon({ ...oldWeapon, ...parsedWeapon }, id)\n    this.saveWeapon(id, newWeapon)\n    if (newWeapon.location)\n      this.chars.trigger(newWeapon.location)\n  }\n\n  createArt(value: IArtifact): string {\n    const id = generateRandomArtID(new Set(this.arts.keys))\n    const newArt = validateArtifact(parseArtifact({ ...value, location: \"\" })!, id).artifact\n    this.saveArt(id, newArt)\n    return id\n  }\n  createWeapon(value: IWeapon): string {\n    const id = generateRandomWeaponID(new Set(this.weapons.keys))\n    const newWeapon = validateWeapon(parseWeapon({ ...value, location: \"\" })!, id)\n    this.saveWeapon(id, newWeapon)\n    return id\n  }\n\n  removeChar(key: CharacterKey) {\n    const char = this.chars.get(key)\n    if (!char) return\n\n    for (const artKey of Object.values(char.equippedArtifacts)) {\n      const art = this.arts.get(artKey)\n      if (art && art.location === key) {\n        art.location = \"\"\n        this.saveArt(artKey, art)\n      }\n    }\n    const weapon = this.weapons.get(char.equippedWeapon)\n    if (weapon && weapon.location === key) {\n      weapon.location = \"\"\n      this.saveWeapon(char.equippedWeapon, weapon)\n    }\n\n    this.storage.remove(`char_${key}`)\n    this.chars.remove(key)\n  }\n  removeArt(key: string) {\n    const art = this.arts.get(key)\n    if (!art) return\n\n    const char = art.location && this.chars.get(art.location)\n    if (char && char.equippedArtifacts[art.slotKey] === key) {\n      char.equippedArtifacts[art.slotKey] = \"\"\n      this.saveChar(char.key, char)\n    }\n    this.storage.remove(key)\n    this.arts.remove(key)\n  }\n  removeWeapon(key: string) {\n    const weapon = this.weapons.get(key)\n    if (!weapon || weapon.location)\n      return // Can't delete equipped weapon here\n\n    this.storage.remove(key)\n    this.weapons.remove(key)\n  }\n  setArtLocation(artKey: string, newCharKey: CharacterKey | \"\") {\n    const art1 = this.arts.get(artKey)\n    if (!art1 || art1.location === newCharKey) return\n\n    const slotKey = art1.slotKey\n    const char1 = this.chars.get(newCharKey)\n    const art2 = this.arts.get(char1?.equippedArtifacts[slotKey])\n    const char2 = this.chars.get(art1.location)\n\n    // Currently art1 <-> char2 & art2 <-> char1\n    // Swap to art1 <-> char1 & art2 <-> char2\n\n    this.saveArt(art1.id, { ...art1, location: char1?.key ?? \"\" })\n    if (art2)\n      this.saveArt(art2.id, { ...art2, location: char2?.key ?? \"\" })\n    if (char1)\n      this.saveChar(char1.key, { ...char1, equippedArtifacts: { ...char1.equippedArtifacts, [slotKey]: art1.id } })\n    if (char2)\n      this.saveChar(char2.key, { ...char2, equippedArtifacts: { ...char2.equippedArtifacts, [slotKey]: art2?.id ?? \"\" } })\n  }\n  setWeaponLocation(weaponId: string, newCharKey: CharacterKey | \"\") {\n    const weapon1 = this.weapons.get(weaponId)\n    const char1 = this.chars.get(newCharKey)\n    if (!weapon1 || !char1 || weapon1.location === newCharKey) return\n\n    const weapon2 = this.weapons.get(char1.equippedWeapon)!\n    const char2 = this.chars.get(weapon1.location)\n\n    // Currently weapon1 <-> char2 & weapon2 <-> char1\n    // Swap to weapon1 <-> char1 & weapon2 <-> char2\n\n    this.saveWeapon(weapon1.id, { ...weapon1, location: char1.key })\n    this.saveChar(char1.key, { ...char1, equippedWeapon: weapon1.id })\n\n    if (weapon2)\n      this.saveWeapon(weapon2.id, { ...weapon2, location: char2?.key ?? \"\" })\n    if (char2)\n      this.saveChar(char2.key, { ...char2, equippedWeapon: weapon2.id })\n  }\n  equipArtifacts(charKey: CharacterKey, newArts: StrictDict<SlotKey, string>) {\n    const char = this.chars.get(charKey)\n    if (!char) return\n\n    const oldArts = char.equippedArtifacts\n    for (const [slot, newArt] of Object.entries(newArts)) {\n      if (newArt) this.setArtLocation(newArt, charKey)\n      else if (oldArts[slot]) this.setArtLocation(oldArts[slot], \"\")\n    }\n  }\n\n  findDuplicates(editorArt: IArtifact): { duplicated: ICachedArtifact[], upgraded: ICachedArtifact[] } {\n    const { setKey, rarity, level, slotKey, mainStatKey, substats } = editorArt\n\n    const candidates = this._getArts().filter(candidate =>\n      setKey === candidate.setKey &&\n      rarity === candidate.rarity &&\n      slotKey === candidate.slotKey &&\n      mainStatKey === candidate.mainStatKey &&\n      level >= candidate.level &&\n      substats.every((substat, i) =>\n        !candidate.substats[i].key || // Candidate doesn't have anything on this slot\n        (substat.key === candidate.substats[i].key && // Or editor simply has better substat\n          substat.value >= candidate.substats[i].value)\n      )\n    )\n\n    // Strictly upgraded artifact\n    const upgraded = candidates.filter(candidate =>\n      level > candidate.level &&\n      (Math.floor(level / 4) === Math.floor(candidate.level / 4) ? // Check for extra rolls\n        substats.every((substat, i) => // Has no extra roll\n          substat.key === candidate.substats[i].key && substat.value === candidate.substats[i].value) :\n        substats.some((substat, i) => // Has extra rolls\n          candidate.substats[i].key ?\n            substat.value > candidate.substats[i].value : // Extra roll to existing substat\n            substat.key // Extra roll to new substat\n        )\n      )\n    )\n    // Strictly duplicated artifact\n    const duplicated = candidates.filter(candidate =>\n      level === candidate.level &&\n      substats.every(substat =>\n        !substat.key ||  // Empty slot\n        candidate.substats.some(candidateSubstat =>\n          substat.key === candidateSubstat.key && // Or same slot\n          substat.value === candidateSubstat.value\n        )))\n    return { duplicated, upgraded }\n  }\n\n  findDuplicateWeapons(weapon: IWeapon): { duplicated: ICachedWeapon[], upgraded: ICachedWeapon[] } {\n    const { key, level, ascension, refinement } = weapon\n\n    const candidates = this._getWeapons().filter(candidate =>\n      key === candidate.key &&\n      level >= candidate.level &&\n      ascension >= candidate.ascension &&\n      refinement >= candidate.refinement\n    )\n\n    // Strictly upgraded weapons\n    const upgraded = candidates.filter(candidate =>\n      level > candidate.level ||\n      ascension > candidate.ascension ||\n      refinement > candidate.refinement\n    )\n    // Strictly duplicated weapons\n    const duplicated = candidates.filter(candidate =>\n      level === candidate.level &&\n      ascension === candidate.ascension &&\n      refinement === candidate.refinement\n    )\n    return { duplicated, upgraded }\n  }\n}\n\n/// Get a random integer (converted to string) that is not in `keys`\nfunction generateRandomArtID(keys: Set<string>): string {\n  let candidate = \"\"\n  do {\n    candidate = `artifact_${getRandomInt(1, 2 * (keys.size + 1))}`\n  } while (keys.has(candidate))\n  return candidate\n}\n\n/// Get a random integer (converted to string) that is not in `keys`\nfunction generateRandomWeaponID(keys: Set<string>): string {\n  let candidate = \"\"\n  do {\n    candidate = `weapon_${getRandomInt(1, 2 * (keys.size + 1))}`\n  } while (keys.has(candidate))\n  return candidate\n}\n\ntype Callback<Arg> = (arg: Arg | undefined) => void\n\nexport const database = new ArtCharDatabase(dbStorage)\nexport const DatabaseContext = createContext(database)\n","import i18n from 'i18next';\nimport Backend from 'i18next-http-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\n// Probably a way to auto-populate this.\nexport const languageCodeList = [\n  \"chs\",\n  \"cht\",\n  \"de\",\n  \"en\",\n  \"es\",\n  \"fr\",\n  \"id\",\n  \"ja\",\n  \"ko\",\n  \"pt\",\n  \"ru\",\n  \"th\",\n  \"vi\"\n];\n\n/**\n * @see: https://www.i18next.com/translation-function/essentials\n * @see: https://react.i18next.com/latest/using-with-hooks\n */\ni18n\n  // load translation using http ->\n  // see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n  // learn more: https://github.com/i18next/i18next-http-backend\n  .use(Backend)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // Configure localization.\n  .init({\n    // debug: process.env.NODE_ENV === \"development\",\n    // Use English strings by default, if the current language does not include\n    // the specified string.\n    fallbackLng: 'en',\n    // fallbackLng: 'dev', // Switch to this to force the fallback value on missing strings.\n\n    // List all translation namespaces.\n    ns: [\n      \"languages\",\n      \"ui\",\n    ],\n    // Specify the default namespace.\n    defaultNS: \"ui\",\n\n    // Only use the language code, skipping the region code.\n    // For example, en-US becomes simply en.\n    load: 'languageOnly',\n\n    // allow an empty value to count as invalid (by default is true)\n    returnEmptyString: false,\n\n    backend: process.env.NODE_ENV === \"development\" ? {\n      // Path to load localization data from.\n      loadPath: 'genshin-optimizer-beta/locales/{{lng}}/{{ns}}.json',\n    } : {\n      // Path to load localization data from.\n      loadPath: 'locales/{{lng}}/{{ns}}.json',\n    },\n    interpolation: {\n      escapeValue: false,//react does interlopation already\n    }\n  });\n\nexport default i18n;\n","// DO NOT REMOVE ITEMS FROM THESE LISTS\n//        ONLY APPEND NEW ENTRIES\n// The index of items in this list is used to\n// compress the exported data. Removing an item\n// from this list will shift subsequent entries.\nexport const allHitModes = [\"hit\", \"avgHit\", \"critHit\"] as const\nexport const allRegions = [\"mondstadt\", \"liyue\", \"inazuma\", \"sumeru\", \"fontaine\", \"natlan\", \"snezhnaya\", \"khaenriah\"] as const\nexport const allReactionModes = [\"hydro_vaporize\", \"pyro_vaporize\", \"pyro_melt\", \"cryo_melt\",] as const\nexport const allArtifactSetCount = [1, 2, 3, 4, 5] as const\nexport const allRarities = [5, 4, 3, 2, 1] as const\nexport const allArtifactRarities = [5, 4, 3] as const\nexport const allSlotKeys = [\"flower\", \"plume\", \"sands\", \"goblet\", \"circlet\"] as const\nexport const allElements = ['anemo', 'geo', 'electro', 'hydro', 'pyro', 'cryo'] as const\nexport const allElementsWithPhy = [\"physical\", ...allElements] as const\nexport const allWeaponTypeKeys = ['sword', 'claymore', 'polearm', 'bow', 'catalyst'] as const\nexport const allArtifactSets = [\n  \"Adventurer\",\n  // \"ArchaicPetra\",\n  // \"Berserker\",\n  // \"BlizzardStrayer\",\n  // \"BloodstainedChivalry\",\n  // \"BraveHeart\",\n  // \"CrimsonWitchOfFlames\",\n  // \"DefendersWill\",\n  // \"Gambler\",\n  // \"GladiatorsFinale\",\n  // \"HeartOfDepth\",\n  // \"Instructor\",\n  // \"Lavawalker\",\n  // \"LuckyDog\",\n  // \"MaidenBeloved\",\n  // \"MartialArtist\",\n  \"NoblesseOblige\",\n  // \"PrayersForDestiny\",\n  // \"PrayersForIllumination\",\n  // \"PrayersForWisdom\",\n  // \"PrayersToSpringtime\",\n  // \"ResolutionOfSojourner\",\n  // \"RetracingBolide\",\n  // \"Scholar\",\n  // \"TheExile\",\n  // \"ThunderingFury\",\n  // \"Thundersoother\",\n  // \"TinyMiracle\",\n  // \"TravelingDoctor\",\n  \"ViridescentVenerer\",\n  // \"WanderersTroupe\",\n  // \"TenacityOfTheMillelith\",\n  // \"PaleFlame\",\n  \"EmblemOfSeveredFate\",\n  // \"ShimenawasReminiscence\",\n  // \"HuskOfOpulentDreams\",\n  // \"OceanHuedClam\"\n] as const\nexport const allCharacterKeys = [\n  // \"Albedo\",\n  // \"Amber\",\n  // \"Barbara\",\n  // \"Beidou\",\n  // \"Bennett\",\n  // \"Chongyun\",\n  // \"Diluc\",\n  // \"Diona\",\n  // \"Fischl\",\n  // \"Ganyu\",\n  // \"HuTao\",\n  // \"Jean\",\n  // \"Kaeya\",\n  // \"Keqing\",\n  // \"Klee\",\n  // \"Lisa\",\n  // \"Mona\",\n  // \"Ningguang\",\n  // \"Noelle\",\n  // \"Qiqi\",\n  // \"Razor\",\n  \"Sucrose\",\n  // \"Tartaglia\",\n  // \"Traveler\",\n  // \"RaidenShogun\",\n  // \"Venti\",\n  // \"Xiao\",\n  // \"Xiangling\",\n  // \"Xingqiu\",\n  // \"Xinyan\",\n  // \"Zhongli\",\n  // \"Rosaria\",\n  // \"Yanfei\",\n  // \"Eula\",\n  \"KaedeharaKazuha\",\n  // \"KamisatoAyaka\",\n  // \"Sayu\",\n  \"Shenhe\",\n  // \"Yoimiya\",\n  // \"KujouSara\",\n  // \"Aloy\",\n  // \"SangonomiyaKokomi\",\n  // \"Thoma\",\n  // \"Gorou\",\n  // \"AratakiItto\"\n] as const\nexport const allWeaponKeys = [\n  \"CalamityQueller\",\n  \"DullBlade\",\n  // \"SilverSword\",\n  // \"CoolSteel\",\n  // \"DarkIronSword\",\n  // \"FilletBlade\",\n  // \"HarbingerOfDawn\",\n  // \"SkyriderSword\",\n  // \"TravelersHandySword\",\n  // \"BlackcliffLongsword\",\n  // \"FavoniusSword\",\n  // \"IronSting\",\n  // \"LionsRoar\",\n  // \"PrimordialJadeCutter\",\n  // \"PrototypeRancour\",\n  // \"RoyalLongsword\",\n  // \"SacrificialSword\",\n  // \"TheAlleyFlash\",\n  // \"TheBlackSword\",\n  // \"TheFlute\",\n  // \"SwordOfDescension\",\n  // \"FesteringDesire\",\n  // \"AquilaFavonia\",\n  // \"SkywardBlade\",\n  // \"SummitShaper\",\n  // \"WasterGreatsword\",\n  // \"OldMercsPal\",\n  // \"BloodtaintedGreatsword\",\n  // \"DebateClub\",\n  // \"FerrousShadow\",\n  // \"Akuoumaru\",\n  // \"SkyriderGreatsword\",\n  // \"WhiteIronGreatsword\",\n  // \"BlackcliffSlasher\",\n  // \"FavoniusGreatsword\",\n  // \"LithicBlade\",\n  // \"PrototypeArchaic\",\n  // \"Rainslasher\",\n  // \"RoyalGreatsword\",\n  // \"SerpentSpine\",\n  // \"TheBell\",\n  // \"Whiteblind\",\n  // \"SacrificialGreatsword\",\n  // \"SnowTombedStarsilver\",\n  // \"SkywardPride\",\n  // \"WolfsGravestone\",\n  // \"TheUnforged\",\n  // \"BeginnersProtector\",\n  // \"IronPoint\",\n  // \"BlackTassel\",\n  // \"Halberd\",\n  // \"WhiteTassel\",\n  // \"BlackcliffPole\",\n  // \"CrescentPike\",\n  // \"Deathmatch\",\n  // \"DragonsBane\",\n  // \"LithicSpear\",\n  // \"PrototypeStarglitter\",\n  // \"FavoniusLance\",\n  // \"RoyalSpear\",\n  // \"DragonspineSpear\",\n  // \"VortexVanquisher\",\n  // \"PrimordialJadeWingedSpear\",\n  // \"StaffOfHoma\",\n  // \"SkywardSpine\",\n  // \"HuntersBow\",\n  // \"SeasonedHuntersBow\",\n  // \"PolarStar\",\n  // \"Messenger\",\n  // \"RavenBow\",\n  // \"RecurveBow\",\n  // \"SharpshootersOath\",\n  // \"Slingshot\",\n  // \"TheStringless\",\n  // \"AlleyHunter\",\n  // \"BlackcliffWarbow\",\n  // \"CompoundBow\",\n  // \"FavoniusWarbow\",\n  // \"PrototypeCrescent\",\n  // \"RoyalBow\",\n  // \"Rust\",\n  // \"SacrificialBow\",\n  // \"TheViridescentHunt\",\n  // \"SkywardHarp\",\n  // \"AmosBow\",\n  // \"ElegyForTheEnd\",\n  // \"WindblumeOde\",\n  // \"ApprenticesNotes\",\n  // \"PocketGrimoire\",\n  // \"EngulfingLightning\",\n  // \"EmeraldOrb\",\n  // \"MagicGuide\",\n  // \"OtherworldlyStory\",\n  // \"ThrillingTalesOfDragonSlayers\",\n  // \"TwinNephrite\",\n  // \"BlackcliffAgate\",\n  // \"FavoniusCodex\",\n  // \"MappaMare\",\n  // \"PrototypeAmber\",\n  // \"RoyalGrimoire\",\n  // \"SacrificialFragments\",\n  // \"SolarPearl\",\n  // \"TheWidsith\",\n  // \"WineAndSong\",\n  // \"EyeOfPerception\",\n  // \"Frostbearer\",\n  // \"LostPrayerToTheSacredWinds\",\n  // \"SkywardAtlas\",\n  // \"MemoryOfDust\",\n  // \"SongOfBrokenPines\",\n  // \"DodocoTales\",\n  // \"MitternachtsWaltz\",\n  \"FreedomSworn\",\n  // \"AmenomaKageuchi\",\n  // \"MistsplitterReforged\",\n  // \"KatsuragikiriNagamasa\",\n  // \"KitainCrossSpear\",\n  // \"ThunderingPulse\",\n  // \"Hamayumi\",\n  // \"HakushinRing\",\n  // \"TheCatch\",\n  \"EverlastingMoonglow\",\n  // \"LuxuriousSeaLord\",\n  // \"Predator\",\n  // \"MouunsMoon\",\n  // \"WavebreakersFin\",\n  // \"CinnabarSpindle\",\n  // \"RedhornStonethresher\",\n] as const\nexport const characterSpecializedStatKeys = [\"hp_\", \"atk_\", \"def_\", \"eleMas\", \"enerRech_\", \"heal_\", \"critRate_\", \"critDMG_\", \"physical_dmg_\", \"anemo_dmg_\", \"geo_dmg_\", \"electro_dmg_\", \"hydro_dmg_\", \"pyro_dmg_\", \"cryo_dmg_\"] as const\n\nexport type HitModeKey = typeof allHitModes[number]\nexport type Region = typeof allRegions[number]\nexport type ReactionModeKey = typeof allReactionModes[number]\nexport type SetNum = typeof allArtifactSetCount[number]\nexport type Rarity = typeof allRarities[number]\nexport type ArtifactRarity = typeof allArtifactRarities[number]\nexport type SlotKey = typeof allSlotKeys[number]\nexport type ElementKey = typeof allElements[number]\nexport type ElementKeyWithPhy = typeof allElementsWithPhy[number]\nexport type ArtifactSetKey = typeof allArtifactSets[number]\nexport type CharacterKey = typeof allCharacterKeys[number]\nexport type WeaponKey = typeof allWeaponKeys[number]\nexport type WeaponTypeKey = typeof allWeaponTypeKeys[number]\nexport type CharacterSpecializedStatKey = typeof characterSpecializedStatKeys[number]\n","import { AppBar, Box, Skeleton, Typography } from \"@mui/material\";\nimport { grey } from \"@mui/material/colors\";\nimport { Suspense } from \"react\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport packageInfo from '../package.json';\n\nexport default function Footer() {\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" height={64} />}>\n    <FooterContent />\n  </Suspense>\n}\nfunction FooterContent() {\n  const { t } = useTranslation(\"ui\")\n  return <AppBar position=\"static\" sx={{ bgcolor: \"#343a40\" }} elevation={0}>\n    <Box display=\"flex\" justifyContent=\"space-between\" sx={{ px: 2, py: 1 }} gap={2}>\n      <Typography variant=\"caption\" sx={{ color: grey[200] }}>\n        <Trans t={t} i18nKey=\"ui:rightsDisclaimer\">Genshin Optimizer is not affiliated with or endorsed by miHoYo.</Trans>\n      </Typography>\n      <Typography variant=\"caption\" sx={{ color: grey[200], textAlign: \"right\" }} >\n        <Trans t={t} i18nKey=\"ui:appVersion\" values={{ version: packageInfo.version }}>Genshin Optimizer Version: <code>{{ version: packageInfo.version }}</code></Trans>\n      </Typography>\n    </Box>\n  </AppBar >\n}\n","import { faDiscord, faPatreon, faPaypal } from \"@fortawesome/free-brands-svg-icons\";\nimport { faBook, faCalculator, faCog, faGavel, faIdCard, faTools } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Menu as MenuIcon } from \"@mui/icons-material\";\nimport { AppBar, Box, Button, Divider, Drawer, IconButton, List, ListItemButton, ListItemIcon, ListItemText, Skeleton, Tab, Tabs, Toolbar, Typography, useMediaQuery, useTheme } from \"@mui/material\";\nimport { Suspense, useState } from \"react\";\nimport ReactGA from 'react-ga';\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { Link as RouterLink, useRouteMatch } from \"react-router-dom\";\nimport { SlotIconSVG } from \"./Components/Artifact/SlotNameWIthIcon\";\n\nconst content = [{\n  i18Key: \"tabs.artifacts\",\n  svg: SlotIconSVG.flower,\n  to: \"/artifact\",\n  value: \"artifact\",\n}, {\n  i18Key: \"tabs.weapons\",\n  svg: faGavel,\n  to: \"/weapon\",\n  value: \"weapon\",\n}, {\n  i18Key: \"tabs.characters\",\n  svg: faIdCard,\n  to: \"/character\",\n  value: \"character\",\n}, {\n  i18Key: \"tabs.builds\",\n  svg: faCalculator,\n  to: \"/build\",\n  value: \"build\",\n}, {\n  i18Key: \"tabs.tools\",\n  svg: faTools,\n  to: \"/tools\",\n  value: \"tools\",\n}, {\n  i18Key: \"tabs.setting\",\n  svg: faCog,\n  to: \"/setting\",\n  value: \"setting\",\n}, {\n  i18Key: \"tabs.doc\",\n  svg: faBook,\n  to: \"/doc\",\n  value: \"doc\",\n},] as const\n\nconst links = [{\n  i18Key: \"social.paypal\",\n  href: process.env.REACT_APP_PAYPAL_LINK,\n  svg: faPaypal,\n  label: \"paypal\",\n}, {\n  i18Key: \"social.patreon\",\n  href: process.env.REACT_APP_PATREON_LINK,\n  svg: faPatreon,\n  label: \"patreon\",\n}, {\n  i18Key: \"social.discord\",\n  href: process.env.REACT_APP_DISCORD_LINK,\n  svg: faDiscord,\n  label: \"discord\",\n},] as const\n\nexport default function Header(props) {\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" height={56} />}>\n    <HeaderContent {...props} />\n  </Suspense>\n}\nfunction HeaderContent({ anchor }) {\n  const theme = useTheme();\n  const isLarge = useMediaQuery(theme.breakpoints.up('lg'));\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n\n  const { t } = useTranslation(\"ui\")\n\n  const routeMatch = useRouteMatch({\n    path: \"/:slug\",\n    strict: true,\n    sensitive: true\n  });\n\n\n  const currentTab = (routeMatch?.params as any)?.slug ?? false\n  if (isMobile) return <MobileHeader anchor={anchor} currentTab={currentTab} />\n  return <AppBar position=\"static\" sx={{ bgcolor: \"#343a40\", display: \"flex\", flexWrap: \"nowrap\" }} elevation={0} id={anchor} >\n    <Tabs\n      value={currentTab}\n      variant=\"scrollable\"\n      scrollButtons=\"auto\"\n\n      sx={{\n        \"& .MuiTab-root\": {\n          px: 1,\n          flexDirection: \"row\",\n          minWidth: 40,\n          minHeight: \"auto\",\n        },\n        \"& .MuiTab-root:hover\": {\n          transition: \"background-color 0.5s ease\",\n          backgroundColor: \"rgba(255,255,255,0.1)\"\n        },\n        \"& .MuiTab-root > .MuiTab-iconWrapper\": {\n          mb: 0,\n          mr: 0.5\n        },\n      }}\n    >\n      <Tab value=\"\" component={RouterLink} to=\"/\" label={<Typography variant=\"h6\" sx={{ px: 1 }}>\n        <Trans t={t} i18nKey=\"pageTitle\">Genshin Optimizer</Trans>\n      </Typography>} />\n      {content.map(({ i18Key, value, to, svg }) => <Tab key={value} value={value} component={RouterLink} to={to} icon={<FontAwesomeIcon icon={svg} />} label={t(i18Key)} />)}\n      <Box flexGrow={1} />\n      {links.map(({ i18Key, href, label, svg }) => <Tab key={label} component=\"a\" href={href} target=\"_blank\" icon={<FontAwesomeIcon icon={svg} />} onClick={e => ReactGA.outboundLink({ label }, () => { })} label={isLarge && t(i18Key)} />)}\n    </Tabs>\n  </AppBar>\n}\nfunction MobileHeader({ anchor, currentTab }) {\n  const [mobileOpen, setMobileOpen] = useState(false);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n\n  const { t } = useTranslation(\"ui\")\n  return <>\n    <AppBar position=\"fixed\" sx={{ bgcolor: \"#343a40\" }} elevation={0}  >\n      <Drawer\n        anchor=\"right\"\n        variant=\"temporary\"\n        open={mobileOpen}\n        onClose={handleDrawerToggle}\n        ModalProps={{\n          keepMounted: true, // Better open performance on mobile.\n        }}\n      >\n        <List>\n          <ListItemButton key=\"home\" component={RouterLink} to={'/'} selected={currentTab === \"\"} disabled={currentTab === \"\"} onClick={handleDrawerToggle} >\n            <ListItemText>{t(\"pageTitle\")}</ListItemText>\n          </ListItemButton >\n          {content.map(({ i18Key, value, to, svg }) =>\n            <ListItemButton key={value} component={RouterLink} to={to} selected={currentTab === value} disabled={currentTab === value} onClick={handleDrawerToggle} >\n              <ListItemIcon><FontAwesomeIcon icon={svg} /></ListItemIcon>\n              <ListItemText>{t(i18Key)}</ListItemText>\n            </ListItemButton >)}\n        </List>\n        <Divider />\n        <List>\n          {links.map(({ i18Key, href, svg, label }) =>\n            <ListItemButton key={label} component=\"a\" href={href} target=\"_blank\" onClick={e => ReactGA.outboundLink({ label }, () => { })} >\n              <ListItemIcon><FontAwesomeIcon icon={svg} /></ListItemIcon>\n              <ListItemText>{t(i18Key)}</ListItemText>\n            </ListItemButton >)}\n        </List>\n      </Drawer>\n      <Toolbar>\n        <Button variant=\"text\" sx={{ color: \"white\" }} component={RouterLink} to=\"/\">\n          <Typography variant=\"h6\" noWrap component=\"div\">\n            <Trans t={t} i18nKey=\"pageTitle\">Genshin Optimizer</Trans>\n          </Typography>\n        </Button>\n        <Box flexGrow={1} />\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"open drawer\"\n          edge=\"end\"\n          onClick={handleDrawerToggle}\n        >\n          <MenuIcon />\n        </IconButton>\n      </Toolbar>\n    </AppBar>\n    {/* add a blank toolbar to keep space and provide a scroll anchor */}\n    <Toolbar id={anchor} />\n  </>\n}\n","import { KeyboardArrowUp } from '@mui/icons-material';\nimport { Box, Container, Fab, Grid, Skeleton, useScrollTrigger, Zoom } from '@mui/material';\nimport React, { lazy, Suspense } from 'react';\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport './App.scss';\nimport './Database/Database';\nimport Footer from './Footer';\nimport { GlobalSettingsContext, useGlobalSettings } from './GlobalSettings';\nimport Header from './Header';\nimport './i18n';\n\nconst Home = lazy(() => import('./PageHome/HomeDisplay'))\nconst ArtifactDisplay = lazy(() => import('./PageArtifact/ArtifactDisplay'))\nconst CharacterRouter = lazy(() => import('./PageCharacter/CharacterRouter'))\nconst BuildDisplay = lazy(() => import('./PageBuild/BuildDisplay'))\nconst ToolsDisplay = lazy(() => import('./PageTools/ToolsDisplay'))\nconst TestDisplay = lazy(() => import('./PageTest/TestDisplay'))\nconst FlexDisplay = lazy(() => import('./PageFlex/FlexDisplay'))\nconst SettingsDisplay = lazy(() => import('./PageSettings/SettingsDisplay'))\nconst WeaponDisplay = lazy(() => import('./PageWeapon/WeaponDisplay'))\nconst DocumentationDisplay = lazy(() => import('./PageDocumentation/DocumentationDisplay'))\nconst ScannerDisplay = lazy(() => import('./PageScanner/ScannerDisplay'))\n\nfunction ScrollTop({ children }: { children: React.ReactElement }) {\n  const trigger = useScrollTrigger({\n    target: window,\n    disableHysteresis: true,\n    threshold: 100,\n  });\n\n  const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    const anchor = (\n      (event.target as HTMLDivElement).ownerDocument || document\n    ).querySelector('#back-to-top-anchor');\n\n    if (anchor) {\n      anchor.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    }\n  };\n\n  return (\n    <Zoom in={trigger}>\n      <Box\n        onClick={handleClick}\n        role=\"presentation\"\n        sx={{ position: 'fixed', bottom: 85, right: 16 }}\n      >\n        {children}\n      </Box>\n    </Zoom>\n  );\n}\n\nfunction App() {\n  const [globalSettings, globalSettingsDispatch] = useGlobalSettings()\n  return <HashRouter basename=\"/\">\n    <GlobalSettingsContext.Provider value={{ globalSettings, globalSettingsDispatch }}>\n      <Grid container direction=\"column\" minHeight=\"100vh\">\n        <Grid item >\n          <Header anchor=\"back-to-top-anchor\" />\n        </Grid>\n        <Container maxWidth=\"xl\" sx={{ px: { xs: 0.5, sm: 1, md: 2 } }}>\n          <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\" }} />}>\n            <Switch>\n              <Route path=\"/artifact\" component={ArtifactDisplay} />\n              <Route path=\"/weapon\" component={WeaponDisplay} />\n              <Route path=\"/character\" component={CharacterRouter} />\n              <Route path=\"/build\" component={BuildDisplay} />\n              <Route path=\"/tools\" component={ToolsDisplay} />\n              {process.env.NODE_ENV === \"development\" && <Route path=\"/test\" component={TestDisplay} />}\n              <Route path=\"/setting\" component={SettingsDisplay} />\n              <Route path=\"/doc\" component={DocumentationDisplay} />\n              <Route path=\"/flex\" component={FlexDisplay} />\n              <Route path=\"/scanner\" component={ScannerDisplay} />\n              <Route path=\"/\" component={Home} />\n            </Switch>\n          </Suspense>\n        </Container>\n        {/* make sure footer is always at bottom */}\n        <Grid item flexGrow={1} />\n        <Grid item >\n          <Footer />\n        </Grid>\n      </Grid>\n      <ScrollTop >\n        <Fab color=\"secondary\" size=\"small\" aria-label=\"scroll back to top\">\n          <KeyboardArrowUp />\n        </Fab>\n      </ScrollTop>\n    </GlobalSettingsContext.Provider>\n  </HashRouter>\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createTheme, darkScrollbar } from \"@mui/material\";\n\ndeclare module '@mui/material/styles' {\n\n  interface Palette {\n    warning: Palette['primary'];\n    contentDark: Palette['primary'];\n    contentDarker: Palette['primary'];\n    contentLight: Palette['primary'];\n    roll1: Palette['primary'];\n    roll2: Palette['primary'];\n    roll3: Palette['primary'];\n    roll4: Palette['primary'];\n    roll5: Palette['primary'];\n    roll6: Palette['primary'];\n    geo: Palette['primary'];\n    dendro: Palette['primary'];\n    pyro: Palette['primary'];\n    hydro: Palette['primary'];\n    cryo: Palette['primary'];\n    electro: Palette['primary'];\n    anemo: Palette['primary'];\n    physical: Palette['primary'];\n    vaporize: Palette['primary'];\n    melt: Palette['primary'];\n    overloaded: Palette['primary'];\n    superconduct: Palette['primary'];\n    electrocharged: Palette['primary'];\n    shattered: Palette['primary'];\n    swirl: Palette['primary'];\n    burning: Palette['primary'];\n    crystalize: Palette['primary'];\n  }\n  interface PaletteOptions {\n    warning?: PaletteOptions['primary'];\n    contentDark?: PaletteOptions['primary'];\n    contentDarker?: PaletteOptions['primary'];\n    contentLight?: PaletteOptions['primary'];\n    roll1?: PaletteOptions['primary'];\n    roll2?: PaletteOptions['primary'];\n    roll3?: PaletteOptions['primary'];\n    roll4?: PaletteOptions['primary'];\n    roll5?: PaletteOptions['primary'];\n    roll6?: PaletteOptions['primary'];\n    geo?: PaletteOptions['primary'];\n    dendro?: PaletteOptions['primary'];\n    pyro?: PaletteOptions['primary'];\n    hydro?: PaletteOptions['primary'];\n    cryo?: PaletteOptions['primary'];\n    electro?: PaletteOptions['primary'];\n    anemo?: PaletteOptions['primary'];\n    physical?: PaletteOptions['primary'];\n    vaporize?: PaletteOptions['primary'];\n    melt?: PaletteOptions['primary'];\n    overloaded?: PaletteOptions['primary'];\n    superconduct?: PaletteOptions['primary'];\n    electrocharged?: PaletteOptions['primary'];\n    shattered?: PaletteOptions['primary'];\n    swirl?: PaletteOptions['primary'];\n    burning?: PaletteOptions['primary'];\n    crystalize?: PaletteOptions['primary'];\n  }\n}\n\ndeclare module \"@mui/material/Button\" {\n  interface ButtonPropsColorOverrides {\n    warning: true;\n    roll1: true;\n    roll2: true;\n    roll3: true;\n    roll4: true;\n    roll5: true;\n    roll6: true;\n    geo: true;\n    dendro: true;\n    pyro: true;\n    hydro: true;\n    cryo: true;\n    electro: true;\n    anemo: true;\n    physical: true;\n  }\n}\n\ndeclare module \"@mui/material/Chip\" {\n  interface ChipPropsColorOverrides {\n    warning: true;\n    roll1: true;\n    roll2: true;\n    roll3: true;\n    roll4: true;\n    roll5: true;\n    roll6: true;\n    geo: true;\n    dendro: true;\n    pyro: true;\n    hydro: true;\n    cryo: true;\n    electro: true;\n    anemo: true;\n    physical: true;\n  }\n}\n\nconst defaultTheme = createTheme({\n  palette: {\n    mode: `dark`,\n  }\n});\nexport const theme = createTheme({\n  palette: {\n    mode: 'dark',\n    primary: defaultTheme.palette.augmentColor({\n      color: { main: '#1e78c8' },\n      name: \"primary\"\n    }),\n    secondary: defaultTheme.palette.augmentColor({\n      color: { main: '#6c757d' },\n      name: \"secondary\"\n    }),\n    success: defaultTheme.palette.augmentColor({\n      color: { main: '#46a046' },\n      name: \"success\"\n    }),\n    warning: defaultTheme.palette.augmentColor({\n      color: { main: `#ffc107` },\n      name: \"warning\"\n    }),\n    error: defaultTheme.palette.augmentColor({\n      color: { main: `#c83c3c` },\n      name: \"error\"\n    }),\n    background: {\n      default: '#0C1020',\n      paper: '#0C1020',\n    },\n    info: defaultTheme.palette.augmentColor({\n      color: { main: '#17a2b8' },\n      name: \"info\"\n    }),\n    text: {\n      primary: 'rgba(255,255,255,0.9)',\n\n    },\n    contentDark: defaultTheme.palette.augmentColor({\n      color: { main: \"#1b263b\" },\n      name: \"contentDark\"\n    }),\n    contentDarker: defaultTheme.palette.augmentColor({\n      color: { main: \"#172032\" },\n      name: \"contentDarker\"\n    }),\n    contentLight: defaultTheme.palette.augmentColor({\n      color: { main: \"#2a364d\" },\n      name: \"contentLight\"\n    }),\n    roll1: defaultTheme.palette.augmentColor({\n      color: { main: \"#a3a7a9\" },\n      name: \"roll1\"\n    }),\n    roll2: defaultTheme.palette.augmentColor({\n      color: { main: \"#6fa376\", },\n      name: \"roll2\"\n    }),\n    roll3: defaultTheme.palette.augmentColor({\n      color: { main: \"#8eea83\", },\n      name: \"roll3\"\n    }),\n    roll4: defaultTheme.palette.augmentColor({\n      color: { main: \"#31e09d\", },\n      name: \"roll4\"\n    }),\n    roll5: defaultTheme.palette.augmentColor({\n      color: { main: \"#27bbe4\", },\n      name: \"roll5\"\n    }),\n    roll6: defaultTheme.palette.augmentColor({\n      color: { main: \"#de79f0\", },\n      name: \"roll6\"\n    }),\n    geo: defaultTheme.palette.augmentColor({\n      color: { main: \"#f8ba4e\", contrastText: \"#fff\" },\n      name: \"geo\"\n    }),\n    dendro: defaultTheme.palette.augmentColor({\n      color: { main: \"#b1ea29\", },\n      name: \"dendro\"\n    }),\n    pyro: defaultTheme.palette.augmentColor({\n      color: { main: \"#bf2818\", },\n      name: \"pyro\"\n    }),\n    hydro: defaultTheme.palette.augmentColor({\n      color: { main: \"#2f63d4\", },\n      name: \"hydro\"\n    }),\n    cryo: defaultTheme.palette.augmentColor({\n      color: { main: \"#77a2e6\", contrastText: \"#fff\" },\n      name: \"cryo\"\n    }),\n    electro: defaultTheme.palette.augmentColor({\n      color: { main: \"#b25dcd\", },\n      name: \"electro\"\n    }),\n    anemo: defaultTheme.palette.augmentColor({\n      color: { main: \"#61dbbb\", contrastText: \"#fff\" },\n      name: \"anemo\"\n    }),\n    physical: defaultTheme.palette.augmentColor({\n      color: { main: \"#aaaaaa\", },\n      name: \"physical\"\n    }),\n    vaporize: defaultTheme.palette.augmentColor({\n      color: { main: \"#ffcb65\", },\n      name: \"vaporize\"\n    }),\n    melt: defaultTheme.palette.augmentColor({\n      color: { main: \"#ffcb65\", },\n      name: \"melt\"\n    }),\n    overloaded: defaultTheme.palette.augmentColor({\n      color: { main: \"#ff7e9a\", },\n      name: \"overloaded\"\n    }),\n    superconduct: defaultTheme.palette.augmentColor({\n      color: { main: \"#b7b1ff\", },\n      name: \"superconduct\"\n    }),\n    electrocharged: defaultTheme.palette.augmentColor({\n      color: { main: \"#e299fd\", },\n      name: \"electrocharged\"\n    }),\n    shattered: defaultTheme.palette.augmentColor({\n      color: { main: \"#98fffd\", },\n      name: \"shattered\"\n    }),\n    swirl: defaultTheme.palette.augmentColor({\n      color: { main: \"#66ffcb\", },\n      name: \"swirl\"\n    }),\n    burning: defaultTheme.palette.augmentColor({\n      color: { main: \"#bf2818\", },\n      name: \"burning\"\n    }),\n    crystalize: defaultTheme.palette.augmentColor({\n      color: { main: \"#f8ba4e\", },\n      name: \"crystalize\"\n    }),\n  },\n  typography: {\n    button: {\n      textTransform: 'none'\n    }\n  },\n  components: {\n    MuiCssBaseline: {\n      styleOverrides: {\n        body: defaultTheme.palette.mode === 'dark' ? darkScrollbar() : null,\n      },\n    },\n    MuiAppBar: {\n      defaultProps: {\n        enableColorOnDark: true,\n      },\n    },\n    MuiPaper: {\n      defaultProps: {\n        elevation: 0\n      }\n    },\n    MuiButton: {\n      defaultProps: {\n        variant: \"contained\"\n      }\n    },\n    MuiButtonGroup: {\n      defaultProps: {\n        variant: \"contained\"\n      }\n    },\n    MuiList: {\n      styleOverrides: {\n        root: {\n          padding: 0,\n          marginTop: defaultTheme.spacing(1),\n          marginBottom: defaultTheme.spacing(1),\n        }\n      }\n    },\n    MuiTypography: {\n      styleOverrides: {\n        root: {\n          \"& ul\": {\n            margin: 0,\n            paddingLeft: defaultTheme.spacing(3)\n          }\n        }\n      }\n    },\n    MuiCardContent: {\n      styleOverrides: {\n        root: {\n          [defaultTheme.breakpoints.down('sm')]: {\n            padding: defaultTheme.spacing(1),\n            \"&:last-child\": {\n              paddingBottom: defaultTheme.spacing(1),\n            }\n          },\n          [defaultTheme.breakpoints.up('sm')]: {\n            \"&:last-child\": {\n              paddingBottom: defaultTheme.spacing(2),\n            }\n          }\n        }\n      }\n    }\n  },\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactGA from 'react-ga';\nimport App from './App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport '@fontsource/roboto/300.css';\nimport '@fontsource/roboto/400.css';\nimport '@fontsource/roboto/500.css';\nimport '@fontsource/roboto/700.css';\nimport { CssBaseline, StyledEngineProvider, ThemeProvider } from '@mui/material';\nimport { theme } from './Theme';\nReactGA.initialize(process.env.REACT_APP_GA_TRACKINGID as any, {\n  // debug: process.env.NODE_ENV === \"development\"\n});\nReactDOM.render(\n  <React.StrictMode>\n    {/* https://mui.com/guides/interoperability/#css-injection-order-2 */}\n    <StyledEngineProvider injectFirst>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <App />\n      </ThemeProvider>\n    </StyledEngineProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(undefined);\n","import { ascensionMaxLevel } from \"../Data/LevelData\";\nimport KeyMap from \"../KeyMap\";\nimport { maxBuildsToShowDefault, maxBuildsToShowList } from \"../PageBuild/Build\";\nimport { initialBuildSettings } from \"../PageBuild/BuildSetting\";\nimport { allMainStatKeys, allSubstats, ICachedArtifact, IArtifact, ICachedSubstat, ISubstat, SubstatKey } from \"../Types/artifact\";\nimport { ICachedCharacter, ICharacter } from \"../Types/character_WR\";\nimport { allArtifactRarities, allArtifactSets, allCharacterKeys, allElements, allHitModes, allReactionModes, allSlotKeys, allWeaponKeys } from \"../Types/consts\";\nimport { IWeapon, ICachedWeapon } from \"../Types/weapon\";\nimport Artifact from \"../Data/Artifacts/Artifact\";\nimport { objectKeyMap } from \"../Util/Util\";\n\n// MIGRATION STEP: Always keep validate/parse in sync with the latest format\n\n/// Returns the closest (not necessarily valid) artifact, including errors as necessary\nexport function validateArtifact(flex: IArtifact, id: string): { artifact: ICachedArtifact, errors: Displayable[] } {\n  const { location, exclude, lock, setKey, slotKey, rarity, mainStatKey } = flex\n  const level = Math.round(Math.min(Math.max(0, flex.level), rarity >= 3 ? rarity * 4 : 4))\n  const mainStatVal = Artifact.mainStatValue(mainStatKey, rarity, level)!\n\n  const errors: Displayable[] = []\n  const substats: ICachedSubstat[] = flex.substats.map(substat => ({ ...substat, rolls: [], efficiency: 0 }))\n  const validated: ICachedArtifact = { id, setKey, location, slotKey, exclude, lock, mainStatKey, rarity, level, substats, mainStatVal }\n\n  const allPossibleRolls: { index: number, substatRolls: number[][] }[] = []\n  let totalUnambiguousRolls = 0\n\n  function efficiency(rolls: number[], key: SubstatKey): number {\n    return rolls.reduce((a, b) => a + b, 0) / Artifact.maxSubstatValues(key) * 100 / rolls.length\n  }\n\n  substats.forEach((substat, index) => {\n    const { key, value } = substat\n    if (!key) return substat.value = 0\n\n    const possibleRolls = Artifact.getSubstatRolls(key, value, rarity)\n\n    if (possibleRolls.length) { // Valid Substat\n      const possibleLengths = new Set(possibleRolls.map(roll => roll.length))\n\n      if (possibleLengths.size !== 1) { // Ambiguous Rolls\n        allPossibleRolls.push({ index, substatRolls: possibleRolls })\n      } else { // Unambiguous Rolls\n        totalUnambiguousRolls += possibleRolls[0].length\n      }\n\n      substat.rolls = possibleRolls.reduce((best, current) => best.length < current.length ? best : current)\n      substat.efficiency = efficiency(substat.rolls, key)\n    } else { // Invalid Substat\n      substat.rolls = []\n      substat.efficiency = 0\n      errors.push(<>Invalid substat {KeyMap.get(substat.key)}</>)\n    }\n  })\n\n  if (errors.length) return { artifact: validated, errors }\n\n  const { low, high } = Artifact.rollInfo(rarity), lowerBound = low + Math.floor(level / 4), upperBound = high + Math.floor(level / 4)\n\n  let highestScore = -Infinity // -Max(substats.rolls[i].length) over ambiguous rolls\n  const tryAllSubstats = (rolls: { index: number, roll: number[] }[], currentScore: number, total: number) => {\n    if (rolls.length === allPossibleRolls.length) {\n      if (total <= upperBound && total >= lowerBound && highestScore < currentScore) {\n        highestScore = currentScore\n        for (const { index, roll } of rolls) {\n          const key = substats[index].key as SubstatKey\n          substats[index].rolls = roll\n          substats[index].efficiency = efficiency(roll, key)\n        }\n      }\n\n      return\n    }\n\n    const { index, substatRolls } = allPossibleRolls[rolls.length]\n    for (const roll of substatRolls) {\n      rolls.push({ index, roll })\n      let newScore = Math.min(currentScore, -roll.length)\n      if (newScore >= highestScore) // Scores won't get better, so we can skip.\n        tryAllSubstats(rolls, newScore, total + roll.length)\n      rolls.pop()\n    }\n  }\n\n  tryAllSubstats([], Infinity, totalUnambiguousRolls)\n\n  const totalRolls = substats.reduce((accu, { rolls }) => accu + rolls.length, 0)\n\n  if (totalRolls > upperBound)\n    errors.push(`${rarity}-star artifact (level ${level}) should have no more than ${upperBound} rolls. It currently has ${totalRolls} rolls.`)\n  else if (totalRolls < lowerBound)\n    errors.push(`${rarity}-star artifact (level ${level}) should have at least ${lowerBound} rolls. It currently has ${totalRolls} rolls.`)\n\n  if (substats.some((substat) => !substat.key)) {\n    let substat = substats.find(substat => (substat.rolls?.length ?? 0) > 1)\n    if (substat)\n      errors.push(<>Substat {KeyMap.get(substat.key)} has {'>'} 1 roll, but not all substats are unlocked.</>)\n  }\n\n  return { artifact: validated, errors }\n}\n/// Returns the closest flex artifact, or undefined if it's not recoverable\nexport function parseArtifact(obj: any): IArtifact | undefined {\n  if (typeof obj !== \"object\") return\n\n  let {\n    setKey, rarity, level, slotKey, mainStatKey, substats, location, exclude, lock,\n  } = obj ?? {}\n\n  if (!allArtifactSets.includes(setKey) ||\n    !allSlotKeys.includes(slotKey) ||\n    !allMainStatKeys.includes(mainStatKey) ||\n    !allArtifactRarities.includes(rarity) ||\n    typeof level !== \"number\" || level < 0 || level > 20)\n    return // non-recoverable\n\n  // TODO:\n  // These two requires information from artifact sheet,\n  // which normally isn't loaded at this point yet.\n  // - Validate artifact set vs slot\n  // - Validate artifact set vs rarity\n  substats = parseSubstats(substats)\n  lock = !!lock\n  exclude = !!exclude\n  level = Math.round(level)\n  const plausibleMainStats = Artifact.slotMainStats(slotKey)\n  if (!plausibleMainStats.includes(mainStatKey))\n    if (plausibleMainStats.length === 1) mainStatKey = plausibleMainStats[0]\n    else return // ambiguous mainstat\n  if (!allCharacterKeys.includes(location)) location = \"\"\n  return { setKey, rarity, level, slotKey, mainStatKey, substats, location, exclude, lock }\n}\n/// Return a new flex artifact from given artifact. All extra keys are removed\nexport function removeArtifactCache(artifact: ICachedArtifact): IArtifact {\n  const { setKey, rarity, level, slotKey, mainStatKey, substats, location, exclude, lock } = artifact\n  return { setKey, rarity, level, slotKey, mainStatKey, substats: substats.map(substat => ({ key: substat.key, value: substat.value })), location, exclude, lock }\n}\nfunction parseSubstats(obj: any): ISubstat[] {\n  if (!Array.isArray(obj))\n    return new Array(4).map(_ => ({ key: \"\", value: 0 }))\n  const substats = obj.slice(0, 4).map(({ key = undefined, value = undefined }) => {\n    if (!allSubstats.includes(key) || typeof value !== \"number\" || !isFinite(value))\n      return { key: \"\", value: 0 }\n    value = key.endsWith(\"_\") ? parseFloat(value.toFixed(1)) : parseInt(value.toFixed())\n    return { key, value }\n  })\n  while (substats.length < 4)\n    substats.push({ key: \"\", value: 0 })\n\n  return substats\n}\n/// Returns the closest character\nexport function validateCharacter(flex: ICharacter): ICachedCharacter {\n  // TODO: Add more validations to make sure the returned value is a \"valid\" character\n  return {\n    equippedArtifacts: objectKeyMap(allSlotKeys, () => \"\"),\n    equippedWeapon: \"\",\n    ...flex,\n  }\n}\n/// Returns the closest flex character, or undefined if it's not recoverable\nexport function parseCharacter(obj: any): ICharacter | undefined {\n  if (typeof obj !== \"object\") return\n\n  let {\n    key: characterKey, level, ascension, hitMode, elementKey, reactionMode, conditional,\n    bonusStats, enemyOverride, talent, infusionAura, constellation, buildSettings, team, compareData\n  } = obj\n\n  if (!allCharacterKeys.includes(characterKey) ||\n    typeof level !== \"number\" || level < 0 || level > 90)\n    return // non-recoverable\n\n  if (!allHitModes.includes(hitMode)) hitMode = \"avgHit\"\n  if (characterKey !== \"Traveler\") elementKey = undefined\n  else if (!allElements.includes(elementKey)) elementKey = \"anemo\"\n  if (!allReactionModes.includes(reactionMode)) reactionMode = \"\"\n  if (!allElements.includes(infusionAura)) infusionAura = \"\"\n  if (typeof constellation !== \"number\" && constellation < 0 && constellation > 6) constellation = 0\n  if (typeof ascension !== \"number\" ||\n    !(ascension in ascensionMaxLevel) ||\n    level > ascensionMaxLevel[ascension] ||\n    level < (ascensionMaxLevel[ascension - 1] ?? 0))\n    ascension = ascensionMaxLevel.findIndex(maxLvl => level <= maxLvl)\n  if (typeof talent !== \"object\") talent = { auto: 1, skill: 1, burst: 1 }\n  else {\n    let { auto, skill, burst } = talent\n    if (typeof auto !== \"number\" || auto < 1 || auto > 15) auto = 1\n    if (typeof skill !== \"number\" || skill < 1 || skill > 15) skill = 1\n    if (typeof burst !== \"number\" || burst < 1 || burst > 15) burst = 1\n    talent = { auto, skill, burst }\n  }\n  if (buildSettings && typeof buildSettings === \"object\") {//buildSettings\n    let { setFilters, statFilters, mainStatKeys, optimizationTarget, mainStatAssumptionLevel, useExcludedArts, useEquippedArts, builds, buildDate, maxBuildsToShow, plotBase, compareBuild, levelLow, levelHigh } = buildSettings ?? {}\n    if (!Array.isArray(setFilters)) setFilters = initialBuildSettings().setFilters\n\n    //make sure set effects are all numbers\n    setFilters = setFilters.map(({ key, num }) => {\n      if (Number.isInteger(num)) return { key, num }\n      return { key: \"\", num: 0 }\n    })\n    //move all the empty entries to the back\n    setFilters = [...setFilters.filter(s => s.key), ...setFilters.filter(s => !s.key)]\n\n    if (typeof statFilters !== \"object\") statFilters = {}\n\n    if (!mainStatKeys || !mainStatKeys.sands || !mainStatKeys.goblet || !mainStatKeys.circlet) {\n      const tempmainStatKeys = initialBuildSettings().mainStatKeys\n      if (Array.isArray(mainStatKeys)) {\n        const [sands, goblet, circlet] = mainStatKeys\n        if (sands) tempmainStatKeys.sands = [sands]\n        if (goblet) tempmainStatKeys.goblet = [goblet]\n        if (circlet) tempmainStatKeys.circlet = [circlet]\n      }\n      mainStatKeys = tempmainStatKeys\n    }\n\n    if (!optimizationTarget || !Array.isArray(optimizationTarget)) optimizationTarget = undefined\n    if (typeof mainStatAssumptionLevel !== \"number\" || mainStatAssumptionLevel < 0 || mainStatAssumptionLevel > 20)\n      mainStatAssumptionLevel = 0\n    useExcludedArts = !!useExcludedArts\n    useEquippedArts = !!useEquippedArts\n    if (!Array.isArray(builds) || !builds.every(b => Array.isArray(b) && b.every(s => typeof s === \"string\"))) {\n      builds = []\n      buildDate = 0\n    }\n    if (!Number.isInteger(buildDate)) buildDate = 0\n    if (!maxBuildsToShowList.includes(maxBuildsToShow)) maxBuildsToShow = maxBuildsToShowDefault\n    if (typeof plotBase !== \"string\") plotBase = \"\"\n    if (compareBuild === undefined) compareBuild = false\n    if (levelLow === undefined) levelLow = 0\n    if (levelHigh === undefined) levelHigh = 20\n    buildSettings = { setFilters, statFilters, mainStatKeys, optimizationTarget, mainStatAssumptionLevel, useExcludedArts, useEquippedArts, builds, buildDate, maxBuildsToShow, plotBase, compareBuild, levelLow, levelHigh }\n  }\n\n  if (!conditional)\n    conditional = {}\n  if (!team)\n    team = [\"\", \"\", \"\"]\n\n  if (typeof compareData !== \"boolean\") compareData = false\n\n  // TODO: validate bonusStats\n  if (typeof bonusStats !== \"object\" || !Object.entries(bonusStats).map(([_, num]) => typeof num === \"number\")) bonusStats = {}\n  if (typeof enemyOverride !== \"object\" || !Object.entries(enemyOverride).map(([_, num]) => typeof num === \"number\")) enemyOverride = {}\n  const result: ICharacter = {\n    key: characterKey, level, ascension, hitMode, reactionMode, conditional,\n    bonusStats, enemyOverride, talent, infusionAura, constellation, team, compareData\n  }\n  if (buildSettings) result.buildSettings = buildSettings\n  if (elementKey) result.elementKey = elementKey\n  return result\n}\n/// Return a new flex character from given character. All extra keys are removed\nexport function removeCharacterCache(char: ICachedCharacter): ICharacter {\n  const {\n    key: characterKey, level, ascension, hitMode, elementKey, reactionMode, conditional,\n    bonusStats, enemyOverride, talent, infusionAura, constellation, buildSettings, team, compareData\n  } = char\n  const result: ICharacter = {\n    key: characterKey, level, ascension, hitMode, reactionMode, conditional,\n    bonusStats, enemyOverride, talent, infusionAura, constellation, buildSettings, team, compareData\n  }\n  if (elementKey) result.elementKey = elementKey\n  return result\n}\n\nexport function validateWeapon(flex: IWeapon, id: string): ICachedWeapon {\n  //TODO: weapon validation\n  return { ...flex, id }\n}\nexport function parseWeapon(obj: any): IWeapon | undefined {\n  if (typeof obj !== \"object\") return\n\n  let { key, level, ascension, refinement, location, lock } = obj\n  if (!allWeaponKeys.includes(key)) return\n  if (typeof level !== \"number\" || level < 1 || level > 90) level = 1\n  if (typeof ascension !== \"number\" || ascension < 0 || ascension > 6) ascension = 0\n  // TODO: Check if level-ascension matches\n  if (typeof refinement !== \"number\" || refinement < 1 || refinement > 5) refinement = 1\n  if (!allCharacterKeys.includes(location)) location = \"\"\n\n  return { key, level, ascension, refinement, location, lock }\n}\n/// Return a new flex character from given character. All extra keys are removed\nexport function removeWeaponCache(weapon: ICachedWeapon): IWeapon {\n  const { key, level, ascension, refinement, location, lock } = weapon\n  return { key, level, ascension, refinement, location, lock }\n}\n","export const getRandomElementFromArray = <T>(array: readonly T[]): T => array[Math.floor(Math.random() * array.length)];\nexport function getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n}\nexport function getRandomIntInclusive(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1) + min); //The maximum is inclusive and the minimum is inclusive\n}\nexport function getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\n/**\n * Assumes that the object entries are all primitives + objects\n * shallow copy the object,\n * deep copy the\n * @param obj\n * @returns\n */\nexport function deepClone<T>(obj: T): T {\n  if (!obj) return obj\n  if (!Object.keys(obj).length) return {} as T\n  const ret = { ...obj }\n  Object.entries(obj).forEach(([k, v]: any) => {\n    if (typeof v !== \"object\") return\n    ret[k] = JSON.parse(JSON.stringify(v))\n  })\n  return ret\n}\n\nexport const clamp = (val, low, high) => {\n  if (val < low) return low;\n  if (val > high) return high;\n  return val\n}\nexport const getArrLastElement = (arr) =>\n  arr.length ? arr[arr.length - 1] : null\n\nexport const clamp01 = (val) => clamp(val, 0, 1)\nexport const clampPercent = (val) => clamp(val, 0, 100)\n\n//use to pretty print timestamps, or anything really.\nexport function strPadLeft(string, pad, length) {\n  return (new Array(length + 1).join(pad) + string).slice(-length);\n}\n\n//fuzzy compare strings. longer the distance, the higher the mismatch.\nexport function hammingDistance(str1, str2) {\n  var dist = 0;\n  str1 = str1.toLowerCase();\n  str2 = str2.toLowerCase();\n  for (var i = 0, j = Math.max(str1.length, str2.length); i < j; i++) {\n    let match = true\n    if (!str1[i] || !str2[i] || str1[i] !== str2[i])\n      match = false\n    if (str1[i - 1] === str2[i] || str1[i + 1] === str2[i])\n      match = true\n    if (!match) dist++\n  }\n  return dist;\n}\n\n//multiplies every numerical value in the obj by a multiplier.\nexport function objMultiplication(obj, multi) {\n  if (multi === 1) return obj\n  Object.keys(obj).forEach((prop: any) => {\n    if (typeof obj[prop] === \"object\") objMultiplication(obj[prop], multi)\n    if (typeof obj[prop] === \"number\") obj[prop] = obj[prop] * multi\n  })\n  return obj\n}\n\n//assign obj.[keys...] = value\nexport function layeredAssignment(obj, keys: readonly string[], value) {\n  keys.reduce((accu, key, i, arr) => {\n    if (i === arr.length - 1) return (accu[key] = value)\n    if (!accu[key]) accu[key] = {}\n    return accu[key]\n  }, obj)\n  return obj\n}\n//get the value in a nested object, giving array of path\nexport function objPathValue(obj: object | undefined, keys: readonly string[]): any {\n  if (!obj || !keys) return undefined;\n  !Array.isArray(keys) && console.error(keys)\n  return keys.reduce((a, k) => a?.[k], obj)\n}\n//delete the value denoted by the path. Will also delete empty objects as well.\nexport function deletePropPath(obj, path) {\n  const tempPath = [...path]\n  const lastKey = tempPath.pop()\n  const objPathed = objPathValue(obj, tempPath)\n  delete objPathed?.[lastKey];\n}\n\nexport function objClearEmpties(o) {\n  for (const k in o) {\n    if (typeof o[k] !== \"object\") continue\n    objClearEmpties(o[k])\n    if (!Object.keys(o[k]).length) delete o[k];\n  }\n}\nexport function crawlObject(obj, keys, validate, cb) {\n  if (validate(obj)) cb(obj, keys)\n  else obj && typeof obj === \"object\" && Object.entries(obj).forEach(([key, val]) => crawlObject(val, [...keys, key], validate, cb))\n}\n// const getObjectKeysRecursive = (obj) => Object.values(obj).reduce((a, prop) => typeof prop === \"object\" ? [...a, ...getObjectKeysRecursive(prop)] : a, Object.keys(obj))\nexport const getObjectKeysRecursive = (obj) => typeof obj === \"object\" ? Object.values(obj).flatMap(getObjectKeysRecursive).concat(Object.keys(obj)) : (typeof obj === \"string\" ? [obj] : [])\n\nexport function evalIfFunc<T, X>(value: T | ((arg: X) => T), arg: X): T {\n  return typeof value === \"function\" ? (value as any)(arg) : value\n}\n//fromEntries doesn't result in StrictDict, this is just a utility wrapper.\nexport function objectKeyMap<K extends string | number, V>(keys: readonly K[], map: (key: K, i: number) => V): StrictDict<`${K}`, V> {\n  return Object.fromEntries(keys.map((k, i) => [k, map(k, i)])) as any\n}\n//fromEntries doesn't result in StrictDict, this is just a utility wrapper.\nexport function objectKeyValueMap<T, K extends string | number, V>(items: readonly T[], map: (item: T) => [K, V]): StrictDict<`${K}`, V> {\n  return Object.fromEntries(items.map(t => map(t))) as any\n}\n\nexport function objectMap<K extends string, V, T>(obj: Partial<Record<K, V>>, fn: (value: V, key: `${K}`, index: number) => T): Partial<Record<K, T>>\nexport function objectMap<K extends string, V, T>(obj: Record<K, V>, fn: (value: V, key: `${K}`, index: number) => T): Record<K, T>\nexport function objectMap<K extends string, V, T>(obj: Partial<Record<K, V>>, fn: (value: V, key: `${K}`, index: number) => T): Partial<Record<K, T>> {\n  return Object.fromEntries(Object.entries(obj).map(\n    ([k, v], i) => [k, fn(v, k, i)]\n  )) as any\n}\n\nconst rangeGen = function* (from: number, to: number): Iterable<number> {\n  for (let i = from; i <= to; i++) yield i;\n};\n\nexport function range(from: number, to: number): number[] {\n  return [...rangeGen(from, to)]\n}\n\nexport function assertUnreachable(value: never): never {\n  throw new Error(`Should not reach this with value ${value}`)\n}\n","import { DBStorage } from \"./DBStorage\"\n\nexport function getDBVersion(storage: DBStorage) {\n  return parseInt(storage.getString('db_ver') ?? '0')\n}\nexport function setDBVersion(storage: DBStorage, version: number) {\n  storage.setString('db_ver', version.toString())\n}\n","export const hitTypes = { hit: \"DMG\", avgHit: \"Avg. DMG\", critHit: \"CRIT Hit DMG\" } as const\nexport const hitMoves = { normal: \"Normal Att.\", charged: \"Charged Att.\", plunging: \"Plunging Att.\", elemental: \"Elemental Att.\", skill: \"Ele. Skill\", burst: \"Ele. Burst\" } as const\nexport type HitMoveKey = keyof typeof hitMoves\nexport const transformativeReactions = {\n  overloaded: { name: \"Overloaded\", multi: 2, variants: [\"pyro\"] },\n  shattered: { name: \"Shattered\", multi: 1.5, variants: [\"physical\"] },\n  electrocharged: { name: \"Electro-Charged\", multi: 1.2, variants: [\"electro\"] },\n  superconduct: { name: \"Superconduct\", multi: 0.5, variants: [\"cryo\"] },\n  swirl: { name: \"Swirl\", multi: 0.6, variants: [\"pyro\", \"hydro\", \"electro\", \"cryo\"] },\n} as const\nexport type TransformativeReactionsKey = keyof typeof transformativeReactions\nexport const amplifyingReactions = {\n  vaporize: { name: \"Vaporize\", variants: { pyro: 1.5, hydro: 2 } },\n  melt: { name: \"Melt\", variants: { pyro: 2, cryo: 1.5 } },\n} as const\nexport type AmplifyingReactionsKey = keyof typeof amplifyingReactions\nexport const otherReactions = {\n  burning: \"Burning\",\n  crystalize: \"Crystalize\",\n} as const\n\n// https://github.com/Dimbreath/GenshinData/blob/72c9112a7c5e8e5014f61009a1a2764e266aeab7/ExcelBinOutput/ElementCoeffExcelConfigData.json\n//   or if the permalink is dead,\n// https://github.com/Dimbreath/GenshinData/blob/master/ExcelBinOutput/ElementCoeffExcelConfigData.json\n//\n// PlayerElementLevelCo\nexport const transformativeReactionLevelMultipliers = [-1.0, // lvl 0\n  17.165606, 18.535048, 19.904854, 21.274902, 22.6454, 24.649612, 26.640642, 28.868587, 31.36768, 34.143345, 37.201, 40.66, 44.446667, 48.56352, 53.74848, 59.081898, 64.420044, 69.72446, 75.12314, 80.58478, 86.11203, 91.70374, 97.24463, 102.812645, 108.40956, 113.20169, 118.102905, 122.97932, 129.72733, 136.29291, 142.67085, 149.02902, 155.41699, 161.8255, 169.10631, 176.51808, 184.07274, 191.70952, 199.55692, 207.38205, 215.3989, 224.16566, 233.50217, 243.35057, 256.06308, 268.5435, 281.52606, 295.01364, 309.0672, 323.6016, 336.75754, 350.5303, 364.4827, 378.61917, 398.6004, 416.39825, 434.387, 452.95105, 472.60623, 492.8849, 513.56854, 539.1032, 565.51056, 592.53876, 624.4434, 651.47015, 679.4968, 707.79407, 736.67145, 765.64026, 794.7734, 824.67737, 851.1578, 877.74207, 914.2291, 946.74677, 979.4114, 1011.223, 1044.7917, 1077.4437, 1109.9976, 1142.9766, 1176.3695, 1210.1844, 1253.8357, 1288.9528, 1325.4841, 1363.4569, 1405.0974, 1446.8535]\n// PlayerShieldLevelCo\nexport const crystalizeLevelMultipliers = [-1.0, // lvl 0\n  91.1791, 98.707664, 106.23622, 113.76477, 121.29332, 128.82188, 136.35042, 143.87898, 151.40752, 158.93608, 169.99149, 181.07625, 192.19037, 204.0482, 215.939, 227.86275, 247.68594, 267.5421, 287.4312, 303.82642, 320.22522, 336.62762, 352.31927, 368.01093, 383.70255, 394.43237, 405.18146, 415.94992, 426.73764, 437.5447, 450.6, 463.7003, 476.84558, 491.1275, 502.55457, 514.0121, 531.4096, 549.9796, 568.5849, 584.9965, 605.67035, 626.3862, 646.0523, 665.7556, 685.4961, 700.8394, 723.3331, 745.8653, 768.4357, 786.79193, 809.5388, 832.32904, 855.16266, 878.0396, 899.4848, 919.362, 946.0396, 974.7642, 1003.5786, 1030.077, 1056.635, 1085.2463, 1113.9244, 1149.2587, 1178.0648, 1200.2238, 1227.6603, 1257.243, 1284.9174, 1314.7529, 1342.6652, 1372.7524, 1396.321, 1427.3124, 1458.3745, 1482.3358, 1511.9109, 1541.5493, 1569.1537, 1596.8143, 1622.4197, 1648.074, 1666.3761, 1684.6782, 1702.9803, 1726.1047, 1754.6715, 1785.8666, 1817.1375, 1851.0603]\n","\nexport const ascensionMaxLevel = [20, 40, 50, 60, 70, 80, 90] as const\nexport const ambiguousLevel = (level) => level !== 90 && ascensionMaxLevel.includes(level)\nexport const milestoneLevels = [\n  [90, 6],\n  [80, 6],\n  [80, 5],\n  [70, 5],\n  [70, 4],\n  [60, 4],\n  [60, 3],\n  [50, 3],\n  [50, 2],\n  [40, 2],\n  [40, 1],\n  [20, 1],\n  [20, 0],\n  [1, 0]\n] as const","import { styled } from \"@mui/material\";\n\n\nconst ColorText = styled(\"span\")(({ theme, color }) => {\n  if (color && theme.palette[color])\n    return { color: theme.palette[color].main }\n  return {}\n})\n\nexport default ColorText","import { MainStatKey } from '../../Types/artifact';\nimport { Rarity, SlotKey } from '../../Types/consts'\n\nconst ArtifactSubstatRollData: StrictDict<Rarity, { low: number, high: number, numUpgrades: number }> = {\n  1: { low: 0, high: 0, numUpgrades: 1 },\n  2: { low: 0, high: 1, numUpgrades: 2 },\n  3: { low: 1, high: 2, numUpgrades: 3 },\n  4: { low: 2, high: 3, numUpgrades: 4 },\n  5: { low: 3, high: 4, numUpgrades: 5 }\n};\n\nconst ArtifactSlotsData: StrictDict<SlotKey, { name: string, stats: readonly MainStatKey[] }> = {\n  flower: { name: \"Flower of Life\", stats: [\"hp\"] },\n  plume: { name: \"Plume of Death\", stats: [\"atk\"] },\n  sands: { name: \"Sands of Eon\", stats: [\"hp_\", \"def_\", \"atk_\", \"eleMas\", \"enerRech_\"] },\n  goblet: { name: \"Goblet of Eonothem\", stats: [\"hp_\", \"def_\", \"atk_\", \"eleMas\", \"physical_dmg_\", \"anemo_dmg_\", \"geo_dmg_\", \"electro_dmg_\", \"hydro_dmg_\", \"pyro_dmg_\", \"cryo_dmg_\",] },\n  circlet: { name: \"Circlet of Logos\", stats: [\"hp_\", \"def_\", \"atk_\", \"eleMas\", \"critRate_\", \"critDMG_\", \"heal_\"] },\n};\n\nexport {\n  ArtifactSlotsData,\n  ArtifactSubstatRollData as ArtifactStarsData,\n};\n","import { ArtifactSlotsData, ArtifactStarsData } from './ArtifactData';\nimport { allSubstats, ICachedArtifact, MainStatKey, SubstatKey } from '../../Types/artifact';\nimport { allRarities, allSlotKeys, ArtifactRarity, ArtifactSetKey, Rarity, SlotKey } from '../../Types/consts';\nimport { valueString } from '../../Util/UIUtil';\nimport { clampPercent, objectKeyMap } from '../../Util/Util';\nimport ArtifactMainStatsData from './artifact_main_gen.json';\nimport ArtifactSubstatsData from './artifact_sub_gen.json';\nimport ArtifactSubstatLookupTable from './artifact_sub_rolls_gen.json';\n\nconst maxStar: Rarity = 5\n\nexport default class Artifact {\n  //do not instantiate.\n  constructor() { if (this instanceof Artifact) throw Error('A static class cannot be instantiated.'); }\n\n  //SLOT\n  static slotName = (slotKey: SlotKey): string =>\n    ArtifactSlotsData[slotKey].name\n  static slotMainStats = (slotKey: SlotKey): readonly MainStatKey[] =>\n    ArtifactSlotsData[slotKey].stats\n\n  static splitArtifactsBySlot = (databaseObj: ICachedArtifact[]) =>\n    objectKeyMap(allSlotKeys, slotKey => databaseObj.filter(art => art.slotKey === slotKey))\n\n  //MAIN STATS\n  static mainStatValues = (numStar: Rarity, statKey: MainStatKey): readonly number[] => {\n    if (statKey.endsWith('_')) // TODO: % CONVERSION\n      return ArtifactMainStatsData[numStar][statKey].map(k => k * 100)\n    return ArtifactMainStatsData[numStar][statKey]\n  }\n  static mainStatValue = (key: MainStatKey, rarity: Rarity, level: number): number =>\n    Artifact.mainStatValues(rarity, key)[level]\n\n  //SUBSTATS\n  static rollInfo = (rarity: Rarity): { low: number, high: number, numUpgrades: number } =>\n    ArtifactStarsData[rarity]\n\n  static maxSubstatValues = (substatKey: SubstatKey, rarity = maxStar): number => {\n    if (substatKey.endsWith(\"_\")) // TODO: % CONVERSION\n      return Math.max(...ArtifactSubstatsData[rarity][substatKey]) * 100\n    return Math.max(...ArtifactSubstatsData[rarity][substatKey])\n  }\n\n  static maxSubstatRollEfficiency = objectKeyMap(allRarities,\n    rarity => 100 * Math.max(...allSubstats.map(substat =>\n      Artifact.maxSubstatValues(substat, rarity) /\n      Artifact.maxSubstatValues(substat, maxStar))))\n  /**\n   * @deprecated just use the global\n   * @returns\n   */\n  static getSubstatKeys = (): readonly SubstatKey[] =>\n    allSubstats\n  static totalPossibleRolls = (rarity: Rarity): number =>\n    ArtifactStarsData[rarity].high + ArtifactStarsData[rarity].numUpgrades\n  static rollsRemaining = (level: number, rarity: Rarity) =>\n    Math.ceil((rarity * 4 - level) / 4)\n  static getSubstatRollData = (substatKey: SubstatKey, rarity: Rarity) => {\n    if (substatKey.endsWith(\"_\")) // TODO: % CONVERSION\n      return ArtifactSubstatsData[rarity][substatKey].map(v => v * 100)\n    return ArtifactSubstatsData[rarity][substatKey]\n  }\n\n  static getSubstatRolls = (substatKey: SubstatKey, substatValue: number, rarity: ArtifactRarity): number[][] => {\n    const rollData = Artifact.getSubstatRollData(substatKey, rarity)\n    const table = ArtifactSubstatLookupTable[rarity][substatKey]\n    const lookupValue = valueString(substatValue, substatKey.endsWith(\"_\") ? \"%\" : \"\")\n    return table[lookupValue]?.map(roll => roll.map(i => rollData[i])) ?? []\n  }\n  static getSubstatEfficiency = (substatKey: SubstatKey | \"\", rolls: number[]): number => {\n    const sum = rolls.reduce((a, b) => a + b, 0)\n    const max = substatKey ? Artifact.maxSubstatValues(substatKey) * rolls.length : 0\n    return max ? clampPercent((sum / max) * 100) : 0\n  }\n\n  //ARTIFACT IN GENERAL\n  static getArtifactEfficiency(artifact: ICachedArtifact, filter: Set<SubstatKey>): { currentEfficiency: number, maxEfficiency: number } {\n    const { substats, rarity, level } = artifact\n    // Relative to max star, so comparison between different * makes sense.\n    const totalRolls = Artifact.totalPossibleRolls(maxStar);\n    const current = substats.filter(({ key }) => key && filter.has(key)).reduce((sum, { rolls, efficiency }) => sum + ((efficiency ?? 0) * (rolls?.length ?? 0)), 0)\n\n    const rollsRemaining = Artifact.rollsRemaining(level, rarity);\n    const emptySlotCount = substats.filter(s => !s.key).length\n    const matchedSlotCount = substats.filter(s => s.key && filter.has(s.key)).length\n    const unusedFilterCount = filter.size - matchedSlotCount\n    let maximum\n    if (emptySlotCount && unusedFilterCount) maximum = current + Artifact.maxSubstatRollEfficiency[rarity] * rollsRemaining // Rolls into good empty slot\n    else if (matchedSlotCount) maximum = current + Artifact.maxSubstatRollEfficiency[rarity] * (rollsRemaining - emptySlotCount) // Rolls into existing matched slot\n    else maximum = current // No possible roll\n\n    const currentEfficiency = current / totalRolls\n    const maxEfficiency = maximum / totalRolls\n    return { currentEfficiency, maxEfficiency }\n  }\n\n  //start with {slotKey:art} end with {setKey:[slotKey]}\n  static setToSlots = (artifacts: Dict<SlotKey, ICachedArtifact>): Dict<ArtifactSetKey, SlotKey[]> => {\n    const setToSlots: Dict<ArtifactSetKey, SlotKey[]> = {};\n    Object.entries(artifacts).forEach(([key, art]) => {\n      if (!art) return\n      if (setToSlots[art.setKey]) setToSlots[art.setKey]!.push(key)\n      else setToSlots[art.setKey] = [key]\n    })\n    return setToSlots\n  }\n}\n","import { ArtifactRarity, ArtifactSetKey, CharacterKey, ElementKey, SetNum, SlotKey } from \"./consts\";\nimport { BonusStats, BasicStats } from \"./stats\";\nimport { DocumentSection } from \"./character\";\n\n/**\n * @deprecated\n */\nexport interface IArtifactSheet {\n  name: string, // only to stored the English name for OCR, otherwise, should come from localization pipeline\n  rarity: readonly ArtifactRarity[],\n  icons: Dict<SlotKey, string>,\n  setEffects: Dict<SetNum, SetEffectEntry>\n}\nexport interface SetEffectEntry {\n  stats?: BonusStats | ((stats: BasicStats) => BonusStats)\n  document?: DocumentSection[],\n}\n\nexport interface IArtifact {\n  setKey: ArtifactSetKey,\n  slotKey: SlotKey,\n  level: number,\n  rarity: ArtifactRarity,\n  mainStatKey: MainStatKey,\n  location: CharacterKey | \"\",\n  lock: boolean,\n  substats: ISubstat[],\n\n  // GO-specific\n  exclude: boolean,\n}\nexport interface ICachedArtifact extends IArtifact {\n  id: string,\n  mainStatVal: number,\n  substats: ICachedSubstat[],\n}\n\nexport interface ISubstat {\n  key: SubstatKey | \"\"\n  value: number\n}\nexport interface ICachedSubstat extends ISubstat {\n  rolls: number[],\n  efficiency: number,\n}\n/**\n * @deprecated use values in KeyMap\n */\nexport type StatKey = MainStatKey | SubstatKey | ReactionDMGStatKey | MoveDMGStatKey | ElementalRESStatKey | ElementalEnemyRESStatKey | SpecializedStatKey\n\ntype ElementalRESStatKey = `${ElementKey | \"physical\"}_res_`\ntype ElementalEnemyRESStatKey = `${ElementKey | \"physical\"}_enemyRes_`\ntype ReactionDMGStatKey = \"overloaded_dmg_\" | \"shattered_dmg_\" | \"electrocharged_dmg_\" | \"superconduct_dmg_\" | \"swirl_dmg_\" | \"vaporize_dmg_\" | \"melt_dmg_\" | \"burning_dmg_\" | \"crystalize_dmg_\"\ntype MoveDMGStatKey = \"normal_dmg_\" | \"charged_dmg_\" | \"skill_dmg_\" | \"burst_dmg_\"\n\nexport const allMainStatKeys = [\"hp\", \"hp_\", \"atk\", \"atk_\", \"def_\", \"eleMas\", \"enerRech_\", \"critRate_\", \"critDMG_\", \"physical_dmg_\", \"anemo_dmg_\", \"geo_dmg_\", \"electro_dmg_\", \"hydro_dmg_\", \"pyro_dmg_\", \"cryo_dmg_\", \"heal_\"] as const\nexport const allSubstats = [\"hp\", \"hp_\", \"atk\", \"atk_\", \"def_\", \"def\", \"eleMas\", \"enerRech_\", \"critRate_\", \"critDMG_\",] as const\n\n// TODO: Check if these actually applies\n// TODO: do these belong here?\ntype SpecializedStatKey = \"normal_critRate_\" | \"charged_critRate_\" | \"skill_critRate_\" | \"burst_critRate_\" | \"plunging_dmg_\" | \"shield_\" | \"enemyDEFRed_\" | \"skillCDRed_\" | \"incHeal_\" | \"weakspotDMG_\" | \"dmg_\" | \"moveSPD_\" | \"staminaDec_\" | \"atkSPD_\" | \"cdRed_\" | \"finalHP\" | \"finalATK\" | \"finalDEF\" | \"staminaGlidingDec_\" | \"staminaSprintDec_\" | \"staminaChargedDec_\" | \"autoBoost\" | \"skillBoost\" | \"burstBoost\"\n\nexport type MainStatKey = typeof allMainStatKeys[number]\nexport type SubstatKey = typeof allSubstats[number]\n","import { BuildSetting } from \"../Types/Build\";\n\nexport const initialBuildSettings = (): BuildSetting => ({\n  setFilters: [{ key: \"\", num: 0 }, { key: \"\", num: 0 }, { key: \"\", num: 0 }],\n  statFilters: {},\n  mainStatKeys: { sands: [], goblet: [], circlet: [] },\n  optimizationTarget: undefined,\n  mainStatAssumptionLevel: 0,\n  useExcludedArts: false,\n  useEquippedArts: false,\n  builds: [],\n  buildDate: 0,\n  maxBuildsToShow: 5,\n  plotBase: \"\",\n  compareBuild: true,\n  levelLow: 0,\n  levelHigh: 20,\n})\n","// Elements\nexport const faAnemo = {\n\tprefix: 'faga',\n\ticonName: \"anemo\",\n\ticon: [\n\t\t14, 13.857,\n\t\t[],\n\t\tnull,\n\t\t\"M.2,4.834c.764,1.2,1.813,2.475,3.362,2.434,1.025-.067,2.374.224,2.679,1.359.313.865-.825,1.982-1.513,1.124-.108-.187-.039-.3.173-.326,1,.021,1.348-1.12.4-1.513-.813-.1-1.548.527-2.329.707C.791,9.247-.524,6.656.2,4.834Zm9.912,2.429c-1.056-.074-2.449.563-2.375,1.786a.973.973,0,0,0,1.1.984c.316.013.724-.546.294-.612-1.621,0-1.022-2.1.346-1.4a5.222,5.222,0,0,0,2.343.687c1.8-.177,2.572-2.3,1.989-3.859C12.938,6.152,11.852,7.446,10.112,7.263Zm-2.42-.772A7.516,7.516,0,0,0,9.918,5.63,3.067,3.067,0,0,0,9.286.018,5.143,5.143,0,0,1,7.692,6.491ZM6.349,6.477A5.071,5.071,0,0,1,4.734,0,3.075,3.075,0,0,0,3.612,5.287a7.944,7.944,0,0,0,2.7,1.235Zm5.342-.089c-1.143.656-2.594.363-3.651,1.217a1.557,1.557,0,0,0,.07,2.768c.234.1.462.206.689.014.223-.167.4-.162.721-.012a9.094,9.094,0,0,0-2.513,3.482,9.217,9.217,0,0,0-2.523-3.478.605.605,0,0,1,.726,0c.6.347,1.443-.4,1.555-1C7.012,8.2,5.829,7.273,4.783,7.049c-.512-.121-1.038-.182-1.55-.3C.866,6.266.51,3.868,1.669,2.034c.668,4.9,4,3.555,5.332,6.26,1.321-2.671,4.678-1.382,5.345-6.261C13.157,3.449,13.4,5.556,11.691,6.388Zm-4.12,5.191L7,11.2l-.572.385.58.972ZM7,10.066a1.592,1.592,0,0,1-1,.911.925.925,0,0,0,.991-.272c.426.327.794.417,1.046.255A1.561,1.561,0,0,1,7,10.066Z\"\n\t]\n} as const\n\nexport const faCryo = {\n\tprefix: 'faga',\n\ticonName: \"cryo\",\n\ticon: [\n\t\t12.086, 14,\n\t\t[],\n\t\tnull,\n\t\t\"M0,3.52A19.776,19.776,0,0,1,1.911,6.8a6.152,6.152,0,0,0,.128-.624A6.476,6.476,0,0,1,5.5,6.7,6.479,6.479,0,0,1,3.316,3.96a6.308,6.308,0,0,0,.477-.423A19.8,19.8,0,0,1,0,3.52ZM4.411,6.067a7.469,7.469,0,0,0-2.4-.573,3.548,3.548,0,0,0-.2-.933h0a3.559,3.559,0,0,0,.909-.289A7.478,7.478,0,0,0,4.411,6.067ZM0,10.48A19.776,19.776,0,0,0,1.911,7.2a6.152,6.152,0,0,1,.128.624A6.476,6.476,0,0,0,5.5,7.3,6.479,6.479,0,0,0,3.316,10.04a6.308,6.308,0,0,1,.477.423A19.8,19.8,0,0,0,0,10.48ZM4.411,7.933a7.469,7.469,0,0,1-2.4.573,3.548,3.548,0,0,1-.2.933h0a3.559,3.559,0,0,1,.909.289A7.478,7.478,0,0,1,4.411,7.933ZM6.043,14a19.768,19.768,0,0,0-1.882-3.293,6.161,6.161,0,0,1,.605.2A6.467,6.467,0,0,0,6.043,7.649,6.478,6.478,0,0,0,7.32,10.908a6.251,6.251,0,0,1,.6-.2A19.768,19.768,0,0,0,6.043,14Zm0-5.094a7.461,7.461,0,0,1-.7,2.368,3.577,3.577,0,0,1,.705.643h0a3.561,3.561,0,0,1,.706-.643A7.48,7.48,0,0,1,6.043,8.906Zm6.043,1.574A19.85,19.85,0,0,1,10.175,7.2a6.215,6.215,0,0,0-.127.624A6.479,6.479,0,0,1,6.586,7.3,6.486,6.486,0,0,1,8.771,10.04a6.112,6.112,0,0,0-.477.423A19.783,19.783,0,0,1,12.086,10.48ZM7.675,7.933a7.473,7.473,0,0,0,2.4.573,3.548,3.548,0,0,0,.2.933h0a3.562,3.562,0,0,0-.91.289A7.478,7.478,0,0,0,7.675,7.933ZM12.086,3.52A19.85,19.85,0,0,0,10.175,6.8a6.215,6.215,0,0,1-.127-.624A6.479,6.479,0,0,0,6.586,6.7,6.486,6.486,0,0,0,8.771,3.96a6.112,6.112,0,0,1-.477-.423A19.783,19.783,0,0,0,12.086,3.52ZM7.675,6.067a7.473,7.473,0,0,1,2.4-.573,3.548,3.548,0,0,1,.2-.933h0a3.562,3.562,0,0,1-.91-.289A7.478,7.478,0,0,1,7.675,6.067ZM6.043,0A19.768,19.768,0,0,1,4.161,3.293a6.161,6.161,0,0,0,.605-.2A6.467,6.467,0,0,1,6.043,6.351,6.478,6.478,0,0,1,7.32,3.092a6.251,6.251,0,0,0,.6.2A19.768,19.768,0,0,1,6.043,0Zm0,5.094a7.461,7.461,0,0,0-.7-2.368,3.577,3.577,0,0,0,.705-.643h0a3.561,3.561,0,0,0,.706.643A7.48,7.48,0,0,0,6.043,5.094Zm.1,2.038,1.044.92-.071.817-.744-.347L6.1,7.157a.163.163,0,0,1-.115,0L5.711,8.522l-.743.347L4.9,8.052l1.044-.92a.165.165,0,0,1-.062-.1l-1.314.443-.672-.471.672-.47,1.312.442a.17.17,0,0,1,.056-.1L4.9,5.961l.071-.817.743.347.272,1.352a.166.166,0,0,1,.12,0l.272-1.352.744-.347.071.817-1.037.913a.165.165,0,0,1,.056.1l1.313-.442.672.47-.672.471L6.208,7.034A.165.165,0,0,1,6.146,7.132Z\"\n\t]\n} as const\n\nexport const faDendro = {\n\tprefix: 'faga',\n\ticonName: \"dengro\",\n\ticon: [\n\t\t14, 13.314,\n\t\t[],\n\t\tnull,\n\t\t\"M10.956,7.949c-1.242-.339-2.145.509-3.174,1.065.5-.835,1.613-1.371,1.588-2.466A1.122,1.122,0,0,0,8.041,5.379c.741-1.764,3.98.034,2.174,1.958C10.518,7.478,10.839,7.589,10.956,7.949Zm-7.919,0c1.242-.339,2.144.509,3.173,1.065-.5-.835-1.613-1.371-1.587-2.466A1.121,1.121,0,0,1,5.952,5.379c-.742-1.764-3.98.034-2.174,1.958C3.474,7.478,3.153,7.589,3.037,7.949ZM7,11.38C6.11,9.815,4.008,9.887,2.989,8.436.769,5.889,4.028,2.245,6.5,4.573c.88-1.994-3.2-1.85-4.069-.59-.1-.709-.187-1.217-.962-1.305C1.3,2.692.355,2.473.452,2.737c.37,1.113.5,1.67,1.824,1.4a4.167,4.167,0,0,0-.731,3.139C.825,6.681.636,6.927,0,7.46c1.239,1.223,1.412-.3,1.632.133C2.207,10.851,5.976,10.376,7,13.314c1.023-2.936,4.794-2.465,5.368-5.721.22-.429.393,1.09,1.632-.133-.636-.533-.825-.779-1.545-.186a4.167,4.167,0,0,0-.731-3.139c1.328.272,1.454-.285,1.824-1.4.1-.264-.852-.045-1.015-.059-.775.088-.859.6-.962,1.3-.864-1.26-4.95-1.4-4.07.591C9.969,2.245,13.235,5.89,11.01,8.437,9.992,9.887,7.89,9.815,7,11.38M7.007,0C5.986,1.347,5.175,2.309,6.993,3.6,8.792,2.311,8.083,1.485,7.007,0Z\"\n\t]\n} as const\n\nexport const faElectro = {\n\tprefix: 'faga',\n\ticonName: \"electro\",\n\ticon: [\n\t\t14, 13.996,\n\t\t[],\n\t\tnull,\n\t\t\"M4.533,13.505a6.911,6.911,0,0,0,3.024-.468c-.237-.073-.459-.134-.675-.209s-.432-.159-.643-.252A3.907,3.907,0,0,1,4,10.333a3.449,3.449,0,0,1-.128-1.82c.117.139.222.277.341.4a1.044,1.044,0,0,0,1.01.32A1.571,1.571,0,0,0,6.5,7.879a2.422,2.422,0,0,0-2.083-2.8A2.993,2.993,0,0,0,1.2,7.231,7.083,7.083,0,0,0,.874,9.417c-.005.309,0,.618,0,.9A7.089,7.089,0,0,1,.012,6.581,6.949,6.949,0,0,1,2.691,1.5c-.26.472-.519.917-.752,1.374a3.664,3.664,0,0,0-.412,1.521c.207-.193.385-.361.566-.524A4.657,4.657,0,0,1,4.248,2.71,3.573,3.573,0,0,1,7.323,3.5l-.442.09A1.213,1.213,0,0,0,6,5.283,2.008,2.008,0,0,0,7.719,6.624a2.575,2.575,0,0,0,2.873-2.561,3.33,3.33,0,0,0-1.1-2.508A7.781,7.781,0,0,0,7.289.09C7.237.066,7.185.039,7.108,0A7,7,0,0,1,14,5.915c-.282-.45-.544-.9-.836-1.328A3.743,3.743,0,0,0,12.055,3.5c.079.371.171.721.226,1.077a4.086,4.086,0,0,1-.792,3.364A3.554,3.554,0,0,1,9.98,8.958a.115.115,0,0,1-.049,0c.062-.2.134-.389.184-.587A1.091,1.091,0,0,0,9.59,7.135a1.68,1.68,0,0,0-1.765-.046A2.357,2.357,0,0,0,6.657,10.05a2.745,2.745,0,0,0,2.377,1.878,4.373,4.373,0,0,0,2.462-.5c.465-.215.9-.5,1.344-.759.056-.032.108-.071.18-.119A6.922,6.922,0,0,1,4.533,13.505Z\"\n\t]\n} as const\n\nexport const faGeo = {\n\tprefix: 'faga',\n\ticonName: \"geo\",\n\ticon: [\n\t\t13.029, 14,\n\t\t[],\n\t\tnull,\n\t\t\"M6.633,6.009c-.5.538-.953,1.041-1.42,1.537a.23.23,0,0,0-.061.286A4.5,4.5,0,0,0,6.507,9.551a.181.181,0,0,0,.164-.009c.388-.257.785-.5,1.151-.788A16.081,16.081,0,0,0,9.963,6.761c.181.366.382.7.518,1.063.2.535.356,1.088.535,1.632a.293.293,0,0,1-.061.286,12.277,12.277,0,0,1-1.768,1.985c-.839.755-1.714,1.47-2.574,2.2A1.2,1.2,0,0,1,6.505,14c-.5-.411-1.02-.817-1.519-1.243A29.249,29.249,0,0,1,2.138,9.983,16.778,16.778,0,0,1,.043,7.137a.245.245,0,0,1,0-.279A10.138,10.138,0,0,1,1.389,5.1a25.247,25.247,0,0,0,5.158,8.241,12.37,12.37,0,0,0,2.98-4.617l-.036-.03L6.558,11.157c-.04-.032-.081-.061-.117-.1A13.544,13.544,0,0,1,3.879,7.693a.249.249,0,0,1,.051-.356c.5-.442,1-.89,1.5-1.325.226-.194.473-.365.736-.566Zm.228,2.545c.263-.2.51-.372.736-.566.506-.435,1-.883,1.5-1.325a.251.251,0,0,0,.051-.356A13.523,13.523,0,0,0,6.588,2.938c-.036-.034-.077-.063-.116-.1L3.539,5.306,3.5,5.276A12.345,12.345,0,0,1,6.483.659,25.245,25.245,0,0,1,11.64,8.9a10.138,10.138,0,0,0,1.345-1.758.244.244,0,0,0,0-.279,16.724,16.724,0,0,0-2.1-2.846A29.136,29.136,0,0,0,8.043,1.243C7.545.817,7.028.411,6.524,0c-.05.033-.082.049-.108.071-.86.732-1.734,1.447-2.573,2.2A12.23,12.23,0,0,0,2.075,4.258a.293.293,0,0,0-.062.286c.179.544.334,1.1.536,1.632.136.361.336.7.517,1.063A16.2,16.2,0,0,1,5.207,5.246c.366-.285.764-.531,1.151-.788a.181.181,0,0,1,.164-.009A4.5,4.5,0,0,1,7.877,6.168a.231.231,0,0,1-.06.286c-.468.5-.926,1-1.421,1.537Z\"\n\t]\n} as const\n\nexport const faHydro = {\n\tprefix: 'faga',\n\ticonName: \"hydro\",\n\ticon: [\n\t\t14, 13.95,\n\t\t[],\n\t\tnull,\n\t\t\"M2.922,12.219c.108.055.181.092.253.13a7.943,7.943,0,0,0,3.891.963,3.753,3.753,0,0,0,.486-7.464,3.6,3.6,0,0,0-1.691.132.938.938,0,0,1-.716-1.732,4.3,4.3,0,0,1,1.481-.366,4.912,4.912,0,0,1,5.048,3.446,4.933,4.933,0,0,1-2.517,5.764c4.218-1.543,4.723-7.809.812-10.017a5.342,5.342,0,0,0-3.437-.829A5.506,5.506,0,0,0,2.883,4.021a6.606,6.606,0,0,0-.417.524.873.873,0,0,1-.927.337.929.929,0,0,1-.781-.638.881.881,0,0,1,.1-.684A6.158,6.158,0,0,1,2.221,1.839,7.091,7.091,0,0,1,6.135.055a6.933,6.933,0,0,1,6.848,3.359c2.683,4.1-.263,9.987-5.094,10.472a6.838,6.838,0,0,1-3.241-.343A3.994,3.994,0,0,1,2.922,12.219ZM8.438,12.1a2.044,2.044,0,0,1-2.35.064,1.5,1.5,0,0,1-.007-2.613.949.949,0,0,1,1.433.505c.77,2.06,2.637.147,1.424-1.246a2.385,2.385,0,0,0-2.17-.95,2.486,2.486,0,1,0,.784,4.891A2.393,2.393,0,0,0,9.073,11.6C8.862,11.766,8.663,11.951,8.438,12.1ZM2.21,9.495a.663.663,0,1,0,.663.663A.663.663,0,0,0,2.21,9.495ZM.958,6.107a.958.958,0,1,0,.957.957A.958.958,0,0,0,.958,6.107Z\"\n\t]\n} as const\n\nexport const faPyro = {\n\tprefix: 'faga',\n\ticonName: \"pyro\",\n\ticon: [\n\t\t11.479, 14,\n\t\t[],\n\t\tnull,\n\t\t\"M5.853,14C4.311,12.53,2.374,11.75.692,10.523c-1.471-1.1-.268-3.047.586-4.163A17.969,17.969,0,0,0,3.031,3.838c-.007,1.6,1.56,2.152,2.781,2.709C3.509,6.412,1.548,9.1,3.385,10.92c-1.873-.773-2.7-2.455-1.3-4.17a2.113,2.113,0,0,0-.535,3.662c1.332.9,2.865,1.483,4.153,2.461a.2.2,0,0,0,.187.019C7.13,12,8.5,11.315,9.811,10.543c1.654-.887,1.47-2.773-.154-3.583,1.455,2.82-1.213,4.942-3.9,4.745C2.832,11.491,2.676,8.531,5.131,9a1.39,1.39,0,0,0-.682,1.5c.526,1.495,2.954.974,3.81.031,1.095-1.027.327-3.031-.979-3.6-1.492-.7-4.443-1.527-3.3-3.737C4.676,2.109,5.49,1.385,5.617,0,6.05.581,7.06,1.719,6.857,2.452c-.24.72-1.085.982-1.348,1.71a1.334,1.334,0,0,0,.578,1.824c-1.018-1.09.09-2.409,1.15-2.981A3.3,3.3,0,0,0,8.373,7.061c-.725-1.6-1.347-1.64-.128-3.408a4.575,4.575,0,0,0,1.806,2.766c2.057,1.807,1.9,3.731-.521,5.067A16.689,16.689,0,0,0,5.853,14Zm.541-3.5C10.185,9.076,5.44,5.335,4.03,8.493,5.446,7.684,7.387,8.92,6.394,10.5Z\"\n\t]\n} as const\n// Elements End\n\n// DMG Bonus\nexport const faPhysicalDmgBonus = {\n\tprefix: 'faga',\n\ticonName: \"physicalDmgBonus\",\n\ticon: [\n\t\t14, 13.962,\n\t\t[],\n\t\tnull,\n\t\t\"M11.511,7.88,9.022,9.54v1.77l2.489-1.66L14,11.31V9.54Zm0,2.434-2.489,1.66v1.771l2.489-1.66L14,13.745V11.974ZM7.45,1.619l-.731.731a.228.228,0,0,0,0,.322l.837.837L.412,10.652a.458.458,0,0,0-.133.318A21.292,21.292,0,0,0,.04,13.922a21.435,21.435,0,0,0,2.952-.239.458.458,0,0,0,.318-.133l7.143-7.144c1.116,1.012.725,1.313,1.89.106a.228.228,0,0,0,0-.322L10.7,4.549l1.926-1.926c1.89.06,1.215.263,1.335-2.395A.228.228,0,0,0,13.734,0H11.542a.228.228,0,0,0-.228.219l.025,1.116L9.413,3.261,7.772,1.619A.228.228,0,0,0,7.45,1.619Z\"\n\t]\n} as const\n// DMG Bonus End\n\n// Base Stats\nexport const faAtk = {\n\tprefix: 'faga',\n\ticonName: \"Atk\",\n\ticon: [\n\t\t14, 13.977,\n\t\t[],\n\t\tnull,\n\t\t\"M7.78,1.621,9.423,3.264l1.928-1.927L11.326.219A.228.228,0,0,1,11.554,0h2.2a.228.228,0,0,1,.228.228c-.121,2.661.556,2.457-1.337,2.4L10.712,4.553,12.356,6.2a.228.228,0,0,1,0,.322c-1.167,1.208-.775.907-1.892-.106L3.313,13.564A.457.457,0,0,1,3,13.7a21.32,21.32,0,0,1-2.954.239,21.172,21.172,0,0,1,.238-2.954.451.451,0,0,1,.134-.318L7.564,3.513l-.838-.838a.229.229,0,0,1,0-.323l.732-.731A.228.228,0,0,1,7.78,1.621Z\"\n\t]\n} as const\n\nexport const faDef = {\n\tprefix: 'faga',\n\ticonName: \"Def\",\n\ticon: [\n\t\t12.883, 14,\n\t\t[],\n\t\tnull,\n\t\t\"M12.883.726a.291.291,0,0,0-.175-.268C12.3.286,10.944,0,6.442,0S.584.286.176.458A.291.291,0,0,0,0,.727v7.44a.868.868,0,0,0,.125.453c1.579,2.6,5.347,4.855,6.161,5.339a.292.292,0,0,0,.3,0c.789-.482,4.559-2.688,6.168-5.335a.868.868,0,0,0,.127-.455ZM6.441,11.968C6.5,11.981,2.882,9.951,1.617,7.6V1.565s0-.452,4.824-.452Z\"\n\t]\n} as const\n\nexport const faElementalMastery = {\n\tprefix: 'faga',\n\ticonName: \"ele_mas\",\n\ticon: [\n\t\t14, 13.113,\n\t\t[],\n\t\tnull,\n\t\t\"M8.076,7.71l-.017-.049A4.335,4.335,0,0,0,7.3,6.353a4.431,4.431,0,0,0-.325-.346A2.113,2.113,0,1,0,7,1.781a2.144,2.144,0,0,0-1.838,3.18,4.374,4.374,0,0,0-1.2-.168,4.42,4.42,0,0,0-.755.066l-.038.007C1.836-.682,10.7-2.114,10.962,3.9A3.985,3.985,0,0,1,8.076,7.71Zm3.662-2.137a3.949,3.949,0,0,0-.626-.235,4.473,4.473,0,0,1-1.105,1.7h.031A2.113,2.113,0,1,1,7.925,9.151,4.09,4.09,0,0,0,7.9,8.706,3.968,3.968,0,0,0,6.037,5.775l-.19-.11A3.963,3.963,0,1,0,6.492,12.2c.082-.068.16-.14.236-.214L6.7,11.949a4.367,4.367,0,0,1-.891-1.765A2.112,2.112,0,1,1,4.926,7.27q.1.051.189.111a2.111,2.111,0,0,1,.942,1.49,2.159,2.159,0,0,1,.018.28,3.963,3.963,0,1,0,5.663-3.578Z\"\n\t]\n} as const\n\n// Max-HP stacked SVG (primary = base shape, secondary = flair)\nexport const faHpPrimary = {\n\tprefix: 'faga',\n\ticonName: \"hp_primary\",\n\ticon: [\n\t\t11.104, 14,\n\t\t[],\n\t\tnull,\n\t\t\"M2.052,7.654A.978.978,0,0,1,2.5,7.083c1.511-.85,3.586,2.117,6.544.548C10.971,13.714.151,13.878,2.052,7.654ZM5.552,14C2.177,14-1.2,11.579.416,6.74A18.543,18.543,0,0,1,5.121.213.748.748,0,0,1,5.552,0a.751.751,0,0,1,.431.212A18.543,18.543,0,0,1,10.688,6.74C12.3,11.579,8.927,14,5.552,14Zm.22-12.19a.639.639,0,0,0-.22-.075h0a.649.649,0,0,0-.221.075c-1.71,1.324-4.08,5.282-3.941,7.4a4.019,4.019,0,0,0,4.162,3.543h0A4.019,4.019,0,0,0,9.714,9.215C9.853,7.092,7.483,3.134,5.772,1.81Z\"\n\t]\n} as const\n\nexport const faHpSecondary = {\n\tprefix: 'faga',\n\ticonName: \"hp_secondary\",\n\ticon: [\n\t\t11.104, 14,\n\t\t[],\n\t\tnull,\n\t\t\"M6.534,8.03A12.566,12.566,0,0,1,8.107,6.521c.569-.413.94,1.11.94,1.11A3.731,3.731,0,0,1,6.534,8.03Z\"\n\t]\n} as const\n// Max-HP stacked End\n\nexport const faMaxStamina = {\n\tprefix: 'faga',\n\ticonName: \"MaxStamina\",\n\ticon: [\n\t\t14, 10.365,\n\t\t[],\n\t\tnull,\n\t\t\"M13.924,6.541c-.152.207-1.292.3-1.292.3L9.77,6.948V8.564c0,.981-1.387,1.8-2.77,1.8s-2.77-.82-2.77-1.8V6.948L1.368,6.843s-1.14-.095-1.292-.3c-.239-.323.145-1.524.331-2.154.326-.865,1.284-3.21,1.885-3.119,1.115.17-.673,3.894.1,3.814A21.17,21.17,0,0,1,7,5a21.17,21.17,0,0,1,4.6.079c.777.08-1.011-3.644.1-3.814.6-.091,1.559,2.254,1.885,3.119C13.779,5.017,14.163,6.218,13.924,6.541ZM4.553,2.421a2.456,2.456,0,0,0,4.911,0A2.456,2.456,0,0,0,4.553,2.421Z\"\n\t]\n} as const\n\n// Base Stats End\n\n// Advanced Stats\n\n// CD Reducation stacked SVG (primary = base shape, secondary = flair)\nexport const faCdReductionPrimary = {\n\tprefix: 'faga',\n\ticonName: \"CdReduction_primary\",\n\ticon: [\n\t\t14, 14,\n\t\t[],\n\t\tnull,\n\t\t\"M14,7A7,7,0,0,1,2.986,12.733L5.333,9.381A2.907,2.907,0,1,0,7,4.092V0a7,7,0,0,1,7,7\"\n\t]\n} as const\n\nexport const faCdReductionSecondary = {\n\tprefix: 'faga',\n\ticonName: \"CdReduction_secondary\",\n\ticon: [\n\t\t14, 14,\n\t\t[],\n\t\tnull,\n\t\t\"M5.333,9.381,2.986,12.733A7,7,0,0,1,.356,4.8l4.054.881a2.905,2.905,0,0,0,.923,3.7Z\"\n\t]\n} as const\n// CD Reduction stacked end\n\nexport const faCritRate = {\n\tprefix: 'faga',\n\ticonName: \"CritRate\",\n\ticon: [\n\t\t14, 14,\n\t\t[],\n\t\tnull,\n\t\t\"M0,14,3.5,6.236,1.973,1.464,7.255,3.5,14,0,10.5,7.255l1.527,4.772L7.255,10.5,0,14\"\n\t]\n} as const\n\n// Energy Recharge stacked SVG (primary = base shape, secondary = flair) \nexport const faEnergyRechargePrimary = {\n\tprefix: 'faga',\n\ticonName: \"EnergyRecharge_primary\",\n\ticon: [\n\t\t14, 13.282,\n\t\t[],\n\t\tnull,\n\t\t\"M14,6.641A6.642,6.642,0,0,1,.928,8.3h0L0,8.737.961,4.8l.012.012L2.392,6.3l1.37,1.433-1.23.143A4.981,4.981,0,1,0,7.359,1.66V0A6.641,6.641,0,0,1,14,6.641Z\"\n\t]\n} as const\n\nexport const faEnergyRechargeSecondary = {\n\tprefix: 'faga',\n\ticonName: \"EnergyRecharge_secondary\",\n\ticon: [\n\t\t14, 13.282,\n\t\t[],\n\t\tnull,\n\t\t\"M2.392,6.3.973,4.813A6.643,6.643,0,0,1,7.359,0V1.66A4.98,4.98,0,0,0,2.392,6.3Z\"\n\t]\n} as const\n// Energy Recharge stacked end\n\nexport const faHealingBonus = {\n\tprefix: 'faga',\n\ticonName: \"HealingBonus\",\n\ticon: [\n\t\t14, 14,\n\t\t[],\n\t\tnull,\n\t\t\"M14,4.765v4.47a.589.589,0,0,1-.588.589H9.824v3.588A.589.589,0,0,1,9.235,14H4.765a.589.589,0,0,1-.589-.588V9.824H.588A.589.589,0,0,1,0,9.235V4.765a.589.589,0,0,1,.588-.589H4.176V.588A.589.589,0,0,1,4.765,0h4.47a.589.589,0,0,1,.589.588V4.176h3.588A.589.589,0,0,1,14,4.765Z\"\n\t]\n} as const\n\nexport const faShieldStrength = {\n\tprefix: 'faga',\n\ticonName: \"ShieldStrength\",\n\ticon: [\n\t\t12.883, 14,\n\t\t[],\n\t\tnull,\n\t\t\"M12.883.726a.291.291,0,0,0-.175-.268C12.3.286,10.944,0,6.442,0S.584.286.176.458A.291.291,0,0,0,0,.727v7.44a.868.868,0,0,0,.125.453c1.579,2.6,5.347,4.855,6.161,5.339a.292.292,0,0,0,.3,0c.789-.482,4.559-2.688,6.168-5.335a.868.868,0,0,0,.127-.455ZM5.136,10.773,6.182,7l-4-1,5.61-4.762L6.747,5.01l4,1Z\"\n\t]\n} as const\n// Advanced Stats End\n\n// Artifacts\nexport const faCirclet = {\n\tprefix: 'faga',\n\ticonName: \"Circlet\",\n\ticon: [\n\t\t14, 11.588,\n\t\t[],\n\t\tnull,\n\t\t\"M12.793,3.842l.269.269L10.5,5.93,7.269,2.158l.809-.809L7,0,5.922,1.349l.809.809L3.5,5.93.938,4.111l.269-.269L0,2.965,2.958,9.972,7,11.588l4.042-1.616L14,2.965ZM8.732,7.864l-.892.149a.673.673,0,0,0-.543.5l-.25,1a.048.048,0,0,1-.094,0l-.25-1a.673.673,0,0,0-.543-.5l-.892-.149a.049.049,0,0,1,0-.1l.892-.149a.673.673,0,0,0,.543-.5l.25-1a.048.048,0,0,1,.094,0l.25,1a.673.673,0,0,0,.543.5l.892.149A.049.049,0,0,1,8.732,7.864Z\"\n\t]\n} as const\n\nexport const faFlower = {\n\tprefix: 'faga',\n\ticonName: \"Flower\",\n\ticon: [\n\t\t14, 13.326,\n\t\t[],\n\t\tnull,\n\t\t\"M11.279,4.705a2.554,2.554,0,0,0-1.6.9C11.215,3.854,12.708.454,9.711.3c-.015-.115-.2-.387-.4-.276A5.942,5.942,0,0,0,7.2,4.742C6.705,2.18,4.078.459,3.016.769c-.207.324-.056.607-.261.793-.18.163-.58-.016-.619.249-.324,1.729.945,3.632,2.758,4.532C3.113,6.057.165,6.349,0,8.491,0,9.43,1.269,9.868,3.191,9.868A3.541,3.541,0,0,0,6.319,8.4c-2.541,2.727-.544,3.278,2.192,1.78,1.073-.621.8-1.4.027-2.295,1.395.853,3.755-.174,3.877-1.72C12.414,5.533,12.142,4.718,11.279,4.705ZM7.521,6.213a.5.5,0,0,1-.441.5l-.1.637L6.9,6.694A.5.5,0,0,1,6.538,6.1l-.467-.567.557.377a.5.5,0,0,1,.706-.086l.459-.381-.356.492A.5.5,0,0,1,7.521,6.213ZM14,8.089c-.519.249-.77,1.7-1.586,2.337a3.966,3.966,0,0,1-2.678.5,3.463,3.463,0,0,1-1.881,2.393.041.041,0,0,1-.05-.064,4.294,4.294,0,0,0,1-3.174A1.125,1.125,0,0,0,8.956,8.3c.344.065.828,1.348.876,2.125,0,0,1.857-1.178,2.355-1.37A6.666,6.666,0,0,0,9.877,10.3a5.933,5.933,0,0,1,1.269-1.5C11.757,8.271,13.548,8.252,14,8.089Z\"\n\t]\n} as const\n\nexport const faGoblet = {\n\tprefix: 'faga',\n\ticonName: \"Goblet\",\n\ticon: [\n\t\t14, 13.864,\n\t\t[],\n\t\tnull,\n\t\t\"M9.546,8.637c4.121-2.3,4.121-3.555,4.12-6.894H.428c0,3.339,0,4.59,4.12,6.894,0,1.75,1.739,1.28,1.739,2.187.076.765-.192,1.207-.567,1.275-1.21.167-3.368.939-3.383,1.765h9.42c-.015-.826-2.173-1.6-3.383-1.765-.374-.068-.644-.509-.567-1.275C7.807,9.917,9.546,10.387,9.546,8.637ZM7.461,5.723,7.113,7.116a.066.066,0,0,1-.066.052.066.066,0,0,1-.066-.052L6.633,5.723a.941.941,0,0,0-.757-.7L4.631,4.817a.068.068,0,0,1,0-.135l1.245-.207a.939.939,0,0,0,.757-.7l.348-1.393a.066.066,0,0,1,.066-.051.067.067,0,0,1,.066.051l.348,1.393a.939.939,0,0,0,.757.7l1.245.207a.068.068,0,0,1,0,.135l-1.245.207A.941.941,0,0,0,7.461,5.723Zm5.881-4.408H.658A.657.657,0,0,1,0,.658H0A.657.657,0,0,1,.658,0H13.342A.657.657,0,0,1,14,.658h0A.657.657,0,0,1,13.342,1.315Z\"\n\t]\n} as const\n\nexport const faPlume = {\n\tprefix: 'faga',\n\ticonName: \"Plume\",\n\ticon: [\n\t\t12.933, 14,\n\t\t[],\n\t\tnull,\n\t\t\"M11.809,0a4.52,4.52,0,0,0-1,.186,4.469,4.469,0,0,0-1.479.6c-.236.14-.241.324-.312.274a.717.717,0,0,0-.467-.033C5.117,3.737,5.04,3.893,3.285,6.494,3.171,6.54,3,6.384,3,6.384c-.059.546-.215.546-.526,1.168A2.75,2.75,0,0,0,2.1,9.588a2.49,2.49,0,0,1-.723-.245l.467.39a2.681,2.681,0,0,1-.934.078l.623.467s-.39.389-.546.389l.519.074A18.034,18.034,0,0,0,0,13.948.04.04,0,0,0,.045,14l.593-.3a.038.038,0,0,0,.02-.025,5.139,5.139,0,0,1,1.722-2.7l.479.549a1.881,1.881,0,0,1-.155-.779l.856.156c-.389-.39-.35-.56-.35-.56a4.067,4.067,0,0,0,1.6-.034,8.175,8.175,0,0,0,1.705-.865c.084-.04-.146-.082-.066-.124s.329-.095.413-.145A20.31,20.31,0,0,0,9.415,7.147a11.77,11.77,0,0,0,2.367-2.7c.043-.074-.36-.2-.526-.231.177.021.616.121.654.048a6.256,6.256,0,0,0,.86-2.34C12.826,1.245,13.449-.079,11.809,0ZM2.548,9.577C4.5,5.372,10.1,1.946,10.1,1.946,11.87.561,6.141,4.384,2.548,9.655Z\"\n\t]\n} as const\n\nexport const faSands = {\n\tprefix: 'faga',\n\ticonName: \"Sands\",\n\ticon: [\n\t\t9.822, 14,\n\t\t[],\n\t\tnull,\n\t\t\"M9.606,12.708H8.788v-.944c0-3.536-3.274-3.709-3.274-4.915V6.778a.855.855,0,0,1,.392-.72c.868-.56,2.773-1.311,2.877-3.895a.216.216,0,0,0-.215-.225H1.254a.217.217,0,0,0-.216.225c.1,2.584,2.009,3.335,2.877,3.9a.856.856,0,0,1,.393.72v.071c0,1.206-3.274,1.379-3.274,4.915v.944H.215A.215.215,0,0,0,0,12.923v.862A.215.215,0,0,0,.215,14H9.606a.216.216,0,0,0,.216-.215v-.862A.216.216,0,0,0,9.606,12.708Zm-4.695,0h-3.1c0-2.757,2.757-2.154,2.757-3.274V5.988S2.929,5.04,2.929,4.351H6.892c0,.689-1.637,1.637-1.637,1.637V9.434c0,1.12,2.757.517,2.757,3.274ZM9.822.215v.862a.216.216,0,0,1-.216.215H.215A.215.215,0,0,1,0,1.077V.215A.215.215,0,0,1,.215,0H9.606A.216.216,0,0,1,9.822.215Z\"\n\t]\n} as const\n// Artifacts End","export interface DBStorage {\n  keys: string[]\n  entries: [key: string, value: string][]\n\n  get(key: string): any | undefined\n  set(key: string, value: any): void\n\n  getString(key: string): string | undefined\n  setString(key: string, value: string): void\n  remove(key: string): void\n  removeForKeys(shouldRemove: (key: string) => boolean): void\n\n  copyFrom(other: DBStorage): void\n  clear(): void\n}\n\nexport class DBLocalStorage implements DBStorage {\n  private storage: Storage\n\n  constructor(storage: Storage) {\n    this.storage = storage\n  }\n\n  get keys(): string[] {\n    return Object.keys(this.storage)\n  }\n  get entries(): [key: string, value: string][] {\n    return Object.entries(this.storage)\n  }\n\n  get(key: string) {\n    const string = this.storage.getItem(key)\n    if (!string) return undefined\n    try {\n      return JSON.parse(string)\n    } catch {\n      this.storage.removeItem(key)\n      return undefined\n    }\n  }\n  set(key: string, value: any): void {\n    this.storage.setItem(key, JSON.stringify(value))\n  }\n\n  getString(key: string): string | undefined {\n    return this.storage.getItem(key) ?? undefined\n  }\n  setString(key: string, value: string) {\n    this.storage.setItem(key, value)\n  }\n  remove(key: string) {\n    this.storage.removeItem(key)\n  }\n\n  copyFrom(other: DBStorage) {\n    for (const [key, value] of other.entries) {\n      this.setString(key, value)\n    }\n  }\n  clear() {\n    this.storage.clear()\n  }\n  removeForKeys(shouldRemove: (key: string) => boolean) {\n    for (const key in this.storage) {\n      if (shouldRemove(key))\n        this.storage.removeItem(key)\n    }\n  }\n}\n\nexport class SandboxStorage implements DBStorage {\n  private storage: Dict<string, string> = {}\n\n  constructor(other: DBStorage | undefined = undefined) {\n    other && this.copyFrom(other)\n  }\n\n  get keys(): string[] {\n    return Object.keys(this.storage)\n  }\n  get entries(): [key: string, value: string][] {\n    return Object.entries(this.storage)\n  }\n\n  get(key: string) {\n    const string = this.storage[key]\n    if (!string) return undefined\n    try {\n      return JSON.parse(string)\n    } catch {\n      delete this.storage[key]\n      return undefined\n    }\n  }\n  set(key: string, value: any): void {\n    this.storage[key] = JSON.stringify(value)\n  }\n\n  getString(key: string): string | undefined {\n    return this.storage[key]\n  }\n  setString(key: string, value: string): void {\n    this.storage[key] = value\n  }\n  remove(key: string): void {\n    delete this.storage[key]\n  }\n\n  copyFrom(other: DBStorage) {\n    for (const [key, value] of other.entries) {\n      this.setString(key, value)\n    }\n  }\n  clear() {\n    this.storage = {}\n  }\n  removeForKeys(shouldRemove: (key: string) => boolean) {\n    this.storage = Object.fromEntries(Object.entries(this.storage).filter(([key]) => !shouldRemove(key)))\n  }\n}\n\nexport const dbStorage = new DBLocalStorage(localStorage)\n"],"sourceRoot":""}